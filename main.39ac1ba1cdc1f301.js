(self.webpackChunksr_traffic=self.webpackChunksr_traffic||[]).push([[179],{931:function(fa){fa.exports=function(){"use strict";function da(D,w,W,$,B){!function te(ae,ke,ge,He,St){for(;He>ge;){if(He-ge>600){var rt=He-ge+1,Yt=ke-ge+1,he=Math.log(rt),Ht=.5*Math.exp(2*he/3),Nr=.5*Math.sqrt(he*Ht*(rt-Ht)/rt)*(Yt-rt/2<0?-1:1);te(ae,ke,Math.max(ge,Math.floor(ke-Yt*Ht/rt+Nr)),Math.min(He,Math.floor(ke+(rt-Yt)*Ht/rt+Nr)),St)}var V=ae[ke],q=ge,Z=He;for(mt(ae,ge,ke),St(ae[He],V)>0&&mt(ae,ge,He);q<Z;){for(mt(ae,q,Z),q++,Z--;St(ae[q],V)<0;)q++;for(;St(ae[Z],V)>0;)Z--}0===St(ae[ge],V)?mt(ae,ge,Z):mt(ae,++Z,He),Z<=ke&&(ge=Z+1),ke<=Z&&(He=Z-1)}}(D,w,W||0,$||D.length-1,B||Ne)}function mt(D,w,W){var $=D[w];D[w]=D[W],D[W]=$}function Ne(D,w){return D<w?-1:D>w?1:0}var et=function(w){void 0===w&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function De(D,w,W){if(!W)return w.indexOf(D);for(var $=0;$<w.length;$++)if(W(D,w[$]))return $;return-1}function xn(D,w){pr(D,0,D.children.length,w,D)}function pr(D,w,W,$,B){B||(B=tr(null)),B.minX=1/0,B.minY=1/0,B.maxX=-1/0,B.maxY=-1/0;for(var te=w;te<W;te++){var ae=D.children[te];j(B,D.leaf?$(ae):ae)}return B}function j(D,w){return D.minX=Math.min(D.minX,w.minX),D.minY=Math.min(D.minY,w.minY),D.maxX=Math.max(D.maxX,w.maxX),D.maxY=Math.max(D.maxY,w.maxY),D}function za(D,w){return D.minX-w.minX}function C(D,w){return D.minY-w.minY}function g(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function er(D){return D.maxX-D.minX+(D.maxY-D.minY)}function R(D,w){return D.minX<=w.minX&&D.minY<=w.minY&&w.maxX<=D.maxX&&w.maxY<=D.maxY}function ha(D,w){return w.minX<=D.maxX&&w.minY<=D.maxY&&w.maxX>=D.minX&&w.maxY>=D.minY}function tr(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ot(D,w,W,$,B){for(var te=[w,W];te.length;)if(!((W=te.pop())-(w=te.pop())<=$)){var ae=w+Math.ceil((W-w)/$/2)*$;da(D,ae,w,W,B),te.push(w,ae,ae,W)}}return et.prototype.all=function(){return this._all(this.data,[])},et.prototype.search=function(D){var w=this.data,W=[];if(!ha(D,w))return W;for(var $=this.toBBox,B=[];w;){for(var te=0;te<w.children.length;te++){var ae=w.children[te],ke=w.leaf?$(ae):ae;ha(D,ke)&&(w.leaf?W.push(ae):R(D,ke)?this._all(ae,W):B.push(ae))}w=B.pop()}return W},et.prototype.collides=function(D){var w=this.data;if(!ha(D,w))return!1;for(var W=[];w;){for(var $=0;$<w.children.length;$++){var B=w.children[$],te=w.leaf?this.toBBox(B):B;if(ha(D,te)){if(w.leaf||R(D,te))return!0;W.push(B)}}w=W.pop()}return!1},et.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var w=0;w<D.length;w++)this.insert(D[w]);return this}var W=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var $=this.data;this.data=W,W=$}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},et.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},et.prototype.clear=function(){return this.data=tr([]),this},et.prototype.remove=function(D,w){if(!D)return this;for(var W,$,B,te=this.data,ae=this.toBBox(D),ke=[],ge=[];te||ke.length;){if(te||(te=ke.pop(),$=ke[ke.length-1],W=ge.pop(),B=!0),te.leaf){var He=De(D,te.children,w);if(-1!==He)return te.children.splice(He,1),ke.push(te),this._condense(ke),this}B||te.leaf||!R(te,ae)?$?(W++,te=$.children[W],B=!1):te=null:(ke.push(te),ge.push(W),W=0,$=te,te=te.children[0])}return this},et.prototype.toBBox=function(D){return D},et.prototype.compareMinX=function(D,w){return D.minX-w.minX},et.prototype.compareMinY=function(D,w){return D.minY-w.minY},et.prototype.toJSON=function(){return this.data},et.prototype.fromJSON=function(D){return this.data=D,this},et.prototype._all=function(D,w){for(var W=[];D;)D.leaf?w.push.apply(w,D.children):W.push.apply(W,D.children),D=W.pop();return w},et.prototype._build=function(D,w,W,$){var B,te=W-w+1,ae=this._maxEntries;if(te<=ae)return xn(B=tr(D.slice(w,W+1)),this.toBBox),B;$||($=Math.ceil(Math.log(te)/Math.log(ae)),ae=Math.ceil(te/Math.pow(ae,$-1))),(B=tr([])).leaf=!1,B.height=$;var ke=Math.ceil(te/ae),ge=ke*Math.ceil(Math.sqrt(ae));Ot(D,w,W,ge,this.compareMinX);for(var He=w;He<=W;He+=ge){var St=Math.min(He+ge-1,W);Ot(D,He,St,ke,this.compareMinY);for(var rt=He;rt<=St;rt+=ke){var Yt=Math.min(rt+ke-1,St);B.children.push(this._build(D,rt,Yt,$-1))}}return xn(B,this.toBBox),B},et.prototype._chooseSubtree=function(D,w,W,$){for(;$.push(w),!w.leaf&&$.length-1!==W;){for(var B=1/0,te=1/0,ae=void 0,ke=0;ke<w.children.length;ke++){var ge=w.children[ke],He=g(ge),St=(rt=D,Yt=ge,(Math.max(Yt.maxX,rt.maxX)-Math.min(Yt.minX,rt.minX))*(Math.max(Yt.maxY,rt.maxY)-Math.min(Yt.minY,rt.minY))-He);St<te?(te=St,B=He<B?He:B,ae=ge):St===te&&He<B&&(B=He,ae=ge)}w=ae||w.children[0]}var rt,Yt;return w},et.prototype._insert=function(D,w,W){var $=W?D:this.toBBox(D),B=[],te=this._chooseSubtree($,this.data,w,B);for(te.children.push(D),j(te,$);w>=0&&B[w].children.length>this._maxEntries;)this._split(B,w),w--;this._adjustParentBBoxes($,B,w)},et.prototype._split=function(D,w){var W=D[w],$=W.children.length,B=this._minEntries;this._chooseSplitAxis(W,B,$);var te=this._chooseSplitIndex(W,B,$),ae=tr(W.children.splice(te,W.children.length-te));ae.height=W.height,ae.leaf=W.leaf,xn(W,this.toBBox),xn(ae,this.toBBox),w?D[w-1].children.push(ae):this._splitRoot(W,ae)},et.prototype._splitRoot=function(D,w){this.data=tr([D,w]),this.data.height=D.height+1,this.data.leaf=!1,xn(this.data,this.toBBox)},et.prototype._chooseSplitIndex=function(D,w,W){for(var $,B,te,ae,ke,ge,He,St=1/0,rt=1/0,Yt=w;Yt<=W-w;Yt++){var he=pr(D,0,Yt,this.toBBox),Ht=pr(D,Yt,W,this.toBBox),Nr=(B=he,te=Ht,void 0,void 0,void 0,void 0,ae=Math.max(B.minX,te.minX),ke=Math.max(B.minY,te.minY),ge=Math.min(B.maxX,te.maxX),He=Math.min(B.maxY,te.maxY),Math.max(0,ge-ae)*Math.max(0,He-ke)),Rt=g(he)+g(Ht);Nr<St?(St=Nr,$=Yt,rt=Rt<rt?Rt:rt):Nr===St&&Rt<rt&&(rt=Rt,$=Yt)}return $||W-w},et.prototype._chooseSplitAxis=function(D,w,W){var $=D.leaf?this.compareMinX:za,B=D.leaf?this.compareMinY:C;this._allDistMargin(D,w,W,$)<this._allDistMargin(D,w,W,B)&&D.children.sort($)},et.prototype._allDistMargin=function(D,w,W,$){D.children.sort($);for(var B=this.toBBox,te=pr(D,0,w,B),ae=pr(D,W-w,W,B),ke=er(te)+er(ae),ge=w;ge<W-w;ge++){var He=D.children[ge];j(te,D.leaf?B(He):He),ke+=er(te)}for(var St=W-w-1;St>=w;St--){var rt=D.children[St];j(ae,D.leaf?B(rt):rt),ke+=er(ae)}return ke},et.prototype._adjustParentBBoxes=function(D,w,W){for(var $=W;$>=0;$--)j(w[$],D)},et.prototype._condense=function(D){for(var w=D.length-1,W=void 0;w>=0;w--)0===D[w].children.length?w>0?(W=D[w-1].children).splice(W.indexOf(D[w]),1):this.clear():xn(D[w],this.toBBox)},et}()},452:function(fa){var da=function(mt){"use strict";var De,Ne=Object.prototype,et=Ne.hasOwnProperty,xn="function"==typeof Symbol?Symbol:{},pr=xn.iterator||"@@iterator",j=xn.asyncIterator||"@@asyncIterator",za=xn.toStringTag||"@@toStringTag";function C(x,V,q){return Object.defineProperty(x,V,{value:q,enumerable:!0,configurable:!0,writable:!0}),x[V]}try{C({},"")}catch(x){C=function(q,Z,ye){return q[Z]=ye}}function g(x,V,q,Z){var Ve=Object.create((V&&V.prototype instanceof w?V:w).prototype),nn=new Ht(Z||[]);return Ve._invoke=function(x,V,q){var Z=R;return function(Ve,nn){if(Z===tr)throw new Error("Generator is already running");if(Z===Ot){if("throw"===Ve)throw nn;return Rt()}for(q.method=Ve,q.arg=nn;;){var Mn=q.delegate;if(Mn){var rn=rt(Mn,q);if(rn){if(rn===D)continue;return rn}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(Z===R)throw Z=Ot,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);Z=tr;var wn=er(x,V,q);if("normal"===wn.type){if(Z=q.done?Ot:ha,wn.arg===D)continue;return{value:wn.arg,done:q.done}}"throw"===wn.type&&(Z=Ot,q.method="throw",q.arg=wn.arg)}}}(x,q,nn),Ve}function er(x,V,q){try{return{type:"normal",arg:x.call(V,q)}}catch(Z){return{type:"throw",arg:Z}}}mt.wrap=g;var R="suspendedStart",ha="suspendedYield",tr="executing",Ot="completed",D={};function w(){}function W(){}function $(){}var B={};B[pr]=function(){return this};var te=Object.getPrototypeOf,ae=te&&te(te(Nr([])));ae&&ae!==Ne&&et.call(ae,pr)&&(B=ae);var ke=$.prototype=w.prototype=Object.create(B);function ge(x){["next","throw","return"].forEach(function(V){C(x,V,function(q){return this._invoke(V,q)})})}function He(x,V){function q(Ve,nn,Mn,rn){var wn=er(x[Ve],x,nn);if("throw"!==wn.type){var va=wn.arg,gr=va.value;return gr&&"object"==typeof gr&&et.call(gr,"__await")?V.resolve(gr.__await).then(function(pa){q("next",pa,Mn,rn)},function(pa){q("throw",pa,Mn,rn)}):V.resolve(gr).then(function(pa){va.value=pa,Mn(va)},function(pa){return q("throw",pa,Mn,rn)})}rn(wn.arg)}var Z;this._invoke=function(Ve,nn){function Mn(){return new V(function(rn,wn){q(Ve,nn,rn,wn)})}return Z=Z?Z.then(Mn,Mn):Mn()}}function rt(x,V){var q=x.iterator[V.method];if(q===De){if(V.delegate=null,"throw"===V.method){if(x.iterator.return&&(V.method="return",V.arg=De,rt(x,V),"throw"===V.method))return D;V.method="throw",V.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var Z=er(q,x.iterator,V.arg);if("throw"===Z.type)return V.method="throw",V.arg=Z.arg,V.delegate=null,D;var ye=Z.arg;return ye?ye.done?(V[x.resultName]=ye.value,V.next=x.nextLoc,"return"!==V.method&&(V.method="next",V.arg=De),V.delegate=null,D):ye:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,D)}function Yt(x){var V={tryLoc:x[0]};1 in x&&(V.catchLoc=x[1]),2 in x&&(V.finallyLoc=x[2],V.afterLoc=x[3]),this.tryEntries.push(V)}function he(x){var V=x.completion||{};V.type="normal",delete V.arg,x.completion=V}function Ht(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(Yt,this),this.reset(!0)}function Nr(x){if(x){var V=x[pr];if(V)return V.call(x);if("function"==typeof x.next)return x;if(!isNaN(x.length)){var q=-1,Z=function ye(){for(;++q<x.length;)if(et.call(x,q))return ye.value=x[q],ye.done=!1,ye;return ye.value=De,ye.done=!0,ye};return Z.next=Z}}return{next:Rt}}function Rt(){return{value:De,done:!0}}return W.prototype=ke.constructor=$,$.constructor=W,W.displayName=C($,za,"GeneratorFunction"),mt.isGeneratorFunction=function(x){var V="function"==typeof x&&x.constructor;return!!V&&(V===W||"GeneratorFunction"===(V.displayName||V.name))},mt.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,$):(x.__proto__=$,C(x,za,"GeneratorFunction")),x.prototype=Object.create(ke),x},mt.awrap=function(x){return{__await:x}},ge(He.prototype),He.prototype[j]=function(){return this},mt.AsyncIterator=He,mt.async=function(x,V,q,Z,ye){void 0===ye&&(ye=Promise);var Ve=new He(g(x,V,q,Z),ye);return mt.isGeneratorFunction(V)?Ve:Ve.next().then(function(nn){return nn.done?nn.value:Ve.next()})},ge(ke),C(ke,za,"Generator"),ke[pr]=function(){return this},ke.toString=function(){return"[object Generator]"},mt.keys=function(x){var V=[];for(var q in x)V.push(q);return V.reverse(),function Z(){for(;V.length;){var ye=V.pop();if(ye in x)return Z.value=ye,Z.done=!1,Z}return Z.done=!0,Z}},mt.values=Nr,Ht.prototype={constructor:Ht,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=De,this.done=!1,this.delegate=null,this.method="next",this.arg=De,this.tryEntries.forEach(he),!V)for(var q in this)"t"===q.charAt(0)&&et.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=De)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if("throw"===q.type)throw q.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var q=this;function Z(wn,va){return nn.type="throw",nn.arg=V,q.next=wn,va&&(q.method="next",q.arg=De),!!va}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Ve=this.tryEntries[ye],nn=Ve.completion;if("root"===Ve.tryLoc)return Z("end");if(Ve.tryLoc<=this.prev){var Mn=et.call(Ve,"catchLoc"),rn=et.call(Ve,"finallyLoc");if(Mn&&rn){if(this.prev<Ve.catchLoc)return Z(Ve.catchLoc,!0);if(this.prev<Ve.finallyLoc)return Z(Ve.finallyLoc)}else if(Mn){if(this.prev<Ve.catchLoc)return Z(Ve.catchLoc,!0)}else{if(!rn)throw new Error("try statement without catch or finally");if(this.prev<Ve.finallyLoc)return Z(Ve.finallyLoc)}}}},abrupt:function(V,q){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var ye=this.tryEntries[Z];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var Ve=ye;break}}Ve&&("break"===V||"continue"===V)&&Ve.tryLoc<=q&&q<=Ve.finallyLoc&&(Ve=null);var nn=Ve?Ve.completion:{};return nn.type=V,nn.arg=q,Ve?(this.method="next",this.next=Ve.finallyLoc,D):this.complete(nn)},complete:function(V,q){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&q&&(this.next=q),D},finish:function(V){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.finallyLoc===V)return this.complete(Z.completion,Z.afterLoc),he(Z),D}},catch:function(V){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.tryLoc===V){var ye=Z.completion;if("throw"===ye.type){var Ve=ye.arg;he(Z)}return Ve}}throw new Error("illegal catch attempt")},delegateYield:function(V,q,Z){return this.delegate={iterator:Nr(V),resultName:q,nextLoc:Z},"next"===this.method&&(this.arg=De),D}},mt}(fa.exports);try{regeneratorRuntime=da}catch(mt){Function("r","regeneratorRuntime = r")(da)}},503:function(fa,da,mt){"use strict";function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function De(t,r,e){return De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(i,a,o){var s=function(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=Ne(t)););return t}(i,a);if(s){var u=Object.getOwnPropertyDescriptor(s,a);return u.get?u.get.call(o):u.value}},De(t,r,e||t)}function xn(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function pr(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function j(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?pr(Object(e),!0).forEach(function(n){xn(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):pr(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function za(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,r,e){return r&&za(t.prototype,r),e&&za(t,e),t}function g(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function er(t,r){return(er=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(t,r)}function R(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&er(t,r)}function ha(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,r){if(r&&("object"===tr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ot(t)}function w(t){var r=ha();return function(){var i,n=Ne(t);if(r){var a=Ne(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return D(this,i)}}function W(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function $(t,r){if(t){if("string"==typeof t)return W(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return W(t,r)}}function B(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=$(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=e.return&&e.return()}finally{if(o)throw s}}}}function te(t){if(Array.isArray(t))return t}function ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ge(t,r){return te(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,s,n=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(n.push(o.value),!r||n.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw s}}return n}}(t,r)||$(t,r)||ke()}function He(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function he(t){return function(t){if(Array.isArray(t))return W(t)}(t)||He(t)||$(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,r,e){return(Ht=ha()?Reflect.construct:function(i,a,o){var s=[null];s.push.apply(s,a);var l=new(Function.bind.apply(i,s));return o&&er(l,o.prototype),l}).apply(null,arguments)}function Rt(t){var r="function"==typeof Map?new Map:void 0;return Rt=function(n){if(null===n||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return Ht(n,arguments,Ne(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),er(i,n)},Rt(t)}function x(t){return"function"==typeof t}function V(t){var e=t(function(i){Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var q=V(function(t){return function(e){t(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(n,i){return"".concat(i+1,") ").concat(n.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e}});function Z(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var t,ye=function(){function t(r){g(this,t),this.initialTeardown=r,this.closed=!1,this._parentage=null,this._teardowns=null}return C(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n)){var a,i=B(n);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(d){i.e(d)}finally{i.f()}}else n.remove(this);var s=this.initialTeardown;if(x(s))try{s()}catch(d){e=d instanceof q?d.errors:[d]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=B(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;try{Mn(f)}catch(d){e=null!=e?e:[],d instanceof q?e=[].concat(he(e),he(d.errors)):e.push(d)}}}catch(d){l.e(d)}finally{l.f()}}if(e)throw new q(e)}}},{key:"add",value:function(e){var n;if(e&&e!==this)if(this.closed)Mn(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}},{key:"_hasParent",value:function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)}},{key:"_addParent",value:function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}},{key:"_removeParent",value:function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Z(n,e)}},{key:"remove",value:function(e){var n=this._teardowns;n&&Z(n,e),e instanceof t&&e._removeParent(this)}}]),t}();ye.EMPTY=((t=new ye).closed=!0,t);var Ve=ye.EMPTY;function nn(t){return t instanceof ye||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function Mn(t){x(t)?t():t.unsubscribe()}var wn={setTimeout:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=wn.delegate;return((null==t?void 0:t.setTimeout)||setTimeout).apply(void 0,arguments)}),clearTimeout:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=wn.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(t)}),delegate:void 0};function va(t){wn.setTimeout(function(){throw t})}function gr(){}var pa=Xv("C",void 0,void 0);function Xv(t,r,e){return{kind:t,value:r,error:e}}function Tf(t){t()}var Qv=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).isStopped=!1,n?(i.destination=n,nn(n)&&n.add(Ot(i))):i.destination=SP,i}return C(e,[{key:"next",value:function(i){this.isStopped?ep(function(t){return Xv("N",t,void 0)}(i),this):this._next(i)}},{key:"error",value:function(i){this.isStopped?ep(function(t){return Xv("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped?ep(pa,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,De(Ne(e.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){try{this.destination.error(i)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(i,a,o){return new $v(i,a,o)}}]),e}(ye),$v=function(t){R(e,t);var r=w(e);function e(n,i,a){var o,s;if(g(this,e),o=r.call(this),x(n))s=n;else if(n){var u;s=n.next,i=n.error,a=n.complete,Ot(o),u=n,s=null==s?void 0:s.bind(u),i=null==i?void 0:i.bind(u),a=null==a?void 0:a.bind(u)}return o.destination={next:s?Jv(s,Ot(o)):gr,error:Jv(null!=i?i:CE,Ot(o)),complete:a?Jv(a,Ot(o)):gr},o}return e}(Qv);function Jv(t,r){return function(){try{t.apply(void 0,arguments)}catch(e){va(e)}}}function CE(t){throw t}function ep(t,r){var e=null;e&&wn.setTimeout(function(){return e(t,r)})}var SP={closed:!0,next:gr,error:CE,complete:gr},tp="function"==typeof Symbol&&Symbol.observable||"@@observable";function qa(t){return t}function EE(t){return 0===t.length?qa:1===t.length?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var nt=function(){var t=function(){function r(e){g(this,r),e&&(this._subscribe=e)}return C(r,[{key:"lift",value:function(n){var i=new r;return i.source=this,i.operator=n,i}},{key:"subscribe",value:function(n,i,a){var o=this,s=function(t){return t&&t instanceof Qv||function(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}(t)&&nn(t)}(n)?n:new $v(n,i,a);return Tf(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(n){try{return this._subscribe(n)}catch(i){n.error(i)}}},{key:"forEach",value:function(n,i){var a=this;return new(i=bE(i))(function(o,s){var u;u=a.subscribe(function(l){try{n(l)}catch(c){s(c),null==u||u.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}},{key:tp,value:function(){return this}},{key:"pipe",value:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return EE(i)(this)}},{key:"toPromise",value:function(n){var i=this;return new(n=bE(n))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}]),r}();return t.create=function(r){return new t(r)},t}();function bE(t){var r;return null!==(r=null!=t?t:undefined)&&void 0!==r?r:Promise}var kP=V(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),it=function(){var t=function(r){R(n,r);var e=w(n);function n(){var i;return g(this,n),(i=e.call(this)).closed=!1,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return C(n,[{key:"lift",value:function(a){var o=new wE(this,this);return o.operator=a,o}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new kP}},{key:"next",value:function(a){var o=this;Tf(function(){if(o._throwIfClosed(),!o.isStopped){var l,u=B(o.observers.slice());try{for(u.s();!(l=u.n()).done;)l.value.next(a)}catch(f){u.e(f)}finally{u.f()}}})}},{key:"error",value:function(a){var o=this;Tf(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=a;for(var s=o.observers;s.length;)s.shift().error(a)}})}},{key:"complete",value:function(){var a=this;Tf(function(){if(a._throwIfClosed(),!a.isStopped){a.isStopped=!0;for(var o=a.observers;o.length;)o.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}},{key:"_trySubscribe",value:function(a){return this._throwIfClosed(),De(Ne(n.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}},{key:"_innerSubscribe",value:function(a){var u=this.observers;return this.hasError||this.isStopped?Ve:(u.push(a),new ye(function(){return Z(u,a)}))}},{key:"_checkFinalizedStatuses",value:function(a){var u=this.isStopped;this.hasError?a.error(this.thrownError):u&&a.complete()}},{key:"asObservable",value:function(){var a=new nt;return a.source=this,a}}]),n}(nt);return t.create=function(r,e){return new wE(r,e)},t}(),wE=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).destination=n,a.source=i,a}return C(e,[{key:"next",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===o||o.call(a,i)}},{key:"error",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===o||o.call(a,i)}},{key:"complete",value:function(){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===a||a.call(i)}},{key:"_subscribe",value:function(i){var a,o;return null!==(o=null===(a=this.source)||void 0===a?void 0:a.subscribe(i))&&void 0!==o?o:Ve}}]),e}(it);function SE(t){return x(null==t?void 0:t.lift)}function Lt(t){return function(r){if(SE(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var Tt=function(t){R(e,t);var r=w(e);function e(n,i,a,o,s){var u,l,c,f;return g(this,e),(f=r.call(this,n)).onFinalize=s,f._next=i?function(d){try{i(d)}catch(h){n.error(h)}}:De((u=Ot(f),Ne(e.prototype)),"_next",u),f._error=o?function(d){try{o(d)}catch(h){n.error(h)}finally{this.unsubscribe()}}:De((l=Ot(f),Ne(e.prototype)),"_error",l),f._complete=a?function(){try{a()}catch(d){n.error(d)}finally{this.unsubscribe()}}:De((c=Ot(f),Ne(e.prototype)),"_complete",c),f}return C(e,[{key:"unsubscribe",value:function(){var i,a=this.closed;De(Ne(e.prototype),"unsubscribe",this).call(this),!a&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}]),e}(Qv);function je(t,r){return Lt(function(e,n){var i=0;e.subscribe(new Tt(n,function(a){n.next(t.call(r,a,i++))}))})}var IP=mt(774),at=mt.n(IP);function Mo(t){return this instanceof Mo?(this.v=t,this):new Mo(t)}function RP(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=e.apply(t,r||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(v,p){a.push([d,h,v,p])>1||s(d,h)})})}function s(d,h){try{!function(d){d.value instanceof Mo?Promise.resolve(d.value.v).then(l,c):f(a[0][2],d)}(n[d](h))}catch(v){f(a[0][3],v)}}function l(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),a.shift(),a.length&&s(a[0][0],a[0][1])}}function MP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(a){e[a]=t[a]&&function(o){return new Promise(function(s,u){!function(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=t[a](o)).done,o.value)})}}}var rp=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function IE(t){return x(null==t?void 0:t.then)}function AE(t){return x(t[tp])}function OE(t){return Symbol.asyncIterator&&x(null==t?void 0:t[Symbol.asyncIterator])}function RE(t){return new TypeError("You provided ".concat(null!==t&&"object"==typeof t?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var ME="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function PE(t){return x(null==t?void 0:t[ME])}function xE(t){return RP(this,arguments,at().mark(function r(){var e,n,i;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=t.getReader(),s.prev=1;case 2:return s.next=5,Mo(e.read());case 5:if(i=(n=s.sent).value,!n.done){s.next=12;break}return s.next=11,Mo(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,Mo(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,e.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},r,null,[[1,,18,21]])}))}function FE(t){return x(null==t?void 0:t.getReader)}function yr(t){if(t instanceof nt)return t;if(null!=t){if(AE(t))return function(t){return new nt(function(r){var e=t[tp]();if(x(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(rp(t))return function(t){return new nt(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}(t);if(IE(t))return function(t){return new nt(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,va)})}(t);if(OE(t))return NE(t);if(PE(t))return function(t){return new nt(function(r){var n,e=B(t);try{for(e.s();!(n=e.n()).done;)if(r.next(n.value),r.closed)return}catch(a){e.e(a)}finally{e.f()}r.complete()})}(t);if(FE(t))return function(t){return NE(xE(t))}(t)}throw RE(t)}function NE(t){return new nt(function(r){(function(t,r){var e,n,i,a;return function(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,at().mark(function o(){return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,e=MP(t);case 2:return l.next=4,e.next();case 4:if((n=l.sent).done){l.next=12;break}if(r.next(n.value),!r.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!n||n.done||!(a=e.return)){l.next=22;break}return l.next=22,a.call(e);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:r.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(t,r).catch(function(e){return r.error(e)})})}function ga(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(a),!i)return a}function HP(t,r,e,n,i,a,o,s){var u=[],l=0,c=0,f=!1,d=function(){f&&!u.length&&!l&&r.complete()},h=function(y){return l<n?v(y):u.push(y)},v=function p(y){a&&r.next(y),l++;var _=!1;yr(e(y,c++)).subscribe(new Tt(r,function(m){null==i||i(m),a?h(m):r.next(m)},function(){_=!0},void 0,function(){if(_)try{l--;for(var m=function(){var b=u.shift();o?ga(r,o,function(){return p(b)}):p(b)};u.length&&l<n;)m();d()}catch(E){r.error(E)}}))};return t.subscribe(new Tt(r,h,function(){f=!0,d()})),function(){null==s||s()}}function an(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return x(r)?an(function(n,i){return je(function(a,o){return r(n,a,i,o)})(yr(t(n,i)))},e):("number"==typeof r&&(e=r),Lt(function(n,i){return HP(n,i,t,e)}))}function gl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return an(qa,t)}var ya=new nt(function(t){return t.complete()});function LE(t){return t&&x(t.schedule)}function ip(t){return t[t.length-1]}function VE(t){return x(ip(t))?t.pop():void 0}function yl(t){return LE(ip(t))?t.pop():void 0}function GP(t,r){return"number"==typeof ip(t)?t.pop():r}function BE(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Lt(function(e,n){e.subscribe(new Tt(n,function(i){return ga(n,t,function(){return n.next(i)},r)},function(){return ga(n,t,function(){return n.complete()},r)},function(i){return ga(n,t,function(){return n.error(i)},r)}))})}function UE(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Lt(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}function HE(t,r){if(!t)throw new Error("Iterable cannot be null");return new nt(function(e){ga(e,r,function(){var n=t[Symbol.asyncIterator]();ga(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function pn(t,r){return r?function(t,r){if(null!=t){if(AE(t))return function(t,r){return yr(t).pipe(UE(r),BE(r))}(t,r);if(rp(t))return function(t,r){return new nt(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,r);if(IE(t))return function(t,r){return yr(t).pipe(UE(r),BE(r))}(t,r);if(OE(t))return HE(t,r);if(PE(t))return function(t,r){return new nt(function(e){var n;return ga(e,r,function(){n=t[ME](),ga(e,r,function(){var i,a;try{var o=n.next();i=o.value,a=o.done}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),function(){return x(null==n?void 0:n.return)&&n.return()}})}(t,r);if(FE(t))return function(t,r){return HE(xE(t),r)}(t,r)}throw RE(t)}(t,r):yr(t)}function ap(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=yl(r),i=GP(r,1/0),a=r;return a.length?1===a.length?yr(a[0]):gl(i)(pn(a,n)):ya}function Lr(t){return t<=0?function(){return ya}:Lt(function(r,e){var n=0;r.subscribe(new Tt(e,function(i){++n<=t&&(e.next(i),t<=n&&e.complete())}))})}function jE(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.connector,e=void 0===r?function(){return new it}:r,n=t.resetOnError,i=void 0===n||n,a=t.resetOnComplete,o=void 0===a||a,s=t.resetOnRefCountZero,u=void 0===s||s;return function(l){var c=null,f=null,d=null,h=0,v=!1,p=!1,y=function(){null==f||f.unsubscribe(),f=null},_=function(){y(),c=d=null,v=p=!1},m=function(){var b=c;_(),null==b||b.unsubscribe()};return Lt(function(E,b){h++,!p&&!v&&y();var S=d=null!=d?d:e();b.add(function(){0==--h&&!p&&!v&&(f=op(m,u))}),S.subscribe(b),c||(c=new $v({next:function(I){return S.next(I)},error:function(I){p=!0,y(),f=op(_,i,I),S.error(I)},complete:function(){v=!0,y(),f=op(_,o),S.complete()}}),pn(E).subscribe(c))})(l)}}function op(t,r){if(!0===r)return t(),null;if(!1===r)return null;for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return r.apply(void 0,n).pipe(Lr(1)).subscribe(function(){return t()})}function vt(t){for(var r in t)if(t[r]===vt)return r;throw Error("Could not find renamed property on target object.")}function sp(t,r){for(var e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=r[e])}function Ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var r=t.toString();if(null==r)return""+r;var e=r.indexOf("\n");return-1===e?r:r.substring(0,e)}function up(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}var XP=vt({__forward_ref__:vt});function st(t){return t.__forward_ref__=st,t.toString=function(){return Ge(this())},t}function fe(t){return GE(t)?t():t}function GE(t){return"function"==typeof t&&t.hasOwnProperty(XP)&&t.__forward_ref__===st}var Po=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,function(t,r){var e=t?"NG0".concat(t,": "):"";return"".concat(e).concat(r)}(n,i))).code=n,a}return e}(Rt(Error));function Me(t){return"string"==typeof t?t:null==t?"":String(t)}function zn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Me(t)}function Df(t,r){var e=r?" in ".concat(r):"";throw new Po("201","No provider for ".concat(zn(t)," found").concat(e))}function _r(t,r){null==t&&function(t,r,e,n){throw new Error("ASSERTION ERROR: ".concat(t)+(null==n?"":" [Expected=> ".concat(e," ").concat(n," ").concat(r," <=Actual]")))}(r,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ka(t){return WE(t,kf)||WE(t,qE)}function WE(t,r){return t.hasOwnProperty(r)?t[r]:null}function zE(t){return t&&(t.hasOwnProperty(cp)||t.hasOwnProperty(rx))?t[cp]:null}var fp,kf=vt({"\u0275prov":vt}),cp=vt({"\u0275inj":vt}),qE=vt({ngInjectableDef:vt}),rx=vt({ngInjectorDef:vt}),be=function(){return(be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be}();function ix(){return fp}function Ya(t){var r=fp;return fp=t,r}function KE(t,r,e){var n=Ka(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&be.Optional?null:void 0!==r?r:void Df(Ge(t),"Injector")}function Za(t){return{toString:t}.toString()}var Vr=function(){return(Vr=Vr||{})[Vr.OnPush=0]="OnPush",Vr[Vr.Default=1]="Default",Vr}(),nr=function(){return function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(nr||(nr={})),nr}(),ax="undefined"!=typeof globalThis&&globalThis,ox="undefined"!=typeof window&&window,sx="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ux="undefined"!=typeof global&&global,ft=ax||ux||ox||sx,Rs={},pt=[],If=vt({"\u0275cmp":vt}),dp=vt({"\u0275dir":vt}),hp=vt({"\u0275pipe":vt}),YE=vt({"\u0275mod":vt}),_a=vt({"\u0275fac":vt}),ml=vt({__NG_ELEMENT_ID__:vt}),lx=0;function ln(t){return Za(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Vr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nr.Emulated,id:"c",styles:t.styles||pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,a=t.features,o=t.pipes;return n.id+=lx++,n.inputs=$E(t.inputs,e),n.outputs=$E(t.outputs),a&&a.forEach(function(s){return s(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(ZE)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(XE)}:null,n})}function ZE(t){return Fn(t)||function(t){return t[dp]||null}(t)}function XE(t){return function(t){return t[hp]||null}(t)}var QE={};function dt(t){return Za(function(){var r={type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(QE[t.id]=t.type),r})}function $E(t,r){if(null==t)return Rs;var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=n,r&&(r[i]=a)}return e}var se=ln;function rr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[If]||null}function Br(t,r){var e=t[YE]||null;if(!e&&!0===r)throw new Error("Type ".concat(Ge(t)," does not have '\u0275mod' property."));return e}function Ui(t){return Array.isArray(t)&&"object"==typeof t[1]}function ci(t){return Array.isArray(t)&&!0===t[1]}function gp(t){return 0!=(8&t.flags)}function Mf(t){return 2==(2&t.flags)}function Pf(t){return 1==(1&t.flags)}function fi(t){return null!==t.template}function px(t){return 0!=(512&t[2])}function Vo(t,r){return t.hasOwnProperty(_a)?t[_a]:null}var e0=function(){function t(r,e,n){g(this,t),this.previousValue=r,this.currentValue=e,this.firstChange=n}return C(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Tn(){return t0}function t0(t){return t.type.prototype.ngOnChanges&&(t.setInput=_x),mx}function mx(){var t=r0(this),r=null==t?void 0:t.current;if(r){var e=t.previous;if(e===Rs)t.previous=r;else for(var n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function _x(t,r,e,n){var i=r0(t)||function(t,r){return t[n0]=r}(t,{previous:Rs,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[e],u=o[s];a[s]=new e0(u&&u.currentValue,r,o===Rs),t[n]=r}Tn.ngInherit=!0;var n0="__ngSimpleChanges__";function r0(t){return t[n0]||null}var _p=void 0;function Zt(t){return!!t.listen}var s0={createRenderer:function(r,e){return void 0!==_p?_p:"undefined"!=typeof document?document:void 0}};function cn(t){for(;Array.isArray(t);)t=t[0];return t}function xf(t,r){return cn(r[t])}function jr(t,r){return cn(r[t.index])}function Ep(t,r){return t.data[r]}function Ns(t,r){return t[r]}function Er(t,r){var e=r[t];return Ui(e)?e:e[0]}function u0(t){return 4==(4&t[2])}function bp(t){return 128==(128&t[2])}function Qa(t,r){return null==r?null:t[r]}function l0(t){t[18]=0}function wp(t,r){t[5]+=r;for(var e=t,n=t[3];null!==n&&(1===r&&1===e[5]||-1===r&&0===e[5]);)n[5]+=r,e=n,n=n[3]}var Ie={lFrame:y0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function c0(){return Ie.bindingsEnabled}function F(){return Ie.lFrame.lView}function tt(){return Ie.lFrame.tView}function de(t){return Ie.lFrame.contextLView=t,t[8]}function gn(){for(var t=f0();null!==t&&64===t.type;)t=t.parent;return t}function f0(){return Ie.lFrame.currentTNode}function Hi(t,r){var e=Ie.lFrame;e.currentTNode=t,e.isParent=r}function Sp(){return Ie.lFrame.isParent}function Tp(){Ie.lFrame.isParent=!1}function Ff(){return Ie.isInCheckNoChangesMode}function Nf(t){Ie.isInCheckNoChangesMode=t}function qn(){var t=Ie.lFrame,r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ls(){return Ie.lFrame.bindingIndex++}function Ea(t){var r=Ie.lFrame,e=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,e}function xx(t,r){var e=Ie.lFrame;e.bindingIndex=e.bindingRootIndex=t,Dp(r)}function Dp(t){Ie.lFrame.currentDirectiveIndex=t}function v0(){return Ie.lFrame.currentQueryIndex}function Ip(t){Ie.lFrame.currentQueryIndex=t}function Nx(t){var r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function p0(t,r,e){if(e&be.SkipSelf){for(var n=r,i=t;!(null!==(n=n.parent)||e&be.Host||null===(n=Nx(i))||(i=i[15],10&n.type)););if(null===n)return!1;r=n,t=i}var a=Ie.lFrame=g0();return a.currentTNode=r,a.lView=t,!0}function Lf(t){var r=g0(),e=t[1];Ie.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function g0(){var t=Ie.lFrame,r=null===t?null:t.child;return null===r?y0(t):r}function y0(t){var r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function m0(){var t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _0=m0;function Vf(){var t=m0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lx(t){var r=Ie.lFrame.contextLView=function(t,r){for(;t>0;)r=r[15],t--;return r}(t,Ie.lFrame.contextLView);return r[8]}function Kn(){return Ie.lFrame.selectedIndex}function $a(t){Ie.lFrame.selectedIndex=t}function Xt(){var t=Ie.lFrame;return Ep(t.tView,t.selectedIndex)}function Bf(t,r){for(var e=r.directiveStart,n=r.directiveEnd;e<n;e++){var a=t.data[e].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),s&&((t.contentHooks||(t.contentHooks=[])).push(e,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function Uf(t,r,e){C0(t,r,3,e)}function Hf(t,r,e,n){(3&t[2])===e&&C0(t,r,e,n)}function Ap(t,r){var e=t[2];(3&e)===r&&(e&=2047,t[2]=e+=1)}function C0(t,r,e,n){for(var a=null!=n?n:-1,o=r.length-1,s=0,u=void 0!==n?65535&t[18]:0;u<o;u++)if("number"==typeof r[u+1]){if(s=r[u],null!=n&&s>=n)break}else r[u]<0&&(t[18]+=65536),(s<a||-1==a)&&(zx(t,e,r,u),t[18]=(4294901760&t[18])+u+2),u++}function zx(t,r,e,n){var i=e[n]<0,a=e[n+1],s=t[i?-e[n]:e[n]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}var wl=function t(r,e,n){g(this,t),this.factory=r,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n};function jf(t,r,e){for(var n=Zt(t),i=0;i<e.length;){var a=e[i];if("number"==typeof a){if(0!==a)break;i++;var o=e[i++],s=e[i++],u=e[i++];n?t.setAttribute(r,s,u,o):r.setAttributeNS(o,s,u)}else{var l=a,c=e[++i];Rp(l)?n&&t.setProperty(r,l,c):n?t.setAttribute(r,l,c):r.setAttribute(l,c),i++}}return i}function E0(t){return 3===t||4===t||6===t}function Rp(t){return 64===t.charCodeAt(0)}function Gf(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else for(var e=-1,n=0;n<r.length;n++){var i=r[n];"number"==typeof i?e=i:0===e||b0(t,e,i,null,-1===e||2===e?r[++n]:null)}return t}function b0(t,r,e,n,i){var a=0,o=t.length;if(-1===r)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===r){o=-1;break}if(s>r){o=a-1;break}}}for(;a<t.length;){var u=t[a];if("number"==typeof u)break;if(u===e){if(null===n)return void(null!==i&&(t[a+1]=i));if(n===t[a+1])return void(t[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(t.splice(o,0,r),a=o+1),t.splice(a++,0,e),null!==n&&t.splice(a++,0,n),null!==i&&t.splice(a++,0,i)}function w0(t){return-1!==t}function Vs(t){return 32767&t}function Bs(t,r){for(var e=function(t){return t>>16}(t),n=r;e>0;)n=n[15],e--;return n}var Mp=!0;function Wf(t){var r=Mp;return Mp=t,r}var $x=0;function Tl(t,r){var e=xp(t,r);if(-1!==e)return e;var n=r[1];n.firstCreatePass&&(t.injectorIndex=r.length,Pp(n.data,t),Pp(r,null),Pp(n.blueprint,null));var i=zf(t,r),a=t.injectorIndex;if(w0(i))for(var o=Vs(i),s=Bs(i,r),u=s[1].data,l=0;l<8;l++)r[a+l]=s[o+l]|u[o+l];return r[a+8]=i,a}function Pp(t,r){t.push(0,0,0,0,0,0,0,0,r)}function xp(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function zf(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var e=0,n=null,i=r;null!==i;){var a=i[1],o=a.type;if(null===(n=2===o?a.declTNode:1===o?i[6]:null))return-1;if(e++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function qf(t,r,e){!function(t,r,e){var n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(ml)&&(n=e[ml]),null==n&&(n=e[ml]=$x++);var i=255&n;r.data[t+(i>>5)]|=1<<i}(t,r,e)}function D0(t,r,e){if(e&be.Optional)return t;Df(r,"NodeInjector")}function k0(t,r,e,n){if(e&be.Optional&&void 0===n&&(n=null),0==(e&(be.Self|be.Host))){var i=t[9],a=Ya(void 0);try{return i?i.get(r,n,e&be.Optional):KE(r,n,e&be.Optional)}finally{Ya(a)}}return D0(n,r,e)}function I0(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=rF(e);if("function"==typeof a){if(!p0(r,t,n))return n&be.Host?D0(i,e,n):k0(r,e,n,i);try{var o=a(n);if(null!=o||n&be.Optional)return o;Df(e)}finally{_0()}}else if("number"==typeof a){var s=null,u=xp(t,r),l=-1,c=n&be.Host?r[16][6]:null;for((-1===u||n&be.SkipSelf)&&(-1!==(l=-1===u?zf(t,r):r[u+8])&&R0(n,!1)?(s=r[1],u=Vs(l),r=Bs(l,r)):u=-1);-1!==u;){var f=r[1];if(O0(a,u,f.data)){var d=nF(u,r,e,s,n,c);if(d!==A0)return d}-1!==(l=r[u+8])&&R0(n,r[1].data[u+8]===c)&&O0(a,u,r)?(s=f,u=Vs(l),r=Bs(l,r)):u=-1}}}return k0(r,e,n,i)}var A0={};function tF(){return new Us(gn(),F())}function nF(t,r,e,n,i,a){var o=r[1],s=o.data[t+8],c=Kf(s,o,e,null==n?Mf(s)&&Mp:n!=o&&0!=(3&s.type),i&be.Host&&a===s);return null!==c?Dl(r,o,c,s):A0}function Kf(t,r,e,n,i){for(var a=t.providerIndexes,o=r.data,s=1048575&a,u=t.directiveStart,c=a>>20,d=i?s+c:t.directiveEnd,h=n?s:s+c;h<d;h++){var v=o[h];if(h<u&&e===v||h>=u&&v.type===e)return h}if(i){var p=o[u];if(p&&fi(p)&&p.type===e)return u}return null}function Dl(t,r,e,n){var i=t[e],a=r.data;if(function(t){return t instanceof wl}(i)){var o=i;o.resolving&&function(t,r){throw new Po("200","Circular dependency in DI detected for ".concat(t).concat(""))}(zn(a[e]));var s=Wf(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?Ya(o.injectImpl):null;p0(t,n,be.Default);try{i=t[e]=o.factory(void 0,a,t,n),r.firstCreatePass&&e>=n.directiveStart&&function(t,r,e){var n=r.type.prototype,a=n.ngOnInit,o=n.ngDoCheck;if(n.ngOnChanges){var s=t0(r);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,a[e],r)}finally{null!==u&&Ya(u),Wf(s),o.resolving=!1,_0()}}return i}function rF(t){if("string"==typeof t)return t.charCodeAt(0)||0;var r=t.hasOwnProperty(ml)?t[ml]:void 0;return"number"==typeof r?r>=0?255&r:tF:r}function O0(t,r,e){return!!(e[r+(t>>5)]&1<<t)}function R0(t,r){return!(t&be.Self||t&be.Host&&r)}var Us=function(){function t(r,e){g(this,t),this._tNode=r,this._lView=e}return C(t,[{key:"get",value:function(e,n,i){return I0(this._tNode,this._lView,e,i,n)}}]),t}();function Fp(t){return GE(t)?function(){var r=Fp(fe(t));return r&&r()}:Vo(t)}var js="__parameters__";function Bo(t,r,e){return Za(function(){var n=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(r);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return n.apply(this,o),this;var u=Ht(i,o);return l.annotation=u,l;function l(c,f,d){for(var h=c.hasOwnProperty(js)?c[js]:Object.defineProperty(c,js,{value:[]})[js];h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(u),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ae=function(){function t(r,e){g(this,t),this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=J({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return C(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),sF=new Ae("AnalyzeForEntryComponents");function Gr(t,r){void 0===r&&(r=t);for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)?(r===t&&(r=t.slice(0,e)),Gr(n,r)):r!==t&&r.push(n)}return r}function ji(t,r){t.forEach(function(e){return Array.isArray(e)?ji(e,r):r(e)})}function Yf(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function Uo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function eo(t,r){for(var e=[],n=0;n<t;n++)e.push(r);return e}function wr(t,r,e){var n=Ws(t,r);return n>=0?t[1|n]=e:function(t,r,e,n){var i=t.length;if(i==r)t.push(e,n);else if(1===i)t.push(n,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>r;)t[i]=t[i-2],i--;t[r]=e,t[r+1]=n}}(t,n=~n,r,e),n}function Vp(t,r){var e=Ws(t,r);if(e>=0)return t[1|e]}function Ws(t,r){return function(t,r,e){for(var n=0,i=t.length>>e;i!==n;){var a=n+(i-n>>1),o=t[a<<e];if(r===o)return a<<e;o>r?i=a:n=a+1}return~(i<<e)}(t,r,1)}var Ml={},Up="__NG_DI_FLAG__",zs="ngTempTokenPath",mF=/\n/gm,Hp="__source",jp=vt({provide:String,useValue:vt}),Pl=void 0;function Xf(t){var r=Pl;return Pl=t,r}function CF(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default;if(void 0===Pl)throw new Error("inject() must be called from an injection context");return null===Pl?KE(t,void 0,r):Pl.get(t,r&be.Optional?null:void 0,r)}function U(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default;return(ix()||CF)(fe(t),r)}var EF=U;function Ho(t){for(var r=[],e=0;e<t.length;e++){var n=fe(t[e]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=be.Default,o=0;o<n.length;o++){var s=n[o],u=bF(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}r.push(U(i,a))}else r.push(U(n))}return r}function xl(t,r){return t[Up]=r,t.prototype[Up]=r,t}function bF(t){return t[Up]}function wF(t,r,e,n){var i=t[zs];throw r[Hp]&&i.unshift(r[Hp]),t.message=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Ge(r);if(Array.isArray(r))i=r.map(Ge).join(" -> ");else if("object"==typeof r){var a=[];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Ge(s)))}i="{".concat(a.join(", "),"}")}return"".concat(e).concat(n?"("+n+")":"","[").concat(i,"]: ").concat(t.replace(mF,"\n  "))}("\n"+t.message,i,e,n),t.ngTokenPath=i,t[zs]=null,t}var qs=xl(Bo("Inject",function(t){return{token:t}}),-1),ar=xl(Bo("Optional"),8),to=xl(Bo("SkipSelf"),4),jo=function(){function t(r){g(this,t),this.changingThisBreaksApplicationSecurity=r}return C(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}();function Sr(t){return t instanceof jo?t.changingThisBreaksApplicationSecurity:t}var eb="__ngContext__";function Ln(t,r){t[eb]=r}function $p(t){var r=function(t){return t[eb]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function nd(t){return t.ngOriginalError}function EN(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var Go=function(){function t(){g(this,t),this._console=console}return C(t,[{key:"handleError",value:function(e){var n=this._findOriginalError(e),i=this._findContext(e),a=function(t){return t&&t.ngErrorLogger||EN}(e);a(this._console,"ERROR",e),n&&a(this._console,"ORIGINAL ERROR",n),i&&a(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(nd(e)):null}},{key:"_findOriginalError",value:function(e){for(var n=e&&nd(e);n&&nd(n);)n=nd(n);return n||null}}]),t}(),lb=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft)}();function zi(t){return t instanceof Function?t():t}var Tr=function(){return(Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr}();function ng(t,r){return undefined(t,r)}function Ul(t){var r=t[3];return ci(r)?r[3]:r}function rg(t){return vb(t[13])}function ig(t){return vb(t[4])}function vb(t){for(;null!==t&&!ci(t);)t=t[4];return t}function Xs(t,r,e,n,i){if(null!=n){var a,o=!1;ci(n)?a=n:Ui(n)&&(o=!0,n=n[0]);var s=cn(n);0===t&&null!==e?null==i?Cb(r,e,s):Wo(r,e,s,i||null,!0):1===t&&null!==e?Wo(r,e,s,i||null,!0):2===t?function(t,r,e){var n=rd(t,r);n&&function(t,r,e,n){Zt(t)?t.removeChild(r,e,n):r.removeChild(e)}(t,n,r,e)}(r,s,o):3===t&&r.destroyNode(s),null!=a&&function(t,r,e,n,i){var a=e[7];a!==cn(e)&&Xs(r,t,n,a,i);for(var s=10;s<e.length;s++){var u=e[s];Hl(u[1],u,t,r,n,a)}}(r,t,a,e,i)}}function ag(t,r){return Zt(t)?t.createText(r):t.createTextNode(r)}function og(t,r,e){return Zt(t)?t.createElement(r,e):null===e?t.createElement(r):t.createElementNS(e,r)}function gb(t,r){var e=t[9],n=e.indexOf(r),i=r[3];1024&r[2]&&(r[2]&=-1025,wp(i,-1)),e.splice(n,1)}function sg(t,r){if(!(t.length<=10)){var e=10+r,n=t[e];if(n){var i=n[17];null!==i&&i!==t&&gb(i,n),r>0&&(t[e-1][4]=n[4]);var a=Uo(t,10+r);!function(t,r){Hl(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(n[1],n);var o=a[19];null!==o&&o.detachView(a[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}}function yb(t,r){if(!(256&r[2])){var e=r[11];Zt(e)&&e.destroyNode&&Hl(t,r,e,3,null,null),function(t){var r=t[13];if(!r)return ug(t[1],t);for(;r;){var e=null;if(Ui(r))e=r[13];else{var n=r[10];n&&(e=n)}if(!e){for(;r&&!r[4]&&r!==t;)Ui(r)&&ug(r[1],r),r=r[3];null===r&&(r=t),Ui(r)&&ug(r[1],r),e=r&&r[4]}r=e}}(r)}}function ug(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(t,r){var e;if(null!=t&&null!=(e=t.destroyHooks))for(var n=0;n<e.length;n+=2){var i=r[e[n]];if(!(i instanceof wl)){var a=e[n+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(t,r),function(t,r){var e=t.cleanup,n=r[7],i=-1;if(null!==e)for(var a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){var o=e[a+1],s="function"==typeof o?o(r):cn(r[o]),u=n[i=e[a+2]],l=e[a+3];"boolean"==typeof l?s.removeEventListener(e[a],u,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),a+=2}else{var c=n[i=e[a+1]];e[a].call(c)}if(null!==n){for(var f=i+1;f<n.length;f++)(0,n[f])();r[7]=null}}(t,r),1===r[1].type&&Zt(r[11])&&r[11].destroy();var e=r[17];if(null!==e&&ci(r[3])){e!==r[3]&&gb(e,r);var n=r[19];null!==n&&n.detachView(t)}}}function mb(t,r,e){return function(t,r,e){for(var n=r;null!==n&&40&n.type;)n=(r=n).parent;if(null===n)return e[0];if(2&n.flags){var i=t.data[n.directiveStart].encapsulation;if(i===nr.None||i===nr.Emulated)return null}return jr(n,e)}(t,r.parent,e)}function Wo(t,r,e,n,i){Zt(t)?t.insertBefore(r,e,n,i):r.insertBefore(e,n,i)}function Cb(t,r,e){Zt(t)?t.appendChild(r,e):r.appendChild(e)}function Eb(t,r,e,n,i){null!==n?Wo(t,r,e,n,i):Cb(t,r,e)}function rd(t,r){return Zt(t)?t.parentNode(r):r.parentNode}function bb(t,r,e){return Sb(t,r,e)}var Sb=function(t,r,e){return 40&t.type?jr(t,e):null};function id(t,r,e,n){var i=mb(t,n,r),a=r[11],s=bb(n.parent||r[6],n,r);if(null!=i)if(Array.isArray(e))for(var u=0;u<e.length;u++)Eb(a,i,e[u],s,!1);else Eb(a,i,e,s,!1)}function ad(t,r){if(null!==r){var e=r.type;if(3&e)return jr(r,t);if(4&e)return cg(-1,t[r.index]);if(8&e){var n=r.child;if(null!==n)return ad(t,n);var i=t[r.index];return ci(i)?cg(-1,i):cn(i)}if(32&e)return ng(r,t)()||cn(t[r.index]);var s=Db(t,r);return null!==s?Array.isArray(s)?s[0]:ad(Ul(t[16]),s):ad(t,r.next)}return null}function Db(t,r){return null!==r?t[16][6].projection[r.projection]:null}function cg(t,r){var e=10+t+1;if(e<r.length){var n=r[e],i=n[1].firstChild;if(null!==i)return ad(n,i)}return r[7]}function fg(t,r,e,n,i,a,o){for(;null!=e;){var s=n[e.index],u=e.type;if(o&&0===r&&(s&&Ln(cn(s),n),e.flags|=4),64!=(64&e.flags))if(8&u)fg(t,r,e.child,n,i,a,!1),Xs(r,t,i,s,a);else if(32&u){for(var l=ng(e,n),c=void 0;c=l();)Xs(r,t,i,c,a);Xs(r,t,i,s,a)}else 16&u?Ib(t,r,n,e,i,a):Xs(r,t,i,s,a);e=o?e.projectionNext:e.next}}function Hl(t,r,e,n,i,a){fg(e,n,t.firstChild,r,i,a,!1)}function WN(t,r,e){Ib(r[11],0,r,e,mb(t,e,r),bb(e.parent||r[6],e,r))}function Ib(t,r,e,n,i,a){var o=e[16],u=o[6].projection[n.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Xs(r,t,i,u[l],a);else fg(t,r,u,o[3],i,a,!0)}function Ab(t,r,e){Zt(t)?t.setAttribute(r,"style",e):r.style.cssText=e}function dg(t,r,e){Zt(t)?""===e?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e):r.className=e}function Ob(t,r,e){for(var n=t.length;;){var i=t.indexOf(r,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var a=r.length;if(i+a===n||t.charCodeAt(i+a)<=32)return i}e=i+1}}var Rb="ng-template";function KN(t,r,e){for(var n=0;n<t.length;){var i=t[n++];if(e&&"class"===i){if(-1!==Ob((i=t[n]).toLowerCase(),r,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===r)return!0;return!1}}return!1}function Mb(t){return 4===t.type&&t.value!==Rb}function YN(t,r,e){return r===(4!==t.type||e?t.value:Rb)}function ZN(t,r,e){for(var n=4,i=t.attrs||[],a=function(t){for(var r=0;r<t.length;r++)if(E0(t[r]))return r;return t.length}(i),o=!1,s=0;s<r.length;s++){var u=r[s];if("number"!=typeof u){if(!o)if(4&n){if(n=2|1&n,""!==u&&!YN(t,u,e)||""===u&&1===r.length){if(di(n))return!1;o=!0}}else{var l=8&n?u:r[++s];if(8&n&&null!==t.attrs){if(!KN(t.attrs,l,e)){if(di(n))return!1;o=!0}continue}var f=XN(8&n?"class":u,i,Mb(t),e);if(-1===f){if(di(n))return!1;o=!0;continue}if(""!==l){var d;d=f>a?"":i[f+1].toLowerCase();var h=8&n?d:null;if(h&&-1!==Ob(h,l,0)||2&n&&l!==d){if(di(n))return!1;o=!0}}}}else{if(!o&&!di(n)&&!di(u))return!1;if(o&&di(u))continue;o=!1,n=u|1&n}}return di(n)||o}function di(t){return 0==(1&t)}function XN(t,r,e,n){if(null===r)return-1;var i=0;if(n||!e){for(var a=!1;i<r.length;){var o=r[i];if(o===t)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=r[++i];"string"==typeof s;)s=r[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(t,r){var e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){var n=t[e];if("number"==typeof n)return-1;if(n===r)return e;e++}return-1}(r,t)}function Pb(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<r.length;n++)if(ZN(t,r[n],e))return!0;return!1}function eL(t,r){e:for(var e=0;e<r.length;e++){var n=r[e];if(t.length===n.length){for(var i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function xb(t,r){return t?":not("+r.trim()+")":r}function tL(t){for(var r=t[0],e=1,n=2,i="",a=!1;e<t.length;){var o=t[e];if("string"==typeof o)if(2&n){var s=t[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!di(o)&&(r+=xb(a,i),i=""),n=o,a=a||!di(n);e++}return""!==i&&(r+=xb(a,i)),r}var Pe={};function N(t){Fb(tt(),F(),Kn()+t,Ff())}function Fb(t,r,e,n){if(!n)if(3==(3&r[2])){var a=t.preOrderCheckHooks;null!==a&&Uf(r,a,e)}else{var o=t.preOrderHooks;null!==o&&Hf(r,o,0,e)}$a(e)}function od(t,r){return t<<17|r<<2}function hi(t){return t>>17&32767}function hg(t){return 2|t}function ba(t){return(131068&t)>>2}function vg(t,r){return-131069&t|r<<2}function pg(t){return 1|t}function qb(t,r){var e=t.contentQueries;if(null!==e)for(var n=0;n<e.length;n+=2){var a=e[n+1];if(-1!==a){var o=t.data[a];Ip(e[n]),o.contentQueries(2,r[a],a)}}}function jl(t,r,e,n,i,a,o,s,u,l){var c=r.blueprint.slice();return c[0]=i,c[2]=140|n,l0(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=a,c[16]=2==r.type?t[16]:c,c}function Qs(t,r,e,n,i){var a=t.data[r];if(null===a)a=function(t,r,e,n,i){var a=f0(),o=Sp(),u=t.data[r]=function(t,r,e,n,i,a){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,r,n,i);return null===t.firstChild&&(t.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(t,r,e,n,i),Ie.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=n,a.attrs=i;var o=function(){var t=Ie.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Hi(a,!0),a}function $s(t,r,e,n){if(0===e)return-1;for(var i=r.length,a=0;a<e;a++)r.push(n),t.blueprint.push(n),t.data.push(null);return i}function Gl(t,r,e){Lf(r);try{var n=t.viewQuery;null!==n&&Pg(1,n,e);var i=t.template;null!==i&&Kb(t,r,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qb(t,r),t.staticViewQueries&&Pg(2,t.viewQuery,e);var a=t.components;null!==a&&function(t,r){for(var e=0;e<r.length;e++)LL(t,r[e])}(r,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{r[2]&=-5,Vf()}}function Js(t,r,e,n){var i=r[2];if(256!=(256&i)){Lf(r);var a=Ff();try{l0(r),function(t){Ie.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Kb(t,r,e,2,n);var o=3==(3&i);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&Uf(r,s,null)}else{var u=t.preOrderHooks;null!==u&&Hf(r,u,0,null),Ap(r,0)}if(function(t){for(var r=rg(t);null!==r;r=ig(r))if(r[2])for(var e=r[9],n=0;n<e.length;n++){var i=e[n];0==(1024&i[2])&&wp(i[3],1),i[2]|=1024}}(r),function(t){for(var r=rg(t);null!==r;r=ig(r))for(var e=10;e<r.length;e++){var n=r[e],i=n[1];bp(n)&&Js(i,n,i.template,n[8])}}(r),null!==t.contentQueries&&qb(t,r),!a)if(o){var l=t.contentCheckHooks;null!==l&&Uf(r,l)}else{var c=t.contentHooks;null!==c&&Hf(r,c,1),Ap(r,1)}!function(t,r){var e=t.hostBindingOpCodes;if(null!==e)try{for(var n=0;n<e.length;n++){var i=e[n];if(i<0)$a(~i);else{var a=i,o=e[++n],s=e[++n];xx(o,a),s(2,r[a])}}}finally{$a(-1)}}(t,r);var f=t.components;null!==f&&function(t,r){for(var e=0;e<r.length;e++)NL(t,r[e])}(r,f);var d=t.viewQuery;if(null!==d&&Pg(2,d,n),!a)if(o){var h=t.viewCheckHooks;null!==h&&Uf(r,h)}else{var v=t.viewHooks;null!==v&&Hf(r,v,2),Ap(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,wp(r[3],-1))}finally{Vf()}}}function yL(t,r,e,n){var i=r[10],a=!Ff(),o=u0(r);try{a&&!o&&i.begin&&i.begin(),o&&Gl(t,r,n),Js(t,r,e,n)}finally{a&&!o&&i.end&&i.end()}}function Kb(t,r,e,n,i){var a=Kn(),o=2&n;try{$a(-1),o&&r.length>20&&Fb(t,r,20,Ff()),e(n,i)}finally{$a(a)}}function Yb(t,r,e){if(gp(r))for(var i=r.directiveEnd,a=r.directiveStart;a<i;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}function Tg(t,r,e){!c0()||(function(t,r,e,n){var i=e.directiveStart,a=e.directiveEnd;t.firstCreatePass||Tl(e,r),Ln(n,r);for(var o=e.initialInputs,s=i;s<a;s++){var u=t.data[s],l=fi(u);l&&RL(r,e,u);var c=Dl(r,t,s,e);Ln(c,r),null!==o&&ML(0,s-i,c,u,0,o),l&&(Er(e.index,r)[8]=c)}}(t,r,e,jr(e,r)),128==(128&e.flags)&&function(t,r,e){var n=e.directiveStart,i=e.directiveEnd,o=e.index,s=Ie.lFrame.currentDirectiveIndex;try{$a(o);for(var u=n;u<i;u++){var l=t.data[u],c=r[u];Dp(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&nw(l,c)}}finally{$a(-1),Dp(s)}}(t,r,e))}function Dg(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr,n=r.localNames;if(null!==n)for(var i=r.index+1,a=0;a<n.length;a+=2){var o=n[a+1],s=-1===o?e(r,t):t[o];t[i++]=s}}function Zb(t){var r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function ld(t,r,e,n,i,a,o,s,u,l){var c=20+n,f=c+i,d=function(t,r){for(var e=[],n=0;n<r;n++)e.push(n<t?null:Pe);return e}(c,f),h="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:e,queries:null,viewQuery:s,declTNode:r,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:h,incompleteFirstPass:!1}}function $b(t,r,e,n){var i=uw(r);null===e?i.push(n):(i.push(e),t.firstCreatePass&&lw(t).push(n,i.length-1))}function Jb(t,r,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(r,i):e[n]=[r,i]}return e}function kg(t,r,e,n){var i=!1;if(c0()){var a=function(t,r,e){var n=t.directiveRegistry,i=null;if(n)for(var a=0;a<n.length;a++){var o=n[a];Pb(e,o.selectors,!1)&&(i||(i=[]),qf(Tl(e,r),t,o.type),fi(o)?(rw(t,e),i.unshift(o)):i.push(o))}return i}(t,r,e),o=null===n?null:{"":-1};if(null!==a){i=!0,iw(e,t.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=$s(t,r,a.length,null),d=0;d<a.length;d++){var h=a[d];e.mergedAttrs=Gf(e.mergedAttrs,h.hostAttrs),aw(t,e,r,f,h),OL(f,h,o),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);var v=h.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function(t,r){for(var n=r.directiveEnd,i=t.data,a=r.attrs,o=[],s=null,u=null,l=r.directiveStart;l<n;l++){var c=i[l],f=c.inputs,d=null===a||Mb(r)?null:PL(f,a);o.push(d),s=Jb(f,l,s),u=Jb(c.outputs,l,u)}null!==s&&(s.hasOwnProperty("class")&&(r.flags|=16),s.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=o,r.inputs=s,r.outputs=u}(t,e)}o&&function(t,r,e){if(r)for(var n=t.localNames=[],i=0;i<r.length;i+=2){var a=e[r[i+1]];if(null==a)throw new Po("301","Export of name '".concat(r[i+1],"' not found!"));n.push(r[i],a)}}(e,n,o)}return e.mergedAttrs=Gf(e.mergedAttrs,e.attrs),i}function tw(t,r,e,n,i,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~r.index;(function(t){for(var r=t.length;r>0;){var e=t[--r];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(n,i,o)}}function nw(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function rw(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function OL(t,r,e){if(e){if(r.exportAs)for(var n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;fi(r)&&(e[""]=t)}}function iw(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function aw(t,r,e,n,i){t.data[n]=i;var a=i.factory||(i.factory=Vo(i.type)),o=new wl(a,fi(i),null);t.blueprint[n]=o,e[n]=o,tw(t,r,0,n,$s(t,e,i.hostVars,Pe),i)}function RL(t,r,e){var n=jr(r,t),i=Zb(e),a=t[10],o=cd(t,jl(t,i,null,e.onPush?64:16,n,r,a,a.createRenderer(n,e),null,null));t[r.index]=o}function qi(t,r,e,n,i,a){var o=jr(t,r);!function(t,r,e,n,i,a,o){if(null==a)Zt(t)?t.removeAttribute(r,i,e):r.removeAttribute(i);else{var s=null==o?Me(a):o(a,n||"",i);Zt(t)?t.setAttribute(r,i,s,e):e?r.setAttributeNS(e,i,s):r.setAttribute(i,s)}}(r[11],o,a,t.value,e,n,i)}function ML(t,r,e,n,i,a){var o=a[r];if(null!==o)for(var s=n.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],f=o[u++];null!==s?n.setInput(e,f,l,c):e[c]=f}}function PL(t,r){for(var e=null,n=0;n<r.length;){var i=r[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],r[n+1])),n+=2}else n+=2;else n+=4}return e}function ow(t,r,e,n){return new Array(t,!0,!1,r,null,0,n,e,null,null)}function NL(t,r){var e=Er(r,t);if(bp(e)){var n=e[1];80&e[2]?Js(n,e,n.template,e[8]):e[5]>0&&Ag(e)}}function Ag(t){for(var r=rg(t);null!==r;r=ig(r))for(var e=10;e<r.length;e++){var n=r[e];if(1024&n[2]){var i=n[1];Js(i,n,i.template,n[8])}else n[5]>0&&Ag(n)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=Er(o[s],t);bp(u)&&u[5]>0&&Ag(u)}}function LL(t,r){var e=Er(r,t),n=e[1];(function(t,r){for(var e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])})(n,e),Gl(n,e,e[8])}function cd(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Og(t){for(;t;){t[2]|=64;var r=Ul(t);if(px(t)&&!r)return t;t=r}return null}function Mg(t,r,e){var n=r[10];n.begin&&n.begin();try{Js(t,r,t.template,e)}catch(i){throw fw(r,i),i}finally{n.end&&n.end()}}function sw(t){!function(t){for(var r=0;r<t.components.length;r++){var e=t.components[r],n=$p(e),i=n[1];yL(i,n,i.template,e)}}(t[8])}function Pg(t,r,e){Ip(0),r(t,e)}var jL=function(){return Promise.resolve(null)}();function uw(t){return t[7]||(t[7]=[])}function lw(t){return t.cleanup||(t.cleanup=[])}function fw(t,r){var e=t[9],n=e?e.get(Go,null):null;n&&n.handleError(r)}function dw(t,r,e,n,i){for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=r[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,n,s):u[s]=i}}function wa(t,r,e){var n=xf(r,t);!function(t,r,e){Zt(t)?t.setValue(r,e):r.textContent=e}(t[11],n,e)}function fd(t,r,e){var n=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==r)for(var o=0;o<r.length;o++){var s=r[o];"number"==typeof s?a=s:1==a?i=up(i,s):2==a&&(n=up(n,s+": "+r[++o]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=i:t.classesWithoutHost=i}var xg=new Ae("INJECTOR",-1),hw=function(){function t(){g(this,t)}return C(t,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ml;if(n===Ml){var i=new Error("NullInjectorError: No provider for ".concat(Ge(e),"!"));throw i.name="NullInjectorError",i}return n}}]),t}(),Wl=new Ae("Set Injector scope."),zl={},zL={},Fg=void 0;function vw(){return void 0===Fg&&(Fg=new hw),Fg}function pw(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return new KL(t,e,r||vw(),n)}var KL=function(){function t(r,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,t),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&ji(e,function(u){return i.processProvider(u,r,e)}),ji([r],function(u){return i.processInjectorType(u,[],o)}),this.records.set(xg,eu(void 0,this));var s=this.records.get(Wl);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof r?null:Ge(r))}return C(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ml,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be.Default;this.assertNotDestroyed();var a=Xf(this),o=Ya(void 0);try{if(!(i&be.SkipSelf)){var s=this.records.get(e);if(void 0===s){var u=t2(e)&&Ka(e);s=u&&this.injectableDefInScope(u)?eu(Ng(e),zl):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}var l=i&be.Self?vw():this.parent;return l.get(e,n=i&be.Optional&&n===Ml?null:n)}catch(f){if("NullInjectorError"===f.name){var c=f[zs]=f[zs]||[];if(c.unshift(Ge(e)),a)throw f;return wF(f,e,"R3InjectorError",this.source)}throw f}finally{Ya(o),Xf(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(n){return e.get(n)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(i,a){return e.push(Ge(a))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,n,i){var a=this;if(!(e=fe(e)))return!1;var o=zE(e),s=null==o&&e.ngModule||void 0,u=void 0===s?e:s,f=-1!==i.indexOf(u);if(void 0!==s&&(o=zE(s)),null==o)return!1;if(null!=o.imports&&!f){var d;i.push(u);try{ji(o.imports,function(m){a.processInjectorType(m,n,i)&&(void 0===d&&(d=[]),d.push(m))})}finally{}if(void 0!==d)for(var h=function(E){var b=d[E],S=b.ngModule,k=b.providers;ji(k,function(I){return a.processProvider(I,S,k||pt)})},v=0;v<d.length;v++)h(v)}this.injectorDefTypes.add(u);var p=Vo(u)||function(){return new u};this.records.set(u,eu(p,zl));var y=o.providers;if(null!=y&&!f){var _=e;ji(y,function(m){return a.processProvider(m,_,y)})}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,n,i){var a=tu(e=fe(e))?e:fe(e&&e.provide),o=function(t,r,e){return yw(t)?eu(void 0,t.useValue):eu(gw(t),zl)}(e);if(tu(e)||!0!==e.multi)this.records.get(a);else{var s=this.records.get(a);s||((s=eu(void 0,zl,!0)).factory=function(){return Ho(s.multi)},this.records.set(a,s)),a=e,s.multi.push(e)}this.records.set(a,o)}},{key:"hydrate",value:function(e,n){return n.value===zl&&(n.value=zL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var n=fe(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}]),t}();function Ng(t){var r=Ka(t),e=null!==r?r.factory:Vo(t);if(null!==e)return e;if(t instanceof Ae)throw new Error("Token ".concat(Ge(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var r=t.length;if(r>0){var e=eo(r,"?");throw new Error("Can't resolve all parameters for ".concat(Ge(t),": (").concat(e.join(", "),")."))}var n=function(t){var r=t&&(t[kf]||t[qE]);if(r){var e=function(t){if(t.hasOwnProperty("name"))return t.name;var r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(e,'" class.')),r}return null}(t);return null!==n?function(){return n.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function gw(t,r,e){var n=void 0;if(tu(t)){var i=fe(t);return Vo(i)||Ng(i)}if(yw(t))n=function(){return fe(t.useValue)};else if(function(t){return!(!t||!t.useFactory)}(t))n=function(){return t.useFactory.apply(t,he(Ho(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))n=function(){return U(fe(t.useExisting))};else{var a=fe(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Vo(a)||Ng(a);n=function(){return Ht(a,he(Ho(t.deps)))}}return n}function eu(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:r,multi:e?[]:void 0}}function yw(t){return null!==t&&"object"==typeof t&&jp in t}function tu(t){return"function"==typeof t}function t2(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ae}var mw=function(t,r,e){return function(t){var i=pw(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i._resolveInjectorDefTypes(),i}({name:e},r,t,e)},kt=function(){var t=function(){function r(){g(this,r)}return C(r,null,[{key:"create",value:function(n,i){return Array.isArray(n)?mw(n,i,""):mw(n.providers,n.parent,n.name||"")}}]),r}();return t.THROW_IF_NOT_FOUND=Ml,t.NULL=new hw,t.\u0275prov=J({token:t,providedIn:"any",factory:function(){return U(xg)}}),t.__NG_ELEMENT_ID__=-1,t}();function b2(t,r){Bf($p(t)[1],gn())}function Ct(t){for(var r=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0,n=[t];r;){var i=void 0;if(fi(t))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");i=r.\u0275dir}if(i){if(e){n.push(i);var a=t;a.inputs=Ug(t.inputs),a.declaredInputs=Ug(t.declaredInputs),a.outputs=Ug(t.outputs);var o=i.hostBindings;o&&D2(t,o);var s=i.viewQuery,u=i.contentQueries;if(s&&S2(t,s),u&&T2(t,u),sp(t.inputs,i.inputs),sp(t.declaredInputs,i.declaredInputs),sp(t.outputs,i.outputs),fi(i)&&i.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var f=0;f<c.length;f++){var d=c[f];d&&d.ngInherit&&d(t),d===Ct&&(e=!1)}}r=Object.getPrototypeOf(r)}!function(t){for(var r=0,e=null,n=t.length-1;n>=0;n--){var i=t[n];i.hostVars=r+=i.hostVars,i.hostAttrs=Gf(i.hostAttrs,e=Gf(e,i.hostAttrs))}}(n)}function Ug(t){return t===Rs?{}:t===pt?[]:t}function S2(t,r){var e=t.viewQuery;t.viewQuery=e?function(n,i){r(n,i),e(n,i)}:r}function T2(t,r){var e=t.contentQueries;t.contentQueries=e?function(n,i,a){r(n,i,a),e(n,i,a)}:r}function D2(t,r){var e=t.hostBindings;t.hostBindings=e?function(n,i){r(n,i),e(n,i)}:r}var dd=null;function ru(){if(!dd){var t=ft.Symbol;if(t&&t.iterator)dd=t.iterator;else for(var r=Object.getOwnPropertyNames(Map.prototype),e=0;e<r.length;++e){var n=r[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(dd=n)}}return dd}function Kl(t){return!!Hg(t)&&(Array.isArray(t)||!(t instanceof Map)&&ru()in t)}function Hg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ki(t,r,e){return t[r]=e}function Vn(t,r,e){return!Object.is(t[r],e)&&(t[r]=e,!0)}function zo(t,r,e,n){var i=Vn(t,r,e);return Vn(t,r+1,n)||i}function zr(t,r,e,n,i,a){var o=zo(t,r,e,n);return zo(t,r+2,i,a)||o}function Et(t,r,e,n){var i=F();return Vn(i,Ls(),r)&&(tt(),qi(Xt(),i,t,r,e,n)),Et}function ou(t,r,e,n,i,a){var s=zo(t,Ie.lFrame.bindingIndex,e,i);return Ea(2),s?r+Me(e)+n+Me(i)+a:Pe}function ue(t,r,e,n,i,a,o,s){var u=F(),l=tt(),c=t+20,f=l.firstCreatePass?function(t,r,e,n,i,a,o,s,u){var l=r.consts,c=Qs(r,t,4,o||null,Qa(l,s));kg(r,e,c,Qa(l,u)),Bf(r,c);var f=c.tViews=ld(2,c,n,i,a,r.directiveRegistry,r.pipeRegistry,null,r.schemas,l);return null!==r.queries&&(r.queries.template(r,c),f.queries=r.queries.embeddedTView(c)),c}(c,l,u,r,e,n,i,a,o):l.data[c];Hi(f,!1);var d=u[11].createComment("");id(l,u,d,f),Ln(d,u),cd(u,u[c]=ow(d,u,d,f)),Pf(f)&&Tg(l,u,f),null!=o&&Dg(u,f,s)}function Sa(t){return Ns(Ie.lFrame.contextLView,20+t)}function T(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.Default,e=F();if(null===e)return U(t,r);var n=gn();return I0(n,e,fe(t),r)}function zg(){throw new Error("invalid")}function P(t,r,e){var n=F();return Vn(n,Ls(),r)&&function(t,r,e,n,i,a,o,s){var c,u=jr(r,e),l=r.inputs;!s&&null!=l&&(c=l[n])?(dw(t,e,c,n,i),Mf(r)&&function(t,r){var e=Er(r,t);16&e[2]||(e[2]|=64)}(e,r.index)):3&r.type&&(n=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=o?o(i,r.value||"",n):i,Zt(a)?a.setProperty(u,n,i):Rp(n)||(u.setProperty?u.setProperty(n,i):u[n]=i))}(tt(),Xt(),n,t,r,n[11],e,!1),P}function qg(t,r,e,n,i){var o=i?"class":"style";dw(t,e,r.inputs[o],o,n)}function A(t,r,e,n){var i=F(),a=tt(),o=20+t,s=i[11],u=i[o]=og(s,r,Ie.lFrame.currentNamespace),l=a.firstCreatePass?function(t,r,e,n,i,a,o){var s=r.consts,l=Qs(r,t,2,i,Qa(s,a));return kg(r,e,l,Qa(s,o)),null!==l.attrs&&fd(l,l.attrs,!1),null!==l.mergedAttrs&&fd(l,l.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,l),l}(o,a,i,0,r,e,n):a.data[o];Hi(l,!0);var c=l.mergedAttrs;null!==c&&jf(s,u,c);var f=l.classes;null!==f&&dg(s,u,f);var d=l.styles;null!==d&&Ab(s,u,d),64!=(64&l.flags)&&id(a,i,u,l),0===Ie.lFrame.elementDepthCount&&Ln(u,i),Ie.lFrame.elementDepthCount++,Pf(l)&&(Tg(a,i,l),Yb(a,l,i)),null!==n&&Dg(i,l)}function O(){var t=gn();Sp()?Tp():Hi(t=t.parent,!1);var r=t;Ie.lFrame.elementDepthCount--;var e=tt();e.firstCreatePass&&(Bf(e,t),gp(t)&&e.queries.elementEnd(t)),null!=r.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(r)&&qg(e,r,F(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(r)&&qg(e,r,F(),r.stylesWithoutHost,!1)}function jt(t,r,e,n){A(t,r,e,n),O()}function pi(t,r,e){var n=F(),i=tt(),a=t+20,o=i.firstCreatePass?function(t,r,e,n,i){var a=r.consts,o=Qa(a,n),s=Qs(r,t,8,"ng-container",o);return null!==o&&fd(s,o,!0),kg(r,e,s,Qa(a,i)),null!==r.queries&&r.queries.elementStart(r,s),s}(a,i,n,r,e):i.data[a];Hi(o,!0);var s=n[a]=n[11].createComment("");id(i,n,s,o),Ln(s,n),Pf(o)&&(Tg(i,n,o),Yb(i,o,n)),null!=e&&Dg(n,o)}function gi(){var t=gn(),r=tt();Sp()?Tp():Hi(t=t.parent,!1),r.firstCreatePass&&(Bf(r,t),gp(t)&&r.queries.elementEnd(t))}function or(t,r,e){pi(t,r,e),gi()}function fn(){return F()}function Zl(t){return!!t&&"function"==typeof t.then}var vd=function(t){return!!t&&"function"==typeof t.subscribe};function oe(t,r,e,n){var i=F(),a=tt(),o=gn();return function(t,r,e,n,i,a,o,s){var u=Pf(n),c=t.firstCreatePass&&lw(t),f=r[8],d=uw(r),h=!0;if(3&n.type||s){var v=jr(n,r),p=s?s(v):v,y=d.length,_=s?function(ne){return s(cn(ne[n.index]))}:n.index;if(Zt(e)){var m=null;if(!s&&u&&(m=function(t,r,e,n){var i=t.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===e&&i[a+1]===n){var s=r[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(t,r,i,n.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=a,m.__ngLastListenerFn__=a,h=!1;else{a=Kg(n,r,f,a,!1);var b=e.listen(p,i,a);d.push(a,b),c&&c.push(i,_,y,y+1)}}else a=Kg(n,r,f,a,!0),p.addEventListener(i,a,o),d.push(a),c&&c.push(i,_,y,o)}else a=Kg(n,r,f,a,!1);var k,S=n.outputs;if(h&&null!==S&&(k=S[i])){var I=k.length;if(I)for(var M=0;M<I;M+=2){var le=r[k[M]][k[M+1]].subscribe(a),pe=d.length;d.push(a,le),c&&c.push(i,n.index,pe,-(pe+1))}}}(a,i,i[11],o,t,r,!!e,n),oe}function Jw(t,r,e,n){try{return!1!==e(n)}catch(i){return fw(t,i),!1}}function Kg(t,r,e,n,i){return function a(o){if(o===Function)return n;var s=2&t.flags?Er(t.index,r):r;0==(32&r[2])&&Og(s);for(var u=Jw(r,0,n,o),l=a.__ngNextListenerFn__;l;)u=Jw(r,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Lx(t)}function rV(t,r){for(var e=null,n=function(t){var r=t.attrs;if(null!=r){var e=r.indexOf(5);if(0==(1&e))return r[e+1]}return null}(t),i=0;i<r.length;i++){var a=r[i];if("*"!==a){if(null===n?Pb(t,a,!0):eL(n,a))return i}else e=i}return e}function vu(t){var r=F()[16][6];if(!r.projection)for(var n=r.projection=eo(t?t.length:1,null),i=n.slice(),a=r.child;null!==a;){var o=t?rV(a,t):0;null!==o&&(i[o]?i[o].projectionNext=a:n[o]=a,i[o]=a),a=a.next}}function qo(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,n=F(),i=tt(),a=Qs(i,20+t,16,null,e||null);null===a.projection&&(a.projection=r),Tp(),64!=(64&a.flags)&&WN(i,n,a)}function lS(t,r,e,n,i){for(var a=t[e+1],o=null===r,s=n?hi(a):ba(a),u=!1;0!==s&&(!1===u||o);){var c=t[s+1];oV(t[s],r)&&(u=!0,t[s+1]=n?pg(c):hg(c)),s=n?hi(c):ba(c)}u&&(t[e+1]=n?hg(a):pg(a))}function oV(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ws(t,r)>=0}var mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cS(t){return t.substring(mn.key,mn.keyEnd)}function fS(t,r){var e=mn.textEnd;return e===r?-1:(r=mn.keyEnd=function(t,r,e){for(;r<e&&t.charCodeAt(r)>32;)r++;return r}(t,mn.key=r,e),pu(t,r,e))}function pu(t,r,e){for(;r<e&&t.charCodeAt(r)<=32;)r++;return r}function pd(t,r,e){return yi(t,r,e,!1),pd}function Ko(t,r){return yi(t,r,null,!0),Ko}function kr(t){!function(t,r,e,n){var i=tt(),a=Ea(2);i.firstUpdatePass&&yS(i,null,a,n);var o=F();if(e!==Pe&&Vn(o,a,e)){var s=i.data[Kn()];if(ES(s,n)&&!gS(i,a)){var l=n?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=up(l,e||"")),qg(i,s,o,e,n)}else!function(t,r,e,n,i,a,o,s){i===Pe&&(i=pt);for(var u=0,l=0,c=0<i.length?i[0]:null,f=0<a.length?a[0]:null;null!==c||null!==f;){var d=u<i.length?i[u+1]:void 0,h=l<a.length?a[l+1]:void 0,v=null,p=void 0;c===f?(u+=2,l+=2,d!==h&&(v=f,p=h)):null===f||null!==c&&c<f?(u+=2,v=c):(l+=2,v=f,p=h),null!==v&&_S(t,r,e,n,v,p,o,s),c=u<i.length?i[u]:null,f=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(t,r,e){if(null==e||""===e)return pt;var n=[],i=Sr(e);if(Array.isArray(i))for(var a=0;a<i.length;a++)t(n,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&t(n,o,i[o]);else"string"==typeof i&&r(n,i);return n}(t,r,e),n,a)}}(wr,Zi,t,!0)}function Zi(t,r){for(var e=function(t){return function(t){mn.key=0,mn.keyEnd=0,mn.value=0,mn.valueEnd=0,mn.textEnd=t.length}(t),fS(t,pu(t,0,mn.textEnd))}(r);e>=0;e=fS(r,e))wr(t,cS(r),!0)}function yi(t,r,e,n){var i=F(),a=tt(),o=Ea(2);a.firstUpdatePass&&yS(a,t,o,n),r!==Pe&&Vn(i,o,r)&&_S(a,a.data[Kn()],i,i[11],t,i[o+1]=function(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ge(Sr(t)))),t}(r,e),n,o)}function gS(t,r){return r>=t.expandoStartIndex}function yS(t,r,e,n){var i=t.data;if(null===i[e+1]){var a=i[Kn()],o=gS(t,e);ES(a,n)&&null===r&&!o&&(r=!1),r=function(t,r,e,n){var i=function(t){var r=Ie.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t),a=n?r.residualClasses:r.residualStyles;if(null===i)0===(n?r.classBindings:r.styleBindings)&&(e=Xl(e=Zg(null,t,r,e,n),r.attrs,n),a=null);else{var s=r.directiveStylingLast;if(-1===s||t[s]!==i)if(e=Zg(i,t,r,e,n),null===a){var l=function(t,r,e){var n=e?r.classBindings:r.styleBindings;if(0!==ba(n))return t[hi(n)]}(t,r,n);void 0!==l&&Array.isArray(l)&&function(t,r,e,n){t[hi(e?r.classBindings:r.styleBindings)]=n}(t,r,n,l=Xl(l=Zg(null,t,r,l[1],n),r.attrs,n))}else a=function(t,r,e){for(var n=void 0,i=r.directiveEnd,a=1+r.directiveStylingLast;a<i;a++)n=Xl(n,t[a].hostAttrs,e);return Xl(n,r.attrs,e)}(t,r,n)}return void 0!==a&&(n?r.residualClasses=a:r.residualStyles=a),e}(i,a,r,n),function(t,r,e,n,i,a){var o=a?r.classBindings:r.styleBindings,s=hi(o),u=ba(o);t[n]=e;var c,l=!1;if(Array.isArray(e)?(null===(c=e[1])||Ws(e,c)>0)&&(l=!0):c=e,i)if(0!==u){var h=hi(t[s+1]);t[n+1]=od(h,s),0!==h&&(t[h+1]=vg(t[h+1],n)),t[s+1]=function(t,r){return 131071&t|r<<17}(t[s+1],n)}else t[n+1]=od(s,0),0!==s&&(t[s+1]=vg(t[s+1],n)),s=n;else t[n+1]=od(u,0),0===s?s=n:t[u+1]=vg(t[u+1],n),u=n;l&&(t[n+1]=hg(t[n+1])),lS(t,c,n,!0),lS(t,c,n,!1),function(t,r,e,n,i){var a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof r&&Ws(a,r)>=0&&(e[n+1]=pg(e[n+1]))}(r,c,t,n,a),o=od(s,u),a?r.classBindings=o:r.styleBindings=o}(i,a,r,e,o,n)}}function Zg(t,r,e,n,i){var a=null,o=e.directiveEnd,s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<o&&(n=Xl(n,(a=r[s]).hostAttrs,i),a!==t);)s++;return null!==t&&(e.directiveStylingLast=s),n}function Xl(t,r,e){var n=e?1:2,i=-1;if(null!==r)for(var a=0;a<r.length;a++){var o=r[a];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wr(t,o,!!e||r[++a]))}return void 0===t?null:t}function _S(t,r,e,n,i,a,o,s){if(3&r.type){var u=t.data,l=u[s+1];gd(function(t){return 1==(1&t)}(l)?CS(u,r,e,i,ba(l),o):void 0)||(gd(a)||function(t){return 2==(2&t)}(l)&&(a=CS(u,null,e,i,s,o)),function(t,r,e,n,i){var a=Zt(t);if(r)i?a?t.addClass(e,n):e.classList.add(n):a?t.removeClass(e,n):e.classList.remove(n);else{var o=-1===n.indexOf("-")?void 0:Tr.DashCase;if(null==i)a?t.removeStyle(e,n,o):e.style.removeProperty(n);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Tr.Important),a?t.setStyle(e,n,i,o):e.style.setProperty(n,i,s?"important":"")}}}(n,o,xf(Kn(),e),i,a))}}function CS(t,r,e,n,i,a){for(var o=null===r,s=void 0;i>0;){var u=t[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c,d=e[i+1];d===Pe&&(d=f?pt:void 0);var h=f?Vp(d,n):c===n?d:void 0;if(l&&!gd(h)&&(h=Vp(u,n)),gd(h)&&(s=h,o))return s;var v=t[i+1];i=o?hi(v):ba(v)}if(null!==r){var p=a?r.residualClasses:r.residualStyles;null!=p&&(s=Vp(p,n))}return s}function gd(t){return void 0!==t}function ES(t,r){return 0!=(t.flags&(r?16:32))}function gt(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=F(),n=tt(),i=t+20,a=n.firstCreatePass?Qs(n,i,1,r,null):n.data[i],o=e[i]=ag(e[11],r);id(n,e,o,a),Hi(a,!1)}function _i(t){return sr("",t,""),_i}function sr(t,r,e){var n=F(),i=function(t,r,e,n){return Vn(t,Ls(),e)?r+Me(e)+n:Pe}(n,t,r,e);return i!==Pe&&wa(n,Kn(),i),sr}function Xg(t,r,e,n,i){var a=F(),o=ou(a,t,r,e,n,i);return o!==Pe&&wa(a,Kn(),o),Xg}var Yo=void 0,UV=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],gu={};function Yn(t){var r=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),e=HS(r);if(e)return e;var n=r.split("-")[0];if(e=HS(n))return e;if("en"===n)return UV;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function HS(t){return t in gu||(gu[t]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[t]),gu[t]}var Y=function(){return(Y=Y||{})[Y.LocaleId=0]="LocaleId",Y[Y.DayPeriodsFormat=1]="DayPeriodsFormat",Y[Y.DayPeriodsStandalone=2]="DayPeriodsStandalone",Y[Y.DaysFormat=3]="DaysFormat",Y[Y.DaysStandalone=4]="DaysStandalone",Y[Y.MonthsFormat=5]="MonthsFormat",Y[Y.MonthsStandalone=6]="MonthsStandalone",Y[Y.Eras=7]="Eras",Y[Y.FirstDayOfWeek=8]="FirstDayOfWeek",Y[Y.WeekendRange=9]="WeekendRange",Y[Y.DateFormat=10]="DateFormat",Y[Y.TimeFormat=11]="TimeFormat",Y[Y.DateTimeFormat=12]="DateTimeFormat",Y[Y.NumberSymbols=13]="NumberSymbols",Y[Y.NumberFormats=14]="NumberFormats",Y[Y.CurrencyCode=15]="CurrencyCode",Y[Y.CurrencySymbol=16]="CurrencySymbol",Y[Y.CurrencyName=17]="CurrencyName",Y[Y.Currencies=18]="Currencies",Y[Y.Directionality=19]="Directionality",Y[Y.PluralCase=20]="PluralCase",Y[Y.ExtraData=21]="ExtraData",Y}(),yd="en-US";function NB(t,r,e){var n=tt();if(n.firstCreatePass){var i=fi(t);Jg(e,n.data,n.blueprint,i,!0),Jg(r,n.data,n.blueprint,i,!1)}}function Jg(t,r,e,n,i){if(t=fe(t),Array.isArray(t))for(var a=0;a<t.length;a++)Jg(t[a],r,e,n,i);else{var o=tt(),s=F(),u=tu(t)?t:fe(t.provide),l=gw(t),c=gn(),f=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(tu(t)||!t.multi){var v=new wl(l,i,T),p=ty(u,r,i?f:f+h,d);-1===p?(qf(Tl(c,s),o,u),ey(o,t,r.length),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(v),s.push(v)):(e[p]=v,s[p]=v)}else{var y=ty(u,r,f+h,d),_=ty(u,r,f,f+h),E=_>=0&&e[_];if(i&&!E||!i&&!(y>=0&&e[y])){qf(Tl(c,s),o,u);var b=function(t,r,e,n,i){var a=new wl(t,e,T);return a.multi=[],a.index=r,a.componentProviders=0,dT(a,i,n&&!e),a}(i?VB:LB,e.length,i,n,l);!i&&E&&(e[_].providerFactory=b),ey(o,t,r.length,0),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(b),s.push(b)}else ey(o,t,y>-1?y:_,dT(e[i?_:y],l,!i&&n));!i&&n&&E&&e[_].componentProviders++}}}function ey(t,r,e,n){var i=tu(r);if(i||function(t){return!!t.useClass}(r)){var o=(r.useClass||r).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&r.multi){var u=s.indexOf(e);-1===u?s.push(e,[n,o]):s[u+1].push(n,o)}else s.push(e,o)}}}function dT(t,r,e){return e&&t.componentProviders++,t.multi.push(r)-1}function ty(t,r,e,n){for(var i=e;i<n;i++)if(r[i]===t)return i;return-1}function LB(t,r,e,n){return ny(this.multi,[])}function VB(t,r,e,n){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Dl(e,e[1],this.providerFactory.index,n);ny(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else ny(i,a=[]);return a}function ny(t,r){for(var e=0;e<t.length;e++)r.push((0,t[e])());return r}function ut(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(e){e.providersResolver=function(n,i){return NB(n,i?i(t):t,r)}}}var UB=function t(){g(this,t)},hT=function t(){g(this,t)},jB=function(){function t(){g(this,t)}return C(t,[{key:"resolveComponentFactory",value:function(e){throw function(t){var r=Error("No component factory found for ".concat(Ge(t),". Did you add it to @NgModule.entryComponents?"));return r.ngComponent=t,r}(e)}}]),t}(),mu=function(){var t=function r(){g(this,r)};return t.NULL=new jB,t}();function bd(){}function _u(t,r){return new Pt(jr(t,r))}var qB=function(){return _u(gn(),F())},Pt=function(){var t=function r(e){g(this,r),this.nativeElement=e};return t.__NG_ELEMENT_ID__=qB,t}();function pT(t){return t instanceof Pt?t.nativeElement:t}var Zo=function t(){g(this,t)},Ci=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=function(){return YB()},t}(),YB=function(){var t=F(),e=Er(gn().index,t);return function(t){return t[11]}(Ui(e)?e:t)},ry=function(){var t=function r(){g(this,r)};return t.\u0275prov=J({token:t,providedIn:"root",factory:function(){return null}}),t}(),tc=function t(r){g(this,t),this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")},QB=new tc("13.0.1"),Cu={};function wd(t,r,e,n){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==e;){var a=r[e.index];if(null!==a&&n.push(cn(a)),ci(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&wd(s[1],s,u,n)}var l=e.type;if(8&l)wd(t,r,e.child,n);else if(32&l)for(var c=ng(e,r),f=void 0;f=c();)n.push(f);else if(16&l){var d=Db(r,e);if(Array.isArray(d))n.push.apply(n,he(d));else{var h=Ul(r[16]);wd(h[1],h,d,n,!0)}}e=i?e.projectionNext:e.next}return n}var nc=function(){function t(r,e){g(this,t),this._lView=r,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}return C(t,[{key:"rootNodes",get:function(){var e=this._lView,n=e[1];return wd(n,e,n.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(ci(e)){var n=e[8],i=n?n.indexOf(this):-1;i>-1&&(sg(e,i),Uo(n,i))}this._attachedToViewContainer=!1}yb(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){$b(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Og(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Mg(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,r,e){Nf(!0);try{Mg(t,r,e)}finally{Nf(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(t,r){Hl(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),t}(),$B=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this,n))._view=n,i}return C(e,[{key:"detectChanges",value:function(){sw(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Nf(!0);try{sw(t)}finally{Nf(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(nc),gT=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).ngModule=n,i}return C(e,[{key:"resolveComponentFactory",value:function(i){var a=Fn(i);return new iy(a,this.ngModule)}}]),e}(mu);function yT(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push({propName:t[e],templateName:e});return r}var e3=new Ae("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return lb}}),iy=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).componentDef=n,a.ngModule=i,a.componentType=n.type,a.selector=function(t){return t.map(tL).join(",")}(n.selectors),a.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],a.isBoundToModule=!!i,a}return C(e,[{key:"inputs",get:function(){return yT(this.componentDef.inputs)}},{key:"outputs",get:function(){return yT(this.componentDef.outputs)}},{key:"create",value:function(i,a,o,s){var m,E,u=(s=s||this.ngModule)?function(t,r){return{get:function(n,i,a){var o=t.get(n,Cu,a);return o!==Cu||i===Cu?o:r.get(n,i,a)}}}(i,s.injector):i,l=u.get(Zo,s0),c=u.get(ry,null),f=l.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=o?function(t,r,e){if(Zt(t))return t.selectRootElement(r,e===nr.ShadowDom);var i="string"==typeof r?t.querySelector(r):r;return i.textContent="",i}(f,o,this.componentDef.encapsulation):og(l.createRenderer(null,this.componentDef),d,function(t){var r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(d)),v=this.componentDef.onPush?576:528,p=function(t,r){return{components:[],scheduler:t||lb,clean:jL,playerHandler:r||null,flags:0}}(),y=ld(0,null,null,1,0,null,null,null,null,null),_=jl(null,y,p,v,null,null,l,f,c,u);Lf(_);try{var b=function(t,r,e,n,i,a){var o=e[1];e[20]=t;var u=Qs(o,20,2,"#host",null),l=u.mergedAttrs=r.hostAttrs;null!==l&&(fd(u,l,!0),null!==t&&(jf(i,t,l),null!==u.classes&&dg(i,t,u.classes),null!==u.styles&&Ab(i,t,u.styles)));var c=n.createRenderer(t,r),f=jl(e,Zb(r),null,r.onPush?64:16,e[20],u,n,c,a||null,null);return o.firstCreatePass&&(qf(Tl(u,e),o,r.type),rw(o,u),iw(u,e.length,1)),cd(e,f),e[20]=f}(h,this.componentDef,_,l,f);if(h)if(o)jf(f,h,["ng-version",QB.full]);else{var S=function(t){for(var r=[],e=[],n=1,i=2;n<t.length;){var a=t[n];if("string"==typeof a)2===i?""!==a&&r.push(a,t[++n]):8===i&&e.push(a);else{if(!di(i))break;i=a}n++}return{attrs:r,classes:e}}(this.componentDef.selectors[0]),k=S.attrs,I=S.classes;k&&jf(f,h,k),I&&I.length>0&&dg(f,h,I.join(" "))}if(E=Ep(y,20),void 0!==a)for(var M=E.projection=[],L=0;L<this.ngContentSelectors.length;L++){var K=a[L];M.push(null!=K?Array.from(K):null)}m=function(t,r,e,n,i){var a=e[1],o=function(t,r,e){var n=gn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),aw(t,n,r,$s(t,r,1,null),e));var a=Dl(r,t,n.directiveStart,n);Ln(a,r);var o=jr(n,r);return o&&Ln(o,r),a}(a,e,r);if(n.components.push(o),t[8]=o,i&&i.forEach(function(c){return c(o,r)}),r.contentQueries){var s=gn();r.contentQueries(1,o,s.directiveStart)}var u=gn();return!a.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||($a(u.index),tw(e[1],u,0,u.directiveStart,u.directiveEnd,r),nw(r,o)),o}(b,this.componentDef,_,p,[b2]),Gl(y,_,null)}finally{Vf()}return new r3(this.componentType,m,_u(E,_),_,E)}}]),e}(hT),r3=function(t){R(e,t);var r=w(e);function e(n,i,a,o,s){var u;return g(this,e),(u=r.call(this)).location=a,u._rootLView=o,u._tNode=s,u.instance=i,u.hostView=u.changeDetectorRef=new $B(o),u.componentType=n,u}return C(e,[{key:"injector",get:function(){return new Us(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),e}(UB),Ta=function t(){g(this,t)},mT=function t(){g(this,t)},Eu=new Map;var CT=function(t){R(e,t);var r=w(e);function e(n,i){var a;g(this,e),(a=r.call(this))._parent=i,a._bootstrapComponents=[],a.injector=Ot(a),a.destroyCbs=[],a.componentFactoryResolver=new gT(Ot(a));var o=Br(n);return a._bootstrapComponents=zi(o.bootstrap),a._r3Injector=pw(n,i,[{provide:Ta,useValue:Ot(a)},{provide:mu,useValue:a.componentFactoryResolver}],Ge(n)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(n),a}return C(e,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt.THROW_IF_NOT_FOUND,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be.Default;return i===kt||i===Ta||i===xg?this:this._r3Injector.get(i,a,o)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),e}(Ta),oy=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).moduleType=n,null!==Br(n)&&function(t){var r=new Set;!function e(n){var i=Br(n,!0),a=i.id;null!==a&&(function(t,r,e){if(r&&r!==e)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Ge(r)," vs ").concat(Ge(r.name)))}(a,Eu.get(a),n),Eu.set(a,n));var l,u=B(zi(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;r.has(c)||(r.add(c),e(c))}}catch(f){u.e(f)}finally{u.f()}}(t)}(n),i}return C(e,[{key:"create",value:function(i){return new CT(this.moduleType,i)}}]),e}(mT);function _n(t,r,e,n){return function(t,r,e,n,i,a){var o=r+e;return Vn(t,o,i)?Ki(t,o+1,a?n.call(a,i):n(i)):rc(t,o+1)}(F(),qn(),t,r,e,n)}function Xo(t,r,e,n,i){return wT(F(),qn(),t,r,e,n,i)}function Qo(t,r,e,n,i,a){return function(t,r,e,n,i,a,o,s){var u=r+e;return function(t,r,e,n,i){var a=zo(t,r,e,n);return Vn(t,r+2,i)||a}(t,u,i,a,o)?Ki(t,u+3,s?n.call(s,i,a,o):n(i,a,o)):rc(t,u+3)}(F(),qn(),t,r,e,n,i,a)}function Sd(t,r,e,n,i,a,o){return function(t,r,e,n,i,a,o,s,u){var l=r+e;return zr(t,l,i,a,o,s)?Ki(t,l+4,u?n.call(u,i,a,o,s):n(i,a,o,s)):rc(t,l+4)}(F(),qn(),t,r,e,n,i,a,o)}function rc(t,r){var e=t[r];return e===Pe?void 0:e}function wT(t,r,e,n,i,a,o){var s=r+e;return zo(t,s,i,a)?Ki(t,s+2,o?n.call(o,i,a):n(i,a)):rc(t,s+2)}var g3=function(t){R(e,t);var r=w(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g(this,e),(n=r.call(this)).__isAsync=i,n}return C(e,[{key:"emit",value:function(i){De(Ne(e.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,o){var s=i,u=a||function(){return null},l=o;if(i&&"object"==typeof i){var c,f,d,h=i;s=null===(c=h.next)||void 0===c?void 0:c.bind(h),u=null===(f=h.error)||void 0===f?void 0:f.bind(h),l=null===(d=h.complete)||void 0===d?void 0:d.bind(h)}this.__isAsync&&(u=sy(u),s&&(s=sy(s)),l&&(l=sy(l)));var v=De(Ne(e.prototype),"subscribe",this).call(this,{next:s,error:u,complete:l});return i instanceof ye&&i.add(v),v}}]),e}(it);function sy(t){return function(r){setTimeout(t,void 0,r)}}var we=g3;function y3(){return this._results[ru()]()}var AT=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(this,t),this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var e=ru(),n=t.prototype;n[e]||(n[e]=y3)}return C(t,[{key:"changes",get:function(){return this._changes||(this._changes=new we)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,n){return this._results.reduce(e,n)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,n){var i=this;i.dirty=!1;var a=Gr(e);(this._changesDetected=!function(t,r,e){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],a=r[n];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var _3=function(){return Td(gn(),F())},Ei=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=_3,t}(),E3=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this))._declarationLView=n,o._declarationTContainer=i,o.elementRef=a,o}return C(e,[{key:"createEmbeddedView",value:function(i){var a=this._declarationTContainer.tViews,o=jl(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];var u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(a)),Gl(a,o,i),new nc(o)}}]),e}(Ei);function Td(t,r){return 4&t.type?new E3(r,t,_u(t,r)):null}var S3=function(){return MT(gn(),F())},qr=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=S3,t}(),OT=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this))._lContainer=n,o._hostTNode=i,o._hostLView=a,o}return C(e,[{key:"element",get:function(){return _u(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Us(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=zf(this._hostTNode,this._hostLView);if(w0(i)){var a=Bs(i,this._hostLView),o=Vs(i);return new Us(a[1].data[o+8],a)}return new Us(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=RT(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,o){var s=i.createEmbeddedView(a||{});return this.insert(s,o),s}},{key:"createComponent",value:function(i,a,o,s,u){var c,l=i&&!function(t){return"function"==typeof t}(i);if(l)c=a;else{var f=a||{};c=f.index,o=f.injector,s=f.projectableNodes,u=f.ngModuleRef}var d=l?i:new iy(Fn(i)),h=o||this.parentInjector;if(!u&&null==d.ngModule&&h){var v=h.get(Ta,null);v&&(u=v)}var p=d.create(h,s,void 0,u);return this.insert(p.hostView,c),p}},{key:"insert",value:function(i,a){var o=i._lView,s=o[1];if(function(t){return ci(t[3])}(o)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=o[3],c=new OT(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),d=this._lContainer;!function(t,r,e,n){var i=10+n,a=e.length;n>0&&(e[i-1][4]=r),n<a-10?(r[4]=e[i],Yf(e,10+n,r)):(e.push(r),r[4]=null),r[3]=e;var o=r[17];null!==o&&e!==o&&function(t,r){var e=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===e?t[9]=[r]:e.push(r)}(o,r);var s=r[19];null!==s&&s.insertView(t),r[2]|=128}(s,o,d,f);var h=cg(f,d),v=o[11],p=rd(v,d[7]);return null!==p&&function(t,r,e,n,i,a){n[0]=i,n[6]=r,Hl(t,n,e,1,i,a)}(s,d[6],v,o,p,h),i.attachToViewContainerRef(),Yf(uy(d),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=RT(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),o=sg(this._lContainer,a);o&&(Uo(uy(this._lContainer),a),yb(o[1],o))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),o=sg(this._lContainer,a);return o&&null!=Uo(uy(this._lContainer),a)?new nc(o):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),e}(qr);function RT(t){return t[8]}function uy(t){return t[8]||(t[8]=[])}function MT(t,r){var e,n=r[t.index];if(ci(n))e=n;else{var i;if(8&t.type)i=cn(n);else{var a=r[11];i=a.createComment("");var o=jr(t,r);Wo(a,rd(a,o),i,function(t,r){return Zt(t)?t.nextSibling(r):r.nextSibling}(a,o),!1)}r[t.index]=e=ow(n,r,i,t),cd(r,e)}return new OT(e,t,r)}var A3=function(){function t(r){g(this,t),this.queryList=r,this.matches=null}return C(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),O3=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,t),this.queries=r}return C(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[],o=0;o<i;o++){var s=n.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new t(a)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var n=0;n<this.queries.length;n++)null!==LT(e,n).matches&&this.queries[n].setDirty()}}]),t}(),PT=function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(this,t),this.predicate=r,this.flags=e,this.read=n},R3=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,t),this.queries=r}return C(t,[{key:"elementStart",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}},{key:"elementEnd",value:function(e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var a=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,a);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),t}(),M3=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;g(this,t),this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return C(t,[{key:"elementStart",value:function(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,n){this.elementStart(e,n)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var n=this._declarationNodeIndex,i=e.parent;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,n){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(e,n,P3(n,o)),this.matchTNodeWithReadOption(e,n,Kf(n,e,o,!1,!1))}else i===Ei?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Kf(n,e,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,n,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Pt||a===qr||a===Ei&&4&n.type)this.addMatch(n.index,-2);else{var o=Kf(n,e,a,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}},{key:"addMatch",value:function(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}]),t}();function P3(t,r){var e=t.localNames;if(null!==e)for(var n=0;n<e.length;n+=2)if(e[n]===r)return e[n+1];return null}function F3(t,r,e,n){return-1===e?function(t,r){return 11&t.type?_u(t,r):4&t.type?Td(t,r):null}(r,t):-2===e?function(t,r,e){return e===Pt?_u(r,t):e===Ei?Td(r,t):e===qr?MT(r,t):void 0}(t,r,n):Dl(t,t[1],e,r)}function xT(t,r,e,n){var i=r[19].queries[n];if(null===i.matches){for(var a=t.data,o=e.matches,s=[],u=0;u<o.length;u+=2){var l=o[u];s.push(l<0?null:F3(r,a[l],o[u+1],e.metadata.read))}i.matches=s}return i.matches}function ly(t,r,e,n){var i=t.queries.getByIndex(e),a=i.matches;if(null!==a)for(var o=xT(t,r,i,e),s=0;s<a.length;s+=2){var u=a[s];if(u>0)n.push(o[s/2]);else{for(var l=a[s+1],c=r[-u],f=10;f<c.length;f++){var d=c[f];d[17]===d[3]&&ly(d[1],d,l,n)}if(null!==c[9])for(var h=c[9],v=0;v<h.length;v++){var p=h[v];ly(p[1],p,l,n)}}}return n}function Cn(t){var r=F(),e=tt(),n=v0();Ip(n+1);var i=LT(e,n);if(t.dirty&&u0(r)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var a=i.crossesNgTemplate?ly(e,r,n,[]):xT(e,r,i,n);t.reset(a,pT),t.notifyOnChanges()}return!0}return!1}function bi(t,r,e){var n=tt();n.firstCreatePass&&(NT(n,new PT(t,r,e),-1),2==(2&r)&&(n.staticViewQueries=!0)),FT(n,F(),r)}function Da(t,r,e,n){var i=tt();if(i.firstCreatePass){var a=gn();NT(i,new PT(r,e,n),a.index),function(t,r){var e=t.contentQueries||(t.contentQueries=[]);r!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,r)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}FT(i,F(),e)}function En(){return function(t,r){return t[19].queries[r].queryList}(F(),v0())}function FT(t,r,e){var n=new AT(4==(4&e));$b(t,r,n,n.destroy),null===r[19]&&(r[19]=new O3),r[19].queries.push(new A3(n))}function NT(t,r,e){null===t.queries&&(t.queries=new R3),t.queries.track(new M3(r,e))}function LT(t,r){return t.queries.getByIndex(r)}function Dd(t,r){return Td(t,r)}var wu=new Ae("Application Initializer"),Su=function(){var t=function(){function r(e){var n=this;g(this,r),this.appInits=e,this.resolve=bd,this.reject=bd,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){n.resolve=i,n.reject=a})}return C(r,[{key:"runInitializers",value:function(){var n=this;if(!this.initialized){var i=[],a=function(){n.done=!0,n.resolve()};if(this.appInits)for(var o=function(l){var c=n.appInits[l]();if(Zl(c))i.push(c);else if(vd(c)){var f=new Promise(function(d,h){c.subscribe({complete:d,error:h})});i.push(f)}},s=0;s<this.appInits.length;s++)o(s);Promise.all(i).then(function(){a()}).catch(function(u){n.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(wu,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),oc=new Ae("AppId"),dU={provide:oc,useFactory:function(){return"".concat(py()).concat(py()).concat(py())},deps:[]};function py(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var tD=new Ae("Platform Initializer"),io=new Ae("Platform ID"),nD=new Ae("appBootstrapListener"),Ad=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"log",value:function(n){console.log(n)}},{key:"warn",value:function(n){console.warn(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),ao=new Ae("LocaleId"),rD=new Ae("DefaultCurrencyCode"),vU=function t(r,e){g(this,t),this.ngModuleFactory=r,this.componentFactories=e},gy=function(r){return new oy(r)},pU=gy,yU=function(r){return Promise.resolve(gy(r))},aD=function(r){var e=gy(r),i=zi(Br(r).declarations).reduce(function(a,o){var s=Fn(o);return s&&a.push(new iy(s)),a},[]);return new vU(e,i)},mU=aD,CU=function(r){return Promise.resolve(aD(r))},Od=function(){var t=function(){function r(){g(this,r),this.compileModuleSync=pU,this.compileModuleAsync=yU,this.compileModuleAndAllComponentsSync=mU,this.compileModuleAndAllComponentsAsync=CU}return C(r,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(n){}},{key:"getModuleId",value:function(n){}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),wU=function(){return Promise.resolve(0)}();function yy(t){"undefined"==typeof Zone?wU.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var lt=function(){function t(r){var e=r.enableLongStackTrace,n=void 0!==e&&e,i=r.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=r.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(g(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var t=ft.requestAnimationFrame,r=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){var e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);var n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(t){var r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ft,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,_y(t),t.isCheckStableRunning=!0,my(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),_y(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,a,o,s,u){try{return oD(t),n.invokeTask(a,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&r(),sD(t)}},onInvoke:function(n,i,a,o,s,u,l){try{return oD(t),n.invoke(a,o,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&r(),sD(t)}},onHasTask:function(n,i,a,o){n.hasTask(a,o),i===a&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,_y(t),my(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(n,i,a,o){return n.handleError(a,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}(u)}return C(t,[{key:"run",value:function(e,n,i){return this._inner.run(e,n,i)}},{key:"runTask",value:function(e,n,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,e,TU,bd,bd);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(e,n,i){return this._inner.runGuarded(e,n,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),TU={};function my(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function _y(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sD(t){t._nesting--,my(t)}var IU=function(){function t(){g(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}return C(t,[{key:"run",value:function(e,n,i){return e.apply(n,i)}},{key:"runGuarded",value:function(e,n,i){return e.apply(n,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,n,i,a){return e.apply(n,i)}}]),t}(),Cy=function(){var t=function(){function r(e){var n=this;g(this,r),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return C(r,[{key:"_watchAngularEvents",value:function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){n._ngZone.onStable.subscribe({next:function(){lt.assertNotInAngularZone(),yy(function(){n._isZoneStable=!0,n._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var n=this;if(this.isStable())yy(function(){for(;0!==n._callbacks.length;){var a=n._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(n._didWork)}n._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}}):[]}},{key:"addCallback",value:function(n,i,a){var o=this,s=-1;i&&i>0&&(s=setTimeout(function(){o._callbacks=o._callbacks.filter(function(u){return u.timeoutId!==s}),n(o._didWork,o.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:a})}},{key:"whenStable",value:function(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(n,i,a){return[]}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),uD=function(){var t=function(){function r(){g(this,r),this._applications=new Map,Ey.addToWindow(this)}return C(r,[{key:"registerApplication",value:function(n,i){this._applications.set(n,i)}},{key:"unregisterApplication",value:function(n){this._applications.delete(n)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(n){return this._applications.get(n)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ey.findTestabilityInTree(this,n,i)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),AU=function(){function t(){g(this,t)}return C(t,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,n,i){return null}}]),t}(),Ey=new AU,lD=!0,cD=!1;var wi,MU=function(t,r,e){var n=new oy(e);return Promise.resolve(n)},dD=new Ae("AllowMultipleToken"),by=function t(r,e){g(this,t),this.name=r,this.token=e};function VU(t){if(wi&&!wi.destroyed&&!wi.injector.get(dD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wi=t.get(pD);var r=t.get(tD,null);return r&&r.forEach(function(e){return e()}),wi}function hD(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="Platform: ".concat(r),i=new Ae(n);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=vD();if(!o||o.injector.get(dD,!1))if(t)t(e.concat(a).concat({provide:i,useValue:!0}));else{var s=e.concat(a).concat({provide:i,useValue:!0},{provide:Wl,useValue:"platform"});VU(kt.create({providers:s,name:n}))}return BU(i)}}function BU(t){var r=vD();if(!r)throw new Error("No platform exists!");if(!r.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return r}function vD(){return wi&&!wi.destroyed?wi:null}var pD=function(){var t=function(){function r(e){g(this,r),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return C(r,[{key:"bootstrapModuleFactory",value:function(n,i){var a=this,l=function(t,r){return"noop"===t?new IU:("zone.js"===t?void 0:t)||new lt({enableLongStackTrace:(cD=!0,lD),shouldCoalesceEventChangeDetection:!(null==r||!r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!(null==r||!r.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:lt,useValue:l}];return l.run(function(){var f=kt.create({providers:c,parent:a.injector,name:n.moduleType.name}),d=n.create(f),h=d.injector.get(Go,null);if(!h)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(function(){var v=l.onError.subscribe({next:function(y){h.handleError(y)}});d.onDestroy(function(){wy(a._modules,d),v.unsubscribe()})}),function(t,r,e){try{var n=((v=d.injector.get(Su)).runInitializers(),v.donePromise.then(function(){return function(t){_r(t,"Expected localeId to be defined"),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}(d.injector.get(ao,yd)||yd),a._moduleDoBootstrap(d),d}));return Zl(n)?n.catch(function(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}):n}catch(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}var v}(h,l)})}},{key:"bootstrapModule",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=gD({},a);return MU(0,0,n).then(function(s){return i.bootstrapModuleFactory(s,o)})}},{key:"_moduleDoBootstrap",value:function(n){var i=n.injector.get($o);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(function(a){return i.bootstrap(a)});else{if(!n.instance.ngDoBootstrap)throw new Error("The module ".concat(Ge(n.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");n.instance.ngDoBootstrap(i)}this._modules.push(n)}},{key:"onDestroy",value:function(n){this._destroyListeners.push(n)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(n){return n.destroy()}),this._destroyListeners.forEach(function(n){return n()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function gD(t,r){return Array.isArray(r)?r.reduce(gD,t):j(j({},t),r)}var $o=function(){var t=function(){function r(e,n,i,a,o){var s=this;g(this,r),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new nt(function(c){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){c.next(s._stable),c.complete()})}),l=new nt(function(c){var f;s._zone.runOutsideAngular(function(){f=s._zone.onStable.subscribe(function(){lt.assertNotInAngularZone(),yy(function(){!s._stable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks&&(s._stable=!0,c.next(!0))})})});var d=s._zone.onUnstable.subscribe(function(){lt.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){c.next(!1)}))});return function(){f.unsubscribe(),d.unsubscribe()}});this.isStable=ap(u,l.pipe(jE()))}return C(r,[{key:"bootstrap",value:function(n,i){var o,a=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");o=n instanceof hT?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);var s=function(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ta),l=o.create(kt.NULL,[],i||o.selector,s),c=l.location.nativeElement,f=l.injector.get(Cy,null),d=f&&l.injector.get(uD);return f&&d&&d.registerApplication(c,f),l.onDestroy(function(){a.detachView(l.hostView),wy(a.components,l),d&&d.unregisterApplication(c)}),this._loadComponent(l),l}},{key:"tick",value:function(){var n=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var a,i=B(this._views);try{for(i.s();!(a=i.n()).done;)a.value.detectChanges()}catch(c){i.e(c)}finally{i.f()}}catch(c){this._zone.runOutsideAngular(function(){return n._exceptionHandler.handleError(c)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(n){var i=n;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(n){var i=n;wy(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(nD,[]).concat(this._bootstrapListeners).forEach(function(a){return a(n)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(n){return n.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(lt),U(kt),U(Go),U(mu),U(Su))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function wy(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var WU=function(t){return function(t,r,e){if(Mf(t)&&!e){var n=Er(t.index,r);return new nc(n,n)}return 47&t.type?new nc(r[16],r):null}(gn(),F(),16==(16&t))},Kr=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=WU,t}(),CD=function(){function t(){g(this,t)}return C(t,[{key:"supports",value:function(e){return Kl(e)}},{key:"create",value:function(e){return new tH(e)}}]),t}(),eH=function(r,e){return e},tH=function(){function t(r){g(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eH}return C(t,[{key:"forEachItem",value:function(e){var n;for(n=this._itHead;null!==n;n=n._next)e(n)}},{key:"forEachOperation",value:function(e){for(var n=this._itHead,i=this._removalsHead,a=0,o=null;n||i;){var s=!i||n&&n.currentIndex<bD(i,a,o)?n:i,u=bD(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,f=l-a;if(c!=f){for(var d=0;d<c;d++){var h=d<o.length?o[d]:o[d]=0,v=h+d;f<=v&&v<c&&(o[d]=h+1)}o[s.previousIndex]=f-c}}u!==l&&e(s,u,l)}}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachMovedItem",value:function(e){var n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"forEachIdentityChange",value:function(e){var n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Kl(e))throw new Error("Error trying to diff '".concat(Ge(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=e[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function(t,r){if(Array.isArray(t))for(var e=0;e<t.length;e++)r(t[e]);else for(var i,n=t[ru()]();!(i=n.next()).done;)r(i.value)}(e,function(c){u=n._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=n._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||n._addIdentityChange(i,c)):(i=n._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,n,i,a){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,a)):e=this._addAfter(new nH(n,i),o,a),e}},{key:"_verifyReinsertion",value:function(e,n,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var a=e._prevRemoved,o=e._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_moveAfter",value:function(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_addAfter",value:function(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,n,i){var a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ED),this._linkedRecords.put(e),e.currentIndex=i,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}},{key:"_addToMoves",value:function(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ED),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),t}(),nH=function t(r,e){g(this,t),this.item=r,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},rH=function(){function t(){g(this,t),this._head=null,this._tail=null}return C(t,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,n){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}},{key:"remove",value:function(e){var n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}]),t}(),ED=function(){function t(){g(this,t),this.map=new Map}return C(t,[{key:"put",value:function(e){var n=e.trackById,i=this.map.get(n);i||(i=new rH,this.map.set(n,i)),i.add(e)}},{key:"get",value:function(e,n){var a=this.map.get(e);return a?a.get(e,n):null}},{key:"remove",value:function(e){var n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function bD(t,r,e){var n=t.previousIndex;if(null===n)return n;var i=0;return e&&n<e.length&&(i=e[n]),n+r+i}var wD=function(){function t(){g(this,t)}return C(t,[{key:"supports",value:function(e){return e instanceof Map||Hg(e)}},{key:"create",value:function(){return new iH}}]),t}(),iH=function(){function t(){g(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return C(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var n;for(n=this._mapHead;null!==n;n=n._next)e(n)}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachChangedItem",value:function(e){var n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Hg(e)))throw new Error("Error trying to diff '".concat(Ge(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(o,s){if(i&&i.key===s)n._maybeAddToChanges(i,o),n._appendAfter=i,i=i._next;else{var u=n._getOrCreateRecordForKey(s,o);i=n._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,n){if(e){var i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}},{key:"_getOrCreateRecordForKey",value:function(e,n){if(this._records.has(e)){var i=this._records.get(e);this._maybeAddToChanges(i,n);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new aH(e);return this._records.set(e,s),s.currentValue=n,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(function(i){return n(e[i],i)})}}]),t}(),aH=function t(r){g(this,t),this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function SD(){return new Tu([new CD])}var Tu=function(){var t=function(){function r(e){g(this,r),this.factories=e}return C(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'"))}}],[{key:"create",value:function(n,i){if(null!=i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||SD())},deps:[[r,new to,new ar]]}}}]),r}();return t.\u0275prov=J({token:t,providedIn:"root",factory:SD}),t}();function TD(){return new Du([new wD])}var Du=function(){var t=function(){function r(e){g(this,r),this.factories=e}return C(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"'"))}}],[{key:"create",value:function(n,i){if(i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||TD())},deps:[[r,new to,new ar]]}}}]),r}();return t.\u0275prov=J({token:t,providedIn:"root",factory:TD}),t}(),sH=[new wD],lH=new Tu([new CD]),cH=new Du(sH),dH=hD(null,"core",[{provide:io,useValue:"unknown"},{provide:pD,deps:[kt]},{provide:uD,deps:[]},{provide:Ad,deps:[]}]),yH=[{provide:$o,useClass:$o,deps:[lt,kt,Go,mu,Su]},{provide:e3,deps:[lt],useFactory:function(t){var r=[];return t.onStable.subscribe(function(){for(;r.length;)r.pop()()}),function(e){r.push(e)}}},{provide:Su,useClass:Su,deps:[[new ar,wu]]},{provide:Od,useClass:Od,deps:[]},dU,{provide:Tu,useFactory:function(){return lH},deps:[]},{provide:Du,useFactory:function(){return cH},deps:[]},{provide:ao,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||yd},deps:[[new qs(ao),new ar,new to]]},{provide:rD,useValue:"USD"}],_H=function(){var t=function r(e){g(this,r)};return t.\u0275fac=function(e){return new(e||t)(U($o))},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:yH}),t}(),Gd=null;function Xi(){return Gd}var aG=function t(){g(this,t)},xt=new Ae("DocumentToken"),rs=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:function(){return U(sk)},providedIn:"platform"}),t}(),sG=new Ae("Location Initialized"),sk=function(){var t=function(r){R(n,r);var e=w(n);function n(i){var a;return g(this,n),(a=e.call(this))._doc=i,a._init(),a}return C(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Xi().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=Xi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=Xi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,s){uk()?this._history.pushState(a,o,s):this.location.hash=s}},{key:"replaceState",value:function(a,o,s){uk()?this._history.replaceState(a,o,s):this.location.hash=s}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),n}(rs);return t.\u0275fac=function(e){return new(e||t)(U(xt))},t.\u0275prov=J({token:t,factory:function(){return new sk(U(xt))},providedIn:"platform"}),t}();function uk(){return!!window.history.pushState}function Qy(t,r){if(0==t.length)return r;if(0==r.length)return t;var e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r}function lk(t){var r=t.match(/#|\?|$/),e=r&&r.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ia(t){return t&&"?"!==t[0]?"?"+t:t}var Ou=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:function(){return r=U(xt).location,new ck(U(rs),r&&r.origin||"");var r},providedIn:"root"}),t}(),$y=new Ae("appBaseHref"),ck=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a){var o;if(g(this,n),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return C(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return Qy(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+Ia(this._platformLocation.search),s=this._platformLocation.hash;return s&&a?"".concat(o).concat(s):o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+Ia(u));this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+Ia(u));this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,s)}}]),n}(Ou);return t.\u0275fac=function(e){return new(e||t)(U(rs),U($y,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),cG=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a){var o;return g(this,n),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return C(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=Qy(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+Ia(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+Ia(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,s)}}]),n}(Ou);return t.\u0275fac=function(e){return new(e||t)(U(rs),U($y,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Jy=function(){var t=function(){function r(e,n){var i=this;g(this,r),this._subject=new we,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=lk(fk(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return C(r,[{key:"path",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(n))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(n+Ia(i))}},{key:"normalize",value:function(n){return r.stripTrailingSlash(function(t,r){return t&&r.startsWith(t)?r.substring(t.length):r}(this._baseHref,fk(n)))}},{key:"prepareExternalUrl",value:function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}},{key:"go",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ia(i)),a)}},{key:"replaceState",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ia(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(n=(i=this._platformStrategy).historyGo)||void 0===n||n.call(i,a)}},{key:"onUrlChange",value:function(n){var i=this;this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(n,i)})}},{key:"subscribe",value:function(n,i,a){return this._subject.subscribe({next:n,error:i,complete:a})}}]),r}();return t.normalizeQueryParams=Ia,t.joinWithSlash=Qy,t.stripTrailingSlash=lk,t.\u0275fac=function(e){return new(e||t)(U(Ou),U(rs))},t.\u0275prov=J({token:t,factory:function(){return new Jy(U(Ou),U(rs))},providedIn:"root"}),t}();function fk(t){return t.replace(/\/index.html$/,"")}var dn=function(){return(dn=dn||{})[dn.Zero=0]="Zero",dn[dn.One=1]="One",dn[dn.Two=2]="Two",dn[dn.Few=3]="Few",dn[dn.Many=4]="Many",dn[dn.Other=5]="Other",dn}(),sn=function(){return(sn=sn||{})[sn.Format=0]="Format",sn[sn.Standalone=1]="Standalone",sn}(),Ke=function(){return(Ke=Ke||{})[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke}(),Wt=function(){return(Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.Medium=1]="Medium",Wt[Wt.Long=2]="Long",Wt[Wt.Full=3]="Full",Wt}(),ve=function(){return(ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Group=1]="Group",ve[ve.List=2]="List",ve[ve.PercentSign=3]="PercentSign",ve[ve.PlusSign=4]="PlusSign",ve[ve.MinusSign=5]="MinusSign",ve[ve.Exponential=6]="Exponential",ve[ve.SuperscriptingExponent=7]="SuperscriptingExponent",ve[ve.PerMille=8]="PerMille",ve[ve.Infinity=9]="Infinity",ve[ve.NaN=10]="NaN",ve[ve.TimeSeparator=11]="TimeSeparator",ve[ve.CurrencyDecimal=12]="CurrencyDecimal",ve[ve.CurrencyGroup=13]="CurrencyGroup",ve}();function Wd(t,r){return Xr(Yn(t)[Y.DateFormat],r)}function zd(t,r){return Xr(Yn(t)[Y.TimeFormat],r)}function qd(t,r){return Xr(Yn(t)[Y.DateTimeFormat],r)}function Zr(t,r){var e=Yn(t),n=e[Y.NumberSymbols][r];if(void 0===n){if(r===ve.CurrencyDecimal)return e[Y.NumberSymbols][ve.Decimal];if(r===ve.CurrencyGroup)return e[Y.NumberSymbols][ve.Group]}return n}var _G=function(t){return Yn(t)[Y.PluralCase]};function hk(t){if(!t[Y.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[Y.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Xr(t,r){for(var e=r;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function tm(t){var e=ge(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var TG=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gc={},DG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bn=function(){return(bn=bn||{})[bn.Short=0]="Short",bn[bn.ShortGMT=1]="ShortGMT",bn[bn.Long=2]="Long",bn[bn.Extended=3]="Extended",bn}(),Ce=function(){return(Ce=Ce||{})[Ce.FullYear=0]="FullYear",Ce[Ce.Month=1]="Month",Ce[Ce.Date=2]="Date",Ce[Ce.Hours=3]="Hours",Ce[Ce.Minutes=4]="Minutes",Ce[Ce.Seconds=5]="Seconds",Ce[Ce.FractionalSeconds=6]="FractionalSeconds",Ce[Ce.Day=7]="Day",Ce}(),Ue=function(){return(Ue=Ue||{})[Ue.DayPeriods=0]="DayPeriods",Ue[Ue.Days=1]="Days",Ue[Ue.Months=2]="Months",Ue[Ue.Eras=3]="Eras",Ue}();function kG(t,r,e,n){var i=function(t){if(gk(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var e=ge(t.split("-").map(function(f){return+f}),3),i=e[1],o=e[2];return Kd(e[0],(void 0===i?1:i)-1,void 0===o?1:o)}var l,u=parseFloat(t);if(!isNaN(t-u))return new Date(u);if(l=t.match(TG))return function(t){var r=new Date(0),e=0,n=0,i=t[8]?r.setUTCFullYear:r.setFullYear,a=t[8]?r.setUTCHours:r.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(r,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-e,s=Number(t[5]||0)-n,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(r,o,s,u,l),r}(l)}var c=new Date(t);if(!gk(c))throw new Error('Unable to convert "'.concat(t,'" into a date'));return c}(t);r=Aa(e,r)||r;for(var s,o=[];r;){if(!(s=DG.exec(r))){o.push(r);break}var u=(o=o.concat(s.slice(1))).pop();if(!u)break;r=u}var l=i.getTimezoneOffset();n&&(l=pk(n,l),i=function(t,r,e){var i=t.getTimezoneOffset();return function(t,r){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+r),t}(t,-1*(pk(r,i)-i))}(i,n));var c="";return o.forEach(function(f){var d=function(t){if(rm[t])return rm[t];var r;switch(t){case"G":case"GG":case"GGG":r=At(Ue.Eras,Ke.Abbreviated);break;case"GGGG":r=At(Ue.Eras,Ke.Wide);break;case"GGGGG":r=At(Ue.Eras,Ke.Narrow);break;case"y":r=hn(Ce.FullYear,1,0,!1,!0);break;case"yy":r=hn(Ce.FullYear,2,0,!0,!0);break;case"yyy":r=hn(Ce.FullYear,3,0,!1,!0);break;case"yyyy":r=hn(Ce.FullYear,4,0,!1,!0);break;case"Y":r=Qd(1);break;case"YY":r=Qd(2,!0);break;case"YYY":r=Qd(3);break;case"YYYY":r=Qd(4);break;case"M":case"L":r=hn(Ce.Month,1,1);break;case"MM":case"LL":r=hn(Ce.Month,2,1);break;case"MMM":r=At(Ue.Months,Ke.Abbreviated);break;case"MMMM":r=At(Ue.Months,Ke.Wide);break;case"MMMMM":r=At(Ue.Months,Ke.Narrow);break;case"LLL":r=At(Ue.Months,Ke.Abbreviated,sn.Standalone);break;case"LLLL":r=At(Ue.Months,Ke.Wide,sn.Standalone);break;case"LLLLL":r=At(Ue.Months,Ke.Narrow,sn.Standalone);break;case"w":r=nm(1);break;case"ww":r=nm(2);break;case"W":r=nm(1,!0);break;case"d":r=hn(Ce.Date,1);break;case"dd":r=hn(Ce.Date,2);break;case"c":case"cc":r=hn(Ce.Day,1);break;case"ccc":r=At(Ue.Days,Ke.Abbreviated,sn.Standalone);break;case"cccc":r=At(Ue.Days,Ke.Wide,sn.Standalone);break;case"ccccc":r=At(Ue.Days,Ke.Narrow,sn.Standalone);break;case"cccccc":r=At(Ue.Days,Ke.Short,sn.Standalone);break;case"E":case"EE":case"EEE":r=At(Ue.Days,Ke.Abbreviated);break;case"EEEE":r=At(Ue.Days,Ke.Wide);break;case"EEEEE":r=At(Ue.Days,Ke.Narrow);break;case"EEEEEE":r=At(Ue.Days,Ke.Short);break;case"a":case"aa":case"aaa":r=At(Ue.DayPeriods,Ke.Abbreviated);break;case"aaaa":r=At(Ue.DayPeriods,Ke.Wide);break;case"aaaaa":r=At(Ue.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":r=At(Ue.DayPeriods,Ke.Abbreviated,sn.Standalone,!0);break;case"bbbb":r=At(Ue.DayPeriods,Ke.Wide,sn.Standalone,!0);break;case"bbbbb":r=At(Ue.DayPeriods,Ke.Narrow,sn.Standalone,!0);break;case"B":case"BB":case"BBB":r=At(Ue.DayPeriods,Ke.Abbreviated,sn.Format,!0);break;case"BBBB":r=At(Ue.DayPeriods,Ke.Wide,sn.Format,!0);break;case"BBBBB":r=At(Ue.DayPeriods,Ke.Narrow,sn.Format,!0);break;case"h":r=hn(Ce.Hours,1,-12);break;case"hh":r=hn(Ce.Hours,2,-12);break;case"H":r=hn(Ce.Hours,1);break;case"HH":r=hn(Ce.Hours,2);break;case"m":r=hn(Ce.Minutes,1);break;case"mm":r=hn(Ce.Minutes,2);break;case"s":r=hn(Ce.Seconds,1);break;case"ss":r=hn(Ce.Seconds,2);break;case"S":r=hn(Ce.FractionalSeconds,1);break;case"SS":r=hn(Ce.FractionalSeconds,2);break;case"SSS":r=hn(Ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=Zd(bn.Short);break;case"ZZZZZ":r=Zd(bn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Zd(bn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=Zd(bn.Long);break;default:return null}return rm[t]=r,r}(f);c+=d?d(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Kd(t,r,e){var n=new Date(0);return n.setFullYear(t,r,e),n.setHours(0,0,0),n}function Aa(t,r){var e=function(t){return Yn(t)[Y.LocaleId]}(t);if(gc[e]=gc[e]||{},gc[e][r])return gc[e][r];var n="";switch(r){case"shortDate":n=Wd(t,Wt.Short);break;case"mediumDate":n=Wd(t,Wt.Medium);break;case"longDate":n=Wd(t,Wt.Long);break;case"fullDate":n=Wd(t,Wt.Full);break;case"shortTime":n=zd(t,Wt.Short);break;case"mediumTime":n=zd(t,Wt.Medium);break;case"longTime":n=zd(t,Wt.Long);break;case"fullTime":n=zd(t,Wt.Full);break;case"short":var i=Aa(t,"shortTime"),a=Aa(t,"shortDate");n=Yd(qd(t,Wt.Short),[i,a]);break;case"medium":var o=Aa(t,"mediumTime"),s=Aa(t,"mediumDate");n=Yd(qd(t,Wt.Medium),[o,s]);break;case"long":var u=Aa(t,"longTime"),l=Aa(t,"longDate");n=Yd(qd(t,Wt.Long),[u,l]);break;case"full":var c=Aa(t,"fullTime"),f=Aa(t,"fullDate");n=Yd(qd(t,Wt.Full),[c,f])}return n&&(gc[e][r]=n),n}function Yd(t,r){return r&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return null!=r&&n in r?r[n]:e})),t}function Ai(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));for(var o=String(t);o.length<r;)o="0"+o;return n&&(o=o.substr(o.length-r)),a+o}function IG(t,r){return Ai(t,3).substr(0,r)}function hn(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=AG(t,a);if((e>0||s>-e)&&(s+=e),t===Ce.Hours)0===s&&-12===e&&(s=12);else if(t===Ce.FractionalSeconds)return IG(s,r);var u=Zr(o,ve.MinusSign);return Ai(s,r,u,n,i)}}function AG(t,r){switch(t){case Ce.FullYear:return r.getFullYear();case Ce.Month:return r.getMonth();case Ce.Date:return r.getDate();case Ce.Hours:return r.getHours();case Ce.Minutes:return r.getMinutes();case Ce.Seconds:return r.getSeconds();case Ce.FractionalSeconds:return r.getMilliseconds();case Ce.Day:return r.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function At(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sn.Format,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return OG(i,a,t,r,e,n)}}function OG(t,r,e,n,i,a){switch(e){case Ue.Months:return function(t,r,e){var n=Yn(t),a=Xr([n[Y.MonthsFormat],n[Y.MonthsStandalone]],r);return Xr(a,e)}(r,i,n)[t.getMonth()];case Ue.Days:return function(t,r,e){var n=Yn(t),a=Xr([n[Y.DaysFormat],n[Y.DaysStandalone]],r);return Xr(a,e)}(r,i,n)[t.getDay()];case Ue.DayPeriods:var o=t.getHours(),s=t.getMinutes();if(a){var u=function(t){var r=Yn(t);return hk(r),(r[Y.ExtraData][2]||[]).map(function(n){return"string"==typeof n?tm(n):[tm(n[0]),tm(n[1])]})}(r),l=function(t,r,e){var n=Yn(t);hk(n);var a=Xr([n[Y.ExtraData][0],n[Y.ExtraData][1]],r)||[];return Xr(a,e)||[]}(r,i,n),c=u.findIndex(function(d){if(Array.isArray(d)){var h=ge(d,2),v=h[0],p=h[1],y=o>=v.hours&&s>=v.minutes,_=o<p.hours||o===p.hours&&s<p.minutes;if(v.hours<p.hours){if(y&&_)return!0}else if(y||_)return!0}else if(d.hours===o&&d.minutes===s)return!0;return!1});if(-1!==c)return l[c]}return function(t,r,e){var n=Yn(t),a=Xr([n[Y.DayPeriodsFormat],n[Y.DayPeriodsStandalone]],r);return Xr(a,e)}(r,i,n)[o<12?0:1];case Ue.Eras:return function(t,r){return Xr(Yn(t)[Y.Eras],r)}(r,n)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(e))}}function Zd(t){return function(r,e,n){var i=-1*n,a=Zr(e,ve.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case bn.Short:return(i>=0?"+":"")+Ai(o,2,a)+Ai(Math.abs(i%60),2,a);case bn.ShortGMT:return"GMT"+(i>=0?"+":"")+Ai(o,1,a);case bn.Long:return"GMT"+(i>=0?"+":"")+Ai(o,2,a)+":"+Ai(Math.abs(i%60),2,a);case bn.Extended:return 0===n?"Z":(i>=0?"+":"")+Ai(o,2,a)+":"+Ai(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function MG(t){var r=Kd(t,0,1).getDay();return Kd(t,0,1+(r<=4?4:11)-r)}function vk(t){return Kd(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function nm(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){var i;if(r){var a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+a)/7)}else{var s=vk(e),u=MG(s.getFullYear()),l=s.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return Ai(i,t,Zr(n,ve.MinusSign))}}function Qd(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){return Ai(vk(e).getFullYear(),t,Zr(n,ve.MinusSign),r)}}var rm={};function pk(t,r){t=t.replace(/:/g,"");var e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?r:e}function gk(t){return t instanceof Date&&!isNaN(t.valueOf())}var Jd=function t(){g(this,t)},YG=function(){var t=function(r){R(n,r);var e=w(n);function n(i){var a;return g(this,n),(a=e.call(this)).locale=i,a}return C(n,[{key:"getPluralCategory",value:function(a,o){switch(_G(o||this.locale)(a)){case dn.Zero:return"zero";case dn.One:return"one";case dn.Two:return"two";case dn.Few:return"few";case dn.Many:return"many";default:return"other"}}}]),n}(Jd);return t.\u0275fac=function(e){return new(e||t)(U(ao))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function Ck(t,r){r=encodeURIComponent(r);var n,e=B(t.split(";"));try{for(e.s();!(n=e.n()).done;){var i=n.value,a=i.indexOf("="),s=ge(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===r)return decodeURIComponent(l)}}catch(c){e.e(c)}finally{e.f()}return null}var Qi=function(){var t=function(){function r(e,n,i,a){g(this,r),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return C(r,[{key:"klass",set:function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Kl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ge(a.item)));i._toggleClass(a.item,!0)}),n.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!!n[a])}))}},{key:"_removeClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(n,i){var a=this;(n=n.trim())&&n.split(/\s+/g).forEach(function(o){i?a._renderer.addClass(a._ngEl.nativeElement,o):a._renderer.removeClass(a._ngEl.nativeElement,o)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Tu),T(Du),T(Pt),T(Ci))},t.\u0275dir=se({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),XG=function(){function t(r,e,n,i){g(this,t),this.$implicit=r,this.ngForOf=e,this.index=n,this.count=i}return C(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),eh=function(){var t=function(){function r(e,n,i){g(this,r),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return C(r,[{key:"ngForOf",set:function(n){this._ngForOf=n,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(n){this._trackByFn=n}},{key:"ngForTemplate",set:function(n){n&&(this._template=n)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(a){throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(n){var i=this,a=[];n.forEachOperation(function(c,f,d){if(null==c.previousIndex){var h=i._viewContainer.createEmbeddedView(i._template,new XG(null,i._ngForOf,-1,-1),null===d?void 0:d),v=new Ek(c,h);a.push(v)}else if(null==d)i._viewContainer.remove(null===f?void 0:f);else if(null!==f){var p=i._viewContainer.get(f);i._viewContainer.move(p,d);var y=new Ek(c,p);a.push(y)}});for(var o=0;o<a.length;o++)this._perViewChange(a[o].view,a[o].record);for(var s=0,u=this._viewContainer.length;s<u;s++){var l=this._viewContainer.get(s);l.context.index=s,l.context.count=u,l.context.ngForOf=this._ngForOf}n.forEachIdentityChange(function(c){i._viewContainer.get(c.currentIndex).context.$implicit=c.item})}},{key:"_perViewChange",value:function(n,i){n.context.$implicit=i.item}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(qr),T(Ei),T(Tu))},t.\u0275dir=se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),Ek=function t(r,e){g(this,t),this.record=r,this.view=e},Qr=function(){var t=function(){function r(e,n){g(this,r),this._viewContainer=e,this._context=new $G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return C(r,[{key:"ngIf",set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}},{key:"ngIfThen",set:function(n){bk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(n){bk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(qr),T(Ei))},t.\u0275dir=se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),$G=function t(){g(this,t),this.$implicit=null,this.ngIf=null};function bk(t,r){if(r&&!r.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Ge(r),"'."))}var so=function(){var t=function(){function r(e,n,i){g(this,r),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return C(r,[{key:"ngStyle",set:function(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}},{key:"_setStyle",value:function(n,i){var o=ge(n.split("."),2),s=o[0],u=o[1];null!=(i=null!=i&&u?"".concat(i).concat(u):i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}},{key:"_applyChanges",value:function(n){var i=this;n.forEachRemovedItem(function(a){return i._setStyle(a.key,null)}),n.forEachAddedItem(function(a){return i._setStyle(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._setStyle(a.key,a.currentValue)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(Du),T(Ci))},t.\u0275dir=se({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),Ru=function(){var t=function(){function r(e){g(this,r),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return C(r,[{key:"ngOnChanges",value:function(n){if(n.ngTemplateOutlet){var i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(qr))},t.\u0275dir=se({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Tn]}),t}();function Oi(t,r){return Error("InvalidPipeArgument: '".concat(r,"' for pipe '").concat(Ge(t),"'"))}var fW=new Ae("DATE_PIPE_DEFAULT_TIMEZONE"),Sk=function(){var t=function(){function r(e,n){g(this,r),this.locale=e,this.defaultTimezone=n}return C(r,[{key:"transform",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==n||""===n||n!=n)return null;try{var s;return kG(n,i,o||this.locale,null!==(s=null!=a?a:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(u){throw Oi(r,u.message)}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(ao,16),T(fW,24))},t.\u0275pipe=rr({name:"date",type:t,pure:!0}),t}(),Ir=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:[{provide:Jd,useClass:YG}]}),t}(),Dk="browser";function dm(t){return t===Dk}var TW=function(){var t=function r(){g(this,r)};return t.\u0275prov=J({token:t,providedIn:"root",factory:function(){return new DW(U(xt),window)}}),t}(),DW=function(){function t(r,e){g(this,t),this.document=r,this.window=e,this.offset=function(){return[0,0]}}return C(t,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var n=function(t,r){var e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(r)||a.querySelector('[name="'.concat(r,'"]'));if(o)return o}i=n.nextNode()}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=kk(this.window.history)||kk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(n){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),t}();function kk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var th,hm=function t(){g(this,t)},IW=function(t){R(e,t);var r=w(e);function e(){var n;return g(this,e),(n=r.apply(this,arguments)).supportsDOMEvents=!0,n}return e}(aG),AW=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return C(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=(mc=mc||document.querySelector("base"))?mc.getAttribute("href"):null;return null==a?null:function(t){(th=th||document.createElement("a")).setAttribute("href",t);var r=th.pathname;return"/"===r.charAt(0)?r:"/".concat(r)}(a)}},{key:"resetBaseElement",value:function(){mc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return Ck(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function(t){Gd||(Gd=t)}(new e)}}]),e}(IW),mc=null,Ik=new Ae("TRANSITION_ID"),PW=[{provide:wu,useFactory:function(t,r,e){return function(){e.get(Su).donePromise.then(function(){for(var n=Xi(),i=r.querySelectorAll('style[ng-transition="'.concat(t,'"]')),a=0;a<i.length;a++)n.remove(i[a])})}},deps:[Ik,xt,kt],multi:!0}],xW=function(){function t(){g(this,t)}return C(t,[{key:"addToWindow",value:function(e){ft.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},ft.getAllAngularTestabilities=function(){return e.getAllTestabilities()},ft.getAllAngularRootElements=function(){return e.getAllRootElements()},ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(function(a){var o=ft.getAllAngularTestabilities(),s=o.length,u=!1,l=function(f){u=u||f,0==--s&&a(u)};o.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(e,n,i){if(null==n)return null;var a=e.getTestability(n);return null!=a?a:i?Xi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}],[{key:"init",value:function(){!function(t){Ey=t}(new t)}}]),t}(),FW=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),_c=new Ae("EventManagerPlugins"),rh=function(){var t=function(){function r(e,n){var i=this;g(this,r),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return C(r,[{key:"addEventListener",value:function(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}},{key:"addGlobalEventListener",value:function(n,i,a){return this._findPluginFor(i).addGlobalEventListener(n,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(n){var i=this._eventNameToPlugin.get(n);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var s=a[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error("No event manager plugin found for event ".concat(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(_c),U(lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),vm=function(){function t(r){g(this,t),this._doc=r}return C(t,[{key:"addGlobalEventListener",value:function(e,n,i){var a=Xi().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(n));return this.addEventListener(a,n,i)}}]),t}(),Ok=function(){var t=function(){function r(){g(this,r),this._stylesSet=new Set}return C(r,[{key:"addStyles",value:function(n){var i=this,a=new Set;n.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(n){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Cc=function(){var t=function(r){R(n,r);var e=w(n);function n(i){var a;return g(this,n),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return C(n,[{key:"_addStylesToHost",value:function(a,o,s){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,s.push(o.appendChild(c))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(Rk),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(s,u){o._addStylesToHost(a,u,s)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(Rk)})}}]),n}(Ok);return t.\u0275fac=function(e){return new(e||t)(U(xt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function Rk(t){Xi().remove(t)}var pm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gm=/%COMP%/g,zW="_nghost-".concat("%COMP%"),qW="_ngcontent-".concat("%COMP%");function ih(t,r,e){for(var n=0;n<r.length;n++){var i=r[n];Array.isArray(i)?ih(t,i,e):(i=i.replace(gm,t),e.push(i))}return e}function xk(t){return function(r){if("__ngUnwrap__"===r)return t;!1===t(r)&&(r.preventDefault(),r.returnValue=!1)}}var ah=function(){var t=function(){function r(e,n,i){g(this,r),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ym(e)}return C(r,[{key:"createRenderer",value:function(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case nr.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new XW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(n),a;case 1:case nr.ShadowDom:return new QW(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){var o=ih(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(rh),U(Cc),U(oc))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),ym=function(){function t(r){g(this,t),this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}return C(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,n){return n?document.createElementNS(pm[n]||n,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,n){e.appendChild(n)}},{key:"insertBefore",value:function(e,n,i){e&&e.insertBefore(n,i)}},{key:"removeChild",value:function(e,n){e&&e.removeChild(n)}},{key:"selectRootElement",value:function(e,n){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return n||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,n,i,a){if(a){n=a+":"+n;var o=pm[a];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}},{key:"removeAttribute",value:function(e,n,i){if(i){var a=pm[i];a?e.removeAttributeNS(a,n):e.removeAttribute("".concat(i,":").concat(n))}else e.removeAttribute(n)}},{key:"addClass",value:function(e,n){e.classList.add(n)}},{key:"removeClass",value:function(e,n){e.classList.remove(n)}},{key:"setStyle",value:function(e,n,i,a){a&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,i,a&Tr.Important?"important":""):e.style[n]=i}},{key:"removeStyle",value:function(e,n,i){i&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}},{key:"setProperty",value:function(e,n,i){e[n]=i}},{key:"setValue",value:function(e,n){e.nodeValue=n}},{key:"listen",value:function(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,xk(i)):this.eventManager.addEventListener(e,n,xk(i))}}]),t}(),XW=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;g(this,e),(s=r.call(this,n)).component=a;var u=ih(o+"-"+a.id,a.styles,[]);return i.addStyles(u),s.contentAttr=function(t){return qW.replace(gm,t)}(o+"-"+a.id),s.hostAttr=function(t){return zW.replace(gm,t)}(o+"-"+a.id),s}return C(e,[{key:"applyToHost",value:function(i){De(Ne(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=De(Ne(e.prototype),"createElement",this).call(this,i,a);return De(Ne(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(ym),QW=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;g(this,e),(s=r.call(this,n)).sharedStylesHost=i,s.hostEl=a,s.shadowRoot=a.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=ih(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return C(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return De(Ne(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return De(Ne(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return De(Ne(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(De(Ne(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(ym),$W=function(){var t=function(r){R(n,r);var e=w(n);function n(i){return g(this,n),e.call(this,i)}return C(n,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}]),n}(vm);return t.\u0275fac=function(e){return new(e||t)(U(xt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Lk=["alt","control","meta","shift"],az={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},oz={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},sz=function(){var t=function(r){R(n,r);var e=w(n);function n(i){return g(this,n),e.call(this,i)}return C(n,[{key:"supports",value:function(a){return null!=n.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=n.parseEventName(o),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Xi().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=n._normalizeKey(o.pop()),l="";if(Lk.forEach(function(f){var d=o.indexOf(f);d>-1&&(o.splice(d,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var c={};return c.domEventName=s,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var o="",s=function(t){var r=t.key;if(null==r){if(null==(r=t.keyIdentifier))return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===t.location&&Vk.hasOwnProperty(r)&&(r=Vk[r]))}return az[r]||r}(a);return" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),Lk.forEach(function(u){u!=s&&(0,oz[u])(a)&&(o+=u+".")}),o+=s}},{key:"eventCallback",value:function(a,o,s){return function(u){n.getEventFullKey(u)===a&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}]),n}(vm);return t.\u0275fac=function(e){return new(e||t)(U(xt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),hz=[{provide:io,useValue:Dk},{provide:tD,useValue:function(){AW.makeCurrent(),xW.init()},multi:!0},{provide:xt,useFactory:function(){return function(t){_p=t}(document),document},deps:[]}],gz=hD(dH,"browser",hz),yz=[[],{provide:Wl,useValue:"root"},{provide:Go,useFactory:function(){return new Go},deps:[]},{provide:_c,useClass:$W,multi:!0,deps:[xt,lt,io]},{provide:_c,useClass:sz,multi:!0,deps:[xt]},[],{provide:ah,useClass:ah,deps:[rh,Cc,oc]},{provide:Zo,useExisting:ah},{provide:Ok,useExisting:Cc},{provide:Cc,useClass:Cc,deps:[xt]},{provide:Cy,useClass:Cy,deps:[lt]},{provide:rh,useClass:rh,deps:[_c,lt]},{provide:hm,useClass:FW,deps:[]},[]],Bk=function(){var t=function(){function r(e){if(g(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return C(r,null,[{key:"withServerTransition",value:function(n){return{ngModule:r,providers:[{provide:oc,useValue:n.appId},{provide:Ik,useExisting:oc},PW]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(t,12))},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:yz,imports:[Ir,_H]}),t}();function Ee(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=yl(r);return pn(r,n)}"undefined"!=typeof window&&window;var $r=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this))._value=n,i}return C(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=De(Ne(e.prototype),"_subscribe",this).call(this,i);return!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){var o=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),o}},{key:"next",value:function(i){De(Ne(e.prototype),"next",this).call(this,this._value=i)}}]),e}(it),wz=Array.isArray,Sz=Object.getPrototypeOf,Tz=Object.prototype,Dz=Object.keys;function Hk(t){if(1===t.length){var r=t[0];if(wz(r))return{args:r,keys:null};if(function(t){return t&&"object"==typeof t&&Sz(t)===Tz}(r)){var e=Dz(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}var Iz=Array.isArray;function bm(t){return je(function(r){return function(t,r){return Iz(r)?t.apply(void 0,he(r)):t(r)}(t,r)})}function jk(t,r){return t.reduce(function(e,n,i){return e[n]=r[i],e},{})}function Rz(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qa;return function(n){Gk(r,function(){for(var i=t.length,a=new Array(i),o=i,s=i,u=function(f){Gk(r,function(){var d=pn(t[f],r),h=!1;d.subscribe(new Tt(n,function(v){a[f]=v,h||(h=!0,s--),s||n.next(e(a.slice()))},function(){--o||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}function Gk(t,r,e){t?ga(e,t,r):r()}var oh=V(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Mz(){return gl(1)}function Ec(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return Mz()(pn(r,yl(r)))}function sh(t){return new nt(function(r){yr(t()).subscribe(r)})}function Wk(){return Lt(function(t,r){var e=null;t._refCount++;var n=new Tt(r,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)e=null;else{var i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),r.unsubscribe()}});t.subscribe(n),n.closed||(e=t.connect())})}var zk=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).source=n,a.subjectFactory=i,a._subject=null,a._refCount=0,a._connection=null,SE(n)&&(a.lift=n.lift),a}return C(e,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var i=this._connection;this._subject=this._connection=null,null==i||i.unsubscribe()}},{key:"connect",value:function(){var i=this,a=this._connection;if(!a){a=this._connection=new ye;var o=this.getSubject();a.add(this.source.subscribe(new Tt(o,void 0,function(){i._teardown(),o.complete()},function(s){i._teardown(),o.error(s)},function(){return i._teardown()}))),a.closed&&(this._connection=null,a=ye.EMPTY)}return a}},{key:"refCount",value:function(){return Wk()(this)}}]),e}(nt);function Jr(t,r){return Lt(function(e,n){var i=null,a=0,o=!1,s=function(){return o&&!i&&n.complete()};e.subscribe(new Tt(n,function(u){null==i||i.unsubscribe();var l=0,c=a++;yr(t(u,c)).subscribe(i=new Tt(n,function(f){return n.next(r?r(u,f,c,l++):f)},function(){i=null,s()}))},function(){o=!0,s()}))})}function wm(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=yl(r);return Lt(function(i,a){(n?Ec(r,i,n):Ec(r,i)).subscribe(a)})}function Pz(t,r,e,n,i){return function(a,o){var s=e,u=r,l=0;a.subscribe(new Tt(o,function(c){var f=l++;u=s?t(u,c,f):(s=!0,c),n&&o.next(u)},i&&function(){s&&o.next(u),o.complete()}))}}function qk(t,r){return Lt(Pz(t,r,arguments.length>=2,!0))}function Dn(t,r){return Lt(function(e,n){var i=0;e.subscribe(new Tt(n,function(a){return t.call(r,a,i++)&&n.next(a)}))})}function Oa(t){return Lt(function(r,e){var a,n=null,i=!1;n=r.subscribe(new Tt(e,void 0,void 0,function(o){a=yr(t(o,Oa(t)(r))),n?(n.unsubscribe(),n=null,a.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(e))})}function Mu(t,r){return x(r)?an(t,r,1):an(t,1)}function Sm(t){return t<=0?function(){return ya}:Lt(function(r,e){var n=[];r.subscribe(new Tt(e,function(i){n.push(i),t<n.length&&n.shift()},function(){var a,i=B(n);try{for(i.s();!(a=i.n()).done;)e.next(a.value)}catch(s){i.e(s)}finally{i.f()}e.complete()},void 0,function(){n=null}))})}function Kk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xz;return Lt(function(r,e){var n=!1;r.subscribe(new Tt(e,function(i){n=!0,e.next(i)},function(){return n?e.complete():e.error(t())}))})}function xz(){return new oh}function Yk(t){return Lt(function(r,e){var n=!1;r.subscribe(new Tt(e,function(i){n=!0,e.next(i)},function(){n||e.next(t),e.complete()}))})}function Pu(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?Dn(function(i,a){return t(i,a,n)}):qa,Lr(1),e?Yk(r):Kk(function(){return new oh}))}}function lr(t,r,e){var n=x(t)||r||e?{next:t,error:r,complete:e}:t;return n?Lt(function(i,a){var o;null===(o=n.subscribe)||void 0===o||o.call(n);var s=!0;i.subscribe(new Tt(a,function(u){var l;null===(l=n.next)||void 0===l||l.call(n,u),a.next(u)},function(){var u;s=!1,null===(u=n.complete)||void 0===u||u.call(n),a.complete()},function(u){var l;s=!1,null===(l=n.error)||void 0===l||l.call(n,u),a.error(u)},function(){var u,l;s&&(null===(u=n.unsubscribe)||void 0===u||u.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):qa}var Ra=function t(r,e){g(this,t),this.id=r,this.url=e},Tm=function(t){R(e,t);var r=w(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g(this,e),(a=r.call(this,n,i)).navigationTrigger=o,a.restoredState=s,a}return C(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Ra),bc=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).urlAfterRedirects=a,o}return C(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(Ra),Zk=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).reason=a,o}return C(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Ra),Lz=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).error=a,o}return C(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(Ra),Vz=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return C(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ra),Bz=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return C(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ra),Uz=function(t){R(e,t);var r=w(e);function e(n,i,a,o,s){var u;return g(this,e),(u=r.call(this,n,i)).urlAfterRedirects=a,u.state=o,u.shouldActivate=s,u}return C(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(Ra),Hz=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return C(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ra),jz=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return C(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Ra),Xk=function(){function t(r){g(this,t),this.route=r}return C(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Qk=function(){function t(r){g(this,t),this.route=r}return C(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Gz=function(){function t(r){g(this,t),this.snapshot=r}return C(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Wz=function(){function t(r){g(this,t),this.snapshot=r}return C(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),zz=function(){function t(r){g(this,t),this.snapshot=r}return C(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),qz=function(){function t(r){g(this,t),this.snapshot=r}return C(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$k=function(){function t(r,e,n){g(this,t),this.routerEvent=r,this.position=e,this.anchor=n}return C(t,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),t}(),ze="primary",Kz=function(){function t(r){g(this,t),this.params=r||{}}return C(t,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n[0]:n}return null}},{key:"getAll",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n:[n]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function xu(t){return new Kz(t)}var Jk="ngNavigationCancelingError";function Dm(t){var r=Error("NavigationCancelingError: "+t);return r[Jk]=!0,r}function Zz(t,r,e){var n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(r.hasChildren()||n.length<t.length))return null;for(var i={},a=0;a<n.length;a++){var o=n[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function $i(t,r){var e=t?Object.keys(t):void 0,n=r?Object.keys(r):void 0;if(!e||!n||e.length!=n.length)return!1;for(var i,a=0;a<e.length;a++)if(!eI(t[i=e[a]],r[i]))return!1;return!0}function eI(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;var e=he(t).sort(),n=he(r).sort();return e.every(function(i,a){return n[a]===i})}return t===r}function tI(t){return Array.prototype.concat.apply([],t)}function nI(t){return t.length>0?t[t.length-1]:null}function Pn(t,r){for(var e in t)t.hasOwnProperty(e)&&r(t[e],e)}function Ji(t){return vd(t)?t:Zl(t)?pn(Promise.resolve(t)):Ee(t)}var $z={exact:function aI(t,r,e){if(!as(t.segments,r.segments)||!uh(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children)if(!t.children[n]||!aI(t.children[n],r.children[n],e))return!1;return!0},subset:oI},rI={exact:function(t,r){return $i(t,r)},subset:function(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(function(e){return eI(t[e],r[e])})},ignored:function(){return!0}};function iI(t,r,e){return $z[e.paths](t.root,r.root,e.matrixParams)&&rI[e.queryParams](t.queryParams,r.queryParams)&&!("exact"===e.fragment&&t.fragment!==r.fragment)}function oI(t,r,e){return sI(t,r,r.segments,e)}function sI(t,r,e,n){if(t.segments.length>e.length){var i=t.segments.slice(0,e.length);return!(!as(i,e)||r.hasChildren()||!uh(i,e,n))}if(t.segments.length===e.length){if(!as(t.segments,e)||!uh(t.segments,e,n))return!1;for(var a in r.children)if(!t.children[a]||!oI(t.children[a],r.children[a],n))return!1;return!0}var o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(as(t.segments,o)&&uh(t.segments,o,n)&&t.children[ze])&&sI(t.children[ze],r,s,n)}function uh(t,r,e){return r.every(function(n,i){return rI[e](t[i].parameters,n.parameters)})}var is=function(){function t(r,e,n){g(this,t),this.root=r,this.queryParams=e,this.fragment=n}return C(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return r4.serialize(this)}}]),t}(),Ye=function(){function t(r,e){var n=this;g(this,t),this.segments=r,this.children=e,this.parent=null,Pn(e,function(i,a){return i.parent=n})}return C(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return lh(this)}}]),t}(),wc=function(){function t(r,e){g(this,t),this.path=r,this.parameters=e}return C(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=xu(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return dI(this)}}]),t}();function as(t,r){return t.length===r.length&&t.every(function(e,n){return e.path===r[n].path})}var uI=function t(){g(this,t)},lI=function(){function t(){g(this,t)}return C(t,[{key:"parse",value:function(e){var n=new d4(e);return new is(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}},{key:"serialize",value:function(e){var n="/".concat(Sc(e.root,!0)),i=function(t){var r=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(i){return"".concat(ch(e),"=").concat(ch(i))}).join("&"):"".concat(ch(e),"=").concat(ch(n))}).filter(function(e){return!!e});return r.length?"?".concat(r.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function(t){return encodeURI(t)}(e.fragment)):"";return"".concat(n).concat(i).concat(a)}}]),t}(),r4=new lI;function lh(t){return t.segments.map(function(r){return dI(r)}).join("/")}function Sc(t,r){if(!t.hasChildren())return lh(t);if(r){var e=t.children[ze]?Sc(t.children[ze],!1):"",n=[];return Pn(t.children,function(a,o){o!==ze&&n.push("".concat(o,":").concat(Sc(a,!1)))}),n.length>0?"".concat(e,"(").concat(n.join("//"),")"):e}var i=function(t,r){var e=[];return Pn(t.children,function(n,i){i===ze&&(e=e.concat(r(n,i)))}),Pn(t.children,function(n,i){i!==ze&&(e=e.concat(r(n,i)))}),e}(t,function(a,o){return o===ze?[Sc(t.children[ze],!1)]:["".concat(o,":").concat(Sc(a,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[ze]?"".concat(lh(t),"/").concat(i[0]):"".concat(lh(t),"/(").concat(i.join("//"),")")}function cI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ch(t){return cI(t).replace(/%3B/gi,";")}function km(t){return cI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(t){return decodeURIComponent(t)}function fI(t){return fh(t.replace(/\+/g,"%20"))}function dI(t){return"".concat(km(t.path)).concat(function(t){return Object.keys(t).map(function(r){return";".concat(km(r),"=").concat(km(t[r]))}).join("")}(t.parameters))}var s4=/^[^\/()?;=#]+/;function dh(t){var r=t.match(s4);return r?r[0]:""}var u4=/^[^=?&#]+/,c4=/^[^&#]+/,d4=function(){function t(r){g(this,t),this.url=r,this.remaining=r}return C(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ze]=new Ye(e,n)),i}},{key:"parseSegment",value:function(){var e=dh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new wc(fh(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var n=dh(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=dh(this.remaining);a&&this.capture(i=a)}e[fh(n)]=fh(i)}}},{key:"parseQueryParam",value:function(e){var n=function(t){var r=t.match(u4);return r?r[0]:""}(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=function(t){var r=t.match(c4);return r?r[0]:""}(this.remaining);a&&this.capture(i=a)}var o=fI(n),s=fI(i);if(e.hasOwnProperty(o)){var u=e[o];Array.isArray(u)||(e[o]=u=[u]),u.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=dh(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ze);var s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ze]:new Ye([],s),this.consumeOptional("//")}return n}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),t}(),hI=function(){function t(r){g(this,t),this._root=r}return C(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}},{key:"children",value:function(e){var n=Im(e,this._root);return n?n.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var n=Im(e,this._root);return n&&n.children.length>0?n.children[0].value:null}},{key:"siblings",value:function(e){var n=Am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Am(e,this._root).map(function(n){return n.value})}}]),t}();function Im(t,r){if(t===r.value)return r;var n,e=B(r.children);try{for(e.s();!(n=e.n()).done;){var a=Im(t,n.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Am(t,r){if(t===r.value)return[r];var n,e=B(r.children);try{for(e.s();!(n=e.n()).done;){var a=Am(t,n.value);if(a.length)return a.unshift(r),a}}catch(o){e.e(o)}finally{e.f()}return[]}var Ma=function(){function t(r,e){g(this,t),this.value=r,this.children=e}return C(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Fu(t){var r={};return t&&t.children.forEach(function(e){return r[e.value.outlet]=e}),r}var vI=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).snapshot=i,Om(Ot(a),n),a}return C(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(hI);function pI(t,r){var e=function(t,r){var o=new hh([],{},{},"",{},ze,r,null,t.root,-1,{});return new yI("",new Ma(o,[]))}(t,r),n=new $r([new wc("",{})]),i=new $r({}),a=new $r({}),o=new $r({}),s=new $r(""),u=new Nu(n,i,o,s,a,ze,r,e.root);return u.snapshot=e.root,new vI(new Ma(u,[]),e)}var Nu=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return C(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(je(function(e){return xu(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(function(e){return xu(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function gI(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=t.pathFromRoot,n=0;if("always"!==r)for(n=e.length-1;n>=1;){var i=e[n],a=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return v4(e.slice(n))}function v4(t){return t.reduce(function(r,e){return{params:j(j({},r.params),e.params),data:j(j({},r.data),e.data),resolve:j(j({},r.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var hh=function(){function t(r,e,n,i,a,o,s,u,l,c,f){g(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=f}return C(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=xu(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),n=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(n,"')")}}]),t}(),yI=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,i)).url=n,Om(Ot(a),i),a}return C(e,[{key:"toString",value:function(){return mI(this._root)}}]),e}(hI);function Om(t,r){r.value._routerState=t,r.children.forEach(function(e){return Om(t,e)})}function mI(t){var r=t.children.length>0?" { ".concat(t.children.map(mI).join(", ")," } "):"";return"".concat(t.value).concat(r)}function Rm(t){if(t.snapshot){var r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,$i(r.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),r.fragment!==e.fragment&&t.fragment.next(e.fragment),$i(r.params,e.params)||t.params.next(e.params),function(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(!$i(t[e],r[e]))return!1;return!0}(r.url,e.url)||t.url.next(e.url),$i(r.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mm(t,r){var e=$i(t.params,r.params)&&function(t,r){return as(t,r)&&t.every(function(e,n){return $i(e.parameters,r[n].parameters)})}(t.url,r.url);return e&&!(!t.parent!=!r.parent)&&(!t.parent||Mm(t.parent,r.parent))}function Tc(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){var n=e.value;n._futureSnapshot=r.value;var i=function(t,r,e){return r.children.map(function(n){var a,i=B(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.shouldReuseRoute(n.value,o.value.snapshot))return Tc(t,n,o)}}catch(s){i.e(s)}finally{i.f()}return Tc(t,n)})}(t,r,e);return new Ma(n,i)}if(t.shouldAttach(r.value)){var a=t.retrieve(r.value);if(null!==a){var o=a.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(function(l){return Tc(t,l)}),o}}var s=function(t){return new Nu(new $r(t.url),new $r(t.params),new $r(t.queryParams),new $r(t.fragment),new $r(t.data),t.outlet,t.component,t)}(r.value),u=r.children.map(function(l){return Tc(t,l)});return new Ma(s,u)}function m4(t,r,e,n,i){if(0===e.length)return Pm(r.root,r.root,r,n,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new CI(!0,0,t);var r=0,e=!1,n=t.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var s={};return Pn(a.outlets,function(u,l){s[l]="string"==typeof u?u.split("/"):u}),[].concat(he(i),[{outlets:s}])}if(a.segmentPath)return[].concat(he(i),[a.segmentPath])}return"string"!=typeof a?[].concat(he(i),[a]):0===o?(a.split("/").forEach(function(u,l){0==l&&"."===u||(0==l&&""===u?e=!0:".."===u?r++:""!=u&&i.push(u))}),i):[].concat(he(i),[a])},[]);return new CI(e,r,n)}(e);if(a.toRoot())return Pm(r.root,new Ye([],{}),r,n,i);var o=function(t,r,e){if(t.isAbsolute)return new xm(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){var n=e.snapshot._urlSegment;return new xm(n,n===r.root,0)}var a=vh(t.commands[0])?0:1;return function(t,r,e){for(var n=t,i=r,a=e;a>i;){if(a-=i,!(n=n.parent))throw new Error("Invalid number of '../'");i=n.segments.length}return new xm(n,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(a,r,t),s=o.processChildren?ph(o.segmentGroup,o.index,a.commands):EI(o.segmentGroup,o.index,a.commands);return Pm(o.segmentGroup,s,r,n,i)}function vh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dc(t){return"object"==typeof t&&null!=t&&t.outlets}function Pm(t,r,e,n,i){var a={};return n&&Pn(n,function(o,s){a[s]=Array.isArray(o)?o.map(function(u){return"".concat(u)}):"".concat(o)}),new is(e.root===t?r:_I(e.root,t,r),a,i)}function _I(t,r,e){var n={};return Pn(t.children,function(i,a){n[a]=i===r?e:_I(i,r,e)}),new Ye(t.segments,n)}var CI=function(){function t(r,e,n){if(g(this,t),this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&vh(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(Dc);if(i&&i!==nI(n))throw new Error("{outlets:{}} has to be the last command")}return C(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),xm=function t(r,e,n){g(this,t),this.segmentGroup=r,this.processChildren=e,this.index=n};function EI(t,r,e){if(t||(t=new Ye([],{})),0===t.segments.length&&t.hasChildren())return ph(t,r,e);var n=function(t,r,e){for(var n=0,i=r,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=e.length)return a;var o=t.segments[i],s=e[n];if(Dc(s))break;var u="".concat(s),l=n<e.length-1?e[n+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!wI(u,l,o))return a;n+=2}else{if(!wI(u,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var a=new Ye(t.segments.slice(0,n.pathIndex),{});return a.children[ze]=new Ye(t.segments.slice(n.pathIndex),t.children),ph(a,0,i)}return n.match&&0===i.length?new Ye(t.segments,{}):n.match&&!t.hasChildren()?Fm(t,r,e):n.match?ph(t,0,i):Fm(t,r,e)}function ph(t,r,e){if(0===e.length)return new Ye(t.segments,{});var n=function(t){return Dc(t[0])?t[0].outlets:xn({},ze,t)}(e),i={};return Pn(n,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=EI(t.children[o],r,a))}),Pn(t.children,function(a,o){void 0===n[o]&&(i[o]=a)}),new Ye(t.segments,i)}function Fm(t,r,e){for(var n=t.segments.slice(0,r),i=0;i<e.length;){var a=e[i];if(Dc(a)){var o=S4(a.outlets);return new Ye(n,o)}if(0===i&&vh(e[0]))n.push(new wc(t.segments[r].path,bI(e[0]))),i++;else{var u=Dc(a)?a.outlets[ze]:"".concat(a),l=i<e.length-1?e[i+1]:null;u&&l&&vh(l)?(n.push(new wc(u,bI(l))),i+=2):(n.push(new wc(u,{})),i++)}}return new Ye(n,{})}function S4(t){var r={};return Pn(t,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(r[n]=Fm(new Ye([],{}),0,e))}),r}function bI(t){var r={};return Pn(t,function(e,n){return r[n]="".concat(e)}),r}function wI(t,r,e){return t==e.path&&$i(r,e.parameters)}var D4=function(){function t(r,e,n,i){g(this,t),this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i}return C(t,[{key:"activate",value:function(e){var n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Rm(this.futureState.root),this.activateChildRoutes(n,i,e)}},{key:"deactivateChildRoutes",value:function(e,n,i){var a=this,o=Fu(n);e.children.forEach(function(s){var u=s.value.outlet;a.deactivateRoutes(s,o[u],i),delete o[u]}),Pn(o,function(s,u){a.deactivateRouteAndItsChildren(s,i)})}},{key:"deactivateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(a===o)if(a.component){var s=i.getContext(a.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}},{key:"detachAndStoreRouteSubtree",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=Fu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);if(i&&i.outlet){var c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}},{key:"deactivateRouteAndOutlet",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=Fu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,n,i){var a=this,o=Fu(n);e.children.forEach(function(s){a.activateRoutes(s,o[s.value.outlet],i),a.forwardEvent(new qz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wz(e.value.snapshot))}},{key:"activateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(Rm(a),a===o)if(a.component){var s=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(a.component){var u=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var l=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),Rm(l.route.value),this.activateChildRoutes(e,null,u.children)}else{var c=function(t){for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),f=c?c.module.componentFactoryResolver:null;u.attachRef=null,u.route=a,u.resolver=f,u.outlet&&u.outlet.activateWith(a,f),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}]),t}(),Nm=function t(r,e){g(this,t),this.routes=r,this.module=e};function uo(t){return"function"==typeof t}function os(t){return t instanceof is}var kc=Symbol("INITIAL_VALUE");function Ic(){return Jr(function(t){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=yl(r),i=VE(r),a=Hk(r),o=a.args,s=a.keys;if(0===o.length)return pn([],n);var u=new nt(Rz(o,n,s?function(l){return jk(s,l)}:qa));return i?u.pipe(bm(i)):u}(t.map(function(r){return r.pipe(Lr(1),wm(kc))})).pipe(qk(function(r,e){var n=!1;return e.reduce(function(i,a,o){return i!==kc?i:(a===kc&&(n=!0),n||!1!==a&&o!==e.length-1&&!os(a)?i:a)},r)},kc),Dn(function(r){return r!==kc}),je(function(r){return os(r)?r:!0===r}),Lr(1))})}var P4=function t(){g(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ac,this.attachRef=null},Ac=function(){function t(){g(this,t),this.contexts=new Map}return C(t,[{key:"onChildOutletCreated",value:function(e,n){var i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var n=this.getContext(e);return n||(n=new P4,this.contexts.set(e,n)),n}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),t}(),Lm=function(){var t=function(){function r(e,n,i,a,o){g(this,r),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.name=a||ze,e.onChildOutletCreated(this.name,this)}return C(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}},{key:"attach",value:function(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}},{key:"deactivate",value:function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}},{key:"activateWith",value:function(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var s=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,l=new x4(n,u,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ac),T(qr),T(mu),function(t){return function(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;var e=t.attrs;if(e)for(var n=e.length,i=0;i<n;){var a=e[i];if(E0(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<n&&"string"==typeof e[i];)i++;else{if(a===r)return e[i+1];i+=2}}return null}(gn(),t)}("name"),T(Kr))},t.\u0275dir=se({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t}(),x4=function(){function t(r,e,n){g(this,t),this.route=r,this.childContexts=e,this.parent=n}return C(t,[{key:"get",value:function(e,n){return e===Nu?this.route:e===Ac?this.childContexts:this.parent.get(e,n)}}]),t}(),SI=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ln({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&jt(0,"router-outlet")},directives:[Lm],encapsulation:2}),t}();function TI(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<t.length;e++){var n=t[e],i=N4(r,n);F4(n,i)}}function F4(t,r){t.children&&TI(t.children,r)}function N4(t,r){return r?t||r.path?t&&!r.path?"".concat(t,"/"):!t&&r.path?r.path:"".concat(t,"/").concat(r.path):"":t}function Vm(t){var r=t.children&&t.children.map(Vm),e=r?j(j({},t),{},{children:r}):j({},t);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ze&&(e.component=SI),e}function ei(t){return t.outlet||ze}function DI(t,r){var e=t.filter(function(n){return ei(n)===r});return e.push.apply(e,he(t.filter(function(n){return ei(n)!==r}))),e}var kI={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gh(t,r,e){var n;if(""===r.path)return"full"===r.pathMatch&&(t.hasChildren()||e.length>0)?j({},kI):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var a=(r.matcher||Zz)(e,t,r);if(!a)return j({},kI);var o={};Pn(a.posParams,function(u,l){o[l]=u.path});var s=a.consumed.length>0?j(j({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:s,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function yh(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&B4(t,e,n)){var a=new Ye(r,V4(t,r,n,new Ye(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&U4(t,e,n)){var o=new Ye(t.segments,L4(t,r,e,n,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=r.length,{segmentGroup:o,slicedSegments:e}}var s=new Ye(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=r.length,{segmentGroup:s,slicedSegments:e}}function L4(t,r,e,n,i,a){var u,o={},s=B(n);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(mh(t,e,l)&&!i[ei(l)]){var c=new Ye([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:r.length,o[ei(l)]=c}}}catch(f){s.e(f)}finally{s.f()}return j(j({},i),o)}function V4(t,r,e,n){var i={};i[ze]=n,n._sourceSegment=t,n._segmentIndexShift=r.length;var o,a=B(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&ei(s)!==ze){var u=new Ye([],{});u._sourceSegment=t,u._segmentIndexShift=r.length,i[ei(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}function B4(t,r,e){return e.some(function(n){return mh(t,r,n)&&ei(n)!==ze})}function U4(t,r,e){return e.some(function(n){return mh(t,r,n)})}function mh(t,r,e){return(!(t.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function II(t,r,e,n){return!!(ei(t)===n||n!==ze&&mh(r,e,t))&&("**"===t.path||gh(r,t,e).matched)}function AI(t,r,e){return 0===r.length&&!t.children[e]}var Oc=function t(r){g(this,t),this.segmentGroup=r||null},OI=function t(r){g(this,t),this.urlTree=r};function _h(t){return new nt(function(r){return r.error(new Oc(t))})}function RI(t){return new nt(function(r){return r.error(new OI(t))})}function H4(t){return new nt(function(r){return r.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var W4=function(){function t(r,e,n,i,a){g(this,t),this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(Ta)}return C(t,[{key:"apply",value:function(){var e=this,n=yh(this.urlTree.root,[],[],this.config).segmentGroup,i=new Ye(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ze).pipe(je(function(s){return e.createUrlTree(Bm(s),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Oa(function(s){if(s instanceof OI)return e.allowRedirects=!1,e.match(s.urlTree);throw s instanceof Oc?e.noMatchError(s):s}))}},{key:"match",value:function(e){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,ze).pipe(je(function(o){return n.createUrlTree(Bm(o),e.queryParams,e.fragment)})).pipe(Oa(function(o){throw o instanceof Oc?n.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,n,i){var a=e.segments.length>0?new Ye([],xn({},ze,e)):e;return new is(a,n,i)}},{key:"expandSegmentGroup",value:function(e,n,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(je(function(o){return new Ye([],o)})):this.expandSegment(e,i,n,i.segments,a,!0)}},{key:"expandChildren",value:function(e,n,i){for(var a=this,o=[],s=0,u=Object.keys(i.children);s<u.length;s++){var l=u[s];"primary"===l?o.unshift(l):o.push(l)}return pn(o).pipe(Mu(function(c){var f=i.children[c],d=DI(n,c);return a.expandSegmentGroup(e,d,f,c).pipe(je(function(h){return{segment:h,outlet:c}}))}),qk(function(c,f){return c[f.outlet]=f.segment,c},{}),function(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?Dn(function(i,a){return t(i,a,n)}):qa,Sm(1),e?Yk(r):Kk(function(){return new oh}))}}())}},{key:"expandSegment",value:function(e,n,i,a,o,s){var u=this;return pn(i).pipe(Mu(function(l){return u.expandSegmentAgainstRoute(e,n,i,l,a,o,s).pipe(Oa(function(f){if(f instanceof Oc)return Ee(null);throw f}))}),Pu(function(l){return!!l}),Oa(function(l,c){if(l instanceof oh||"EmptyError"===l.name){if(AI(n,a,o))return Ee(new Ye([],{}));throw new Oc(n)}throw l}))}},{key:"expandSegmentAgainstRoute",value:function(e,n,i,a,o,s,u){return II(a,n,o,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,n,a,o,s):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s):_h(n):_h(n)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,n,i,a){var o=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RI(s):this.lineralizeSegments(i,s).pipe(an(function(u){var l=new Ye(u,{});return o.expandSegment(e,l,n,u,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){var u=this,l=gh(n,a,o),f=l.consumedSegments,d=l.lastChild,h=l.positionalParamSegments;if(!l.matched)return _h(n);var v=this.applyRedirectCommands(f,a.redirectTo,h);return a.redirectTo.startsWith("/")?RI(v):this.lineralizeSegments(a,v).pipe(an(function(p){return u.expandSegment(e,n,i,p.concat(o.slice(d)),s,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,n,i,a,o){var s=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ee(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(je(function(p){return i._loadedConfig=p,new Ye(a,{})})):Ee(new Ye(a,{}));var l=gh(n,i,a),f=l.consumedSegments,d=l.lastChild;if(!l.matched)return _h(n);var h=a.slice(d);return this.getChildConfig(e,i,a).pipe(an(function(p){var y=p.module,_=p.routes,m=yh(n,f,h,_),E=m.segmentGroup,b=m.slicedSegments,S=new Ye(E.segments,E.children);if(0===b.length&&S.hasChildren())return s.expandChildren(y,_,S).pipe(je(function(L){return new Ye(f,L)}));if(0===_.length&&0===b.length)return Ee(new Ye(f,{}));var I=ei(i)===o;return s.expandSegment(y,S,_,b,I?ze:o,!0).pipe(je(function(L){return new Ye(f.concat(L.segments),L.children)}))}))}},{key:"getChildConfig",value:function(e,n,i){var a=this;return n.children?Ee(new Nm(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Ee(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(an(function(o){return o?a.configLoader.load(e.injector,n).pipe(je(function(s){return n._loadedConfig=s,s})):function(t){return new nt(function(r){return r.error(Dm("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(n)})):Ee(new Nm([],e))}},{key:"runCanLoadGuards",value:function(e,n,i){var a=this,o=n.canLoad;if(!o||0===o.length)return Ee(!0);var s=o.map(function(u){var c,l=e.get(u);if(function(t){return t&&uo(t.canLoad)}(l))c=l.canLoad(n,i);else{if(!uo(l))throw new Error("Invalid CanLoad guard");c=l(n,i)}return Ji(c)});return Ee(s).pipe(Ic(),lr(function(u){if(os(u)){var l=Dm('Redirecting to "'.concat(a.urlSerializer.serialize(u),'"'));throw l.url=u,l}}),je(function(u){return!0===u}))}},{key:"lineralizeSegments",value:function(e,n){for(var i=[],a=n.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return Ee(i);if(a.numberOfChildren>1||!a.children[ze])return H4(e.redirectTo);a=a.children[ze]}}},{key:"applyRedirectCommands",value:function(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,n,i,a){var o=this.createSegmentGroup(e,n.root,i,a);return new is(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}},{key:"createQueryParams",value:function(e,n){var i={};return Pn(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var u=a.substring(1);i[o]=n[u]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,n,i,a){var o=this,s=this.createSegments(e,n.segments,i,a),u={};return Pn(n.children,function(l,c){u[c]=o.createSegmentGroup(e,l,i,a)}),new Ye(s,u)}},{key:"createSegments",value:function(e,n,i,a){var o=this;return n.map(function(s){return s.path.startsWith(":")?o.findPosParam(e,s,a):o.findOrReturn(s,i)})}},{key:"findPosParam",value:function(e,n,i){var a=i[n.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(n.path,"'."));return a}},{key:"findOrReturn",value:function(e,n){var o,i=0,a=B(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.path===e.path)return n.splice(i),s;i++}}catch(u){a.e(u)}finally{a.f()}return e}}]),t}();function Bm(t){for(var r={},e=0,n=Object.keys(t.children);e<n.length;e++){var i=n[e],o=Bm(t.children[i]);(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children[ze]){var r=t.children[ze];return new Ye(t.segments.concat(r.segments),r.children)}return t}(new Ye(t.segments,r))}var MI=function t(r){g(this,t),this.path=r,this.route=this.path[this.path.length-1]},Ch=function t(r,e){g(this,t),this.component=r,this.route=e};function K4(t,r,e){var n=t._root;return Rc(n,r?r._root:null,e,[n.value])}function Eh(t,r,e){var n=function(t){if(!t)return null;for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(n?n.module.injector:e).get(t)}function Rc(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Fu(r);return t.children.forEach(function(o){X4(o,a[o.value.outlet],e,n.concat([o.value]),i),delete a[o.value.outlet]}),Pn(a,function(o,s){return Mc(o,e.getContext(s),i)}),i}function X4(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=Q4(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MI(n)):(a.data=o.data,a._resolvedData=o._resolvedData),Rc(t,r,a.component?s?s.children:null:e,n,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ch(s.outlet.component,o))}else o&&Mc(r,s,i),i.canActivateChecks.push(new MI(n)),Rc(t,null,a.component?s?s.children:null:e,n,i);return i}function Q4(t,r,e){if("function"==typeof e)return e(t,r);switch(e){case"pathParamsChange":return!as(t.url,r.url);case"pathParamsOrQueryParamsChange":return!as(t.url,r.url)||!$i(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mm(t,r)||!$i(t.queryParams,r.queryParams);default:return!Mm(t,r)}}function Mc(t,r,e){var n=Fu(t),i=t.value;Pn(n,function(a,o){Mc(a,i.component?r?r.children.getContext(o):null:r,e)}),e.canDeactivateChecks.push(new Ch(i.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,i))}var o8=function t(){g(this,t)};function PI(t){return new nt(function(r){return r.error(t)})}var u8=function(){function t(r,e,n,i,a,o){g(this,t),this.rootComponentType=r,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return C(t,[{key:"recognize",value:function(){var e=yh(this.urlTree.root,[],[],this.config.filter(function(s){return void 0===s.redirectTo}),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ze);if(null===n)return null;var i=new hh([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ma(i,n),o=new yI(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var n=this,i=e.value,a=gI(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return n.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}},{key:"processChildren",value:function(e,n){for(var i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a],u=n.children[s],l=DI(e,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;i.push.apply(i,he(c))}var f=xI(i);return function(t){t.sort(function(r,e){return r.value.outlet===ze?-1:e.value.outlet===ze?1:r.value.outlet.localeCompare(e.value.outlet)})}(f),f}},{key:"processSegment",value:function(e,n,i,a){var s,o=B(e);try{for(o.s();!(s=o.n()).done;){var l=this.processSegmentAgainstRoute(s.value,n,i,a);if(null!==l)return l}}catch(c){o.e(c)}finally{o.f()}return AI(n,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,n,i,a){if(e.redirectTo||!II(e,n,i,a))return null;var o,s=[],u=[];if("**"===e.path){var l=i.length>0?nI(i).parameters:{};o=new hh(i,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,LI(e),ei(e),e.component,e,FI(n),NI(n)+i.length,VI(e))}else{var c=gh(n,e,i);if(!c.matched)return null;s=c.consumedSegments,u=i.slice(c.lastChild),o=new hh(s,c.parameters,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,LI(e),ei(e),e.component,e,FI(n),NI(n)+s.length,VI(e))}var f=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),d=yh(n,s,u,f.filter(function(m){return void 0===m.redirectTo}),this.relativeLinkResolution),h=d.segmentGroup,v=d.slicedSegments;if(0===v.length&&h.hasChildren()){var p=this.processChildren(f,h);return null===p?null:[new Ma(o,p)]}if(0===f.length&&0===v.length)return[new Ma(o,[])];var y=ei(e)===a,_=this.processSegment(f,h,v,y?ze:a);return null===_?null:[new Ma(o,_)]}}]),t}();function xI(t){var i,r=[],e=new Set,n=B(t);try{var a=function(){var d=i.value;if(!function(t){var r=t.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}(d))return r.push(d),"continue";var v,h=r.find(function(p){return d.value.routeConfig===p.value.routeConfig});void 0!==h?((v=h.children).push.apply(v,he(d.children)),e.add(h)):r.push(d)};for(n.s();!(i=n.n()).done;)a()}catch(f){n.e(f)}finally{n.f()}var u,s=B(e);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=xI(l.children);r.push(new Ma(l.value,c))}}catch(f){s.e(f)}finally{s.f()}return r.filter(function(f){return!e.has(f)})}function FI(t){for(var r=t;r._sourceSegment;)r=r._sourceSegment;return r}function NI(t){for(var r=t,e=r._segmentIndexShift?r._segmentIndexShift:0;r._sourceSegment;)e+=(r=r._sourceSegment)._segmentIndexShift?r._segmentIndexShift:0;return e-1}function LI(t){return t.data||{}}function VI(t){return t.resolve||{}}function Um(t){return Jr(function(r){var e=t(r);return e?pn(e).pipe(je(function(){return r})):Ee(r)})}var m8=function(){function t(){g(this,t)}return C(t,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,n){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,n){return e.routeConfig===n.routeConfig}}]),t}(),_8=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return e}(m8),Hm=new Ae("ROUTES"),BI=function(){function t(r,e,n,i){g(this,t),this.injector=r,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return C(t,[{key:"load",value:function(e,n){var i=this;if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);var o=this.loadModuleFactory(n.loadChildren).pipe(je(function(s){i.onLoadEndListener&&i.onLoadEndListener(n);var u=s.create(e);return new Nm(tI(u.injector.get(Hm,void 0,be.Self|be.Optional)).map(Vm),u)}),Oa(function(s){throw n._loader$=void 0,s}));return n._loader$=new zk(o,function(){return new it}).pipe(Wk()),n._loader$}},{key:"loadModuleFactory",value:function(e){var n=this;return Ji(e()).pipe(an(function(i){return i instanceof mT?Ee(i):pn(n.compiler.compileModuleAsync(i))}))}}]),t}(),E8=function(){function t(){g(this,t)}return C(t,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,n){return e}}]),t}();function b8(t){throw t}function w8(t,r,e){return r.parse("/")}function UI(t,r){return Ee(null)}var S8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ar=function(){var t=function(){function r(e,n,i,a,o,s,u){var l=this;g(this,r),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it,this.errorHandler=b8,this.malformedUriErrorHandler=w8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:UI,afterPreactivation:UI},this.urlHandlingStrategy=new E8,this.routeReuseStrategy=new _8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ta),this.console=o.get(Ad);var d=o.get(lt);this.isNgZoneEnabled=d instanceof lt&&lt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new is(new Ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new BI(o,s,function(v){return l.triggerEvent(new Xk(v))},function(v){return l.triggerEvent(new Qk(v))}),this.routerState=pI(this.currentUrlTree,this.rootComponentType),this.transitions=new $r({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return C(r,[{key:"browserPageId",get:function(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}},{key:"setupNavigations",value:function(n){var i=this,a=this.events;return n.pipe(Dn(function(o){return 0!==o.id}),je(function(o){return j(j({},o),{},{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),Jr(function(o){var s=!1,u=!1;return Ee(o).pipe(lr(function(l){i.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:i.lastSuccessfulNavigation?j(j({},i.lastSuccessfulNavigation),{},{previousNavigation:null}):null}}),Jr(function(l){var c=i.browserUrlTree.toString(),f=!i.navigated||l.extractedUrl.toString()!==c||c!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||f)&&i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return bh(l.source)&&(i.browserUrlTree=l.extractedUrl),Ee(l).pipe(Jr(function(S){var k=i.transitions.getValue();return a.next(new Tm(S.id,i.serializeUrl(S.extractedUrl),S.source,S.restoredState)),k!==i.transitions.getValue()?ya:Promise.resolve(S)}),function(t,r,e,n){return Jr(function(i){return function(t,r,e,n,i){return new W4(t,r,e,n,i).apply()}(t,r,e,i.extractedUrl,n).pipe(je(function(a){return j(j({},i),{},{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),lr(function(S){i.currentNavigation=j(j({},i.currentNavigation),{},{finalUrl:S.urlAfterRedirects})}),function(t,r,e,n,i){return an(function(a){return function(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new u8(t,r,e,n,i,a).recognize();return null===o?PI(new o8):Ee(o)}catch(s){return PI(s)}}(t,r,a.urlAfterRedirects,e(a.urlAfterRedirects),n,i).pipe(je(function(o){return j(j({},a),{},{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(S){return i.serializeUrl(S)},i.paramsInheritanceStrategy,i.relativeLinkResolution),lr(function(S){if("eager"===i.urlUpdateStrategy){if(!S.extras.skipLocationChange){var k=i.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);i.setBrowserUrl(k,S)}i.browserUrlTree=S.urlAfterRedirects}var I=new Vz(S.id,i.serializeUrl(S.extractedUrl),i.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);a.next(I)}));if(f&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var p=l.extractedUrl,y=l.source,_=l.restoredState,m=l.extras,E=new Tm(l.id,i.serializeUrl(p),y,_);a.next(E);var b=pI(p,i.rootComponentType).snapshot;return Ee(j(j({},l),{},{targetSnapshot:b,urlAfterRedirects:p,extras:j(j({},m),{},{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=l.rawUrl,l.resolve(null),ya}),Um(function(l){var v=l.extras;return i.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),lr(function(l){var c=new Bz(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);i.triggerEvent(c)}),je(function(l){return j(j({},l),{},{guards:K4(l.targetSnapshot,l.currentSnapshot,i.rootContexts)})}),function(t,r){return an(function(e){var n=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?Ee(j(j({},e),{},{guardsResult:!0})):function(t,r,e,n){return pn(t).pipe(an(function(i){return function(t,r,e,n,i){var a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return Ee(!0);var o=a.map(function(s){var l,u=Eh(s,r,i);if(function(t){return t&&uo(t.canDeactivate)}(u))l=Ji(u.canDeactivate(t,r,e,n));else{if(!uo(u))throw new Error("Invalid CanDeactivate guard");l=Ji(u(t,r,e,n))}return l.pipe(Pu())});return Ee(o).pipe(Ic())}(i.component,i.route,e,r,n)}),Pu(function(i){return!0!==i},!0))}(s,n,i,t).pipe(an(function(u){return u&&function(t){return"boolean"==typeof t}(u)?function(t,r,e,n){return pn(r).pipe(Mu(function(i){return Ec(function(t,r){return null!==t&&r&&r(new Gz(t)),Ee(!0)}(i.route.parent,n),function(t,r){return null!==t&&r&&r(new zz(t)),Ee(!0)}(i.route,n),function(t,r,e){var n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(function(o){return function(t){var r=t.routeConfig?t.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:t,guards:r}:null}(o)}).filter(function(o){return null!==o}),a=i.map(function(o){return sh(function(){var s=o.guards.map(function(u){var c,l=Eh(u,o.node,e);if(function(t){return t&&uo(t.canActivateChild)}(l))c=Ji(l.canActivateChild(n,t));else{if(!uo(l))throw new Error("Invalid CanActivateChild guard");c=Ji(l(n,t))}return c.pipe(Pu())});return Ee(s).pipe(Ic())})});return Ee(a).pipe(Ic())}(t,i.path,e),function(t,r,e){var n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||0===n.length)return Ee(!0);var i=n.map(function(a){return sh(function(){var s,o=Eh(a,r,e);if(function(t){return t&&uo(t.canActivate)}(o))s=Ji(o.canActivate(r,t));else{if(!uo(o))throw new Error("Invalid CanActivate guard");s=Ji(o(r,t))}return s.pipe(Pu())})});return Ee(i).pipe(Ic())}(t,i.route,e))}),Pu(function(i){return!0!==i},!0))}(n,o,t,r):Ee(u)}),je(function(u){return j(j({},e),{},{guardsResult:u})}))})}(i.ngModule.injector,function(l){return i.triggerEvent(l)}),lr(function(l){if(os(l.guardsResult)){var c=Dm('Redirecting to "'.concat(i.serializeUrl(l.guardsResult),'"'));throw c.url=l.guardsResult,c}var f=new Uz(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);i.triggerEvent(f)}),Dn(function(l){return!!l.guardsResult||(i.restoreHistory(l),i.cancelNavigationTransition(l,""),!1)}),Um(function(l){if(l.guards.canActivateChecks.length)return Ee(l).pipe(lr(function(c){var f=new Hz(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}),Jr(function(c){var f=!1;return Ee(c).pipe(function(t,r){return an(function(e){var n=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return Ee(e);var a=0;return pn(i).pipe(Mu(function(o){return function(t,r,e,n){return function(t,r,e,n){var i=Object.keys(t);if(0===i.length)return Ee({});var a={};return pn(i).pipe(an(function(o){return function(t,r,e,n){var i=Eh(t,r,n);return Ji(i.resolve?i.resolve(r,e):i(r,e))}(t[o],r,e,n).pipe(lr(function(s){a[o]=s}))}),Sm(1),an(function(){return Object.keys(a).length===i.length?Ee(a):ya}))}(t._resolve,t,r,n).pipe(je(function(a){return t._resolvedData=a,t.data=j(j({},t.data),gI(t,e).resolve),null}))}(o.route,n,t,r)}),lr(function(){return a++}),Sm(1),an(function(o){return a===i.length?Ee(e):ya}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),lr({next:function(){return f=!0},complete:function(){f||(i.restoreHistory(c),i.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),lr(function(c){var f=new jz(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}))}),Um(function(l){var v=l.extras;return i.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),je(function(l){var c=function(t,r,e){var n=Tc(t,r._root,e?e._root:void 0);return new vI(n,r)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return j(j({},l),{},{targetRouterState:c})}),lr(function(l){i.currentUrlTree=l.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),i.routerState=l.targetRouterState,"deferred"===i.urlUpdateStrategy&&(l.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,l),i.browserUrlTree=l.urlAfterRedirects)}),function(r,e,n){return je(function(i){return new D4(e,i.targetRouterState,i.currentRouterState,n).activate(r),i})}(i.rootContexts,i.routeReuseStrategy,function(l){return i.triggerEvent(l)}),lr({next:function(){s=!0},complete:function(){s=!0}}),function(t){return Lt(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}(function(){var l;if(!s&&!u){var c="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(o,c)}(null===(l=i.currentNavigation)||void 0===l?void 0:l.id)===o.id&&(i.currentNavigation=null)}),Oa(function(l){if(u=!0,function(t){return t&&t[Jk]}(l)){var c=os(l.url);c||(i.navigated=!0,i.restoreHistory(o,!0));var f=new Zk(o.id,i.serializeUrl(o.extractedUrl),l.message);a.next(f),c?setTimeout(function(){var h=i.urlHandlingStrategy.merge(l.url,i.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||bh(o.source)};i.scheduleNavigation(h,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var d=new Lz(o.id,i.serializeUrl(o.extractedUrl),l);a.next(d);try{o.resolve(i.errorHandler(l))}catch(h){o.reject(h)}}return ya}))}))}},{key:"resetRootComponentType",value:function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(n){this.transitions.next(j(j({},this.transitions.value),n))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(function(){var o,s={replaceUrl:!0},u=null!==(o=i.state)&&void 0!==o&&o.navigationId?i.state:null;if(u){var l=j({},u);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}var c=n.parseUrl(i.url);n.scheduleNavigation(c,a,u,s)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(n){this.events.next(n)}},{key:"resetConfig",value:function(n){TI(n),this.config=n.map(Vm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,s=i.fragment,u=i.queryParamsHandling,l=i.preserveFragment,c=a||this.routerState.root,f=l?this.currentUrlTree.fragment:s,d=null;switch(u){case"merge":d=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),m4(c,this.currentUrlTree,n,d,null!=f?f:null)}},{key:"navigateByUrl",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=os(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return D8(n),this.navigateByUrl(this.createUrlTree(n,i),i)}},{key:"serializeUrl",value:function(n){return this.urlSerializer.serialize(n)}},{key:"parseUrl",value:function(n){var i;try{i=this.urlSerializer.parse(n)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return i}},{key:"isActive",value:function(n,i){var a;if(a=!0===i?j({},S8):!1===i?j({},T8):i,os(n))return iI(this.currentUrlTree,n,a);var o=this.parseUrl(n);return iI(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(n){return Object.keys(n).reduce(function(i,a){var o=n[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var n=this;this.navigations.subscribe(function(i){n.navigated=!0,n.lastSuccessfulId=i.id,n.currentPageId=i.targetPageId,n.events.next(new bc(i.id,n.serializeUrl(i.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,i.resolve(!0)},function(i){n.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(n,i,a,o,s){var u;if(this.disposed)return Promise.resolve(!1);var v,p,y,l=this.transitions.value,c=bh(i)&&l&&!bh(l.source),f=l.rawUrl.toString()===n.toString(),d=l.id===(null===(u=this.currentNavigation)||void 0===u?void 0:u.id);if(c&&f&&d)return Promise.resolve(!0);s?(v=s.resolve,p=s.reject,y=s.promise):y=new Promise(function(k,I){v=k,p=I});var m,_=++this.navigationId;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(a=this.location.getState()),a&&a.\u0275routerPageId)m=a.\u0275routerPageId;else if(o.replaceUrl||o.skipLocationChange){var b;m=null!==(b=this.browserPageId)&&void 0!==b?b:0}else{var S;m=(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1}else m=0;return this.setTransition({id:_,targetPageId:m,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:v,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(function(k){return Promise.reject(k)})}},{key:"setBrowserUrl",value:function(n,i){var a=this.urlSerializer.serialize(n),o=j(j({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var a,o,s=this.currentPageId-n.targetPageId,u="popstate"===n.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);u&&0!==s?this.location.historyGo(s):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(n,i){var a=new Zk(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(a),n.resolve(!1)}},{key:"generateNgRouterState",value:function(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,"\u0275routerPageId":i}:{navigationId:n}}}]),r}();return t.\u0275fac=function(e){zg()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function D8(t){for(var r=0;r<t.length;r++){var e=t[r];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(r))}}function bh(t){return"imperative"!==t}var HI=function t(){g(this,t)},A8=function(){function t(){g(this,t)}return C(t,[{key:"preload",value:function(e,n){return n().pipe(Oa(function(){return Ee(null)}))}}]),t}(),jI=function(){function t(){g(this,t)}return C(t,[{key:"preload",value:function(e,n){return Ee(null)}}]),t}(),GI=function(){var t=function(){function r(e,n,i,a){g(this,r),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new BI(i,n,function(l){return e.triggerEvent(new Xk(l))},function(l){return e.triggerEvent(new Qk(l))})}return C(r,[{key:"setUpPreloading",value:function(){var n=this;this.subscription=this.router.events.pipe(Dn(function(i){return i instanceof bc}),Mu(function(){return n.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var n=this.injector.get(Ta);return this.processRoutes(n,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(n,i){var s,a=[],o=B(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;a.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(n,u)):u.children&&a.push(this.processRoutes(n,u.children))}}catch(c){o.e(c)}finally{o.f()}return pn(a).pipe(gl(),je(function(c){}))}},{key:"preloadConfig",value:function(n,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?Ee(i._loadedConfig):a.loader.load(n.injector,i)).pipe(an(function(s){return i._loadedConfig=s,a.processRoutes(s.module,s.routes)}))})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(Ar),U(Od),U(kt),U(HI))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Wm=function(){var t=function(){function r(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,r),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return C(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof Tm?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=i.navigationTrigger,n.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof bc&&(n.lastId=i.id,n.scheduleScrollEvent(i,n.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof $k&&(i.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(n,i){this.router.triggerEvent(new $k(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){zg()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),ss=new Ae("ROUTER_CONFIGURATION"),WI=new Ae("ROUTER_FORROOT_GUARD"),O8=[Jy,{provide:uI,useClass:lI},{provide:Ar,useFactory:function(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=new Ar(null,t,r,e,n,i,tI(a));return s&&(l.urlHandlingStrategy=s),u&&(l.routeReuseStrategy=u),N8(o,l),o.enableTracing&&l.events.subscribe(function(c){var f,d,h,v;null===(f=(d=console).group)||void 0===f||f.call(d,"Router Event: ".concat(c.constructor.name)),console.log(c.toString()),console.log(c),null===(h=(v=console).groupEnd)||void 0===h||h.call(v)}),l},deps:[uI,Ac,Jy,kt,Od,Hm,ss,[function t(){g(this,t)},new ar],[function t(){g(this,t)},new ar]]},Ac,{provide:Nu,useFactory:function(t){return t.routerState.root},deps:[Ar]},GI,jI,A8,{provide:ss,useValue:{enableTracing:!1}}];function R8(){return new by("Router",Ar)}var zI=function(){var t=function(){function r(e,n){g(this,r)}return C(r,null,[{key:"forRoot",value:function(n,i){return{ngModule:r,providers:[O8,qI(n),{provide:WI,useFactory:x8,deps:[[Ar,new ar,new to]]},{provide:ss,useValue:i||{}},{provide:Ou,useFactory:P8,deps:[rs,[new qs($y),new ar],ss]},{provide:Wm,useFactory:M8,deps:[Ar,TW,ss]},{provide:HI,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:jI},{provide:by,multi:!0,useFactory:R8},[zm,{provide:wu,multi:!0,useFactory:V8,deps:[zm]},{provide:KI,useFactory:B8,deps:[zm]},{provide:nD,multi:!0,useExisting:KI}]]}}},{key:"forChild",value:function(n){return{ngModule:r,providers:[qI(n)]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(WI,8),U(Ar,8))},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({}),t}();function M8(t,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Wm(t,r,e)}function P8(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new cG(t,r):new ck(t,r)}function x8(t){return"guarded"}function qI(t){return[{provide:sF,multi:!0,useValue:t},{provide:Hm,multi:!0,useValue:t}]}function N8(t,r){t.errorHandler&&(r.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(r.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(r.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(r.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(r.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(r.canceledNavigationResolution=t.canceledNavigationResolution)}var zm=function(){var t=function(){function r(e){g(this,r),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new it}return C(r,[{key:"appInitializer",value:function(){var n=this;return this.injector.get(sG,Promise.resolve(null)).then(function(){if(n.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(l){return a=l}),s=n.injector.get(Ar),u=n.injector.get(ss);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),a(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=function(){return n.initNavigation?Ee(null):(n.initNavigation=!0,a(!0),n.resultOfPreactivationDone)},s.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(n){var i=this.injector.get(ss),a=this.injector.get(GI),o=this.injector.get(Wm),s=this.injector.get(Ar),u=this.injector.get($o);n===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),o.init(),s.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}();function V8(t){return t.appInitializer.bind(t)}function B8(t){return t.bootstrapListener.bind(t)}var KI=new Ae("Router Initializer");function cr(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}var Sh=function t(){g(this,t)},Vu=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).errorMessage=n,i}return C(e,[{key:"Type",get:function(){return"ErrorOccurredMessage"}}]),e}(Sh),Th=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this)).positions=n,s.userPos=i,s.title=a,s.details=o,s}return C(e,[{key:"Type",get:function(){return"ShowMapMessage"}}]),e}(Sh),G8=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"BaseUrl",get:function(){return"https://api.sr.se/api/v2/"}},{key:"FormatParam",get:function(){return"format=json"}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),W8=function t(){g(this,t)};function Km(t){return t*Math.PI/180}function QI(t,r,e,n){var a=Km(n-r),o=Km(t),s=Km(e),u=6371*Math.acos(Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a));return Math.round(u)}function z8(t){return"/Date(-62135596800000)/"===t?null:new Date(JSON.parse(t.match(/\d+/)[0]))}var $I=function t(){g(this,t)},JI=function t(){g(this,t)},Pc=function(){function t(r){var e=this;g(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){e.headers=new Map,r.split("\n").forEach(function(n){var i=n.indexOf(":");if(i>0){var a=n.slice(0,i),o=a.toLowerCase(),s=n.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(s):e.headers.set(o,[s])}})}:function(){e.headers=new Map,Object.keys(r).forEach(function(n){var i=r[n],a=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(n,a))})}:this.headers=new Map}return C(t,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,n){return this.clone({name:e,value:n,op:"a"})}},{key:"set",value:function(e,n){return this.clone({name:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({name:e,value:n,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(n){return e.applyUpdate(n)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var n=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){n.headers.set(i,e.headers.get(i)),n.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(e){var n=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);var a=("a"===e.op?this.headers.get(n):void 0)||[];a.push.apply(a,he(i)),this.headers.set(n,a);break;case"d":var o=e.value;if(o){var s=this.headers.get(n);if(!s)return;0===(s=s.filter(function(u){return-1===o.indexOf(u)})).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(e){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(n.normalizedNames.get(i),n.headers.get(i))})}}]),t}(),q8=function(){function t(){g(this,t)}return C(t,[{key:"encodeKey",value:function(e){return eA(e)}},{key:"encodeValue",value:function(e){return eA(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),t}();function K8(t,r){var e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),s=ge(-1==a?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,a)),r.decodeValue(i.slice(a+1))],2),u=s[0],l=s[1],c=e.get(u)||[];c.push(l),e.set(u,c)}),e}var Y8=/%(\d[a-f0-9])/gi,Z8={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function eA(t){return encodeURIComponent(t).replace(Y8,function(r,e){var n;return null!==(n=Z8[e])&&void 0!==n?n:r})}function tA(t){return"".concat(t)}var Bu=function(){function t(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g(this,t),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new q8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=K8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(n){var i=e.fromObject[n];r.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}return C(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var n=this.map.get(e);return n?n[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,n){return this.clone({param:e,value:n,op:"a"})}},{key:"appendAll",value:function(e){var n=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}},{key:"set",value:function(e,n){return this.clone({param:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({param:e,value:n,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(n){var i=e.encoder.encodeKey(n);return e.map.get(n).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(n){return""!==n}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(n){return e.map.set(n,e.cloneFrom.map.get(n))}),this.updates.forEach(function(n){switch(n.op){case"a":case"s":var i=("a"===n.op?e.map.get(n.param):void 0)||[];i.push(tA(n.value)),e.map.set(n.param,i);break;case"d":if(void 0===n.value){e.map.delete(n.param);break}var a=e.map.get(n.param)||[],o=a.indexOf(tA(n.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(n.param,a):e.map.delete(n.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),X8=function(){function t(){g(this,t),this.map=new Map}return C(t,[{key:"set",value:function(e,n){return this.map.set(e,n),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function nA(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function rA(t){return"undefined"!=typeof Blob&&t instanceof Blob}function iA(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Ym=function(){function t(r,e,n,i){var a;if(g(this,t),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Pc),this.context||(this.context=new X8),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new Bu,this.urlWithParams=e}return C(t,[{key:"serializeBody",value:function(){return null===this.body?null:nA(this.body)||rA(this.body)||iA(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||iA(this.body)?null:rA(this.body)?this.body.type||null:nA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.method||this.method,a=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,u=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,f=n.params||this.params,d=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(h,v){return h.set(v,n.setHeaders[v])},c)),n.setParams&&(f=Object.keys(n.setParams).reduce(function(h,v){return h.set(v,n.setParams[v])},f)),new t(i,a,s,{params:f,headers:c,context:d,reportProgress:l,responseType:o,withCredentials:u})}}]),t}(),vn=function(){return(vn=vn||{})[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn}(),Zm=function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";g(this,t),this.headers=r.headers||new Pc,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300},J8=function(t){R(e,t);var r=w(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,e),(n=r.call(this,i)).type=vn.ResponseHeader,n}return C(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Zm),aA=function(t){R(e,t);var r=w(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,e),(n=r.call(this,i)).type=vn.Response,n.body=void 0!==i.body?i.body:null,n}return C(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Zm),oA=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this,n,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(n.url||"(unknown url)"):"Http failure response for ".concat(n.url||"(unknown url)",": ").concat(n.status," ").concat(n.statusText),i.error=n.error||null,i}return e}(Zm);function Xm(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var sA=function(){var t=function(){function r(e){g(this,r),this.handler=e}return C(r,[{key:"request",value:function(n,i){var s,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n instanceof Ym)s=n;else{var u=void 0;u=o.headers instanceof Pc?o.headers:new Pc(o.headers);var l=void 0;o.params&&(l=o.params instanceof Bu?o.params:new Bu({fromObject:o.params})),s=new Ym(n,i,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var c=Ee(s).pipe(Mu(function(d){return a.handler.handle(d)}));if(n instanceof Ym||"events"===o.observe)return c;var f=c.pipe(Dn(function(d){return d instanceof aA}));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe(je(function(d){if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return f.pipe(je(function(d){if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return f.pipe(je(function(d){if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return f.pipe(je(function(d){return d.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",n,i)}},{key:"get",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",n,i)}},{key:"head",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",n,i)}},{key:"jsonp",value:function(n,i){return this.request("JSONP",n,{params:(new Bu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",n,i)}},{key:"patch",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",n,Xm(a,i))}},{key:"post",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",n,Xm(a,i))}},{key:"put",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",n,Xm(a,i))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U($I))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),uA=function(){function t(r,e){g(this,t),this.next=r,this.interceptor=e}return C(t,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),t}(),Qm=new Ae("HTTP_INTERCEPTORS"),e5=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"intercept",value:function(n,i){return i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),t5=/^\)\]\}',?\n/,lA=function(){var t=function(){function r(e){g(this,r),this.xhrFactory=e}return C(r,[{key:"handle",value:function(n){var i=this;if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nt(function(a){var o=i.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach(function(_,m){return o.setRequestHeader(_,m.join(","))}),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){var s=n.detectContentTypeHeader();null!==s&&o.setRequestHeader("Content-Type",s)}if(n.responseType){var u=n.responseType.toLowerCase();o.responseType="json"!==u?u:"text"}var l=n.serializeBody(),c=null,f=function(){if(null!==c)return c;var m=1223===o.status?204:o.status,E=o.statusText||"OK",b=new Pc(o.getAllResponseHeaders()),S=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new J8({headers:b,status:m,statusText:E,url:S})},d=function(){var m=f(),E=m.headers,b=m.status,S=m.statusText,k=m.url,I=null;204!==b&&(I=void 0===o.response?o.responseText:o.response),0===b&&(b=I?200:0);var M=b>=200&&b<300;if("json"===n.responseType&&"string"==typeof I){var L=I;I=I.replace(t5,"");try{I=""!==I?JSON.parse(I):null}catch(K){I=L,M&&(M=!1,I={error:K,text:I})}}M?(a.next(new aA({body:I,headers:E,status:b,statusText:S,url:k||void 0})),a.complete()):a.error(new oA({error:I,headers:E,status:b,statusText:S,url:k||void 0}))},h=function(m){var E=f(),S=new oA({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E.url||void 0});a.error(S)},v=!1,p=function(m){v||(a.next(f()),v=!0);var E={type:vn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),"text"===n.responseType&&!!o.responseText&&(E.partialText=o.responseText),a.next(E)},y=function(m){var E={type:vn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),a.next(E)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),n.reportProgress&&(o.addEventListener("progress",p),null!==l&&o.upload&&o.upload.addEventListener("progress",y)),o.send(l),a.next({type:vn.Sent}),function(){o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),n.reportProgress&&(o.removeEventListener("progress",p),null!==l&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(hm))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),$m=new Ae("XSRF_COOKIE_NAME"),Jm=new Ae("XSRF_HEADER_NAME"),cA=function t(){g(this,t)},r5=function(){var t=function(){function r(e,n,i){g(this,r),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return C(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ck(n,this.cookieName),this.lastCookieString=n),this.lastToken}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(xt),U(io),U($m))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),e_=function(){var t=function(){function r(e,n){g(this,r),this.tokenService=e,this.headerName=n}return C(r,[{key:"intercept",value:function(n,i){var a=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(n);var o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(cA),U(Jm))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),i5=function(){var t=function(){function r(e,n){g(this,r),this.backend=e,this.injector=n,this.chain=null}return C(r,[{key:"handle",value:function(n){if(null===this.chain){var i=this.injector.get(Qm,[]);this.chain=i.reduceRight(function(a,o){return new uA(a,o)},this.backend)}return this.chain.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(JI),U(kt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),a5=function(){var t=function(){function r(){g(this,r)}return C(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:e_,useClass:e5}]}}},{key:"withOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[n.cookieName?{provide:$m,useValue:n.cookieName}:[],n.headerName?{provide:Jm,useValue:n.headerName}:[]]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:[e_,{provide:Qm,useExisting:e_,multi:!0},{provide:cA,useClass:r5},{provide:$m,useValue:"XSRF-TOKEN"},{provide:Jm,useValue:"X-XSRF-TOKEN"}]}),t}(),o5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:[sA,{provide:$I,useClass:i5},lA,{provide:JI,useExisting:lA}],imports:[[a5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),xc=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"logInfo",value:function(n){console.info(n)}},{key:"logError",value:function(n){console.error(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Uu=function(){return function(t){t[t.V\u00e4gtrafik=0]="V\xe4gtrafik",t[t.Kollektivtrafik=1]="Kollektivtrafik",t[t.PlaneradSt\u00f6rening=2]="PlaneradSt\xf6rening",t[t.\u00d6vrigt=3]="\xd6vrigt"}(Uu||(Uu={})),Uu}(),Fc=function(){return function(t){t.V\u00e4garbete="V\xe4garbete",t.Trafikst\u00f6rning="Trafikst\xf6rning",t.TrafikOlycka="Trafikolycka"}(Fc||(Fc={})),Fc}(),fA=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a){var o;return g(this,n),(o=e.call(this)).http=i,o.logger=a,o.categoryMap={0:"V\xe4gtrafik",1:"Kollektivtrafik",2:"Planerad st\xf6rning",3:"\xd6vrigt"},o.priorityNameMap={0:"Empty",1:"Mycket allvarlig h\xe4ndelse",2:"Stor h\xe4ndelse",3:"St\xf6rning",4:"Information",5:"Mindre st\xf6rning"},o}return C(n,[{key:"fetchAllTrafficAreas",value:function(){return cr(this,void 0,void 0,at().mark(function a(){var o,s;return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="".concat(this.BaseUrl,"traffic/areas/?page=",1,"&size=",100,"&").concat(this.FormatParam),l.next=3,this.http.get("".concat(o)).toPromise();case 3:return(s=l.sent).areas.sort(function(c,f){return c.name.localeCompare(f.name)}),l.abrupt("return",s.areas);case 6:case"end":return l.stop()}},a,this)}))}},{key:"fetchClosestTrafficAreaForPosition",value:function(a){return cr(this,void 0,void 0,at().mark(function o(){var s;return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s="".concat(this.BaseUrl,"traffic/areas/?longitude=").concat(a.lng,"&latitude=").concat(a.lat,"&").concat(this.FormatParam),c.next=3,this.http.get("".concat(s)).toPromise();case 3:return c.abrupt("return",c.sent.area);case 5:case"end":return c.stop()}},o,this)}))}},{key:"fetchAllTrafficMessages",value:function(a){return cr(this,void 0,void 0,at().mark(function o(){var s;return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="".concat(this.BaseUrl,"traffic/messages/?page=",1,"&size=",200,"&").concat(this.FormatParam),l.next=3,this.fetchMessages(s,a);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},o,this)}))}},{key:"fetchAllTrafficMessagesForArea",value:function(a,o){return cr(this,void 0,void 0,at().mark(function s(){var u;return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u="".concat(this.BaseUrl,"traffic/messages/?trafficareaname=").concat(a,"&page=",1,"&size=",100,"&").concat(this.FormatParam),c.next=3,this.fetchMessages(u,o);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},s,this)}))}},{key:"getCachedMessageFromId",value:function(a){if(this.cachedMessages)return this.cachedMessages.find(function(o){return o.id===a})}},{key:"fetchMessages",value:function(a,o){return cr(this,void 0,void 0,at().mark(function s(){var c,u=this;return at().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.http.get("".concat(a)).toPromise();case 2:return c=[],d.sent.messages.forEach(function(h){var v=new W8;if(v.category=h.category,v.categoryName=u.categoryMap[h.category],v.priorityName=u.priorityNameMap[h.priority],v.priority=h.priority,v.description=h.description,v.title=h.title,v.subCategory=h.subcategory,v.exactLocation=h.exactlocation,v.latitude=h.latitude,v.longitude=h.longitude,v.id=h.id,o.lng&&o.lat&&h.latitude&&h.longitude)try{v.distance=QI(o.lat,o.lng,h.latitude,h.longitude)}catch(p){u.logger.logError(p)}h.createddate&&(v.createdDate=z8(h.createddate)),c.push(v)}),c.sort(function(h,v){return h.priority<v.priority?-1:1}),this.cachedMessages=c,d.abrupt("return",this.cachedMessages);case 8:case"end":return d.stop()}},s,this)}))}}]),n}(G8);return t.\u0275fac=function(e){return new(e||t)(U(sA),U(xc))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),us=function(){var t=function(){function r(){g(this,r),this.subject=new it}return C(r,[{key:"sendMessage",value:function(n){this.subject.next(n)}},{key:"getMessage",value:function(){return this.subject.asObservable()}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),s5=function(){var t=function(){function r(){g(this,r),this.localStorage=window.localStorage}return C(r,[{key:"get",value:function(n){if(this.isSupported){var i=this.localStorage.getItem(n);if(i)try{return JSON.parse(i)}catch(a){}}return null}},{key:"set",value:function(n,i){return!!this.isSupported&&(this.localStorage.setItem(n,JSON.stringify(i)),!0)}},{key:"isSupported",get:function(){return!!this.localStorage}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),re=function(){var t=function(){function r(){g(this,r)}return C(r,null,[{key:"addClass",value:function(n,i){n.classList?n.classList.add(i):n.className+=" "+i}},{key:"addMultipleClasses",value:function(n,i){if(n.classList)for(var a=i.trim().split(" "),o=0;o<a.length;o++)n.classList.add(a[o]);else for(var s=i.split(" "),u=0;u<s.length;u++)n.className+=" "+s[u]}},{key:"removeClass",value:function(n,i){n.classList?n.classList.remove(i):n.className=n.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(n,i){return n.classList?n.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(n.className)}},{key:"siblings",value:function(n){return Array.prototype.filter.call(n.parentNode.children,function(i){return i!==n})}},{key:"find",value:function(n,i){return Array.from(n.querySelectorAll(i))}},{key:"findSingle",value:function(n,i){return n?n.querySelector(i):null}},{key:"index",value:function(n){for(var i=n.parentNode.childNodes,a=0,o=0;o<i.length;o++){if(i[o]==n)return a;1==i[o].nodeType&&a++}return-1}},{key:"indexWithinGroup",value:function(n,i){for(var a=n.parentNode?n.parentNode.childNodes:[],o=0,s=0;s<a.length;s++){if(a[s]==n)return o;a[s].attributes&&a[s].attributes[i]&&1==a[s].nodeType&&o++}return-1}},{key:"relativePosition",value:function(n,i){var l,c,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=i.offsetHeight,s=i.getBoundingClientRect(),u=this.getViewport();s.top+o+a.height>u.height?(l=-1*a.height,n.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,n.style.transformOrigin="top"),c=a.width>u.width?-1*s.left:s.left+a.width>u.width?-1*(s.left+a.width-u.width):0,n.style.top=l+"px",n.style.left=c+"px"}},{key:"absolutePosition",value:function(n,i){var v,p,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=a.height,s=a.width,u=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),f=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport();c.top+u+o>h.height?(v=c.top+f-o,n.style.transformOrigin="bottom",v<0&&(v=f)):(v=u+c.top+f,n.style.transformOrigin="top"),p=c.left+s>h.width?Math.max(0,c.left+d+l-s):c.left+d,n.style.top=v+"px",n.style.left=p+"px"}},{key:"getParents",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===n.parentNode?i:this.getParents(n.parentNode,i.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var i=[];if(n){var l,a=this.getParents(n),o=/(auto|scroll)/,s=function(m){var E=window.getComputedStyle(m,null);return o.test(E.getPropertyValue("overflow"))||o.test(E.getPropertyValue("overflowX"))||o.test(E.getPropertyValue("overflowY"))},u=B(a);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=1===c.nodeType&&c.dataset.scrollselectors;if(f){var v,h=B(f.split(","));try{for(h.s();!(v=h.n()).done;){var y=this.findSingle(c,v.value);y&&s(y)&&i.push(y)}}catch(_){h.e(_)}finally{h.f()}}9!==c.nodeType&&s(c)&&i.push(c)}}catch(_){u.e(_)}finally{u.f()}}return i}},{key:"getHiddenElementOuterHeight",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementOuterWidth",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementDimensions",value:function(n){var i={};return n.style.visibility="hidden",n.style.display="block",i.width=n.offsetWidth,i.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",i}},{key:"scrollInView",value:function(n,i){var a=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=a?parseFloat(a):0,s=getComputedStyle(n).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=n.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,d=n.scrollTop,h=n.clientHeight,v=this.getOuterHeight(i);f<0?n.scrollTop=d+f:f+v>h&&(n.scrollTop=d+f-h+v)}},{key:"fadeIn",value:function(n,i){n.style.opacity=0;var a=+new Date,o=0;!function u(){o=+n.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,n.style.opacity=o,a=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))}()}},{key:"fadeOut",value:function(n,i){var a=1,u=50/i,l=setInterval(function(){(a-=u)<=0&&(a=0,clearInterval(l)),n.style.opacity=a},50)}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"matches",value:function(n,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(n,i)}},{key:"getOuterWidth",value:function(n,i){var a=n.offsetWidth;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return a}},{key:"getHorizontalPadding",value:function(n){var i=getComputedStyle(n);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}},{key:"getHorizontalMargin",value:function(n){var i=getComputedStyle(n);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}},{key:"innerWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"width",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"getInnerHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i+(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom))}},{key:"getOuterHeight",value:function(n,i){var a=n.offsetHeight;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return a}},{key:"getHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))}},{key:"getWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))}},{key:"getViewport",value:function(){var n=window,i=document,a=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:n.innerWidth||a.clientWidth||o.clientWidth,height:n.innerHeight||a.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(n){var i=n.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(n,i){var a=n.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,n)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||(n.indexOf("Trident/")>0?(n.indexOf("rv:"),!0):n.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}},{key:"appendChild",value:function(n,i){if(this.isElement(i))i.appendChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+n;i.el.nativeElement.appendChild(n)}}},{key:"removeChild",value:function(n,i){if(this.isElement(i))i.removeChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+n+" from "+i;i.el.nativeElement.removeChild(n)}}},{key:"removeElement",value:function(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}},{key:"isElement",value:function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}},{key:"calculateScrollbarWidth",value:function(n){if(n){var i=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var o=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=o,o}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=i,i}},{key:"invokeElementMethod",value:function(n,i,a){n[i].apply(n,a)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(n){}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:i[1]||"",version:i[2]||"0"}}},{key:"isInteger",value:function(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}},{key:"isHidden",value:function(n){return null===n.offsetParent}},{key:"getFocusableElements",value:function(n){var s,a=[],o=B(r.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]:not(.p-disabled))'));try{for(o.s();!(s=o.n()).done;){var u=s.value;"none"!=getComputedStyle(u).display&&"hidden"!=getComputedStyle(u).visibility&&a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),r}();return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t}(),dA=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};g(this,t),this.element=r,this.listener=e}return C(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=re.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),$t=function(){function t(){g(this,t)}return C(t,null,[{key:"equals",value:function(e,n,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(n,i):this.equalsByValue(e,n)}},{key:"equalsByValue",value:function(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var o,s,u,i=Array.isArray(e),a=Array.isArray(n);if(i&&a){if((s=e.length)!=n.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],n[o]))return!1;return!0}if(i!=a)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var f=e instanceof RegExp,d=n instanceof RegExp;if(f!=d)return!1;if(f&&d)return e.toString()==n.toString();var h=Object.keys(e);if((s=h.length)!==Object.keys(n).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,h[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[u=h[o]],n[u]))return!1;return!0}return e!=e&&n!=n}},{key:"resolveFieldData",value:function(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(-1==n.indexOf("."))return e[n];for(var i=n.split("."),a=e,o=0,s=i.length;o<s;++o){if(null==a)return null;a=a[i[o]]}return a}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"reorderArray",value:function(e,n,i){e&&n!==i&&(i>=e.length&&(i%=e.length,n%=e.length),e.splice(i,0,e.splice(n,1)[0]))}},{key:"insertIntoOrderedArray",value:function(e,n,i,a){if(i.length>0){for(var o=!1,s=0;s<i.length;s++)if(this.findIndexInList(i[s],a)>n){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}},{key:"findIndexInList",value:function(e,n){var i=-1;if(n)for(var a=0;a<n.length;a++)if(n[a]==e){i=a;break}return i}},{key:"contains",value:function(e,n){if(null!=e&&n&&n.length){var a,i=B(n);try{for(i.s();!(a=i.n()).done;)if(this.equals(e,a.value))return!0}catch(s){i.e(s)}finally{i.f()}}return!1}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}}]),t}(),hA=0;function vA(){return hA++,"".concat("pr_id_").concat(hA)}var ti=function(){var t=[],i=function(o){return o&&parseInt(o.style.zIndex,10)||0};return{get:i,set:function(o,s,u){s&&(s.style.zIndex=String(function(o,s){var u=t.length>0?t[t.length-1]:{key:o,value:s},l=u.value+(u.key===o?0:s)+1;return t.push({key:o,value:l}),l}(o,u)))},clear:function(o){o&&(function(o){t=t.filter(function(s){return s.value!==o})}(i(o)),o.style.zIndex="")},getCurrent:function(){return t.length>0?t[t.length-1].value:0}}}(),l5=["*"],Un=function(){var t=function r(){g(this,r)};return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t}(),Nc=function(){var t=function(){function r(){g(this,r),this.ripple=!1,this.filterMatchModeOptions={text:[Un.STARTS_WITH,Un.CONTAINS,Un.NOT_CONTAINS,Un.ENDS_WITH,Un.EQUALS,Un.NOT_EQUALS],numeric:[Un.EQUALS,Un.NOT_EQUALS,Un.LESS_THAN,Un.LESS_THAN_OR_EQUAL_TO,Un.GREATER_THAN,Un.GREATER_THAN_OR_EQUAL_TO],date:[Un.DATE_IS,Un.DATE_IS_NOT,Un.DATE_BEFORE,Un.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new it,this.translationObserver=this.translationSource.asObservable()}return C(r,[{key:"getTranslation",value:function(n){return this.translation[n]}},{key:"setTranslation",value:function(n){this.translation=j(j({},this.translation),n),this.translationSource.next(this.translation)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pA=function(){var t=function r(){g(this,r)};return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t}(),c5=function(){var t=function(){function r(){var e=this;g(this,r),this.filters={startsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=$t.removeAccents(a.toString()).toLocaleLowerCase(o);return $t.removeAccents(i.toString()).toLocaleLowerCase(o).slice(0,s.length)===s},contains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=$t.removeAccents(a.toString()).toLocaleLowerCase(o);return-1!==$t.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},notContains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=$t.removeAccents(a.toString()).toLocaleLowerCase(o);return-1===$t.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},endsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=$t.removeAccents(a.toString()).toLocaleLowerCase(o),u=$t.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==u.indexOf(s,u.length-s.length)},equals:function(i,a,o){return null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():$t.removeAccents(i.toString()).toLocaleLowerCase(o)==$t.removeAccents(a.toString()).toLocaleLowerCase(o))},notEquals:function(i,a,o){return!(null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():$t.removeAccents(i.toString()).toLocaleLowerCase(o)==$t.removeAccents(a.toString()).toLocaleLowerCase(o)))},in:function(i,a){if(null==a||0===a.length)return!0;for(var o=0;o<a.length;o++)if($t.equals(i,a[o]))return!0;return!1},between:function(i,a){return null==a||null==a[0]||null==a[1]||null!=i&&(i.getTime?a[0].getTime()<=i.getTime()&&i.getTime()<=a[1].getTime():a[0]<=i&&i<=a[1])},lt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<a.getTime():i<a)},lte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<=a.getTime():i<=a)},gt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>a.getTime():i>a)},gte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>=a.getTime():i>=a)},is:function(i,a,o){return e.filters.equals(i,a,o)},isNot:function(i,a,o){return e.filters.notEquals(i,a,o)},before:function(i,a,o){return e.filters.lt(i,a,o)},after:function(i,a,o){return e.filters.gt(i,a,o)},dateIs:function(i,a){return null==a||null!=i&&i.toDateString()===a.toDateString()},dateIsNot:function(i,a){return null==a||null!=i&&i.toDateString()!==a.toDateString()},dateBefore:function(i,a){return null==a||null!=i&&i.getTime()<a.getTime()},dateAfter:function(i,a){return null==a||null!=i&&i.getTime()>a.getTime()}}}return C(r,[{key:"filter",value:function(n,i,a,o,s){var u=[];if(n){var c,l=B(n);try{for(l.s();!(c=l.n()).done;){var h,f=c.value,d=B(i);try{for(d.s();!(h=d.n()).done;){var p=$t.resolveFieldData(f,h.value);if(this.filters[o](p,a,s)){u.push(f);break}}}catch(y){d.e(y)}finally{d.f()}}}catch(y){l.e(y)}finally{l.f()}}return u}},{key:"register",value:function(n,i){this.filters[n]=i}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),t_=function(){var t=function(){function r(){g(this,r),this.messageSource=new it,this.clearSource=new it,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return C(r,[{key:"add",value:function(n){n&&this.messageSource.next(n)}},{key:"addAll",value:function(n){n&&n.length&&this.messageSource.next(n)}},{key:"clear",value:function(n){this.clearSource.next(n||null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),f5=function(){var t=function(){function r(){g(this,r),this.clickSource=new it,this.clickObservable=this.clickSource.asObservable()}return C(r,[{key:"add",value:function(n){n&&this.clickSource.next(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),d5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ln({type:t,selectors:[["p-header"]],ngContentSelectors:l5,decls:1,vars:0,template:function(e,n){1&e&&(vu(),qo(0))},encapsulation:2}),t}(),Dh=function(){var t=function(){function r(e){g(this,r),this.template=e}return C(r,[{key:"getType",value:function(){return this.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ei))},t.\u0275dir=se({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t}(),kh=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}(),n_=function(){var t=function(){function r(e,n,i){g(this,r),this.el=e,this.zone=n,this.config=i}return C(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){n.create(),n.mouseDownListener=n.onMouseDown.bind(n),n.el.nativeElement.addEventListener("mousedown",n.mouseDownListener)})}},{key:"onMouseDown",value:function(n){var i=this.getInk();if(i&&"none"!==getComputedStyle(i,null).display){if(re.removeClass(i,"p-ink-active"),!re.getHeight(i)&&!re.getWidth(i)){var a=Math.max(re.getOuterWidth(this.el.nativeElement),re.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}var o=re.getOffset(this.el.nativeElement),s=n.pageX-o.left+document.body.scrollTop-re.getWidth(i)/2,u=n.pageY-o.top+document.body.scrollLeft-re.getHeight(i)/2;i.style.top=u+"px",i.style.left=s+"px",re.addClass(i,"p-ink-active")}}},{key:"getInk",value:function(){for(var n=0;n<this.el.nativeElement.children.length;n++)if(-1!==this.el.nativeElement.children[n].className.indexOf("p-ink"))return this.el.nativeElement.children[n];return null}},{key:"resetInk",value:function(){var n=this.getInk();n&&re.removeClass(n,"p-ink-active")}},{key:"onAnimationEnd",value:function(n){re.removeClass(n.currentTarget,"p-ink-active")}},{key:"create",value:function(){var n=document.createElement("span");n.className="p-ink",this.el.nativeElement.appendChild(n),this.animationListener=this.onAnimationEnd.bind(this),n.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var n=this.getInk();n&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),n.removeEventListener("animationend",this.animationListener),re.removeElement(n))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(lt),T(Nc,8))},t.\u0275dir=se({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t}(),Ih=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}(),v5=function(){var t=function(){function r(e){g(this,r),this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}return C(r,[{key:"ngAfterViewInit",value:function(){this._initialStyleClass=this.el.nativeElement.className,re.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();var n=document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",this.label?n.appendChild(document.createTextNode(this.label)):n.innerHTML="&nbsp;",this.el.nativeElement.appendChild(n),this.initialized=!0}},{key:"getStyleClass",value:function(){var n="p-button p-component";return this.icon&&!this.label&&(n+=" p-button-icon-only"),this.loading&&(n+=" p-disabled p-button-loading",!this.icon&&this.label&&(n+=" p-button-loading-label-only")),n}},{key:"setStyleClass",value:function(){var n=this.getStyleClass();this.el.nativeElement.className=n+" "+this._initialStyleClass}},{key:"createIconEl",value:function(){var n=document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");var i=this.label?"p-button-icon-"+this.iconPos:null;i&&re.addClass(n,i);var a=this.getIconClass();a&&re.addMultipleClasses(n,a);var o=re.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(n,o):this.el.nativeElement.appendChild(n)}},{key:"getIconClass",value:function(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}},{key:"setIconClass",value:function(){var n=re.findSingle(this.el.nativeElement,".p-button-icon");n?n.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}},{key:"removeIconElement",value:function(){var n=re.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(n)}},{key:"label",get:function(){return this._label},set:function(n){this._label=n,this.initialized&&(re.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(n){this._icon=n,this.initialized&&(this.setIconClass(),this.setStyleClass())}},{key:"loading",get:function(){return this._loading},set:function(n){this._loading=n,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}},{key:"ngOnDestroy",value:function(){this.initialized=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt))},t.\u0275dir=se({type:t,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t}(),p5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir,Ih]]}),t}();function Ah(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return y5(t)?Number(t):r}function y5(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}var _5=["addListener","removeListener"],C5=["addEventListener","removeEventListener"],E5=["on","off"];function Hu(t,r,e,n){if(x(e)&&(n=e,e=void 0),n)return Hu(t,r,e).pipe(bm(n));var a=ge(function(t){return x(t.addEventListener)&&x(t.removeEventListener)}(t)?C5.map(function(u){return function(l){return t[u](r,l,e)}}):function(t){return x(t.addListener)&&x(t.removeListener)}(t)?_5.map(gA(t,r)):function(t){return x(t.on)&&x(t.off)}(t)?E5.map(gA(t,r)):[],2),o=a[0],s=a[1];if(!o&&rp(t))return an(function(u){return Hu(u,r,e)})(yr(t));if(!o)throw new TypeError("Invalid event target");return new nt(function(u){var l=function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return u.next(1<d.length?d:d[0])};return o(l),function(){return s(l)}})}function gA(t,r){return function(e){return function(n){return t[e](r,n)}}}var T5=function(t){R(e,t);var r=w(e);function e(n,i){return g(this,e),r.call(this)}return C(e,[{key:"schedule",value:function(i){return this}}]),e}(ye),Oh={setInterval:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Oh.delegate;return((null==t?void 0:t.setInterval)||setInterval).apply(void 0,arguments)}),clearInterval:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=Oh.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(t)}),delegate:void 0},r_=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a.pending=!1,a}return C(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(s,this.id,a),this}},{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Oh.setInterval(i.flush.bind(i,this),o)}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&this.delay===o&&!1===this.pending)return a;Oh.clearInterval(a)}},{key:"execute",value:function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(i,a);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,a){var s,o=!1;try{this.work(i)}catch(u){o=!0,s=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}},{key:"unsubscribe",value:function(){if(!this.closed){var i=this.id,a=this.scheduler,o=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Z(o,this),null!=i&&(this.id=this.recycleAsyncId(a,i,null)),this.delay=null,De(Ne(e.prototype),"unsubscribe",this).call(this)}}}]),e}(T5),Lc={schedule:function(r){var e=requestAnimationFrame,n=cancelAnimationFrame,i=Lc.delegate;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);var a=e(function(o){n=void 0,r(o)});return new ye(function(){return null==n?void 0:n(a)})},requestAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Lc.delegate;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Lc.delegate;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0},D5=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return C(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?De(Ne(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Lc.requestAnimationFrame(function(){return i.flush(void 0)})))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return De(Ne(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Lc.cancelAnimationFrame(a),i._scheduled=void 0)}}]),e}(r_),i_={now:function(){return(i_.delegate||Date).now()},delegate:void 0},a_=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;g(this,t),this.schedulerActionCtor=r,this.now=e}return C(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,e).schedule(i,n)}}]),t}();a_.now=i_.now;var s_,o_=function(t){R(e,t);var r=w(e);function e(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a_.now;return g(this,e),(i=r.call(this,n,a)).actions=[],i._active=!1,i._scheduled=void 0,i}return C(e,[{key:"flush",value:function(i){var a=this.actions;if(this._active)a.push(i);else{var o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=a.shift());if(this._active=!1,o){for(;i=a.shift();)i.unsubscribe();throw o}}}}]),e}(a_),k5=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return C(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(o_),I5=new k5(D5),A5=1,Rh={};function yA(t){return t in Rh&&(delete Rh[t],!0)}var O5=function(r){var e=A5++;return Rh[e]=!0,s_||(s_=Promise.resolve()),s_.then(function(){return yA(e)&&r()}),e},R5=function(r){yA(r)},Mh={setImmediate:function(){var r=Mh.delegate;return((null==r?void 0:r.setImmediate)||O5).apply(void 0,arguments)},clearImmediate:function(r){var e=Mh.delegate;return((null==e?void 0:e.clearImmediate)||R5)(r)},delegate:void 0},M5=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return C(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?De(Ne(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Mh.setImmediate(i.flush.bind(i,void 0))))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return De(Ne(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Mh.clearImmediate(a),i._scheduled=void 0)}}]),e}(r_),P5=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return C(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(o_),x5=new P5(M5);function _A(t){return!!t&&(t instanceof nt||x(t.lift)&&x(t.subscribe))}function N5(t,r){return t===r}var CA=new o_(r_),EA=CA;function L5(t){return Lt(function(r,e){var n=!1,i=null,a=null,o=!1,s=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var c=i;i=null,e.next(c)}o&&e.complete()},u=function(){a=null,o&&e.complete()};r.subscribe(new Tt(e,function(l){n=!0,i=l,a||yr(t(l)).subscribe(a=new Tt(e,s,u))},function(){o=!0,(!n||!a||a.closed)&&e.complete()}))})}function V5(t){return t instanceof Date&&!isNaN(t)}function bA(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EA,n=-1;return null!=r&&(LE(r)?e=r:n=r),new nt(function(i){var a=V5(t)?+t-e.now():t;a<0&&(a=0);var o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},a)})}function u_(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EA;return L5(function(){return bA(t,r)})}function lo(t){return Lt(function(r,e){yr(t).subscribe(new Tt(e,function(){return e.complete()},gr)),!e.closed&&r.subscribe(e)})}var l_,U5=function(t){R(e,t);var r=w(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i_;return g(this,e),(n=r.call(this))._bufferSize=i,n._windowTime=a,n._timestampProvider=o,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=a===1/0,n._bufferSize=Math.max(1,i),n._windowTime=Math.max(1,a),n}return C(e,[{key:"next",value:function(i){var o=this._buffer,s=this._infiniteTimeWindow,u=this._timestampProvider,l=this._windowTime;this.isStopped||(o.push(i),!s&&o.push(u.now()+l)),this._trimBuffer(),De(Ne(e.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(i),o=this._infiniteTimeWindow,u=this._buffer.slice(),l=0;l<u.length&&!i.closed;l+=o?1:2)i.next(u[l]);return this._checkFinalizedStatuses(i),a}},{key:"_trimBuffer",value:function(){var i=this._bufferSize,a=this._timestampProvider,o=this._buffer,s=this._infiniteTimeWindow,u=(s?1:2)*i;if(i<1/0&&u<o.length&&o.splice(0,o.length-u),!s){for(var l=a.now(),c=0,f=1;f<o.length&&o[f]<=l;f+=2)c=f;c&&o.splice(0,c+1)}}}]),e}(it);try{l_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){l_=!1}var xh,ls,Ph=function(){var t=function r(e){g(this,r),this._platformId=e,this.isBrowser=this._platformId?dm(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!l_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return t.\u0275fac=function(e){return new(e||t)(U(io))},t.\u0275prov=J({factory:function(){return new t(U(io))},token:t,providedIn:"root"}),t}(),j5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({}),t}();function Bc(){if("object"!=typeof document||!document)return 0;if(null==xh){var t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";var e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),xh=0,0===t.scrollLeft&&(t.scrollLeft=1,xh=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return xh}"undefined"!=typeof window&&window;var SA=new Ae("cdk-dir-doc",{providedIn:"root",factory:function(){return EF(xt)}}),f_=function(){var t=function(){function r(e){if(g(this,r),this.value="ltr",this.change=new we,e){var a=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===a||"rtl"===a?a:"ltr"}}return C(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(SA,8))},t.\u0275prov=J({factory:function(){return new t(U(SA,8))},token:t,providedIn:"root"}),t}(),TA=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({}),t}(),K5=function t(){g(this,t)},Z5=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this))._data=n,i}return C(e,[{key:"connect",value:function(){return _A(this._data)?this._data:Ee(this._data)}},{key:"disconnect",value:function(){}}]),e}(K5),X5=function(){function t(){g(this,t),this.viewCacheSize=20,this._viewCache=[]}return C(t,[{key:"applyChanges",value:function(e,n,i,a,o){var s=this;e.forEachOperation(function(u,l,c){var f,d;null==u.previousIndex?d=(f=s._insertView(function(){return i(u,l,c)},c,n,a(u)))?1:0:null==c?(s._detachAndCacheView(l,n),d=3):(f=s._moveView(l,c,n,a(u)),d=2),o&&o({context:null==f?void 0:f.context,operation:d,record:u})})}},{key:"detach",value:function(){var n,e=B(this._viewCache);try{for(e.s();!(n=e.n()).done;)n.value.destroy()}catch(a){e.e(a)}finally{e.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,n,i,a){var o=this._insertViewFromCache(n,i);if(!o){var s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}o.context.$implicit=a}},{key:"_detachAndCacheView",value:function(e,n){var i=n.detach(e);this._maybeCacheView(i,n)}},{key:"_moveView",value:function(e,n,i,a){var o=i.get(e);return i.move(o,n),o.context.$implicit=a,o}},{key:"_maybeCacheView",value:function(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var i=n.indexOf(e);-1===i?e.destroy():n.remove(i)}}},{key:"_insertViewFromCache",value:function(e,n){var i=this._viewCache.pop();return i&&n.insert(i,e),i||null}}]),t}(),DA=new Ae("_ViewRepeater"),Q5=["contentWrapper"],$5=["*"],kA=new Ae("VIRTUAL_SCROLL_STRATEGY"),J5=function(){function t(r,e,n){g(this,t),this._scrolledIndexChange=new it,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa;return t=null!=t?t:N5,Lt(function(e,n){var i,a=!0;e.subscribe(new Tt(n,function(o){var s=r(o);(a||!t(i,s))&&(a=!1,i=s,n.next(o))}))})}()),this._viewport=null,this._itemSize=r,this._minBufferPx=e,this._maxBufferPx=n}return C(t,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}},{key:"_updateTotalContentSize",value:function(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),a=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>a){var u=Math.ceil(i/this._itemSize),l=Math.max(0,Math.min(s,a-u));s!=l&&(s=l,o=l*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(a,n.start+u))}var c=o-n.start*this._itemSize;if(c<this._minBufferPx&&0!=n.start){var f=Math.ceil((this._maxBufferPx-c)/this._itemSize);n.start=Math.max(0,n.start-f),n.end=Math.min(a,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{var d=n.end*this._itemSize-(o+i);if(d<this._minBufferPx&&n.end!=a){var h=Math.ceil((this._maxBufferPx-d)/this._itemSize);h>0&&(n.end=Math.min(a,n.end+h),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}}}]),t}();function e6(t){return t._scrollStrategy}var t6=function(){var t=function(){function r(){g(this,r),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new J5(this.itemSize,this.minBufferPx,this.maxBufferPx)}return C(r,[{key:"itemSize",get:function(){return this._itemSize},set:function(n){this._itemSize=Ah(n)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(n){this._minBufferPx=Ah(n)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(n){this._maxBufferPx=Ah(n)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=se({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ut([{provide:kA,useFactory:e6,deps:[st(function(){return t})]}]),Tn]}),t}(),IA=function(){var t=function(){function r(e,n,i){g(this,r),this._ngZone=e,this._platform=n,this._scrolled=new it,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return C(r,[{key:"register",value:function(n){var i=this;this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(function(){return i._scrolled.next(n)}))}},{key:"deregister",value:function(n){var i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}},{key:"scrolled",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new nt(function(a){n._globalSubscription||n._addGlobalListener();var o=i>0?n._scrolled.pipe(u_(i)).subscribe(a):n._scrolled.subscribe(a);return n._scrolledCount++,function(){o.unsubscribe(),n._scrolledCount--,n._scrolledCount||n._removeGlobalListener()}}):Ee()}},{key:"ngOnDestroy",value:function(){var n=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(i,a){return n.deregister(a)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(n,i){var a=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Dn(function(o){return!o||a.indexOf(o)>-1}))}},{key:"getAncestorScrollContainers",value:function(n){var i=this,a=[];return this.scrollContainers.forEach(function(o,s){i._scrollableContainsElement(s,n)&&a.push(s)}),a}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(n,i){var a=function(t){return t instanceof Pt?t.nativeElement:t}(i),o=n.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var n=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Hu(n._getWindow().document,"scroll").subscribe(function(){return n._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(lt),U(Ph),U(xt,8))},t.\u0275prov=J({factory:function(){return new t(U(lt),U(Ph),U(xt,8))},token:t,providedIn:"root"}),t}(),AA=function(){var t=function(){function r(e,n,i,a){var o=this;g(this,r),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new it,this._elementScrolled=new nt(function(s){return o.ngZone.runOutsideAngular(function(){return Hu(o.elementRef.nativeElement,"scroll").pipe(lo(o._destroyed)).subscribe(s)})})}return C(r,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(n){var i=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),a&&0!=Bc()?(null!=n.left&&(n.right=i.scrollWidth-i.clientWidth-n.left),2==Bc()?n.left=n.right:1==Bc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}},{key:"_applyScrollToOptions",value:function(n){var i=this.elementRef.nativeElement;!function(){if(null==ls){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ls=!1;if("scrollBehavior"in document.documentElement.style)ls=!0;else{var t=Element.prototype.scrollTo;ls=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ls}()?(null!=n.top&&(i.scrollTop=n.top),null!=n.left&&(i.scrollLeft=n.left)):i.scrollTo(n)}},{key:"measureScrollOffset",value:function(n){var i="left",a="right",o=this.elementRef.nativeElement;if("top"==n)return o.scrollTop;if("bottom"==n)return o.scrollHeight-o.clientHeight-o.scrollTop;var s=this.dir&&"rtl"==this.dir.value;return"start"==n?n=s?a:i:"end"==n&&(n=s?i:a),s&&2==Bc()?n==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Bc()?n==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(IA),T(lt),T(f_,8))},t.\u0275dir=se({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t}(),i6=function(){var t=function(){function r(e,n,i){var a=this;g(this,r),this._platform=e,this._change=new it,this._changeListener=function(o){a._change.next(o)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var o=a._getWindow();o.addEventListener("resize",a._changeListener),o.addEventListener("orientationchange",a._changeListener)}a.change().subscribe(function(){return a._viewportSize=null})})}return C(r,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}},{key:"getViewportRect",value:function(){var n=this.getViewportScrollPosition(),i=this.getViewportSize(),a=i.width,o=i.height;return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+a,height:o,width:a}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=this._document,i=this._getWindow(),a=n.documentElement,o=a.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||n.body.scrollLeft||i.scrollX||a.scrollLeft||0}}},{key:"change",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return n>0?this._change.pipe(u_(n)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(Ph),U(lt),U(xt,8))},t.\u0275prov=J({factory:function(){return new t(U(Ph),U(lt),U(xt,8))},token:t,providedIn:"root"}),t}(),o6="undefined"!=typeof requestAnimationFrame?I5:x5,d_=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a,o,s,u,l,c){var f;return g(this,n),(f=e.call(this,i,l,o,u)).elementRef=i,f._changeDetectorRef=a,f._scrollStrategy=s,f._detachedSubject=new it,f._renderedRangeSubject=new it,f._orientation="vertical",f._appendOnly=!1,f.scrolledIndexChange=new nt(function(d){return f._scrollStrategy.scrolledIndexChange.subscribe(function(h){return Promise.resolve().then(function(){return f.ngZone.run(function(){return d.next(h)})})})}),f.renderedRangeStream=f._renderedRangeSubject,f._totalContentSize=0,f._totalContentWidth="",f._totalContentHeight="",f._renderedRange={start:0,end:0},f._dataLength=0,f._viewportSize=0,f._renderedContentOffset=0,f._renderedContentOffsetNeedsRewrite=!1,f._isChangeDetectionPending=!1,f._runAfterChangeDetection=[],f._viewportChanges=ye.EMPTY,f._viewportChanges=c.change().subscribe(function(){f.checkViewportSize()}),f}return C(n,[{key:"orientation",get:function(){return this._orientation},set:function(a){this._orientation!==a&&(this._orientation=a,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(a){this._appendOnly=function(t){return null!=t&&"false"!=="".concat(t)}(a)}},{key:"ngOnInit",value:function(){var a=this;De(Ne(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){a._measureViewportSize(),a._scrollStrategy.attach(a),a.elementScrolled().pipe(wm(null),u_(0,o6)).subscribe(function(){return a._scrollStrategy.onContentScrolled()}),a._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),De(Ne(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(a){var o=this;this.ngZone.runOutsideAngular(function(){o._forOf=a,o._forOf.dataStream.pipe(lo(o._detachedSubject)).subscribe(function(s){var u=s.length;u!==o._dataLength&&(o._dataLength=u,o._scrollStrategy.onDataLengthChanged()),o._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(a){this._totalContentSize!==a&&(this._totalContentSize=a,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(a){var o=this;(function(t,r){return t.start==r.start&&t.end==r.end})(this._renderedRange,a)||(this.appendOnly&&(a={start:0,end:Math.max(this._renderedRange.end,a.end)}),this._renderedRangeSubject.next(this._renderedRange=a),this._markChangeDetectionNeeded(function(){return o._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(a){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",u=this.dir&&"rtl"==this.dir.value,l="horizontal"==this.orientation,c=l?"X":"Y",f=l&&u?-1:1,d="translate".concat(c,"(").concat(Number(f*a),"px)");this._renderedContentOffset=a,"to-end"===s&&(d+=" translate".concat(c,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=d&&(this._renderedContentTransform=d,this._markChangeDetectionNeeded(function(){o._renderedContentOffsetNeedsRewrite?(o._renderedContentOffset-=o.measureRenderedContentSize(),o._renderedContentOffsetNeedsRewrite=!1,o.setRenderedContentOffset(o._renderedContentOffset)):o._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",s={behavior:o};"horizontal"===this.orientation?s.start=a:s.top=a,this.scrollTo(s)}},{key:"scrollToIndex",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(a,o)}},{key:"measureScrollOffset",value:function(a){return a?De(Ne(n.prototype),"measureScrollOffset",this).call(this,a):De(Ne(n.prototype),"measureScrollOffset",this).call(this,"horizontal"===this.orientation?"start":"top")}},{key:"measureRenderedContentSize",value:function(){var a=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?a.offsetWidth:a.offsetHeight}},{key:"measureRangeSize",value:function(a){return this._forOf?this._forOf.measureRangeSize(a,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var a=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?a.clientWidth:a.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(a){var o=this;a&&this._runAfterChangeDetection.push(a),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){o._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var a=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return a._changeDetectorRef.markForCheck()});var o=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var u,s=B(o);try{for(s.s();!(u=s.n()).done;)(0,u.value)()}catch(c){s.e(c)}finally{s.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}}]),n}(AA);return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(Kr),T(lt),T(kA,8),T(f_,8),T(IA),T(i6))},t.\u0275cmp=ln({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){var i;1&e&&bi(Q5,7),2&e&&Cn(i=En())&&(n._contentWrapper=i.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&Ko("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ut([{provide:AA,useExisting:t}]),Ct],ngContentSelectors:$5,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(vu(),A(0,"div",0,1),qo(2),O(),jt(3,"div",2)),2&e&&(N(3),pd("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t}();function OA(t,r,e){if(!e.getBoundingClientRect)return 0;var i=e.getBoundingClientRect();return"horizontal"===t?"start"===r?i.left:i.right:"start"===r?i.top:i.bottom}var s6=function(){var t=function(){function r(e,n,i,a,o,s){var u=this;g(this,r),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewRepeater=a,this._viewport=o,this.viewChange=new it,this._dataSourceChanges=new it,this.dataStream=this._dataSourceChanges.pipe(wm(null),Lt(function(t,r){var e,n=!1;t.subscribe(new Tt(r,function(i){var a=e;e=i,n&&r.next([a,i]),n=!0}))}),Jr(function(l){var c=ge(l,2);return u._changeDataSource(c[0],c[1])}),function(t,r,e){var a,o=!1;return a=1,jE({connector:function(){return new U5(a,r,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new it,this.dataStream.subscribe(function(l){u._data=l,u._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(lo(this._destroyed)).subscribe(function(l){u._renderedRange=l,s.run(function(){return u.viewChange.next(u._renderedRange)}),u._onRenderedDataChange()}),this._viewport.attach(this)}return C(r,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(n){this._cdkVirtualForOf=n,function(t){return t&&"function"==typeof t.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new Z5(_A(n)?n:Array.from(n||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(n){var i=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?function(a,o){return n(a+(i._renderedRange?i._renderedRange.start:0),o)}:void 0}},{key:"cdkVirtualForTemplate",set:function(n){n&&(this._needsUpdate=!0,this._template=n)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(n){this._viewRepeater.viewCacheSize=Ah(n)}},{key:"measureRangeSize",value:function(n,i){if(n.start>=n.end)return 0;for(var s,u,a=n.start-this._renderedRange.start,o=n.end-n.start,l=0;l<o;l++){var c=this._viewContainerRef.get(l+a);if(c&&c.rootNodes.length){s=u=c.rootNodes[0];break}}for(var f=o-1;f>-1;f--){var d=this._viewContainerRef.get(f+a);if(d&&d.rootNodes.length){u=d.rootNodes[d.rootNodes.length-1];break}}return s&&u?OA(i,"end",u)-OA(i,"start",s):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var n=this;!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(function(i,a){return n.cdkVirtualForTrackBy?n.cdkVirtualForTrackBy(i,a):a})),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(n,i){return n&&n.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Ee()}},{key:"_updateContext",value:function(){for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=n,this._updateComputedContextProperties(a.context),a.detectChanges()}}},{key:"_applyChanges",value:function(n){var i=this;this._viewRepeater.applyChanges(n,this._viewContainerRef,function(u,l,c){return i._getEmbeddedViewArgs(u,c)},function(u){return u.item}),n.forEachIdentityChange(function(u){i._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});for(var a=this._data.length,o=this._viewContainerRef.length;o--;){var s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=a,this._updateComputedContextProperties(s.context)}}},{key:"_updateComputedContextProperties",value:function(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}},{key:"_getEmbeddedViewArgs",value:function(n,i){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(qr),T(Ei),T(Tu),T(DA),T(d_,4),T(lt))},t.\u0275dir=se({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ut([{provide:DA,useClass:X5}])]}),t}(),RA=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({}),t}(),MA=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[TA,j5,RA],TA,RA]}),t}(),PA=function t(){g(this,t)},u6=function t(){g(this,t)},Pa="*";function Uc(t,r){return{type:7,name:t,definitions:r,options:{}}}function fo(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:r,timings:t}}function xA(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:r}}function ni(t){return{type:6,styles:t,offset:null}}function h_(t,r,e){return{type:0,name:t,styles:r,options:e}}function xa(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:r,options:e}}function FA(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:t,options:r}}function l6(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function NA(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:t,options:r}}function c6(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:r,options:e}}function LA(t){Promise.resolve(null).then(t)}var Gu=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}return C(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;LA(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),VA=function(){function t(r){var e=this;g(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;var n=0,i=0,a=0,o=this.players.length;0==o?LA(function(){return e._onFinish()}):this.players.forEach(function(s){s.onDone(function(){++n==o&&e._onFinish()}),s.onDestroy(function(){++i==o&&e._onDestroy()}),s.onStart(function(){++a==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(s,u){return Math.max(s,u.totalTime)},0)}return C(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(n,i){return null===n||i.totalTime>n.totalTime?i:n},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),BA=function(){var t=function(){function r(e,n){g(this,r),this._renderer=e,this._elementRef=n,this.onChange=function(i){},this.onTouched=function(){}}return C(r,[{key:"setProperty",value:function(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"setDisabledState",value:function(n){this.setProperty("disabled",n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ci),T(Pt))},t.\u0275dir=se({type:t}),t}(),cs=function(){var t=function(r){R(n,r);var e=w(n);function n(){return g(this,n),e.apply(this,arguments)}return n}(BA);return t.\u0275fac=function(){var r;return function(n){return(r||(r=function(t){return Za(function(){for(var r=t.prototype.constructor,e=r[_a]||Fp(r),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==n;){var a=i[_a]||Fp(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}(t)))(n||t)}}(),t.\u0275dir=se({type:t,features:[Ct]}),t}(),Or=new Ae("NgValueAccessor"),h6={provide:Or,useExisting:st(function(){return Fh}),multi:!0},p6=new Ae("CompositionEventMode"),Fh=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a,o){var s;return g(this,n),(s=e.call(this,i,a))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function(){var t=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}()),s}return C(n,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),n}(BA);return t.\u0275fac=function(e){return new(e||t)(T(Ci),T(Pt),T(p6,8))},t.\u0275dir=se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&oe("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[ut([h6]),Ct]}),t}(),Hn=new Ae("NgValidators"),vo=new Ae("NgAsyncValidators");function jA(t){return null!=t}function GA(t){var r=Zl(t)?pn(t):t;return vd(r),r}function WA(t){var r={};return t.forEach(function(e){r=null!=e?j(j({},r),e):r}),0===Object.keys(r).length?null:r}function zA(t,r){return r.map(function(e){return e(t)})}function qA(t){return t.map(function(r){return function(t){return!t.validate}(r)?r:function(e){return r.validate(e)}})}function p_(t){return null!=t?function(t){if(!t)return null;var r=t.filter(jA);return 0==r.length?null:function(e){return WA(zA(e,r))}}(qA(t)):null}function g_(t){return null!=t?function(t){if(!t)return null;var r=t.filter(jA);return 0==r.length?null:function(e){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=VE(r),i=Hk(r),a=i.args,o=i.keys,s=new nt(function(u){var l=a.length;if(l)for(var c=new Array(l),f=l,d=l,h=function(y){var _=!1;yr(a[y]).subscribe(new Tt(u,function(m){_||(_=!0,d--),c[y]=m},function(){return f--},void 0,function(){(!f||!_)&&(d||u.next(o?jk(o,c):c),u.complete())}))},v=0;v<l;v++)h(v);else u.complete()});return n?s.pipe(bm(n)):s}(zA(e,r).map(GA)).pipe(je(WA))}}(qA(t)):null}function KA(t,r){return null===t?[r]:Array.isArray(t)?[].concat(he(t),[r]):[t,r]}function y_(t){return t?Array.isArray(t)?t:[t]:[]}function Lh(t,r){return Array.isArray(t)?t.includes(r):t===r}function XA(t,r){var e=y_(r);return y_(t).forEach(function(i){Lh(e,i)||e.push(i)}),e}function QA(t,r){return y_(r).filter(function(e){return!Lh(t,e)})}var $A=function(){function t(){g(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return C(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=p_(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g_(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,n){return!!this.control&&this.control.hasError(e,n)}},{key:"getError",value:function(e,n){return this.control?this.control.getError(e,n):null}}]),t}(),$n=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return C(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}($A),Fa=function(t){R(e,t);var r=w(e);function e(){var n;return g(this,e),(n=r.apply(this,arguments))._parent=null,n.name=null,n.valueAccessor=null,n}return e}($A),JA=function(){function t(r){g(this,t),this._cd=r}return C(t,[{key:"is",value:function(e){var n,i,a;return"submitted"===e?!(null===(a=this._cd)||void 0===a||!a.submitted):!(null===(n=this._cd)||void 0===n||null===(i=n.control)||void 0===i||!i[e])}}]),t}(),eO=function(){var t=function(r){R(n,r);var e=w(n);function n(i){return g(this,n),e.call(this,i)}return n}(JA);return t.\u0275fac=function(e){return new(e||t)(T(Fa,2))},t.\u0275dir=se({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&Ko("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[Ct]}),t}();function Hc(t,r){(function(t,r){var e=function(t){return t._rawValidators}(t);null!==r.validator?t.setValidators(KA(e,r.validator)):"function"==typeof e&&t.setValidators([e]);var n=function(t){return t._rawAsyncValidators}(t);null!==r.asyncValidator?t.setAsyncValidators(KA(n,r.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);var i=function(){return t.updateValueAndValidity()};Hh(r._rawValidators,i),Hh(r._rawAsyncValidators,i)})(t,r),r.valueAccessor.writeValue(t.value),function(t,r){r.valueAccessor.registerOnChange(function(e){t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tO(t,r)})}(t,r),function(t,r){var e=function(i,a){r.valueAccessor.writeValue(i),a&&r.viewToModelUpdate(i)};t.registerOnChange(e),r._registerOnDestroy(function(){t._unregisterOnChange(e)})}(t,r),function(t,r){r.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tO(t,r),"submit"!==t.updateOn&&t.markAsTouched()})}(t,r),function(t,r){if(r.valueAccessor.setDisabledState){var e=function(i){r.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),r._registerOnDestroy(function(){t._unregisterOnDisabledChange(e)})}}(t,r)}function Hh(t,r){t.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function tO(t,r){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gh(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var jc="VALID",Wh="INVALID",Wu="PENDING",Gc="DISABLED";function w_(t){return(T_(t)?t.validators:t)||null}function iO(t){return Array.isArray(t)?p_(t):t||null}function S_(t,r){return(T_(r)?r.asyncValidators:t)||null}function aO(t){return Array.isArray(t)?g_(t):t||null}function T_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var D_=function(){function t(r,e){g(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=iO(this._rawValidators),this._composedAsyncValidatorFn=aO(this._rawAsyncValidators)}return C(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===jc}},{key:"invalid",get:function(){return this.status===Wh}},{key:"pending",get:function(){return this.status==Wu}},{key:"disabled",get:function(){return this.status===Gc}},{key:"enabled",get:function(){return this.status!==Gc}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=iO(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=aO(e)}},{key:"addValidators",value:function(e){this.setValidators(XA(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(XA(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(QA(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(QA(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Lh(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Lh(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(n){n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(n){n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this.errors=null,this._forEachChild(function(i){i.disable(j(j({},e),{},{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(j({},e),{},{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(function(i){i.enable(j(j({},e),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(j({},e),{},{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===Wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(n){return n._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Gc:jc}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var n=this;if(this.asyncValidator){this.status=Wu,this._hasOwnPendingAsyncValidator=!0;var i=GA(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){n._hasOwnPendingAsyncValidator=!1,n.setErrors(a,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}},{key:"get",value:function(e){return function(t,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;var n=t;return r.forEach(function(i){n=n instanceof k_?n.controls.hasOwnProperty(i)?n.controls[i]:null:n instanceof U6&&n.at(i)||null}),n}(this,e)}},{key:"getError",value:function(e,n){var i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,n){return!!this.getError(e,n)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new we,this.statusChanges=new we}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Gc:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wu)?Wu:this._anyControlsHaveStatus(Wh)?Wh:jc}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(n){return n.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){T_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),zh=function(t){R(e,t);var r=w(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return g(this,e),(n=r.call(this,w_(a),S_(o,a)))._onChange=[],n._applyFormState(i),n._setUpdateStrategy(a),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!!n.asyncValidator}),n}return C(e,[{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(function(s){return s(a.value,!1!==o.emitViewToModelChange)}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){Gh(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){Gh(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),e}(D_),k_=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,w_(i),S_(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return C(e,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),Object.keys(i).forEach(function(s){a._throwIfControlMissing(s),a.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(s){a.controls[s]&&a.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,o){return i[o]=a instanceof zh?a.value:a.getRawValue(),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,o){return!!o._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error("Cannot find form control with name: ".concat(i,"."))}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(o){var s=a.controls[o];s&&i(s,o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,o=Object.keys(this.controls);a<o.length;a++){var s=o[a],u=this.controls[s];if(this.contains(s)&&i(u))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,o,s){return(o.enabled||i.disabled)&&(a[s]=o.value),a})}},{key:"_reduceChildren",value:function(i,a){var o=i;return this._forEachChild(function(s,u){o=a(o,s,u)}),o}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control with name: '".concat(o,"'."))})}}]),e}(D_),U6=function(t){R(e,t);var r=w(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,w_(i),S_(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return C(e,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),i.forEach(function(s,u){a._throwIfControlMissing(u),a.at(u).setValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(s,u){a.at(u)&&a.at(u).patchValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return i instanceof zh?i.value:i.getRawValue()})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,o){return!!o._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error("Cannot find form control at index ".concat(i))}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,o){i(a,o)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control at index: ".concat(o,"."))})}},{key:"_allControlsDisabled",value:function(){var a,i=B(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(s){i.e(s)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),e}(D_),G6={provide:Fa,useExisting:st(function(){return qh})},uO=function(){return Promise.resolve(null)}(),qh=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a,o,s){var u;return g(this,n),(u=e.call(this)).control=new zh,u._registered=!1,u.update=new we,u._parent=i,u._setValidators(a),u._setAsyncValidators(o),u.valueAccessor=function(t,r){if(!r)return null;Array.isArray(r);var e=void 0,n=void 0,i=void 0;return r.forEach(function(a){a.constructor===Fh?e=a:function(t){return Object.getPrototypeOf(t.constructor)===cs}(a)?n=a:i=a}),i||n||e||null}(Ot(u),s),u}return C(n,[{key:"ngOnChanges",value:function(a){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in a&&this._updateDisabled(a),function(t,r){if(!t.hasOwnProperty("model"))return!1;var e=t.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(t,r){return[].concat(he(r.path),[t])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;uO.then(function(){o.control.setValue(a,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=""===s||s&&"false"!==s;uO.then(function(){u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable()})}}]),n}(Fa);return t.\u0275fac=function(e){return new(e||t)(T($n,9),T(Hn,10),T(vo,10),T(Or,10))},t.\u0275dir=se({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([G6]),Ct,Tn]}),t}(),cO=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({}),t}(),vq=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[cO]]}),t}(),pq=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[vq]}),t}(),gq=function(){var t=function(){function r(e,n,i){g(this,r),this.el=e,this.zone=n,this.config=i,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}return C(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=n,this.deactivate()}},{key:"ngAfterViewInit",value:function(){var n=this;this.zone.runOutsideAngular(function(){"hover"===n.getOption("tooltipEvent")?(n.mouseEnterListener=n.onMouseEnter.bind(n),n.mouseLeaveListener=n.onMouseLeave.bind(n),n.clickListener=n.onClick.bind(n),n.el.nativeElement.addEventListener("mouseenter",n.mouseEnterListener),n.el.nativeElement.addEventListener("mouseleave",n.mouseLeaveListener),n.el.nativeElement.addEventListener("click",n.clickListener)):"focus"===n.getOption("tooltipEvent")&&(n.focusListener=n.onFocus.bind(n),n.blurListener=n.onBlur.bind(n),n.el.nativeElement.addEventListener("focus",n.focusListener),n.el.nativeElement.addEventListener("blur",n.blurListener))})}},{key:"ngOnChanges",value:function(n){n.tooltipPosition&&this.setOption({tooltipPosition:n.tooltipPosition.currentValue}),n.tooltipEvent&&this.setOption({tooltipEvent:n.tooltipEvent.currentValue}),n.appendTo&&this.setOption({appendTo:n.appendTo.currentValue}),n.positionStyle&&this.setOption({positionStyle:n.positionStyle.currentValue}),n.tooltipStyleClass&&this.setOption({tooltipStyleClass:n.tooltipStyleClass.currentValue}),n.tooltipZIndex&&this.setOption({tooltipZIndex:n.tooltipZIndex.currentValue}),n.escape&&this.setOption({escape:n.escape.currentValue}),n.showDelay&&this.setOption({showDelay:n.showDelay.currentValue}),n.hideDelay&&this.setOption({hideDelay:n.hideDelay.currentValue}),n.life&&this.setOption({life:n.life.currentValue}),n.positionTop&&this.setOption({positionTop:n.positionTop.currentValue}),n.positionLeft&&this.setOption({positionLeft:n.positionLeft.currentValue}),n.disabled&&this.setOption({disabled:n.disabled.currentValue}),n.text&&(this.setOption({tooltipLabel:n.text.currentValue}),this.active&&(n.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),n.tooltipOptions&&(this._tooltipOptions=j(j({},this._tooltipOptions),n.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}},{key:"onMouseEnter",value:function(n){!this.container&&!this.showTimeout&&this.activate()}},{key:"onMouseLeave",value:function(n){this.deactivate()}},{key:"onFocus",value:function(n){this.activate()}},{key:"onBlur",value:function(n){this.deactivate()}},{key:"onClick",value:function(n){this.deactivate()}},{key:"activate",value:function(){var n=this;if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(function(){n.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){var i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(function(){n.hide()},i)}}},{key:"deactivate",value:function(){var n=this;this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){n.hide()},this.getOption("hideDelay"))):this.hide()}},{key:"create",value:function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var n=document.createElement("div");n.className="p-tooltip-arrow",this.container.appendChild(n),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?re.appendChild(this.container,this.el.nativeElement):re.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}},{key:"show",value:function(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),re.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ti.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}},{key:"hide",value:function(){"auto"===this.getOption("tooltipZIndex")&&ti.clear(this.container),this.remove()}},{key:"updateText",value:function(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}},{key:"align",value:function(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}},{key:"getHostOffset",value:function(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){var n=this.el.nativeElement.getBoundingClientRect();return{left:n.left+re.getWindowScrollLeft(),top:n.top+re.getWindowScrollTop()}}return{left:0,top:0}}},{key:"alignRight",value:function(){this.preAlign("right");var n=this.getHostOffset(),i=n.left+re.getOuterWidth(this.el.nativeElement),a=n.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignLeft",value:function(){this.preAlign("left");var n=this.getHostOffset(),i=n.left-re.getOuterWidth(this.container),a=n.top+(re.getOuterHeight(this.el.nativeElement)-re.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignTop",value:function(){this.preAlign("top");var n=this.getHostOffset(),i=n.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,a=n.top-re.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignBottom",value:function(){this.preAlign("bottom");var n=this.getHostOffset(),i=n.left+(re.getOuterWidth(this.el.nativeElement)-re.getOuterWidth(this.container))/2,a=n.top+re.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"setOption",value:function(n){this._tooltipOptions=j(j({},this._tooltipOptions),n)}},{key:"getOption",value:function(n){return this._tooltipOptions[n]}},{key:"preAlign",value:function(n){this.container.style.left="-999px",this.container.style.top="-999px";var i="p-tooltip p-component p-tooltip-"+n;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}},{key:"isOutOfBounds",value:function(){var n=this.container.getBoundingClientRect(),i=n.top,a=n.left,o=re.getOuterWidth(this.container),s=re.getOuterHeight(this.container),u=re.getViewport();return a+o>u.width||a<0||i<0||i+s>u.height}},{key:"onWindowResize",value:function(n){this.hide()}},{key:"bindDocumentResizeListener",value:function(){var n=this;this.zone.runOutsideAngular(function(){n.resizeListener=n.onWindowResize.bind(n),window.addEventListener("resize",n.resizeListener)})}},{key:"unbindDocumentResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new dA(this.el.nativeElement,function(){n.container&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindEvents",value:function(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}},{key:"remove",value:function(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):re.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}},{key:"clearShowTimeout",value:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}},{key:"clearHideTimeout",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout()}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.container&&ti.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(lt),T(Nc))},t.\u0275dir=se({type:t,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Tn]}),t}(),yq=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}();function mq(t,r){if(1&t&&(A(0,"span"),gt(1),O()),2&t){var e=H();N(1),_i(e.label||"empty")}}function _q(t,r){1&t&&or(0)}var IO=function(r){return{height:r}},Cq=function(r,e){return{"p-dropdown-item":!0,"p-highlight":r,"p-disabled":e}},F_=function(r){return{$implicit:r}},Eq=["container"],bq=["filter"],wq=["in"],Sq=["editableInput"];function Tq(t,r){if(1&t&&(pi(0),gt(1),gi()),2&t){var e=H(2);N(1),_i(e.label||"empty")}}function Dq(t,r){1&t&&or(0)}var kq=function(r){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":r}};function Iq(t,r){if(1&t&&(A(0,"span",12),ue(1,Tq,2,1,"ng-container",13),ue(2,Dq,1,0,"ng-container",14),O()),2&t){var e=H();P("ngClass",_n(9,kq,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),Et("id",e.labelId),N(1),P("ngIf",!e.selectedItemTemplate),N(1),P("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",_n(11,F_,e.selectedOption))}}var Aq=function(r){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":r}};function Oq(t,r){if(1&t&&(A(0,"span",15),gt(1),O()),2&t){var e=H();P("ngClass",_n(2,Aq,null==e.placeholder||0===e.placeholder.length)),N(1),_i(e.placeholder||"empty")}}function Rq(t,r){if(1&t){var e=fn();A(0,"input",16,17),oe("click",function(){return de(e),H().onEditableInputClick()})("input",function(a){return de(e),H().onEditableInputChange(a)})("focus",function(a){return de(e),H().onEditableInputFocus(a)})("blur",function(a){return de(e),H().onInputBlur(a)}),O()}if(2&t){var n=H();P("disabled",n.disabled),Et("maxlength",n.maxlength)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)}}function Mq(t,r){if(1&t){var e=fn();A(0,"i",18),oe("click",function(i){return de(e),H().clear(i)}),O()}}function Pq(t,r){1&t&&or(0)}function xq(t,r){if(1&t){var e=fn();A(0,"div",26),A(1,"div",27),oe("click",function(a){return a.stopPropagation()}),A(2,"input",28,29),oe("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return de(e),H(2).onKeydown(a,!1)})("input",function(a){return de(e),H(2).onFilterInputChange(a)}),O(),jt(4,"span",30),O(),O()}if(2&t){var n=H(2);N(2),P("value",n.filterValue||""),Et("placeholder",n.filterPlaceholder)("aria-label",n.ariaFilterLabel)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId)}}function Fq(t,r){if(1&t&&(A(0,"span"),gt(1),O()),2&t){var e=H().$implicit,n=H(3);N(1),_i(n.getOptionGroupLabel(e)||"empty")}}function Nq(t,r){1&t&&or(0)}function Lq(t,r){1&t&&or(0)}var AO=function(r,e){return{$implicit:r,selectedOption:e}};function Vq(t,r){if(1&t&&(A(0,"li",32),ue(1,Fq,2,1,"span",13),ue(2,Nq,1,0,"ng-container",14),O(),ue(3,Lq,1,0,"ng-container",14)),2&t){var e=r.$implicit;H(2);var n=Sa(8),i=H();N(1),P("ngIf",!i.groupTemplate),N(1),P("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",_n(5,F_,e)),N(1),P("ngTemplateOutlet",n)("ngTemplateOutletContext",Xo(7,AO,i.getOptionGroupChildren(e),i.selectedOption))}}function Bq(t,r){if(1&t&&(pi(0),ue(1,Vq,4,10,"ng-template",31),gi()),2&t){var e=H(2);N(1),P("ngForOf",e.optionsToDisplay)}}function Uq(t,r){1&t&&or(0)}function Hq(t,r){if(1&t&&(pi(0),ue(1,Uq,1,0,"ng-container",14),gi()),2&t){H();var e=Sa(8),n=H();N(1),P("ngTemplateOutlet",e)("ngTemplateOutletContext",Xo(2,AO,n.optionsToDisplay,n.selectedOption))}}function jq(t,r){if(1&t){var e=fn();A(0,"p-dropdownItem",35),oe("onClick",function(s){return de(e),H(4).onItemClick(s)}),O()}if(2&t){var n=r.$implicit,i=H(2).selectedOption,a=H(2);P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function Gq(t,r){if(1&t&&(pi(0),ue(1,jq,1,5,"ng-template",31),gi()),2&t){var e=H().$implicit;N(1),P("ngForOf",e)}}function Wq(t,r){if(1&t){var e=fn();pi(0),A(1,"p-dropdownItem",35),oe("onClick",function(s){return de(e),H(5).onItemClick(s)}),O(),gi()}if(2&t){var n=r.$implicit,i=H(3).selectedOption,a=H(2);N(1),P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function zq(t,r){if(1&t){var e=fn();A(0,"cdk-virtual-scroll-viewport",37,38),oe("scrolledIndexChange",function(){return de(e),H(4).scrollToSelectedVirtualScrollElement()}),ue(2,Wq,2,5,"ng-container",39),O()}if(2&t){var n=H(2).$implicit,i=H(2);P("ngStyle",_n(3,IO,i.scrollHeight))("itemSize",i.itemSize),N(2),P("cdkVirtualForOf",n)}}function qq(t,r){if(1&t&&ue(0,zq,3,5,"cdk-virtual-scroll-viewport",36),2&t){var e=H(3);P("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function Kq(t,r){if(1&t&&(ue(0,Gq,2,1,"ng-container",33),ue(1,qq,1,1,"ng-template",null,34,Dd)),2&t){var e=Sa(2);P("ngIf",!H(2).virtualScroll)("ngIfElse",e)}}function Yq(t,r){if(1&t&&(pi(0),gt(1),gi()),2&t){var e=H(3);N(1),sr(" ",e.emptyFilterMessageLabel," ")}}function Zq(t,r){1&t&&or(0,null,41)}function Xq(t,r){if(1&t&&(A(0,"li",40),ue(1,Yq,2,1,"ng-container",33),ue(2,Zq,2,0,"ng-container",20),O()),2&t){var e=H(2);N(1),P("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),N(1),P("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Qq(t,r){if(1&t&&(pi(0),gt(1),gi()),2&t){var e=H(3);N(1),sr(" ",e.emptyMessageLabel," ")}}function $q(t,r){1&t&&or(0,null,42)}function Jq(t,r){if(1&t&&(A(0,"li",40),ue(1,Qq,2,1,"ng-container",33),ue(2,$q,2,0,"ng-container",20),O()),2&t){var e=H(2);N(1),P("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),N(1),P("ngTemplateOutlet",e.emptyTemplate)}}function eK(t,r){1&t&&or(0)}var tK=function(r,e){return{showTransitionParams:r,hideTransitionParams:e}},nK=function(r){return{value:"visible",params:r}},rK=function(r){return{"p-dropdown-virtualscroll":r}};function iK(t,r){if(1&t){var e=fn();A(0,"div",19),oe("click",function(a){return de(e),H().onOverlayClick(a)})("@overlayAnimation.start",function(a){return de(e),H().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return de(e),H().onOverlayAnimationEnd(a)}),ue(1,Pq,1,0,"ng-container",20),ue(2,xq,5,4,"div",21),A(3,"div",22),A(4,"ul",23),ue(5,Bq,2,1,"ng-container",13),ue(6,Hq,2,5,"ng-container",13),ue(7,Kq,3,2,"ng-template",null,24,Dd),ue(9,Xq,3,3,"li",25),ue(10,Jq,3,3,"li",25),O(),O(),ue(11,eK,1,0,"ng-container",20),O()}if(2&t){var n=H();kr(n.panelStyleClass),P("ngClass","p-dropdown-panel p-component")("@overlayAnimation",_n(19,nK,Xo(16,tK,n.showTransitionOptions,n.hideTransitionOptions)))("ngStyle",n.panelStyle),N(1),P("ngTemplateOutlet",n.headerTemplate),N(1),P("ngIf",n.filter),N(1),pd("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),N(1),P("ngClass",_n(21,rK,n.virtualScroll)),Et("id",n.listId),N(1),P("ngIf",n.group),N(1),P("ngIf",!n.group),N(3),P("ngIf",n.filterValue&&n.isEmpty()),N(1),P("ngIf",!n.filterValue&&n.isEmpty()),N(1),P("ngTemplateOutlet",n.footerTemplate)}}var aK=function(r,e,n,i){return{"p-dropdown p-component":!0,"p-disabled":r,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":i}},oK={provide:Or,useExisting:st(function(){return OO}),multi:!0},sK=function(){var t=function(){function r(){g(this,r),this.onClick=new we}return C(r,[{key:"onOptionClick",value:function(n){this.onClick.emit({originalEvent:n,option:this.option})}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ln({type:t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(A(0,"li",0),oe("click",function(a){return n.onOptionClick(a)}),ue(1,mq,2,1,"span",1),ue(2,_q,1,0,"ng-container",2),O()),2&e&&(P("ngStyle",_n(8,IO,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",Xo(10,Cq,n.selected,n.disabled)),Et("aria-label",n.label)("aria-selected",n.selected),N(1),P("ngIf",!n.template),N(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",_n(13,F_,n.option)))},directives:[n_,so,Qi,Qr,Ru],encapsulation:2}),t}(),OO=function(){var t=function(){function r(e,n,i,a,o,s,u){g(this,r),this.el=e,this.renderer=n,this.cd=i,this.zone=a,this.filterService=o,this.config=s,this.overlayService=u,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new we,this.onFilter=new we,this.onFocus=new we,this.onBlur=new we,this.onClick=new we,this.onShow=new we,this.onHide=new we,this.onClear=new we,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0,this.id=vA()}return C(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){n&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=n,this.cd.destroyed||this.cd.detectChanges()}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){default:n.itemTemplate=i.template;break;case"selectedItem":n.selectedItemTemplate=i.template;break;case"header":n.headerTemplate=i.template;break;case"footer":n.footerTemplate=i.template;break;case"emptyfilter":n.emptyFilterTemplate=i.template;break;case"empty":n.emptyTemplate=i.template;break;case"group":n.groupTemplate=i.template}})}},{key:"ngOnInit",value:function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}},{key:"options",get:function(){return this._options},set:function(n){this._options=n,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}},{key:"filterValue",get:function(){return this._filterValue},set:function(n){this._filterValue=n,this.activateFilter()}},{key:"ngAfterViewInit",value:function(){this.editable&&this.updateEditableLabel()}},{key:"label",get:function(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(pA.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(pA.EMPTY_FILTER_MESSAGE)}},{key:"filled",get:function(){return this.value||null!=this.value||null!=this.value}},{key:"updateEditableLabel",value:function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}},{key:"getOptionLabel",value:function(n){return this.optionLabel?$t.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}},{key:"getOptionValue",value:function(n){return this.optionValue?$t.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}},{key:"isOptionDisabled",value:function(n){return this.optionDisabled?$t.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}},{key:"getOptionGroupLabel",value:function(n){return this.optionGroupLabel?$t.resolveFieldData(n,this.optionGroupLabel):null!=n.label?n.label:n}},{key:"getOptionGroupChildren",value:function(n){return this.optionGroupChildren?$t.resolveFieldData(n,this.optionGroupChildren):n.items}},{key:"onItemClick",value:function(n){var i=this,a=n.option;this.isOptionDisabled(a)||(this.selectItem(n,a),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){i.hide()},150)}},{key:"selectItem",value:function(n,i){var a=this;this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:n.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(function(){a.viewPortOffsetTop=a.viewPort?a.viewPort.measureScrollOffset():0},1))}},{key:"ngAfterViewChecked",value:function(){var n=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){n.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}re.findSingle(this.overlay,"li.p-highlight")&&re.scrollInView(this.itemsWrapper,re.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}},{key:"writeValue",value:function(n){this.filter&&this.resetFilter(),this.value=n,this.updateSelectedOption(n),this.updateEditableLabel(),this.cd.markForCheck()}},{key:"resetFilter",value:function(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}},{key:"updateSelectedOption",value:function(n){this.selectedOption=this.findOption(n,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onMouseclick",value:function(n){this.disabled||this.readonly||this.isInputClick(n)||(this.onClick.emit(n),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}},{key:"onOverlayClick",value:function(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}},{key:"isInputClick",value:function(n){return re.hasClass(n.target,"p-dropdown-clear-icon")||n.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&n.target.isSameNode(this.editableInputViewChild.nativeElement)}},{key:"isOutsideClicked",value:function(n){return!(this.el.nativeElement.isSameNode(n.target)||this.el.nativeElement.contains(n.target)||this.overlay&&this.overlay.contains(n.target))}},{key:"isEmpty",value:function(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}},{key:"onEditableInputClick",value:function(){this.bindDocumentClickListener()}},{key:"onEditableInputFocus",value:function(n){this.focused=!0,this.hide(),this.onFocus.emit(n)}},{key:"onEditableInputChange",value:function(n){this.value=n.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}},{key:"show",value:function(){this.overlayVisible=!0}},{key:"onOverlayAnimationStart",value:function(n){switch(n.toState){case"visible":if(this.overlay=n.element,this.itemsWrapper=re.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&ti.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){var a=re.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&a.scrollIntoView({block:"nearest",inline:"start"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(n);break;case"void":this.onOverlayHide(),this.onHide.emit(n)}}},{key:"onOverlayAnimationEnd",value:function(n){"void"===n.toState&&ti.clear(n.element)}},{key:"scrollToSelectedVirtualScrollElement",value:function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}},{key:"updateVirtualScrollSelectedIndex",value:function(n){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(n&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):re.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=re.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"hide",value:function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?re.absolutePosition(this.overlay,this.containerViewChild.nativeElement):re.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onBlur.emit(n),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"findPrevEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n-1;0<=a;a--){var o=this.optionsToDisplay[a];if(!o.disabled){i=o;break}}if(!i)for(var s=this.optionsToDisplay.length-1;s>=n;s--){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"findNextEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n+1;a<this.optionsToDisplay.length;a++){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=0;s<n;s++){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"onKeydown",value:function(n,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(n.which){case 40:if(!this.overlayVisible&&n.altKey)this.show();else if(this.group){var a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){var o=a.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{var s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,u=this.findNextEnabledOption(s);u&&(this.selectItem(n,u),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 38:if(this.group){var l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==l){var c=l.itemIndex-1;if(c>=0)this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[l.groupIndex])[c]),this.selectedOptionUpdated=!0;else if(c<0){var f=this.optionsToDisplay[l.groupIndex-1];f&&(this.selectItem(n,this.getOptionGroupChildren(f)[this.getOptionGroupChildren(f).length-1]),this.selectedOptionUpdated=!0)}}}else{var d=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,h=this.findPrevEnabledOption(d);h&&(this.selectItem(n,h),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),n.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),n.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!n.metaKey&&this.search(n)}}},{key:"search",value:function(n){var i=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var o,a=n.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=a,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+a:a,this.group){var s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(s)}else{var u=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++u)}o&&!this.isOptionDisabled(o)&&(this.selectItem(n,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){i.searchValue=null},250)}},{key:"searchOption",value:function(n){var i;return this.searchValue&&((i=this.searchOptionInRange(n,this.optionsToDisplay.length))||(i=this.searchOptionInRange(0,n))),i}},{key:"searchOptionInRange",value:function(n,i){for(var a=n;a<i;a++){var o=this.optionsToDisplay[a];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}},{key:"searchOptionWithinGroup",value:function(n){if(this.searchValue){for(var a=n.groupIndex;a<this.optionsToDisplay.length;a++)for(var o=n.groupIndex===a?n.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;o++){var s=this.getOptionGroupChildren(this.optionsToDisplay[a])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(var u=0;u<=n.groupIndex;u++)for(var l=0;l<(n.groupIndex===u?n.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[u]).length);l++){var c=this.getOptionGroupChildren(this.optionsToDisplay[u])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}},{key:"findOptionIndex",value:function(n,i){var a=-1;if(i)for(var o=0;o<i.length;o++)if(null==n&&null==this.getOptionValue(i[o])||$t.equals(n,this.getOptionValue(i[o]),this.dataKey)){a=o;break}return a}},{key:"findOptionGroupIndex",value:function(n,i){var a,o;if(i)for(var s=0;s<i.length&&(a=s,-1===(o=this.findOptionIndex(n,this.getOptionGroupChildren(i[s]))));s++);return-1!==o?{groupIndex:a,itemIndex:o}:-1}},{key:"findOption",value:function(n,i,a){if(this.group&&!a){var o;if(i&&i.length){var u,s=B(i);try{for(s.s();!(u=s.n()).done&&!(o=this.findOption(n,this.getOptionGroupChildren(u.value),!0)););}catch(f){s.e(f)}finally{s.f()}}return o}var c=this.findOptionIndex(n,i);return-1!=c?i[c]:null}},{key:"onFilterInputChange",value:function(n){var i=n.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:n,filter:this._filterValue})}},{key:"activateFilter",value:function(){var n=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){var o,i=[],a=B(this.options);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.filterService.filter(this.getOptionGroupChildren(s),n,this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&i.push(j(j({},s),xn({},this.optionGroupChildren,u)))}}catch(l){a.e(l)}finally{a.f()}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,n,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}},{key:"applyFocus",value:function(){this.editable?re.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():re.findSingle(this.el.nativeElement,"input[readonly]").focus()}},{key:"focus",value:function(){this.applyFocus()}},{key:"bindDocumentClickListener",value:function(){var n=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(a){n.isOutsideClicked(a)&&(n.hide(),n.unbindDocumentClickListener()),n.cd.markForCheck()}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible&&!re.isTouchDevice()&&this.hide()}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new dA(this.containerViewChild.nativeElement,function(i){n.overlayVisible&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"clear",value:function(n){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(n)}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ti.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(Ci),T(Kr),T(lt),T(c5),T(Nc),T(f5))},t.\u0275cmp=ln({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,n,i){var a;1&e&&Da(i,Dh,4),2&e&&Cn(a=En())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&(bi(Eq,5),bi(bq,5),bi(wq,5),bi(d_,5),bi(Sq,5)),2&e&&(Cn(i=En())&&(n.containerViewChild=i.first),Cn(i=En())&&(n.filterViewChild=i.first),Cn(i=En())&&(n.accessibleViewChild=i.first),Cn(i=En())&&(n.viewPort=i.first),Cn(i=En())&&(n.editableInputViewChild=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,n){2&e&&Ko("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[ut([oK])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,n){1&e&&(A(0,"div",0,1),oe("click",function(a){return n.onMouseclick(a)}),A(2,"div",2),A(3,"input",3,4),oe("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),O(),O(),ue(5,Iq,3,13,"span",5),ue(6,Oq,2,4,"span",6),ue(7,Rq,2,4,"input",7),ue(8,Mq,1,0,"i",8),A(9,"div",9),jt(10,"span",10),O(),ue(11,iK,12,23,"div",11),O()),2&e&&(kr(n.styleClass),P("ngClass",Sd(19,aK,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),N(3),P("disabled",n.disabled),Et("id",n.inputId)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId),N(2),P("ngIf",!n.editable&&null!=n.label),N(1),P("ngIf",!n.editable&&null==n.label),N(1),P("ngIf",n.editable),N(1),P("ngIf",null!=n.value&&n.showClear&&!n.disabled),N(1),Et("aria-expanded",n.overlayVisible),N(1),P("ngClass",n.dropdownIcon),N(1),P("ngIf",n.overlayVisible))},directives:[Qi,so,Qr,gq,Ru,eh,sK,d_,t6,s6],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:normal;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Uc("overlayAnimation",[xa(":enter",[ni({opacity:0,transform:"scaleY(0.8)"}),fo("{{showTransitionParams}}")]),xa(":leave",[fo("{{hideTransitionParams}}",ni({opacity:0}))])])]},changeDetection:0}),t}(),uK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir,kh,MA,yq,Ih],kh,MA]}),t}();function lK(t,r){if(1&t&&(A(0,"div"),gt(1," Avst\xe5nd: "),A(2,"span",8),gt(3),O(),O()),2&t){var e=H(2);N(3),sr("",e.message.distance," km")}}function cK(t,r){if(1&t){var e=fn();A(0,"div",9),A(1,"div",10),oe("click",function(){de(e);var i=H(2);return i.onClickMessage(i.message)}),A(2,"span"),gt(3,"Karta"),O(),jt(4,"i",11),O(),O()}}function fK(t,r){if(1&t&&(A(0,"div",1),A(1,"div"),gt(2),O(),A(3,"div",2),gt(4),O(),A(5,"div",3),A(6,"div",4),A(7,"div"),A(8,"b"),gt(9),O(),O(),ue(10,lK,4,1,"div",5),A(11,"div"),gt(12," Publicerad: "),A(13,"span",6),gt(14),function(t,r){var n,e=tt(),i=t+20;e.firstCreatePass?(n=function(t,r){if(r)for(var e=r.length-1;e>=0;e--){var n=r[e];if(t===n.name)return n}throw new Po("302","The pipe '".concat(t,"' could not be found!"))}(r,e.pipeRegistry),e.data[i]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n.onDestroy)):n=e.data[i];var a=n.factory||(n.factory=Vo(n.type)),o=Ya(T);try{var s=Wf(!1),u=a();Wf(s),function(t,r,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),r[e]=n}(e,F(),i,u)}finally{Ya(o)}}(15,"date"),O(),O(),O(),ue(16,cK,5,0,"div",7),O(),A(17,"div"),gt(18),O(),A(19,"div"),gt(20),O(),O()),2&t){var e=H();N(1),kr(e.getStyleClassForPriority(e.message.priority)),N(1),sr(" ",e.message.priorityName," "),N(2),sr(" ",e.message.categoryName," "),N(5),Xg("",e.message.title," (",e.message.subCategory,")"),N(1),P("ngIf",e.message.distance),N(4),_i(function(t,r,e,n){var i=t+20,a=F(),o=Ns(a,i);return function(t,r){return t[1].data[r].pure}(a,i)?wT(a,qn(),r,o.transform,e,n,o):o.transform(e,n)}(15,12,e.message.createdDate,"d MMM HH:mm")),N(2),P("ngIf",e.showMapLink),N(2),sr(" ",e.message.exactLocation," "),N(2),sr(" ",e.message.description," ")}}var RO=function(){var t=function(){function r(e){g(this,r),this.broker=e,this.showMapLink=!1}return C(r,[{key:"ngOnInit",value:function(){}},{key:"onClickMessage",value:function(n){var i={lat:n.latitude,lng:n.longitude,info:"".concat(n.priorityName,": ").concat(n.title," (").concat(n.subCategory,")"),id:n.id},a=[];a.push(i),this.broker.sendMessage(new Th(a,this.userPos,"".concat(n.title," (").concat(n.subCategory,")"),n.description))}},{key:"getStyleClassForPriority",value:function(n){var i="priority-ctn";switch(n){case 1:i+=" prio-highest";break;case 2:i+=" prio-higher";break;case 3:i+=" prio-high";break;default:i+=" prio-info"}return i}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(us))},t.\u0275cmp=ln({type:t,selectors:[["app-info-card"]],inputs:{message:"message",showMapLink:"showMapLink",userPos:"userPos"},decls:1,vars:1,consts:[["class","msg-ctn",4,"ngIf"],[1,"msg-ctn"],[1,"category"],[1,"p-grid"],[1,"p-col"],[4,"ngIf"],[1,"date-info"],["class","p-col-4",4,"ngIf"],[1,"dist-info"],[1,"p-col-4"],[1,"open-button",3,"click"],[1,"pi","pi-globe","map-icon"]],template:function(e,n){1&e&&ue(0,fK,21,15,"div",0),2&e&&P("ngIf",n.message)},directives:[Qr],pipes:[Sk],styles:[".msg-ctn[_ngcontent-%COMP%]{border:solid 2px gray;border-radius:.25rem;padding:10px;margin:20px 10px}.category[_ngcontent-%COMP%]{float:right;font-size:smaller;margin-top:-10px;margin-right:-5px;font-weight:bold;color:gray}.priority-ctn[_ngcontent-%COMP%]{border-radius:.25rem;font-weight:900;text-transform:uppercase;font-size:.75rem;line-height:14px;color:#fff;padding:.25rem;display:inline-block}.prio-highest[_ngcontent-%COMP%]{background-color:red}.prio-higher[_ngcontent-%COMP%]{background-color:#f20}.prio-high[_ngcontent-%COMP%]{background-color:#f60}.prio-info[_ngcontent-%COMP%]{background-color:#06f}.dist-info[_ngcontent-%COMP%]{color:gray}.date-info[_ngcontent-%COMP%]{color:gray}.open-button[_ngcontent-%COMP%]{border:1px;padding:5px 5px 5px 10px;border-style:solid;border-color:gray;border-radius:10px;float:right;font-weight:bold;font-size:.7em;color:gray}.map-icon[_ngcontent-%COMP%]{font-size:1rem;padding-left:2px;vertical-align:middle}"]}),t}();function dK(t,r){if(1&t&&(A(0,"span",9),gt(1),O()),2&t){var e=H();N(1),sr(" ",e.header," ")}}function hK(t,r){1&t&&or(0)}function vK(t,r){1&t&&qo(0,1,["*ngIf","hasHeaderFacet"])}function pK(t,r){1&t&&or(0)}function gK(t,r){if(1&t&&(pi(0),ue(1,pK,1,0,"ng-container",5),gi()),2&t){var e=H();N(1),P("ngTemplateOutlet",e.contentTemplate)}}var yK=["*",[["p-header"]]],mK=function(r){return{"p-accordion-tab-active":r}},_K=function(r,e){return{"p-highlight":r,"p-disabled":e}},MO=function(r){return{transitionParams:r}},CK=function(r){return{value:"visible",params:r}},EK=function(r){return{value:"hidden",params:r}},bK=["*","p-header"],wK=["*"],SK=0,PO=function(){var t=function(){function r(e,n){g(this,r),this.changeDetector=n,this.cache=!0,this.selectedChange=new we,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-".concat(SK++),this.accordion=e}return C(r,[{key:"selected",get:function(){return this._selected},set:function(n){this._selected=n,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){"header"===i.getType()?n.headerTemplate=i.template:n.contentTemplate=i.template})}},{key:"toggle",value:function(n){if(this.disabled)return!1;var i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:n,index:i});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:n,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),n.preventDefault()}},{key:"findTabIndex",value:function(){for(var n=-1,i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){n=i;break}return n}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(n){(32===n.which||13===n.which)&&(this.toggle(n),n.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(st(function(){return xO})),T(Kr))},t.\u0275cmp=ln({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,n,i){var a;1&e&&(Da(i,d5,4),Da(i,Dh,4)),2&e&&(Cn(a=En())&&(n.headerFacet=a),Cn(a=En())&&(n.templates=a))},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:bK,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,n){1&e&&(vu(yK),A(0,"div",0),A(1,"div",1),A(2,"a",2),oe("click",function(a){return n.toggle(a)})("keydown",function(a){return n.onKeydown(a)}),jt(3,"span",3),ue(4,dK,2,1,"span",4),ue(5,hK,1,0,"ng-container",5),ue(6,vK,1,0,"ng-content",6),O(),O(),A(7,"div",7),A(8,"div",8),qo(9),ue(10,gK,2,1,"ng-container",6),O(),O(),O()),2&e&&(P("ngClass",_n(15,mK,n.selected)),N(1),P("ngClass",Xo(17,_K,n.selected,n.disabled)),N(1),Et("tabindex",n.disabled?null:0)("id",n.id)("aria-controls",n.id+"-content")("aria-expanded",n.selected),N(1),P("ngClass",n.selected?n.accordion.collapseIcon:n.accordion.expandIcon),N(1),P("ngIf",!n.hasHeaderFacet),N(1),P("ngTemplateOutlet",n.headerTemplate),N(1),P("ngIf",n.hasHeaderFacet),N(1),P("@tabContent",n.selected?_n(22,CK,_n(20,MO,n.transitionOptions)):_n(26,EK,_n(24,MO,n.transitionOptions))),Et("id",n.id+"-content")("aria-hidden",!n.selected)("aria-labelledby",n.id),N(3),P("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},directives:[Qi,Qr,Ru],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}\n"],encapsulation:2,data:{animation:[Uc("tabContent",[h_("hidden",ni({height:"0",overflow:"hidden"})),h_("visible",ni({height:"*"})),xa("visible <=> hidden",[ni({overflow:"hidden"}),fo("{{transitionParams}}")]),xa("void => *",fo(0))])]},changeDetection:0}),t}(),xO=function(){var t=function(){function r(e,n){g(this,r),this.el=e,this.changeDetector=n,this.onClose=new we,this.onOpen=new we,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new we,this.tabs=[]}return C(r,[{key:"ngAfterContentInit",value:function(){var n=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(i){n.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var n=0;n<this.tabs.length;n++){var i=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;i!==this.tabs[n].selected&&(this.tabs[n].selected=i,this.tabs[n].selectedChange.emit(i),this.tabs[n].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var n=this,i=this.multiple?[]:null;this.tabs.forEach(function(a,o){if(a.selected){if(!n.multiple)return void(i=o);i.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(i)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(Kr))},t.\u0275cmp=ln({type:t,selectors:[["p-accordion"]],contentQueries:function(e,n,i){var a;1&e&&Da(i,PO,4),2&e&&Cn(a=En())&&(n.tabList=a)},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:wK,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,n){1&e&&(vu(),A(0,"div",0),qo(1),O()),2&e&&(kr(n.styleClass),P("ngClass","p-accordion p-component")("ngStyle",n.style))},directives:[Qi,so],encapsulation:2,changeDetection:0}),t}(),TK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir],kh]}),t}(),DK=function(){var t=function(){function r(e,n,i){g(this,r),this.el=e,this.ngModel=n,this.cd=i}return C(r,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(n){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(qh,8),T(Kr))},t.\u0275dir=se({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,n){1&e&&oe("input",function(a){return n.onInput(a)}),2&e&&Ko("p-filled",n.filled)}}),t}(),kK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}(),IK=["rb"],AK=function(r,e,n){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":r,"p-disabled":e,"p-radiobutton-label-focus":n}};function OK(t,r){if(1&t){var e=fn();A(0,"label",4),oe("click",function(o){return de(e),H().select(o)}),gt(1),O()}if(2&t){var n=H(),i=Sa(3);kr(n.labelStyleClass),P("ngClass",Qo(5,AK,i.checked,n.disabled,n.focused)),Et("for",n.inputId),N(1),_i(n.label)}}var RK=function(r,e,n){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":r,"p-radiobutton-disabled":e,"p-radiobutton-focused":n}},MK=function(r,e,n){return{"p-radiobutton-box":!0,"p-highlight":r,"p-disabled":e,"p-focus":n}},PK={provide:Or,useExisting:st(function(){return FO}),multi:!0},xK=function(){var t=function(){function r(){g(this,r),this.accessors=[]}return C(r,[{key:"add",value:function(n,i){this.accessors.push([n,i])}},{key:"remove",value:function(n){this.accessors=this.accessors.filter(function(i){return i[1]!==n})}},{key:"select",value:function(n){var i=this;this.accessors.forEach(function(a){i.isSameGroup(a,n)&&a[1]!==n&&a[1].writeValue(n.value)})}},{key:"isSameGroup",value:function(n,i){return!!n[0].control&&n[0].control.root===i.control.control.root&&n[1].name===i.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),FO=function(){var t=function(){function r(e,n,i){g(this,r),this.cd=e,this.injector=n,this.registry=i,this.onClick=new we,this.onFocus=new we,this.onBlur=new we,this.onModelChange=function(){},this.onModelTouched=function(){}}return C(r,[{key:"ngOnInit",value:function(){this.control=this.injector.get(Fa),this.checkName(),this.registry.add(this.control,this)}},{key:"handleClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&(this.select(n),a&&i.focus())}},{key:"select",value:function(n){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(n))}},{key:"writeValue",value:function(n){this.checked=n==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onModelTouched(),this.onBlur.emit(n)}},{key:"onChange",value:function(n){this.select(n)}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this.registry.remove(this)}},{key:"checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"throwNameError",value:function(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Kr),T(kt),T(xK))},t.\u0275cmp=ln({type:t,selectors:[["p-radioButton"]],viewQuery:function(e,n){var i;1&e&&bi(IK,5),2&e&&Cn(i=En())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[ut([PK])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,n){if(1&e){var i=fn();A(0,"div",0),A(1,"div",1),A(2,"input",2,3),oe("change",function(o){return n.onChange(o)})("focus",function(o){return n.onInputFocus(o)})("blur",function(o){return n.onInputBlur(o)}),O(),O(),A(4,"div",4),oe("click",function(o){de(i);var s=Sa(3);return n.handleClick(o,s,!0)}),jt(5,"span",5),O(),O(),ue(6,OK,2,9,"label",6)}2&e&&(kr(n.styleClass),P("ngStyle",n.style)("ngClass",Qo(15,RK,n.checked,n.disabled,n.focused)),N(2),P("checked",n.checked)("disabled",n.disabled),Et("id",n.inputId)("name",n.name)("value",n.value)("tabindex",n.tabindex)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),N(2),P("ngClass",Qo(19,MK,n.checked,n.disabled,n.focused)),N(2),P("ngIf",n.label))},directives:[so,Qi,Qr],encapsulation:2,changeDetection:0}),t}(),FK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}(),NK=["cb"],LK=function(r,e,n){return{"p-checkbox-label":!0,"p-checkbox-label-active":r,"p-disabled":e,"p-checkbox-label-focus":n}};function VK(t,r){if(1&t){var e=fn();A(0,"label",7),oe("click",function(a){de(e);var o=H(),s=Sa(3);return o.onClick(a,s,!0)}),gt(1),O()}if(2&t){var n=H();kr(n.labelStyleClass),P("ngClass",Qo(5,LK,n.checked(),n.disabled,n.focused)),Et("for",n.inputId),N(1),_i(n.label)}}var BK=function(r,e,n){return{"p-checkbox p-component":!0,"p-checkbox-checked":r,"p-checkbox-disabled":e,"p-checkbox-focused":n}},UK=function(r,e,n){return{"p-highlight":r,"p-disabled":e,"p-focus":n}},HK={provide:Or,useExisting:st(function(){return NO}),multi:!0},NO=function(){var t=function(){function r(e){g(this,r),this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new we,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1}return C(r,[{key:"onClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(n),a&&i.focus())}},{key:"updateModel",value:function(n){var a,i=this;this.binary?(a=this.checked()?this.falseValue:this.trueValue,this.model=a,this.onModelChange(a)):(a=this.checked()?this.model.filter(function(o){return!$t.equals(o,i.value)}):this.model?[].concat(he(this.model),[this.value]):[this.value],this.onModelChange(a),this.model=a,this.formControl&&this.formControl.setValue(a)),this.onChange.emit({checked:a,originalEvent:n})}},{key:"handleChange",value:function(n){this.readonly||this.updateModel(n)}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1,this.onModelTouched()}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"writeValue",value:function(n){this.model=n,this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"checked",value:function(){return this.binary?this.model===this.trueValue:$t.contains(this.value,this.model)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Kr))},t.\u0275cmp=ln({type:t,selectors:[["p-checkbox"]],viewQuery:function(e,n){var i;1&e&&bi(NK,5),2&e&&Cn(i=En())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[ut([HK])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(1&e){var i=fn();A(0,"div",0),A(1,"div",1),A(2,"input",2,3),oe("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(o){return n.handleChange(o)}),O(),O(),A(4,"div",4),oe("click",function(o){de(i);var s=Sa(3);return n.onClick(o,s,!0)}),jt(5,"span",5),O(),O(),ue(6,VK,2,9,"label",6)}2&e&&(kr(n.styleClass),P("ngStyle",n.style)("ngClass",Qo(18,BK,n.checked(),n.disabled,n.focused)),N(2),P("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),Et("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),N(2),P("ngClass",Qo(22,UK,n.checked(),n.disabled,n.focused)),N(1),P("ngClass",n.checked()?n.checkboxIcon:null),N(1),P("ngIf",n.label))},directives:[so,Qi,Qr],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),t}(),jK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}();function GK(t,r){1&t&&jt(0,"div",16)}function WK(t,r){if(1&t&&jt(0,"app-info-card",19),2&t){var e=H().$implicit,n=H(2);P("message",e)("showMapLink",!0)("userPos",n.position)}}function zK(t,r){if(1&t&&(A(0,"div"),ue(1,WK,1,3,"app-info-card",18),O()),2&t){var e=r.$implicit,n=H(2);N(1),P("ngIf",n.matchesKeyword(e)&&n.matchesFilter(e))}}function qK(t,r){if(1&t&&(A(0,"div"),ue(1,zK,2,1,"div",17),O()),2&t){var e=H();N(1),P("ngForOf",e.messages)}}function KK(t,r){if(1&t){var e=fn();A(0,"div",20),A(1,"p-accordion"),A(2,"p-accordionTab",21),A(3,"div",22),A(4,"div",23),jt(5,"i",24),A(6,"input",25),oe("ngModelChange",function(a){return de(e),H().keyword=a}),O(),O(),A(7,"span",26),A(8,"button",27),oe("click",function(){return de(e),H().onClear()}),O(),O(),O(),A(9,"div",28),A(10,"div",29),A(11,"div",30),gt(12," Sortering "),O(),A(13,"div",31),A(14,"p-radioButton",32),oe("onClick",function(){return de(e),H().onSortOrderChanged()})("ngModelChange",function(a){return de(e),H().sortOrder=a}),O(),O(),A(15,"div",31),A(16,"p-radioButton",33),oe("onClick",function(){return de(e),H().onSortOrderChanged()})("ngModelChange",function(a){return de(e),H().sortOrder=a}),O(),O(),A(17,"div",31),A(18,"p-radioButton",34),oe("onClick",function(){return de(e),H().onSortOrderChanged()})("ngModelChange",function(a){return de(e),H().sortOrder=a}),O(),O(),O(),A(19,"div",29),A(20,"div",30),gt(21," Filtrering "),O(),A(22,"div",35),A(23,"p-checkbox",36),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().settings.showTodayOnly=a}),O(),O(),A(24,"div",35),A(25,"p-checkbox",37),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().settings.showTrafficIncidentsOnly=a}),O(),O(),A(26,"div",35),A(27,"p-checkbox",38),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().settings.includeSubcategoryRoadwork=a}),O(),O(),A(28,"div",35),A(29,"p-checkbox",39),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().settings.showPublicTransportOnly=a}),O(),O(),A(30,"div",35),A(31,"p-checkbox",40),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().settings.showRoadTrafficOnly=a}),O(),O(),A(32,"div",35),A(33,"p-checkbox",41),oe("onChange",function(){return de(e),H().onCheckChanged()})("ngModelChange",function(a){return de(e),H().showOnlyWithinRadius=a}),O(),O(),O(),O(),O(),O(),O()}if(2&t){var n=H();N(6),P("ngModel",n.keyword),N(2),P("disabled",n.isLoading),N(6),P("ngModel",n.sortOrder),N(2),P("ngModel",n.sortOrder),N(2),P("ngModel",n.sortOrder)("disabled",!n.position.lat),N(5),P("ngModel",n.settings.showTodayOnly),N(2),P("ngModel",n.settings.showTrafficIncidentsOnly),N(2),P("ngModel",n.settings.includeSubcategoryRoadwork),N(2),P("ngModel",n.settings.showPublicTransportOnly),N(2),P("ngModel",n.settings.showRoadTrafficOnly),N(2),P("ngModel",n.showOnlyWithinRadius)("disabled",!n.position.lat)}}var fs=function(){return function(t){t.highestPriority="1",t.leastDistance="2",t.latestDate="3"}(fs||(fs={})),fs}(),YK=function(){var t=function(){function r(e,n,i,a){g(this,r),this.broker=e,this.service=n,this.logger=i,this.localStorageService=a,this.settings={showTodayOnly:!1,showRoadTrafficOnly:!1,showPublicTransportOnly:!1,showTrafficIncidentsOnly:!1,includeSubcategoryRoadwork:!1},this.sortOrder=fs.highestPriority,this.AppSettingsKey="srtrafficsettings",this.radiusKm=100,this.isLoading=!1,this.showOnlyWithinRadius=!1,this.position={lng:void 0,lat:void 0,info:void 0,id:void 0},this.keyword="",this.geolocationAvailable=!1}return C(r,[{key:"ngOnInit",value:function(){return cr(this,void 0,void 0,at().mark(function n(){var i;return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.geolocationAvailable="geolocation"in navigator,(i=this.localStorageService.get(this.AppSettingsKey))?this.settings=i:this.logger.logInfo("No previous settings found"),o.next=5,this.fillTrafficAreaDropDown();case 5:case"end":return o.stop()}},n,this)}))}},{key:"onFetchPosition",value:function(){return cr(this,void 0,void 0,at().mark(function n(){var i=this;return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,navigator.geolocation.getCurrentPosition(function(s){return cr(i,void 0,void 0,at().mark(function u(){return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.allTrafficAreas){c.next=3;break}return c.next=3,this.fillTrafficAreaDropDown();case 3:return this.position.lat=s.coords.latitude,this.position.lng=s.coords.longitude,c.next=7,this.service.fetchClosestTrafficAreaForPosition(this.position);case 7:return this.trafficArea=c.sent,this.selectedArea=this.trafficArea.trafficdepartmentunitid,c.next=11,this.fetchMessages();case 11:case"end":return c.stop()}},u,this)}))},function(s){i.broker.sendMessage(new Vu(s.message))}),o.next=10;break;case 4:return o.prev=4,o.t0=o.catch(0),this.broker.sendMessage(new Vu("Geolocation is not available")),this.selectedArea=0,o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},n,this,[[0,4]])}))}},{key:"onShowUserOnMap",value:function(){this.broker.sendMessage(new Th([],this.position,"Din position"))}},{key:"onShowAllPositionsOnMap",value:function(){var i,n=this;if(this.messages){var a=[];if(this.messages.filter(function(s){return n.matchesKeyword(s)&&n.matchesFilter(s)}).forEach(function(s){var u={lat:s.latitude,lng:s.longitude,info:"".concat(s.priorityName,": ").concat(s.title," (").concat(s.subCategory,")"),id:s.id};a.push(u)}),0!=a.length){var o=(null===(i=this.trafficArea)||void 0===i?void 0:i.name)?"Trafikomr\xe5de: ".concat(this.trafficArea.name):"Hela Sverige";this.broker.sendMessage(new Th(a,this.position,o))}}}},{key:"matchesKeyword",value:function(n){if(!this.keyword||this.keyword.length<2)return!0;var i=new RegExp(this.keyword,"gi");return!!(n.title.match(i)||n.description.match(i)||n.exactLocation.match(i)||n.priorityName.match(i)||n.categoryName.match(i))}},{key:"onAreaChanged",value:function(n){return cr(this,void 0,void 0,at().mark(function i(){return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.keyword="",0!=n.value){o.next=7;break}return this.trafficArea=null,o.next=5,this.fetchMessages();case 5:o.next=10;break;case 7:return this.trafficArea=this.getAreaFromId(n.value),o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},i,this)}))}},{key:"onRefresh",value:function(){return cr(this,void 0,void 0,at().mark(function n(){return at().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.fetchMessages();case 2:case"end":return a.stop()}},n,this)}))}},{key:"onSortOrderChanged",value:function(){this.sortMessages()}},{key:"numFilteredMessagesInfo",value:function(){var n=this;if(!this.messages||this.messages.length<1)return"";var i=this.messages.filter(function(s){return n.matchesFilter(s)&&n.matchesKeyword(s)}).length,a=0===i?"Inga":"".concat(i);return 1===i?"1 meddelande":"".concat(a," meddelanden")}},{key:"onClear",value:function(){this.keyword=""}},{key:"matchesFilter",value:function(n){if(n.category===Uu.\u00d6vrigt||n.category!==Uu.V\u00e4gtrafik&&this.settings.showRoadTrafficOnly||n.subCategory!==Fc.TrafikOlycka&&this.settings.showTrafficIncidentsOnly||n.subCategory===Fc.V\u00e4garbete&&!this.settings.includeSubcategoryRoadwork)return!1;var i=(new Date).getDate();return!(n.createdDate.getDate()!==i&&this.settings.showTodayOnly||this.settings.showPublicTransportOnly&&n.category!==Uu.Kollektivtrafik)&&!(this.showOnlyWithinRadius&&this.position&&this.position.lat&&this.position.lng&&QI(this.position.lat,this.position.lng,n.latitude,n.longitude)>this.radiusKm)}},{key:"hasMessagesToDisplay",value:function(){var n=this;return!(!this.messages||this.messages.length<1)&&this.messages.filter(function(a){return n.matchesFilter(a)&&n.matchesKeyword(a)}).length>0}},{key:"onCheckChanged",value:function(){this.localStorageService.set(this.AppSettingsKey,this.settings)}},{key:"fillTrafficAreaDropDown",value:function(){return cr(this,void 0,void 0,at().mark(function n(){var i,a;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.service.fetchAllTrafficAreas();case 2:this.allTrafficAreas=s.sent,this.areaOptions=[],this.areaOptions.push({label:"Hela Sverige",value:0}),a=this.allTrafficAreas.map(function(u){return{label:u.name,value:u.trafficdepartmentunitid}}),(i=this.areaOptions).push.apply(i,he(a));case 7:case"end":return s.stop()}},n,this)}))}},{key:"getAreaFromId",value:function(n){return this.allTrafficAreas.find(function(a){return a.trafficdepartmentunitid===n})}},{key:"fetchMessages",value:function(){var n;return cr(this,void 0,void 0,at().mark(function i(){return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,this.isLoading=!0,this.messages=[],!(null===(n=this.trafficArea)||void 0===n?void 0:n.name)){o.next=9;break}return o.next=6,this.service.fetchAllTrafficMessagesForArea(this.trafficArea.name,this.position);case 6:this.messages=o.sent,o.next=12;break;case 9:return o.next=11,this.service.fetchAllTrafficMessages(this.position);case 11:this.messages=o.sent;case 12:this.sortMessages(),o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(0),this.logger.logError(o.t0),o.abrupt("return");case 19:return o.prev=19,this.isLoading=!1,o.finish(19);case 22:case"end":return o.stop()}},i,this,[[0,15,19,22]])}))}},{key:"sortMessages",value:function(){switch(this.sortOrder){case fs.leastDistance:this.messages.sort(function(n,i){return n.distance-i.distance||i.createdDate.getTime()-n.createdDate.getTime()});break;case fs.highestPriority:this.messages.sort(function(n,i){return n.priority-i.priority||i.createdDate.getTime()-n.createdDate.getTime()});break;case fs.latestDate:this.messages.sort(function(n,i){return i.createdDate.getTime()-n.createdDate.getTime()})}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(us),T(fA),T(xc),T(s5))},t.\u0275cmp=ln({type:t,selectors:[["app-messages"]],decls:19,vars:10,consts:[[1,"outer"],[1,"headline"],[1,"controls-container"],[1,"p-grid","thegrid"],[1,"p-col-12","p-md-6","p-lg-4"],["pButton","","icon","pi pi-compass","iconPos","right","label","H\xe4mta ditt n\xe4rmaste omr\xe5de",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-12","p-md-6","p-lg-4","center","area-dd"],["placeholder","V\xe4lj omr\xe5de",3,"disabled","ngModel","options","onChange","ngModelChange"],[1,"p-col-12","p-md-12","p-lg-4"],["pButton","","icon","pi pi-refresh","iconPos","right","label","H\xe4mta nya meddelanden",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-6","p-lg-6","center","num-msg-ctn"],[1,"p-col-6","p-lg-6"],["pButton","","icon","pi pi-globe","iconPos","right","label","Visa alla p\xe5 kartan",1,"sr-button-wide",3,"disabled","click"],["class","p-col-12 p-lg-12",4,"ngIf","ngIfElse"],[4,"ngIf"],["sortfilt",""],[1,"p-col-12","p-lg-12"],[4,"ngFor","ngForOf"],[3,"message","showMapLink","userPos",4,"ngIf"],[3,"message","showMapLink","userPos"],[1,"sortfilt-ctn"],["header","Sortering & filtrering"],[1,"search-ctn"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","S\xf6k",3,"ngModel","ngModelChange"],[1,"clear-btn"],["pButton","","iconPos","right","label","T\xf6m",3,"disabled","click"],["styleClass","sortfilt-content",1,"p-grid"],[1,"p-col-6"],[1,"sort-filt-label"],[1,"p-field-radiobutton"],["value","1","label","H\xf6gst prioritet",3,"ngModel","onClick","ngModelChange"],["value","3","label","Senaste",3,"ngModel","onClick","ngModelChange"],["value","2","label","N\xe4rmast",3,"ngModel","disabled","onClick","ngModelChange"],[1,"p-field-checkbox"],["binary","true","label","Publicerad idag",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast olyckor",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa v\xe4garbeten",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast kollektivtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa endast v\xe4gtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Inom 100km radie",3,"ngModel","disabled","onChange","ngModelChange"]],template:function(e,n){if(1&e&&(A(0,"div",0),A(1,"div",1),gt(2,"Trafikinformation fr\xe5n SR"),O(),A(3,"div",2),A(4,"div",3),A(5,"div",4),A(6,"button",5),oe("click",function(){return n.onFetchPosition()}),O(),O(),A(7,"div",6),A(8,"p-dropdown",7),oe("onChange",function(o){return n.onAreaChanged(o)})("ngModelChange",function(o){return n.selectedArea=o}),O(),O(),A(9,"div",8),A(10,"button",9),oe("click",function(){return n.onRefresh()}),O(),O(),A(11,"div",10),gt(12),O(),A(13,"div",11),A(14,"button",12),oe("click",function(){return n.onShowAllPositionsOnMap()}),O(),O(),ue(15,GK,1,0,"div",13),O(),O(),ue(16,qK,2,1,"div",14),O(),ue(17,KK,34,13,"ng-template",null,15,Dd)),2&e){var i=Sa(18);N(6),P("disabled",n.isLoading||!n.geolocationAvailable),N(2),P("disabled",n.isLoading)("ngModel",n.selectedArea)("options",n.areaOptions),N(2),P("disabled",void 0===n.selectedArea),N(2),sr(" ",n.numFilteredMessagesInfo()," "),N(2),P("disabled",n.isLoading||!n.hasMessagesToDisplay()),N(1),P("ngIf",!n.messages||0===n.messages.length)("ngIfElse",i),N(1),P("ngIf",n.messages)}},directives:[v5,OO,eO,qh,Qr,eh,RO,xO,PO,Fh,DK,FO,NO],styles:[".headline[_ngcontent-%COMP%]{margin:10px auto;max-width:300px;font-weight:bolder;font-size:1.5em;color:#7e7e7e}.controls-container[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:0}@media only screen and (min-width: 800px){.controls-container[_ngcontent-%COMP%]{max-width:800px}}.showmap-ctn[_ngcontent-%COMP%]{margin-top:10px;width:400px}.sort-filt-label[_ngcontent-%COMP%]{font-weight:bold;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]  .sortfilt-ctn{width:100%;margin:auto auto auto 4px}.refresh-btn[_ngcontent-%COMP%]{margin-left:20px;font-size:2em;color:#7e7e7e}.thegrid[_ngcontent-%COMP%]{align-items:center}.clear-btn[_ngcontent-%COMP%]{border-radius:10px;width:20px}.num-msg-ctn[_ngcontent-%COMP%]{margin-left:16px;margin-right:-16px}.area-dd[_ngcontent-%COMP%]{padding-right:10px;padding-left:6px}.outer[_ngcontent-%COMP%]{margin-right:8px}"]}),t}(),ZK=[{path:"**",component:YK}],XK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[zI.forRoot(ZK,{relativeLinkResolution:"legacy"})],zI]}),t}(),QK=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).info=n,i}return C(e,[{key:"Type",get:function(){return"SuccessInfoMessage"}}]),e}(Sh),$K={},JK={},eY=function(){var t=function(){function r(){g(this,r),this.translations={en:$K,sv:JK}}return C(r,[{key:"defaultLangCode",set:function(n){this.fallBackLangCode=n}},{key:"currentLocale",set:function(n){this.localeToUse=n,this.currLangCode=this.localeToUse.slice(0,2)}},{key:"translate",value:function(n){if(this.translations[this.currLangCode]&&this.translations[this.currLangCode][n]){var i=this.translations[this.currLangCode][n];if(""!==i)return i}if(this.translations[this.fallBackLangCode]&&this.translations[this.fallBackLangCode][n]){var a=this.translations[this.fallBackLangCode][n];return""===a?n:a}return n}},{key:"translateWithArgs",value:function(n,i){var a=this.translate(n);return i?this.replace(a,i):a}},{key:"replace",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=n,o=[].concat(i);return o.forEach(function(s,u){s=s.replace(/\$/g,"$$$$"),a=a.replace("{".concat(u)+"}",s)}),a}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),LO=function(t){R(e,t);var r=w(e);function e(n){var i;return g(this,e),(i=r.call(this)).id=n,i}return C(e,[{key:"Type",get:function(){return"ShowInfoSidebarMessage"}}]),e}(Sh),tY=function t(){g(this,t)},VO=function(){var t=function(){function r(){g(this,r),this.mapInput$=new $r(null)}return C(r,[{key:"addNewMapInput",value:function(n){this.mapInput=n,this.mapInput$.next(this.mapInput)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function nY(t,r){if(1&t){var e=fn();A(0,"button",7),oe("click",function(a){return de(e),H(2).close(a)})("keydown.enter",function(a){return de(e),H(2).close(a)}),jt(1,"span",8),O()}2&t&&Et("aria-label",H(2).ariaCloseLabel)}function rY(t,r){1&t&&or(0)}var iY=function(r,e,n,i,a,o){return{"p-sidebar":!0,"p-sidebar-active":r,"p-sidebar-left":e,"p-sidebar-right":n,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":o}},aY=function(r,e){return{transform:r,transition:e}},oY=function(r){return{value:"visible",params:r}};function sY(t,r){if(1&t){var e=fn();A(0,"div",1,2),oe("@panelState.start",function(a){return de(e),H().onAnimationStart(a)})("@panelState.done",function(a){return de(e),H().onAnimationEnd(a)}),A(2,"div",3),ue(3,nY,2,1,"button",4),O(),A(4,"div",5),qo(5),ue(6,rY,1,0,"ng-container",6),O(),O()}if(2&t){var n=H();kr(n.styleClass),P("ngClass",function(t,r,e,n,i,a,o,s,u){var l=qn()+t,c=F(),f=zr(c,l,e,n,i,a);return zo(c,l+4,o,s)||f?Ki(c,l+6,u?r.call(u,e,n,i,a,o,s):r(e,n,i,a,o,s)):function(t,r){return t[r]}(c,l+6)}(8,iY,n.visible,"left"===n.position&&!n.fullScreen,"right"===n.position&&!n.fullScreen,"top"===n.position&&!n.fullScreen,"bottom"===n.position&&!n.fullScreen,n.fullScreen))("@panelState",_n(18,oY,Xo(15,aY,n.transformOptions,n.transitionOptions)))("ngStyle",n.style),Et("aria-modal",n.modal),N(3),P("ngIf",n.showCloseIcon),N(3),P("ngTemplateOutlet",n.contentTemplate)}}var uY=["*"],lY=FA([ni({transform:"{{transform}}",opacity:0}),fo("{{transition}}")]),cY=FA([fo("{{transition}}",ni({transform:"{{transform}}",opacity:0}))]),BO=function(){var t=function(){function r(e,n,i,a){g(this,r),this.el=e,this.renderer=n,this.cd=i,this.config=a,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new we,this.onHide=new we,this.visibleChange=new we,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}return C(r,[{key:"ngAfterViewInit",value:function(){this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.contentTemplate=i.template})}},{key:"visible",get:function(){return this._visible},set:function(n){this._visible=n}},{key:"position",get:function(){return this._position},set:function(n){switch(this._position=n,n){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}},{key:"fullScreen",get:function(){return this._fullScreen},set:function(n){this._fullScreen=n,n&&(this.transformOptions="none")}},{key:"show",value:function(){this.autoZIndex&&ti.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({})}},{key:"hide",value:function(){this.onHide.emit({}),this.modal&&this.disableModality()}},{key:"close",value:function(n){this.hide(),this.visibleChange.emit(!1),n.preventDefault()}},{key:"enableModality",value:function(){var n=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),re.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(i){n.dismissible&&n.close(i)})),document.body.appendChild(this.mask),this.blockScroll&&re.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(re.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyModal",value:function(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&re.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}},{key:"onAnimationStart",value:function(n){"visible"===n.toState&&(this.container=n.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&(this.hide(),ti.clear(this.container),this.unbindGlobalListeners())}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):re.appendChild(this.container,this.appendTo))}},{key:"bindDocumentEscapeListener",value:function(){var n=this;this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",function(a){27==a.which&&parseInt(n.container.style.zIndex)===re.zindex+n.baseZIndex&&n.close(a)})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindGlobalListeners",value:function(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"ngOnDestroy",value:function(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ti.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Pt),T(Ci),T(Kr),T(Nc))},t.\u0275cmp=ln({type:t,selectors:[["p-sidebar"]],contentQueries:function(e,n,i){var a;1&e&&Da(i,Dh,4),2&e&&Cn(a=En())&&(n.templates=a)},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:uY,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(vu(),ue(0,sY,7,20,"div",0)),2&e&&P("ngIf",n.visible)},directives:[Qr,Qi,so,Ru,n_],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center;justify-content:flex-end}.p-sidebar-icon{display:flex;align-items:center;justify-content:center}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[Uc("panelState",[xa("void => visible",[NA(lY)]),xa("visible => void",[NA(cY)])])]},changeDetection:0}),t}(),fY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir,Ih]]}),t}();function dY(t,r){if(1&t){var e=fn();A(0,"p-sidebar",1),oe("visibleChange",function(a){return de(e),H().isVisible=a}),A(1,"div",2),A(2,"i",3),oe("click",function(){return de(e),H().close()}),O(),O(),jt(3,"app-info-card",4),O()}if(2&t){var n=H();P("visible",n.isVisible)("showCloseIcon",!1),N(3),P("message",n.trafficMessage)}}var hY=function(){var t=function(){function r(e,n){g(this,r),this.broker=e,this.service=n,this.unsubscribe$=new it,this.isVisible=!1}return C(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(lo(this.unsubscribe$),Dn(function(i){return i instanceof LO})).subscribe(function(i){n.trafficMessage=n.service.getCachedMessageFromId(i.id),n.trafficMessage&&(n.isVisible=!0)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(us),T(fA))},t.\u0275cmp=ln({type:t,selectors:[["app-info-sidebar"]],decls:1,vars:1,consts:[["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-down","close-button","clickable",3,"click"],[3,"message"]],template:function(e,n){1&e&&ue(0,dY,4,3,"p-sidebar",0),2&e&&P("ngIf",!0)},directives:[Qr,BO,RO],encapsulation:2}),t}(),vY=function(){function t(r){this.type=r,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Na=vY,pY=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}(),N_=pY;function hs(t,r){return t>r?1:t<r?-1:0}function L_(t,r){return t.indexOf(r)>=0}function V_(t,r,e){var n=t.length;if(t[0]<=r)return 0;if(r<=t[n-1])return n-1;var i=void 0;if(e>0){for(i=1;i<n;++i)if(t[i]<r)return i-1}else if(e<0){for(i=1;i<n;++i)if(t[i]<=r)return i}else for(i=1;i<n;++i){if(t[i]==r)return i;if(t[i]<r)return t[i-1]-r<r-t[i]?i-1:i}return n-1}function gY(t,r,e){for(;r<e;){var n=t[r];t[r]=t[e],t[e]=n,++r,--e}}function Yh(t,r){for(var e=Array.isArray(r)?r:[r],n=e.length,i=0;i<n;i++)t[t.length]=e[i]}function zc(t,r){var e=t.length;if(e!==r.length)return!1;for(var n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}function po(){return!0}function qc(){return!1}function vs(){}var jn="function"==typeof Object.assign?Object.assign:function(t,r){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,i=arguments.length;n<i;++n){var a=arguments[n];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e};function zu(t){for(var r in t)delete t[r]}var UO="function"==typeof Object.values?Object.values:function(t){var r=[];for(var e in t)r.push(t[e]);return r};function Kc(t){var r;for(r in t)return!1;return!r}var _Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CY=function(t){function r(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return _Y(r,t),r.prototype.addEventListener=function(e,n){if(e&&n){var i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);-1===a.indexOf(n)&&a.push(n)}},r.prototype.dispatchEvent=function(e){var n="string"==typeof e?new Na(e):e,i=n.type;n.target||(n.target=this.eventTarget_||this);var o,a=this.listeners_&&this.listeners_[i];if(a){var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,u[i]=0),++s[i];for(var l=0,c=a.length;l<c;++l)if(!1===(o="handleEvent"in a[l]?a[l].handleEvent(n):a[l].call(this,n))||n.propagationStopped){o=!1;break}if(--s[i],0===s[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,vs);delete s[i]}return o}},r.prototype.disposeInternal=function(){this.listeners_&&zu(this.listeners_)},r.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},r.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},r.prototype.removeEventListener=function(e,n){var i=this.listeners_&&this.listeners_[e];if(i){var a=i.indexOf(n);-1!==a&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=vs,++this.pendingRemovals_[e]):(i.splice(a,1),0===i.length&&delete this.listeners_[e]))}},r}(N_),qu=CY;function ht(t,r,e,n,i){if(n&&n!==t&&(e=e.bind(n)),i){var a=e;e=function(){t.removeEventListener(r,e),a.apply(this,arguments)}}var o={target:t,type:r,listener:e};return t.addEventListener(r,e),o}function Zh(t,r,e,n){return ht(t,r,e,n,!0)}function Bt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),zu(t))}var EY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bY=function(t){function r(){var e=t.call(this)||this;return e.revision_=0,e}return EY(r,t),r.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},r.prototype.getRevision=function(){return this.revision_},r.prototype.on=function(e,n){if(Array.isArray(e)){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=ht(this,e[o],n);return a}return ht(this,e,n)},r.prototype.once=function(e,n){var i;if(Array.isArray(e)){var a=e.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=Zh(this,e[o],n)}else i=Zh(this,e,n);return n.ol_key=i,i},r.prototype.un=function(e,n){var i=n.ol_key;if(i)!function(t){if(Array.isArray(t))for(var r=0,e=t.length;r<e;++r)Bt(t[r]);else Bt(t)}(i);else if(Array.isArray(e))for(var a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],n);else this.removeEventListener(e,n)},r}(qu),HO=bY;function qe(){return function(){throw new Error("Unimplemented abstract method.")}()}var SY=0;function Ze(t){return t.ol_uid||(t.ol_uid=String(++SY))}var jO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GO=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.key=n,a.oldValue=i,a}return jO(r,t),r}(Na),TY=function(t){function r(e){var n=t.call(this)||this;return Ze(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return jO(r,t),r.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},r.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},r.prototype.getProperties=function(){return this.values_&&jn({},this.values_)||{}},r.prototype.hasProperties=function(){return!!this.values_},r.prototype.notify=function(e,n){var i;i=ea(e),this.dispatchEvent(new GO(i,e,n)),this.dispatchEvent(new GO(i="propertychange",e,n))},r.prototype.set=function(e,n,i){var a=this.values_||(this.values_={});if(i)a[e]=n;else{var o=a[e];a[e]=n,o!==n&&this.notify(e,o)}},r.prototype.setProperties=function(e,n){for(var i in e)this.set(i,e[i],n)},r.prototype.applyProperties=function(e){!e.values_||jn(this.values_||(this.values_={}),e.values_)},r.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],Kc(this.values_)&&(this.values_=null),n||this.notify(e,i)}},r}(HO),U_={};function ea(t){return U_.hasOwnProperty(t)?U_[t]:U_[t]="change:"+t}var ta=TY,Ku="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",DY=-1!==Ku.indexOf("firefox"),kY=(-1!==Ku.indexOf("safari")&&Ku.indexOf("chrom"),-1!==Ku.indexOf("webkit")&&-1==Ku.indexOf("edge")),IY=-1!==Ku.indexOf("macintosh"),Qh="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,$h="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,WO="undefined"!=typeof Image&&Image.prototype.decode,zO=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,r),window.removeEventListener("_",null,r)}catch(e){}return t}();function fr(t,r,e){var n=e&&e.length?e.shift():$h?new OffscreenCanvas(t||300,r||300):document.createElement("canvas");return t&&(n.width=t),r&&(n.height=r),n.getContext("2d")}function qO(t,r){var e=r.parentNode;e&&e.replaceChild(t,r)}function H_(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var RY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MY=function(t){function r(e){var n=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return RY(r,t),r.prototype.disposeInternal=function(){H_(this.element),t.prototype.disposeInternal.call(this)},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(e){this.map_&&H_(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Bt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==vs&&this.listenerKeys.push(ht(e,"postrender",this.render,this)),e.render())},r.prototype.render=function(e){},r.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},r}(ta),j_=MY,Jh="ol-hidden",ev="ol-unselectable",G_="ol-control",KO="ol-collapsed",PY=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),YO=["style","variant","weight","size","lineHeight","family"],ZO=function(r){var e=r.match(PY);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,a=YO.length;i<a;++i){var o=e[i+1];void 0!==o&&(n[YO[i]]=o)}return n.families=n.family.split(/,\s?/),n},xY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FY=function(t){function r(e){var n=this,a="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,a)||this).code=e,n.name="AssertionError",n.message=a,n}return xY(r,t),r}(Error),XO=FY;function Xe(t,r){if(!t)throw new XO(r)}function kn(t,r,e){return Math.min(Math.max(t,r),e)}var NY="cosh"in Math?Math.cosh:function(e){var n=Math.exp(e);return(n+1/n)/2},LY="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function VY(t,r,e,n,i,a){var o=i-e,s=a-n;if(0!==o||0!==s){var u=((t-e)*o+(r-n)*s)/(o*o+s*s);u>1?(e=i,n=a):u>0&&(e+=o*u,n+=s*u)}return Yu(t,r,e,n)}function Yu(t,r,e,n){var i=e-t,a=n-r;return i*i+a*a}function tv(t){return t*Math.PI/180}function Zu(t,r){var e=t%r;return e*r<0?e+r:e}function ps(t,r,e){return t+e*(r-t)}var UY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HY=function(t){function r(e){var n=t.call(this)||this,i=jn({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,Xe("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return UY(r,t),r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=kn(Math.round(100*this.getOpacity())/100,0,1),n.sourceState=this.getSourceState(),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i?i:!1===n.managed?1/0:0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},r.prototype.getLayersArray=function(e){return qe()},r.prototype.getLayerStatesArray=function(e){return qe()},r.prototype.getExtent=function(){return this.get("extent")},r.prototype.getMaxResolution=function(){return this.get("maxResolution")},r.prototype.getMinResolution=function(){return this.get("minResolution")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.getOpacity=function(){return this.get("opacity")},r.prototype.getSourceState=function(){return qe()},r.prototype.getVisible=function(){return this.get("visible")},r.prototype.getZIndex=function(){return this.get("zIndex")},r.prototype.setExtent=function(e){this.set("extent",e)},r.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},r.prototype.setMinResolution=function(e){this.set("minResolution",e)},r.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},r.prototype.setMinZoom=function(e){this.set("minZoom",e)},r.prototype.setOpacity=function(e){Xe("number"==typeof e,64),this.set("opacity",e)},r.prototype.setVisible=function(e){this.set("visible",e)},r.prototype.setZIndex=function(e){this.set("zIndex",e)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},r}(ta),QO=HY,jY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GY=function(t){function r(e){var n=this,i=jn({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(ea("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return jY(r,t),r.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},r.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},r.prototype.getSource=function(){return this.get("source")||null},r.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Bt(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=ht(e,"change",this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},r.prototype.render=function(e,n){var i=this.getRenderer();if(i.prepareFrame(e))return i.renderFrame(e,n)},r.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Bt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Bt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ht(e,"precompose",function(n){var a=n.frameState.layerStatesArray,o=this.getLayerState(!1);Xe(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=ht(this,"change",e.render,e),this.changed())},r.prototype.setSource=function(e){this.set("source",e)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},r}(QO);function nv(t,r){if(!t.visible)return!1;var e=r.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var n=r.zoom;return n>t.minZoom&&n<=t.maxZoom}var $O=GY,WY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zY=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:a+"-collpase";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u,n.collapseLabel_.className=l):n.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,d=document.createElement("button");d.setAttribute("type","button"),d.title=o,d.appendChild(f),d.addEventListener("click",n.handleClick_.bind(n),!1);var v=n.element;return v.className=a+" "+ev+" "+G_+(n.collapsed_&&n.collapsible_?" "+KO:"")+(n.collapsible_?"":" ol-uncollapsible"),v.appendChild(n.ulElement_),v.appendChild(d),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return WY(r,t),r.prototype.collectSourceAttributions_=function(e){for(var n={},i=[],a=!0,o=e.layerStatesArray,s=0,u=o.length;s<u;++s){var l=o[s];if(nv(l,e.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var d=f(e);if(d)if(a=a&&!1!==c.getAttributionsCollapsible(),Array.isArray(d))for(var h=0,v=d.length;h<v;++h)d[h]in n||(i.push(d[h]),n[d[h]]=!0);else d in n||(i.push(d),n[d]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},r.prototype.updateElement_=function(e){if(e){var n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!zc(n,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var a=0,o=n.length;a<o;++a){var s=document.createElement("li");s.innerHTML=n[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},r.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(KO),this.collapsed_?qO(this.collapseLabel_,this.label_):qO(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(e){this.updateElement_(e.frameState)},r}(j_),JO=zY,eR=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rv=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.element=n,a.index=i,a}return eR(r,t),r}(Na),qY=function(t){function r(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var o=0,s=i.array_.length;o<s;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return eR(r,t),r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(e){for(var n=0,i=e.length;n<i;++n)this.push(e[n]);return this},r.prototype.forEach=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)e(n[i],i,n)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(e){return this.array_[e]},r.prototype.getLength=function(){return this.get("length")},r.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new rv("add",n,e))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},r.prototype.remove=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)if(n[i]===e)return this.removeAt(i)},r.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new rv("remove",n,e)),n},r.prototype.setAt=function(e,n){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(n,e);var a=this.array_[e];this.array_[e]=n,this.dispatchEvent(new rv("remove",a,e)),this.dispatchEvent(new rv("add",n,e))}else{for(var o=i;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,n)}},r.prototype.updateLength_=function(){this.set("length",this.array_.length)},r.prototype.assertUnique_=function(e,n){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==n)throw new XO(58)},r}(ta),ri=qY;function nR(t){return Math.pow(t,3)}function Xu(t){return 1-nR(1-t)}function W_(t){return 3*t*t-2*t*t*t}function KY(t){return t}var YY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZY=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=a+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener("click",n.handleClick_.bind(n),!1);var f=n.element;return f.className=a+" "+ev+" "+G_,f.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Jh),n}return YY(r,t),r.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var n=this.getMap().getView();if(n){var i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:Xu}):n.setRotation(0))}},r.prototype.render=function(e){var n=e.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Jh);o||0!==i?o&&0!==i&&this.element.classList.remove(Jh):this.element.classList.add(Jh)}this.label_.style.transform=a}this.rotation_=i}},r}(j_),XY=ZY,QY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$Y=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",d=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof l?document.createTextNode(l):l),h.addEventListener("click",n.handleClick_.bind(n,o),!1);var v=document.createElement("button");v.className=u,v.setAttribute("type","button"),v.title=d,v.appendChild("string"==typeof c?document.createTextNode(c):c),v.addEventListener("click",n.handleClick_.bind(n,-o),!1);var y=n.element;return y.className=a+" "+ev+" "+G_,y.appendChild(h),y.appendChild(v),n.duration_=void 0!==i.duration?i.duration:250,n}return QY(r,t),r.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},r.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var a=i.getZoom();if(void 0!==a){var o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Xu})):i.setZoom(o)}}},r}(j_),JY=$Y;function rR(t){var r=t||{},e=new ri;return(void 0===r.zoom||r.zoom)&&e.push(new JY(r.zoomOptions)),(void 0===r.rotate||r.rotate)&&e.push(new XY(r.rotateOptions)),(void 0===r.attribution||r.attribution)&&e.push(new JO(r.attributionOptions)),e}var e7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t7=function(t){function r(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(ea(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return e7(r,t),r.prototype.clone=function(){var e=new r(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Bt(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=ht(e,"change",this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},r.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:(Xe("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}(e):void 0,this.changed()},r.prototype.setId=function(e){this.id_=e,this.changed()},r.prototype.setGeometryName=function(e){this.removeEventListener(ea(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(ea(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(ta),iR=t7,Yc={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},La={};La[Yc.DEGREES]=2*Math.PI*6370997/360,La[Yc.FEET]=.3048,La[Yc.METERS]=1,La[Yc.USFEET]=1200/3937;var go=Yc;function zt(t,r){var e=r[0],n=r[1];return r[0]=t[0]*e+t[2]*n+t[4],r[1]=t[1]*e+t[3]*n+t[5],r}function na(t,r,e,n,i,a,o,s){var u=Math.sin(a),l=Math.cos(a);return t[0]=n*l,t[1]=i*u,t[2]=-n*u,t[3]=i*l,t[4]=o*n*l-s*n*u+r,t[5]=o*i*u+s*i*l+e,t}function iv(t,r){var e=function(t){return t[0]*t[3]-t[1]*t[2]}(r);Xe(0!==e,32);var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5];return t[0]=o/e,t[1]=-i/e,t[2]=-a/e,t[3]=n/e,t[4]=(a*u-o*s)/e,t[5]=-(n*u-i*s)/e,t}function av(t){return"matrix("+t.join(", ")+")"}new Array(6);function aR(t){for(var r=[1/0,1/0,-1/0,-1/0],e=0,n=t.length;e<n;++e)Ju(r,t[e]);return r}function K_(t,r,e){return e?(e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]+r,e[3]=t[3]+r,e):[t[0]-r,t[1]-r,t[2]+r,t[3]+r]}function oR(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t.slice()}function sR(t,r,e){var n,i;return(n=r<t[0]?t[0]-r:t[2]<r?r-t[2]:0)*n+(i=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*i}function ov(t,r){return uR(t,r[0],r[1])}function Qu(t,r){return t[0]<=r[0]&&r[2]<=t[2]&&t[1]<=r[1]&&r[3]<=t[3]}function uR(t,r,e){return t[0]<=r&&r<=t[2]&&t[1]<=e&&e<=t[3]}function Y_(t,r){var o=r[0],s=r[1],u=0;return o<t[0]?u|=16:o>t[2]&&(u|=4),s<t[1]?u|=8:s>t[3]&&(u|=2),0===u&&(u=1),u}function ia(t,r,e,n,i){return i?(i[0]=t,i[1]=r,i[2]=e,i[3]=n,i):[t,r,e,n]}function $u(t){return ia(1/0,1/0,-1/0,-1/0,t)}function Qc(t,r){return t[0]==r[0]&&t[2]==r[2]&&t[1]==r[1]&&t[3]==r[3]}function Ju(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function cR(t,r,e,n,i){for(;e<n;e+=i)d7(t,r[e],r[e+1]);return t}function d7(t,r,e){t[0]=Math.min(t[0],r),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],r),t[3]=Math.max(t[3],e)}function fR(t,r){var e;return!!((e=r(el(t)))||(e=r($c(t)),e)||(e=r(rl(t)),e)||(e=r(yo(t)),e))&&e}function sv(t){var r=0;return Z_(t)||(r=qt(t)*Mi(t)),r}function el(t){return[t[0],t[1]]}function $c(t){return[t[2],t[1]]}function tl(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function h7(t,r){var e;return"bottom-left"===r?e=el(t):"bottom-right"===r?e=$c(t):"top-left"===r?e=yo(t):"top-right"===r?e=rl(t):Xe(!1,13),e}function dR(t,r,e,n,i){var a=r*n[0]/2,o=r*n[1]/2,s=Math.cos(e),u=Math.sin(e),l=a*s,c=a*u,f=o*s,d=o*u,h=t[0],v=t[1],p=h-l+d,y=h-l-d,_=h+l-d,m=h+l+d,E=v-c-f,b=v-c+f,S=v+c+f,k=v+c-f;return ia(Math.min(p,y,_,m),Math.min(E,b,S,k),Math.max(p,y,_,m),Math.max(E,b,S,k),i)}function Mi(t){return t[3]-t[1]}function nl(t,r,e){var n=e||[1/0,1/0,-1/0,-1/0];return Rr(t,r)?(n[0]=t[0]>r[0]?t[0]:r[0],n[1]=t[1]>r[1]?t[1]:r[1],n[2]=t[2]<r[2]?t[2]:r[2],n[3]=t[3]<r[3]?t[3]:r[3]):$u(n),n}function yo(t){return[t[0],t[3]]}function rl(t){return[t[2],t[3]]}function qt(t){return t[2]-t[0]}function Rr(t,r){return t[0]<=r[2]&&t[2]>=r[0]&&t[1]<=r[3]&&t[3]>=r[1]}function Z_(t){return t[2]<t[0]||t[3]<t[1]}var _7=function(){function t(r){this.code_=r.code,this.units_=r.units,this.extent_=void 0!==r.extent?r.extent:null,this.worldExtent_=void 0!==r.worldExtent?r.worldExtent:null,this.axisOrientation_=void 0!==r.axisOrientation?r.axisOrientation:"enu",this.global_=void 0!==r.global&&r.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||La[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!(!r||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},t.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!(!this.global_||!r)},t.prototype.setWorldExtent=function(r){this.worldExtent_=r},t.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),hR=_7,C7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jc=6378137,il=Math.PI*Jc,E7=[-il,-il,il,il],b7=[-180,-85,180,85],uv=Jc*Math.log(Math.tan(Math.PI/2)),ef=function(t){function r(e){return t.call(this,{code:e,units:go.METERS,extent:E7,global:!0,worldExtent:b7,getPointResolution:function(i,a){return i/NY(a[1]/Jc)}})||this}return C7(r,t),r}(hR),vR=[new ef("EPSG:3857"),new ef("EPSG:102100"),new ef("EPSG:102113"),new ef("EPSG:900913"),new ef("http://www.opengis.net/gml/srs/epsg.xml#3857")];var T7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pR=[-180,-90,180,90],k7=6378137*Math.PI/180,tf=function(t){function r(e,n){return t.call(this,{code:e,units:go.DEGREES,extent:pR,axisOrientation:n,global:!0,metersPerUnit:k7,worldExtent:pR})||this}return T7(r,t),r}(hR),gR=[new tf("CRS:84"),new tf("EPSG:4326","neu"),new tf("urn:ogc:def:crs:OGC:1.3:CRS84"),new tf("urn:ogc:def:crs:OGC:2:84"),new tf("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],lv={},Pi={};function cv(t,r,e){var n=t.getCode(),i=r.getCode();n in Pi||(Pi[n]={}),Pi[n][i]=e}function X_(t,r,e){var n=e||6371008.8,i=tv(t[1]),a=tv(r[1]),o=(a-i)/2,s=tv(r[0]-t[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function $_(t,r,e){var n;if(void 0!==r){for(var i=0,a=t.length;i<a;++i)r[i]=t[i];n=r}else n=t.slice();return n}function yR(t,r,e){if(void 0!==r&&t!==r){for(var n=0,i=t.length;n<i;++n)r[n]=t[n];t=r}return t}function P7(t){(function(t,r){lv[t]=r})(t.getCode(),t),cv(t,t,$_)}function dr(t){return"string"==typeof t?function(t){return lv[t]||lv[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function mR(t,r,e,n){var i,a=(t=dr(t)).getPointResolutionFunc();if(a)i=a(r,e),n&&n!==t.getUnits()&&(o=t.getMetersPerUnit())&&(i=i*o/La[n]);else{var s=t.getUnits();if(s==go.DEGREES&&!n||n==go.DEGREES)i=r;else{var o,u=rf(t,dr("EPSG:4326"));if(u===yR&&s!==go.DEGREES)i=r*t.getMetersPerUnit();else{var l=[e[0]-r/2,e[1],e[0]+r/2,e[1],e[0],e[1]-r/2,e[0],e[1]+r/2];i=(X_((l=u(l,l,2)).slice(0,2),l.slice(2,4))+X_(l.slice(4,6),l.slice(6,8)))/2}void 0!==(o=n?La[n]:t.getMetersPerUnit())&&(i/=o)}}return i}function _R(t){(function(t){t.forEach(P7)})(t),t.forEach(function(r){t.forEach(function(e){r!==e&&cv(r,e,$_)})})}function J_(t,r){return t?"string"==typeof t?dr(t):t:dr(r)}function nf(t,r){return of(t,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function al(t,r){if(t===r)return!0;var e=t.getUnits()===r.getUnits();return(t.getCode()===r.getCode()||rf(t,r)===$_)&&e}function rf(t,r){var i=function(t,r){var e;return t in Pi&&r in Pi[t]&&(e=Pi[t][r]),e}(t.getCode(),r.getCode());return i||(i=yR),i}function af(t,r){return rf(dr(t),dr(r))}function of(t,r,e){return af(r,e)(t,void 0,t.length)}var xi=null;function bR(){return xi}function eC(t,r){return t}function Va(t,r){return t}function tC(t,r){return t}function ms(t,r){return t}function _s(t,r,e,n,i,a){for(var o=a||[],s=0,u=r;u<e;u+=n){var l=t[u],c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return a&&o.length!=s&&(o.length=s),o}function wR(t,r,e,n,i,a,o){for(var s=o||[],u=Math.cos(i),l=Math.sin(i),c=a[0],f=a[1],d=0,h=r;h<e;h+=n){var v=t[h]-c,p=t[h+1]-f;s[d++]=c+v*u-p*l,s[d++]=f+v*l+p*u;for(var y=h+2;y<h+n;++y)s[d++]=t[y]}return o&&s.length!=d&&(s.length=d),s}_R(vR),_R(gR),function(t,r,e,n){t.forEach(function(i){r.forEach(function(a){cv(i,a,e),cv(a,i,n)})})}(gR,vR,function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i){a[o]=il*t[o]/180;var s=Jc*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>uv?s=uv:s<-uv&&(s=-uv),a[o+1]=s}return a},function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i)a[o]=180*t[o]/il,a[o+1]=360*Math.atan(Math.exp(t[o+1]/Jc))/Math.PI-90;return a});var U7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SR=[1,0,0,1,0,0],H7=function(t){function r(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(t){var e,n,i,r=!1;return function(){var a=Array.prototype.slice.call(arguments);return(!r||this!==i||!zc(a,n))&&(r=!0,i=this,n=a,e=t.apply(this,arguments)),e}}(function(n,i,a){if(!a)return this.getSimplifiedGeometry(i);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(i)}),e}return U7(r,t),r.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},r.prototype.clone=function(){return qe()},r.prototype.closestPointXY=function(e,n,i,a){return qe()},r.prototype.containsXY=function(e,n){var i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n},r.prototype.getClosestPoint=function(e,n){var i=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},r.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},r.prototype.computeExtent=function(e){return qe()},r.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&$u(n),this.extentRevision_=this.getRevision()}return function(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t}(this.extent_,e)},r.prototype.rotate=function(e,n){qe()},r.prototype.scale=function(e,n,i){qe()},r.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},r.prototype.getSimplifiedGeometry=function(e){return qe()},r.prototype.getType=function(){return qe()},r.prototype.applyTransform=function(e){qe()},r.prototype.intersectsExtent=function(e){return qe()},r.prototype.translate=function(e,n){qe()},r.prototype.transform=function(e,n){var i=dr(e),a=i.getUnits()==go.TILE_PIXELS?function(o,s,u){var l=i.getExtent(),c=i.getWorldExtent(),f=Mi(c)/Mi(l);return na(SR,c[0],c[3],f,-f,0,0,0),_s(o,0,o.length,u,SR,s),af(i,n)(o,s,u)}:af(i,n);return this.applyTransform(a),this},r}(ta),j7=H7,G7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W7=function(t){function r(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return G7(r,t),r.prototype.computeExtent=function(e){return function(t,r,e,n,i){return cR($u(i),t,0,e,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},r.prototype.getCoordinates=function(){return qe()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},r.prototype.getSimplifiedGeometryInternal=function(e){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(e,n){this.stride=TR(e),this.layout=e,this.flatCoordinates=n},r.prototype.setCoordinates=function(e,n){qe()},r.prototype.setLayout=function(e,n,i){var a;if(e)a=TR(e);else{for(var o=0;o<i;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}e=function(t){var r;return 2==t?r="XY":3==t?r="XYZ":4==t&&(r="XYZM"),r}(a=n.length)}this.layout=e,this.stride=a},r.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();wR(i,0,i.length,a,e,n,i),this.changed()}},r.prototype.scale=function(e,n,i){var a=n;void 0===a&&(a=e);var o=i;o||(o=tl(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(function(t,r,e,n,i,a,o,s){for(var u=s||[],l=o[0],c=o[1],f=0,d=0;d<e;d+=n){var v=t[d+1]-c;u[f++]=l+i*(t[d]-l),u[f++]=c+a*v;for(var p=d+2;p<d+n;++p)u[f++]=t[p]}s&&u.length!=f&&(u.length=f)})(s,0,s.length,u,e,a,o,s),this.changed()}},r.prototype.translate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();(function(t,r,e,n,i,a,o){for(var s=o||[],u=0,l=0;l<e;l+=n){s[u++]=t[l]+i,s[u++]=t[l+1]+a;for(var c=l+2;c<l+n;++c)s[u++]=t[c]}o&&s.length!=u&&(s.length=u)})(i,0,i.length,a,e,n,i),this.changed()}},r}(j7);function TR(t){var r;return"XY"==t?r=2:"XYZ"==t||"XYM"==t?r=3:"XYZM"==t&&(r=4),r}var nC=W7;function DR(t,r,e,n){for(var i=0,a=e.length;i<a;++i)for(var o=e[i],s=0;s<n;++s)t[r++]=o[s];return r}var Y7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z7=function(t){function r(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return Y7(r,t),r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){var o=this.flatCoordinates,s=Yu(e,n,o[0],o[1]);if(s<a){for(var u=this.stride,l=0;l<u;++l)i[l]=o[l];return i.length=u,s}return a},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(e){return function(t,r){var e=t[0],n=t[1];return ia(e,n,e,n,r)}(this.flatCoordinates,e)},r.prototype.getType=function(){return"Point"},r.prototype.intersectsExtent=function(e){return uR(e,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,r,e,n){for(var i=0,a=e.length;i<a;++i)t[r++]=e[i];return r}(this.flatCoordinates,0,e),this.changed()},r}(nC),rC=Z7,X7=mt(931),IR=mt.n(X7);function ii(t,r){return Array.isArray(t)?t:(void 0===r?r=[t,t]:(r[0]=t,r[1]=t),r)}var J7=function(){function t(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=ii(r.scale),this.displacement_=r.displacement}return t.prototype.clone=function(){var r=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return qe()},t.prototype.getImage=function(r){return qe()},t.prototype.getHitDetectionImage=function(){return qe()},t.prototype.getPixelRatio=function(r){return 1},t.prototype.getImageState=function(){return qe()},t.prototype.getImageSize=function(){return qe()},t.prototype.getHitDetectionImageSize=function(){return qe()},t.prototype.getOrigin=function(){return qe()},t.prototype.getSize=function(){return qe()},t.prototype.setOpacity=function(r){this.opacity_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=ii(r)},t.prototype.listenImageChange=function(r){qe()},t.prototype.load=function(){qe()},t.prototype.unlistenImageChange=function(r){qe()},t}(),AR=J7,OR=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,RR=/^([a-z]*)$|^hsla?\(.*\)$/i;function MR(t){return"string"==typeof t?t:NR(t)}var r,e,eZ=(r={},e=0,function(n){var i;if(r.hasOwnProperty(n))i=r[n];else{if(e>=1024){var a=0;for(var o in r)0==(3&a++)&&(delete r[o],--e)}i=function(t){var r,e,n,i,a;if(RR.exec(t)&&(t=function(t){var r=document.createElement("div");if(r.style.color=t,""!==r.style.color){document.body.appendChild(r);var e=getComputedStyle(r).color;return document.body.removeChild(r),e}return""}(t)),OR.exec(t)){var s,o=t.length-1;s=o<=4?1:2;var u=4===o||8===o;r=parseInt(t.substr(1+0*s,s),16),e=parseInt(t.substr(1+1*s,s),16),n=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(r=(r<<4)+r,e=(e<<4)+e,n=(n<<4)+n,u&&(i=(i<<4)+i)),a=[r,e,n,i/255]}else 0==t.indexOf("rgba(")?FR(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),FR(a)):Xe(!1,14);return a}(n),r[n]=i,++e}return i});function xR(t){return Array.isArray(t)?t:eZ(t)}function FR(t){return t[0]=kn(t[0]+.5|0,0,255),t[1]=kn(t[1]+.5|0,0,255),t[2]=kn(t[2]+.5|0,0,255),t[3]=kn(t[3],0,1),t}function NR(t){var r=t[0];r!=(0|r)&&(r=r+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+r+","+e+","+n+","+(void 0===t[3]?1:t[3])+")"}function aa(t){return Array.isArray(t)?NR(t):t}var LR="10px sans-serif",Ba="#000",ol="round",hv=[],sl="round",uf="#000",lf="center",pv="middle",Cs=[0,0,0,0],Ua=new ta;(new qu).setSize=function(){console.warn("labelCache is deprecated.")};var iC,ul=null,aC={},rZ=function(){var a,o,r="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function s(l,c,f){for(var d=!0,h=0;h<n;++h){var v=e[h];if(o=gv(l+" "+c+" "+r+v,i),f!=v){var p=gv(l+" "+c+" "+r+f+","+v,i);d=d&&p!=o}}return!!d}function u(){for(var l=!0,c=Ua.getKeys(),f=0,d=c.length;f<d;++f){var h=c[f];Ua.get(h)<100&&(s.apply(this,h.split("\n"))?(zu(aC),ul=null,iC=void 0,Ua.set(h,100)):(Ua.set(h,Ua.get(h)+1,!0),l=!1))}l&&(clearInterval(a),a=void 0)}return function(l){var c=ZO(l);if(c)for(var f=c.families,d=0,h=f.length;d<h;++d){var v=f[d],p=c.style+"\n"+c.weight+"\n"+v;void 0===Ua.get(p)&&(Ua.set(p,100,!0),s(c.style,c.weight,v)||(Ua.set(p,0,!0),void 0===a&&(a=setInterval(u,32))))}}}(),iZ=function(){var t;return function(r){var e=aC[r];if(null==e){if($h){var n=ZO(r),i=VR(r,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=r,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);aC[r]=e}return e}}();function VR(t,r){return ul||(ul=fr(1,1)),t!=iC&&(ul.font=t,iC=ul.font),ul.measureText(r)}function gv(t,r){return VR(t,r).width}function BR(t,r,e){if(r in e)return e[r];var n=gv(t,r);return e[r]=n,n}function UR(t,r,e,n){0!==r&&(t.translate(e,n),t.rotate(r),t.translate(-e,-n))}var yv=null,lZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cZ=function(t){function r(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return lZ(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_},r.prototype.getImage=function(e){if(!this.canvas_[e||1]){var n=this.createRenderOptions(),i=fr(n.size*e||1,n.size*e||1);this.draw_(n,i,0,0,e||1),this.canvas_[e||1]=i.canvas}return this.canvas_[e||1]},r.prototype.getPixelRatio=function(e){return e},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return 2},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(e){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(e){},r.prototype.createRenderOptions=function(){var s,e=ol,n=sl,i=0,a=null,o=0,u=0;return this.stroke_&&(null===(s=this.stroke_.getColor())&&(s=uf),s=aa(s),void 0===(u=this.stroke_.getWidth())&&(u=1),a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=sl),void 0===(e=this.stroke_.getLineCap())&&(e=ol),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:s,strokeWidth:u,size:2*(this.radius_+u)+1,lineCap:e,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:i}},r.prototype.render=function(){var e=this.createRenderOptions(),n=fr(e.size,e.size);this.draw_(e,n,0,0,1),this.canvas_={},this.canvas_[1]=n.canvas;var i=n.canvas.width,a=i,o=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[a,a]},r.prototype.draw_=function(e,n,i,a,o){var s,u,l;n.setTransform(o,0,0,o,0,0),n.translate(i,a),n.beginPath();var c=this.points_;if(c===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var f=void 0!==this.radius2_?this.radius2_:this.radius_;for(f!==this.radius_&&(c*=2),s=0;s<=c;s++)u=2*s*Math.PI/c-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=s%2==0?this.radius_:f)*Math.cos(u),e.size/2+l*Math.sin(u))}if(this.fill_){var d=this.fill_.getColor();null===d&&(d=Ba),n.fillStyle=aa(d),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke()),n.closePath()},r.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var n=this.fill_.getColor(),i=0;if("string"==typeof n&&(n=xR(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i){var a=fr(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a,0,0)}}},r.prototype.drawHitDetectionCanvas_=function(e,n,i,a){n.translate(i,a),n.beginPath();var o=this.points_;if(o===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;s!==this.radius_&&(o*=2);var u=void 0,l=void 0,c=void 0;for(u=0;u<=o;u++)c=2*u*Math.PI/o-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=u%2==0?this.radius_:s)*Math.cos(c),e.size/2+l*Math.sin(c))}n.fillStyle=Ba,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.stroke()),n.closePath()},r}(AR),fZ=cZ,dZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hZ=function(t){function r(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return dZ(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.setRadius=function(e){this.radius_=e,this.render()},r}(fZ),HR=hZ,vZ=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(r){this.color_=r},t}(),ll=vZ,pZ=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(r){this.color_=r},t.prototype.setLineCap=function(r){this.lineCap_=r},t.prototype.setLineDash=function(r){this.lineDash_=r},t.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},t.prototype.setLineJoin=function(r){this.lineJoin_=r},t.prototype.setMiterLimit=function(r){this.miterLimit_=r},t.prototype.setWidth=function(r){this.width_=r},t}(),mv=pZ,cl=function(){function t(r){var e=r||{};this.geometry_=null,this.geometryFunction_=jR,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var r=this.getGeometry();return r&&"object"==typeof r&&(r=r.clone()),new t({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(r){this.renderer_=r},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(r){this.fill_=r},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(r){this.text_=r},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(r){"function"==typeof r?this.geometryFunction_=r:"string"==typeof r?this.geometryFunction_=function(e){return e.get(r)}:r?void 0!==r&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=jR,this.geometry_=r},t.prototype.setZIndex=function(r){this.zIndex_=r},t}(),oC=null;function yZ(t,r){if(!oC){var e=new ll({color:"rgba(255,255,255,0.4)"}),n=new mv({color:"#3399CC",width:1.25});oC=[new cl({image:new HR({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return oC}function jR(t){return t.getGeometry()}var GR=cl,_Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CZ=function(t){function r(e){var n=this,i=e||{},a=jn({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(n=t.call(this,a)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return _Z(r,t),r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get("renderOrder")},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new(IR())(9)),this.getRenderer().renderDeclutter(e)},r.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},r.prototype.setStyle=function(e){this.style_=void 0!==e?e:yZ,this.styleFunction_=null===e?void 0:function(t){var r,e;"function"==typeof t?r=t:(Array.isArray(t)?e=t:(Xe("function"==typeof t.getZIndex,41),e=[t]),r=function(){return e});return r}(this.style_),this.changed()},r}($O),EZ=CZ,ff={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},_v=[ff.FILL],mo=[ff.STROKE],Es=[ff.BEGIN_PATH],zR=[ff.CLOSE_PATH],Fe=ff,bZ=function(){function t(){}return t.prototype.drawCustom=function(r,e,n){},t.prototype.drawGeometry=function(r){},t.prototype.setStyle=function(r){},t.prototype.drawCircle=function(r,e){},t.prototype.drawFeature=function(r,e){},t.prototype.drawGeometryCollection=function(r,e){},t.prototype.drawLineString=function(r,e){},t.prototype.drawMultiLineString=function(r,e){},t.prototype.drawMultiPoint=function(r,e){},t.prototype.drawMultiPolygon=function(r,e){},t.prototype.drawPoint=function(r,e){},t.prototype.drawPolygon=function(r,e){},t.prototype.drawText=function(r,e){},t.prototype.setFillStrokeStyle=function(r,e){},t.prototype.setImageStyle=function(r,e){},t.prototype.setTextStyle=function(r,e){},t}(),qR=bZ;function Cv(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=r;s<e;s+=n)a[o++]=t.slice(s,s+n);return a.length=o,a}function sC(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Cv(t,r,l,n,a[o]),r=l}return a.length=o,a}function wZ(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=sC(t,r,l,n,a[o]),r=l[l.length-1]}return a.length=o,a}var SZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TZ=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return SZ(r,t),r.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return 1==n?e:e.map(function(i){return i*n})},r.prototype.appendFlatPointCoordinates=function(e,n){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,u=0,l=e.length;u<l;u+=n)a[0]=e[u],a[1]=e[u+1],ov(i,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},r.prototype.appendFlatLineCoordinates=function(e,n,i,a,o,s){var u=this.coordinates,l=u.length,c=this.getBufferedMaxExtent();s&&(n+=a);var p,y,_,f=e[n],d=e[n+1],h=this.tmpCoordinate_,v=!0;for(p=n+a;p<i;p+=a)h[0]=e[p],h[1]=e[p+1],(_=Y_(c,h))!==y?(v&&(u[l++]=f,u[l++]=d,v=!1),u[l++]=h[0],u[l++]=h[1]):1===_?(u[l++]=h[0],u[l++]=h[1],v=!1):v=!0,f=h[0],d=h[1],y=_;return(o&&v||p===n+a)&&(u[l++]=f,u[l++]=d),l},r.prototype.drawCustomCoordinates_=function(e,n,i,a,o){for(var s=0,u=i.length;s<u;++s){var l=i[s],c=this.appendFlatLineCoordinates(e,n,l,a,!1,!1);o.push(c),n=l}return n},r.prototype.drawCustom=function(e,n,i){this.beginGeometry(e,n);var u,l,c,f,d,a=e.getType(),o=e.getStride(),s=this.coordinates.length;if("MultiPolygon"==a){u=e.getOrientedFlatCoordinates(),f=[];var h=e.getEndss();d=0;for(var v=0,p=h.length;v<p;++v){var y=[];d=this.drawCustomCoordinates_(u,d,h[v],o,y),f.push(y)}this.instructions.push([Fe.CUSTOM,s,f,e,i,wZ])}else"Polygon"==a||"MultiLineString"==a?(c=[],u="Polygon"==a?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(u,0,e.getEnds(),o,c),this.instructions.push([Fe.CUSTOM,s,c,e,i,sC])):"LineString"==a||"Circle"==a?(u=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Fe.CUSTOM,s,l,e,i,Cv])):"MultiPoint"==a?(u=e.getFlatCoordinates(),(l=this.appendFlatPointCoordinates(u,o))>s&&this.instructions.push([Fe.CUSTOM,s,l,e,i,Cv])):"Point"==a&&(u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),this.instructions.push([Fe.CUSTOM,s,l=this.coordinates.length,e,i]));this.endGeometry(n)},r.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[Fe.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Fe.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,a,o,i=e.length,s=-1;for(n=0;n<i;++n)(o=(a=e[n])[0])==Fe.END_GEOMETRY?s=n:o==Fe.BEGIN_GEOMETRY&&(a[2]=n,gY(this.hitDetectionInstructions,s,n),s=-1)},r.prototype.setFillStrokeStyle=function(e,n){var i=this.state;if(e){var a=e.getColor();i.fillStyle=aa(a||Ba)}else i.fillStyle=void 0;if(n){var o=n.getColor();i.strokeStyle=aa(o||uf);var s=n.getLineCap();i.lineCap=void 0!==s?s:ol;var u=n.getLineDash();i.lineDash=u?u.slice():hv;var l=n.getLineDashOffset();i.lineDashOffset=l||0;var c=n.getLineJoin();i.lineJoin=void 0!==c?c:sl;var f=n.getWidth();i.lineWidth=void 0!==f?f:1;var d=n.getMiterLimit();i.miterLimit=void 0!==d?d:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(e){var n=e.fillStyle,i=[Fe.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},r.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},r.prototype.createStroke=function(e){return[Fe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(e,n){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(e,n){var i=e.strokeStyle,a=e.lineCap,o=e.lineDash,s=e.lineDashOffset,u=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!zc(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=u||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=u,e.currentLineWidth=l,e.currentMiterLimit=c)},r.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Fe.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},r.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=oR(this.maxExtent),this.maxLineWidth>0)&&K_(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},r}(qR),df=TZ,DZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kZ=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return DZ(r,t),r.prototype.drawPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Fe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Fe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.drawMultiPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Fe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Fe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},r.prototype.setImageStyle=function(e,n){var i=e.getAnchor(),a=e.getSize(),o=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),u=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=n},r}(df),IZ=kZ,AZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OZ=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return AZ(r,t),r.prototype.drawFlatCoordinates_=function(e,n,i,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,i,a,!1,!1),u=[Fe.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i},r.prototype.drawLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Es);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(mo),this.endGeometry(n)}},r.prototype.drawMultiLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Es);for(var s=e.getEnds(),u=e.getFlatCoordinates(),l=e.getStride(),c=0,f=0,d=s.length;f<d;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push(mo),this.endGeometry(n)}},r.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(mo),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},r.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(mo),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Es)},r}(df),RZ=OZ;function bs(t,r){return r*Math.round(t/r)}function xZ(t,r,e,n,i,a,o){if(r==e)return o;var l,c,s=bs(t[r],i),u=bs(t[r+1],i);r+=n,a[o++]=s,a[o++]=u;do{if(l=bs(t[r],i),c=bs(t[r+1],i),(r+=n)==e)return a[o++]=l,a[o++]=c,o}while(l==s&&c==u);for(;r<e;){var f=bs(t[r],i),d=bs(t[r+1],i);if(r+=n,f!=l||d!=c){var h=l-s,v=c-u,p=f-s,y=d-u;if(h*y==v*p&&(h<0&&p<h||h==p||h>0&&p>h)&&(v<0&&y<v||v==y||v>0&&y>v)){l=f,c=d;continue}a[o++]=l,a[o++]=c,s=l,u=c,l=f,c=d}}return a[o++]=l,a[o++]=c,o}var FZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NZ=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return FZ(r,t),r.prototype.drawFlatCoordinatess_=function(e,n,i,a){var o=this.state,s=void 0!==o.fillStyle,u=void 0!==o.strokeStyle,l=i.length;this.instructions.push(Es),this.hitDetectionInstructions.push(Es);for(var c=0;c<l;++c){var f=i[c],d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,n,f,a,!0,!u),v=[Fe.MOVE_TO_LINE_TO,d,h];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(zR),this.hitDetectionInstructions.push(zR)),n=f}return s&&(this.instructions.push(_v),this.hitDetectionInstructions.push(_v)),u&&(this.instructions.push(mo),this.hitDetectionInstructions.push(mo)),n},r.prototype.drawCircle=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Fe.SET_FILL_STYLE,Ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),u=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var c=[Fe.CIRCLE,l];this.instructions.push(Es,c),this.hitDetectionInstructions.push(Es,c),void 0!==i.fillStyle&&(this.instructions.push(_v),this.hitDetectionInstructions.push(_v)),void 0!==i.strokeStyle&&(this.instructions.push(mo),this.hitDetectionInstructions.push(mo)),this.endGeometry(n)}},r.prototype.drawPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Fe.SET_FILL_STYLE,Ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),u=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(n)}},r.prototype.drawMultiPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Fe.SET_FILL_STYLE,Ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),u=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,f=0,d=s.length;f<d;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(n)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,a=n.length;i<a;++i)n[i]=bs(n[i],e);return t.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},r}(df),YR=NZ;function LZ(t,r,e,n,i){var f,d,h,v,p,y,_,m,E,a=e,o=e,s=0,u=0,l=e;for(f=e;f<n;f+=i){var b=r[f],S=r[f+1];void 0!==v&&(m=b-v,E=S-p,h=Math.sqrt(m*m+E*E),void 0!==y&&(u+=d,Math.acos((y*m+_*E)/(d*h))>t&&(u>s&&(s=u,a=l,o=f),u=0,l=f-i)),d=h,y=m,_=E),v=b,p=S}return(u+=h)>s?[l,f]:[a,o]}var VZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ev={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},BZ=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return VZ(r,t),r.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},r.prototype.drawText=function(e,n){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var s=this.coordinates,u=s.length,l=e.getType(),c=null,f=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){var I=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),f=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||I.push(c[2]/this.resolution),f=3;break;case"MultiPolygon":var M=e.getFlatInteriorPoints();for(c=[],v=0,p=M.length;v<p;v+=3)o.overflow||I.push(M[v+2]/this.resolution),c.push(M[v],M[v+1]);if(0===c.length)return;f=2}if((k=this.appendFlatPointCoordinates(c,f))===u)return;this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var L=o.padding;if(L!=Cs&&(o.scale[0]<0||o.scale[1]<0)){var K=o.padding[0],z=o.padding[1],Q=o.padding[2],le=o.padding[3];o.scale[0]<0&&(z=-z,le=-le),o.scale[1]<0&&(K=-K,Q=-Q),L=[K,z,Q,le]}var pe=this.pixelRatio;this.instructions.push([Fe.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,L==Cs?Cs:L.map(function(me){return me*pe}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]);var ne=1/pe;this.hitDetectionInstructions.push([Fe.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ne,ne],NaN,this.declutterImageWithText_,L,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]),this.endGeometry(n)}else{if(!Rr(this.getBufferedMaxExtent(),e.getExtent()))return;var d=void 0;if(c=e.getFlatCoordinates(),"LineString"==l)d=[c.length];else if("MultiLineString"==l)d=e.getEnds();else if("Polygon"==l)d=e.getEnds().slice(0,1);else if("MultiPolygon"==l){var h=e.getEndss();d=[];for(var v=0,p=h.length;v<p;++v)d.push(h[v][0])}this.beginGeometry(e,n);for(var y=o.textAlign,_=0,m=void 0,E=0,b=d.length;E<b;++E){if(null==y){var S=LZ(o.maxAngle,c,_,d[E],f);_=S[0],m=S[1]}else m=d[E];for(v=_;v<m;v+=f)s.push(c[v],c[v+1]);var k;_=d[E],this.drawChars_(u,k=s.length),u=k}this.endGeometry(n)}}},r.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||lf,textBaseline:n.textBaseline||pv,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(e,n){var i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=Ev[a.textBaseline],f=this.textOffsetY_*l,d=this.text_,h=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Fe.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,l,f,o,h*l,d,s,1]),this.hitDetectionInstructions.push([Fe.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,1,f,o,h,d,s,1/l])},r.prototype.setTextStyle=function(e,n){var i,a,o;if(e){var s=e.getFill();s?((a=this.textFillState_)||(this.textFillState_=a={}),a.fillStyle=aa(s.getColor()||Ba)):this.textFillState_=a=null;var u=e.getStroke();if(u){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var l=u.getLineDash(),c=u.getLineDashOffset(),f=u.getWidth(),d=u.getMiterLimit();o.lineCap=u.getLineCap()||ol,o.lineDash=l?l.slice():hv,o.lineDashOffset=void 0===c?0:c,o.lineJoin=u.getLineJoin()||sl,o.lineWidth=void 0===f?1:f,o.miterLimit=void 0===d?10:d,o.strokeStyle=aa(u.getColor()||uf)}else this.textStrokeState_=o=null;i=this.textState_;var h=e.getFont()||LR;rZ(h);var v=e.getScaleArray();i.overflow=e.getOverflow(),i.font=h,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||pv,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Cs,i.scale=void 0===v?[1,1]:v;var p=e.getOffsetX(),y=e.getOffsetY(),_=e.getRotateWithView(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===m?0:m,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Ze(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Ze(a.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},r}(df),HZ={Circle:YR,Default:df,Image:IZ,LineString:RZ,Polygon:YR,Text:BZ},jZ=function(){function t(r,e,n,i){this.tolerance_=r,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var r={};for(var e in this.buildersByZIndex_){r[e]=r[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var a=n[i].finish();r[e][i]=a}}return r},t.prototype.getBuilder=function(r,e){var n=void 0!==r?r.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var a=i[e];return void 0===a&&(a=new(0,HZ[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=a),a},t}(),XR=jZ,GZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),WZ=function(t){function r(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return GZ(r,t),r.prototype.getFeatures=function(e){return qe()},r.prototype.prepareFrame=function(e){return qe()},r.prototype.renderFrame=function(e,n){return qe()},r.prototype.loadedTileCallback=function(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(e,n,i){return function(a,o){var s=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(n,a,o,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){},r.prototype.getDataAtPixel=function(e,n,i){return qe()},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(e){var n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n},r.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},r}(HO),zZ=WZ,qZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KZ=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=a,o}return qZ(r,t),r}(Na),QR=KZ,YZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZZ=function(t){function r(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return YZ(r,t),r.prototype.useContainer=function(e,n,i){var o,s,a=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===a&&(u=e.firstElementChild)instanceof HTMLCanvasElement&&(s=u.getContext("2d")),!s||0!==s.canvas.width&&s.canvas.style.transform!==n?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=s,this.containerReused=!0),!this.container){(o=document.createElement("div")).className=a;var u,l=o.style;l.position="absolute",l.width="100%",l.height="100%",s=fr(),o.appendChild(u=s.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=o,this.context=s}},r.prototype.clip=function(e,n,i){var a=n.pixelRatio,o=n.size[0]*a/2,s=n.size[1]*a/2,u=n.viewState.rotation,l=yo(i),c=rl(i),f=$c(i),d=el(i);zt(n.coordinateToPixelTransform,l),zt(n.coordinateToPixelTransform,c),zt(n.coordinateToPixelTransform,f),zt(n.coordinateToPixelTransform,d),e.save(),UR(e,-u,o,s),e.beginPath(),e.moveTo(l[0]*a,l[1]*a),e.lineTo(c[0]*a,c[1]*a),e.lineTo(f[0]*a,f[1]*a),e.lineTo(d[0]*a,d[1]*a),e.clip(),UR(e,u,o,s)},r.prototype.clipUnrotated=function(e,n,i){var a=yo(i),o=rl(i),s=$c(i),u=el(i);zt(n.coordinateToPixelTransform,a),zt(n.coordinateToPixelTransform,o),zt(n.coordinateToPixelTransform,s),zt(n.coordinateToPixelTransform,u);var l=this.inversePixelTransform;zt(l,a),zt(l,o),zt(l,s),zt(l,u),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()},r.prototype.dispatchRenderEvent_=function(e,n,i){var a=this.getLayer();if(a.hasListener(e)){var o=new QR(e,this.inversePixelTransform,i,n);a.dispatchEvent(o)}},r.prototype.preRender=function(e,n){this.dispatchRenderEvent_("prerender",e,n)},r.prototype.postRender=function(e,n){this.dispatchRenderEvent_("postrender",e,n)},r.prototype.getRenderTransform=function(e,n,i,a,o,s,u){var f=a/n;return na(this.tempTransform,o/2,s/2,f,-f,-i,-e[0]+u,-e[1])},r.prototype.getDataAtPixel=function(e,n,i){var c,a=zt(this.inversePixelTransform,e.slice()),o=this.context,u=this.getLayer().getExtent();if(u&&!ov(u,zt(n.pixelToCoordinateTransform,e.slice())))return null;try{var f=Math.round(a[0]),d=Math.round(a[1]),h=document.createElement("canvas"),v=h.getContext("2d");h.width=1,h.height=1,v.clearRect(0,0,1,1),v.drawImage(o.canvas,f,d,1,1,0,0,1,1),c=v.getImageData(0,0,1,1).data}catch(p){return"SecurityError"===p.name?new Uint8Array:c}return 0===c[3]?null:c},r}(zZ),$R=ZZ;function XZ(t,r,e,n,i,a,o,s,u,l,c,f){var d=t[r],h=t[r+1],v=0,p=0,y=0,_=0;function m(){v=d,p=h,d=t[r+=n],h=t[r+1],_+=y,y=Math.sqrt((d-v)*(d-v)+(h-p)*(h-p))}do{m()}while(r<e-n&&_+y<a);for(var E=(a-_)/y,b=ps(v,d,E),S=ps(p,h,E),k=r-n,I=_,M=a+s*u(l,i,c);r<e-n&&_+y<M;)m();var z,L=ps(v,d,E=(M-_)/y),K=ps(p,h,E);if(f){var Q=[b,S,L,K];wR(Q,0,4,2,f,Q,Q),z=Q[0]>Q[2]}else z=b>L;var le=Math.PI,pe=[],ne=k+n===r;if(y=0,_=I,d=t[r=k],h=t[r+1],ne){m();var Te=Math.atan2(h-p,d-v);return z&&(Te+=Te>0?-le:le),pe[0]=[me=(L+b)/2,Qe=(K+S)/2,(M-a)/2,Te,i],pe}for(var yt,Re=0,ct=i.length;Re<ct;){m();var G=Math.atan2(h-p,d-v);if(z&&(G+=G>0?-le:le),void 0!==yt){var Jt=G-yt;if(Jt+=Jt>le?-2*le:Jt<-le?2*le:0,Math.abs(Jt)>o)return null}yt=G;for(var Le=Re,$e=0;Re<ct;++Re){var Nt=s*u(l,i[z?ct-Re-1:Re],c);if(r+n<e&&_+y<a+$e+Nt/2)break;$e+=Nt}if(Re!==Le){var en=z?i.substring(ct-Le,ct-Re):i.substring(Le,Re),me=ps(v,d,E=(a+$e/2-_)/y),Qe=ps(p,h,E);pe.push([me,Qe,$e/2,G,en]),a+=$e}}return pe}function JR(t,r,e,n){for(var i=t[r],a=t[r+1],o=0,s=r+n;s<e;s+=n){var u=t[s],l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a)),i=u,a=l}return o}var fl=[1/0,1/0,-1/0,-1/0],_o=[],Ha=[],ja=[],Co=[];function e1(t){return t[3].declutterBox}var QZ=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function t1(t,r){return("start"===r||"end"===r)&&!QZ.test(t)&&(r="start"===r?"left":"right"),Ev[r]}var $Z=function(){function t(r,e,n,i,a){this.overlaps=n,this.pixelRatio=e,this.resolution=r,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=a,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(r,e,n,i){var a=r+e+n+i;if(this.labels_[a])return this.labels_[a];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,u=this.textStates[e],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=t1(r,u.textAlign||lf),d=i&&o.lineWidth?o.lineWidth:0,h=r.split("\n"),v=h.length,p=[],y=function(t,r,e){for(var n=r.length,i=0,a=0;a<n;++a){var o=gv(t,r[a]);i=Math.max(i,o),e.push(o)}return i}(u.font,h,p),_=iZ(u.font),E=y+d,b=[],S=(E+2)*c[0],k=(_*v+d)*c[1],I={width:S<0?Math.floor(S):Math.ceil(S),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:b};(1!=c[0]||1!=c[1])&&b.push("scale",c),b.push("font",u.font),i&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",d),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),($h?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset))),n&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");var z,L=.5-f,K=f*E+L*d;if(i)for(z=0;z<v;++z)b.push("strokeText",[h[z],K+L*p[z],.5*(d+_)+z*_]);if(n)for(z=0;z<v;++z)b.push("fillText",[h[z],K+L*p[z],.5*(d+_)+z*_]);return this.labels_[a]=I,I},t.prototype.replayTextBackground_=function(r,e,n,i,a,o,s){r.beginPath(),r.moveTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,i),r.lineTo.apply(r,a),r.lineTo.apply(r,e),o&&(this.alignFill_=o[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(r,e,n,i,a,o,s,u,l,c,f,d,h,v,p,y){var L,_=n-(s*=d[0]),m=i-(u*=d[1]),E=a+l>r?r-l:a,b=o+c>e?e-c:o,S=v[3]+E*d[0]+v[1],k=v[0]+b*d[1]+v[2],I=_-v[3],M=m-v[0];return(p||0!==f)&&(_o[0]=I,Co[0]=I,_o[1]=M,Ha[1]=M,Ha[0]=I+S,ja[0]=Ha[0],ja[1]=M+k,Co[1]=ja[1]),0!==f?(zt(L=na([1,0,0,1,0,0],n,i,1,1,f,-n,-i),_o),zt(L,Ha),zt(L,ja),zt(L,Co),ia(Math.min(_o[0],Ha[0],ja[0],Co[0]),Math.min(_o[1],Ha[1],ja[1],Co[1]),Math.max(_o[0],Ha[0],ja[0],Co[0]),Math.max(_o[1],Ha[1],ja[1],Co[1]),fl)):ia(Math.min(I,I+S),Math.min(M,M+k),Math.max(I,I+S),Math.max(M,M+k),fl),h&&(_=Math.round(_),m=Math.round(m)),{drawImageX:_,drawImageY:m,drawImageW:E,drawImageH:b,originX:l,originY:c,declutterBox:{minX:fl[0],minY:fl[1],maxX:fl[2],maxY:fl[3],value:y},canvasTransform:L,scale:d}},t.prototype.replayImageOrLabel_=function(r,e,n,i,a,o,s){var l=i.declutterBox,c=r.canvas,f=s?s[2]*i.scale[0]/2:0;return l.minX-f<=c.width/e&&l.maxX+f>=0&&l.minY-f<=c.height/e&&l.maxY+f>=0&&(!(!o&&!s)&&this.replayTextBackground_(r,_o,Ha,ja,Co,o,s),function(t,r,e,n,i,a,o,s,u,l,c){t.save(),1!==e&&(t.globalAlpha*=e),r&&t.setTransform.apply(t,r),n.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,r){for(var e=t.contextInstructions,n=0,i=e.length;n<i;n+=2)Array.isArray(e[n+1])?r[e[n]].apply(r,e[n+1]):r[e[n]]=e[n+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(n,i,a,o,s,0,0,o,s)):t.drawImage(n,i,a,o,s,u,l,o*c[0],s*c[1]),t.restore()}(r,i.canvasTransform,a,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(r){if(this.alignFill_){var e=zt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;r.save(),r.translate(e[0]%n,e[1]%n),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},t.prototype.setStrokeStyle_=function(r,e){r.strokeStyle=e[1],r.lineWidth=e[2],r.lineCap=e[3],r.lineJoin=e[4],r.miterLimit=e[5],r.setLineDash&&(r.lineDashOffset=e[7],r.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(r,e,n,i){var a=this.textStates[e],o=this.createLabel(r,e,i,n),s=this.strokeStates[n],u=this.pixelRatio,l=t1(r,a.textAlign||lf),c=Ev[a.textBaseline||pv],f=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/u-2*a.scale[0])+2*(.5-l)*f,anchorY:c*o.height/u+2*(.5-c)*f}},t.prototype.execute_=function(r,e,n,i,a,o,s,u){var l;this.pixelCoordinates_&&zc(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=_s(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function(t,r){t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5]}(this.renderedTransform_,n));for(var h,v,p,y,_,m,E,b,S,k,I,M,Qe,yt,Re,ct,c=0,f=i.length,d=0,L=0,K=0,z=null,Q=null,le=this.coordinateCache_,pe=this.viewRotation_,ne=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,Te={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:pe},me=this.instructions!=i||this.overlaps?0:200;c<f;){var G=i[c];switch(G[0]){case Fe.BEGIN_GEOMETRY:ct=G[3],(Qe=G[1]).getGeometry()?void 0===s||Rr(s,ct.getExtent())?++c:c=G[2]+1:c=G[2];break;case Fe.BEGIN_PATH:L>me&&(this.fill_(r),L=0),K>me&&(r.stroke(),K=0),!L&&!K&&(r.beginPath(),y=NaN,_=NaN),++c;break;case Fe.CIRCLE:var Le=l[d=G[1]],$e=l[d+1],en=l[d+2]-Le,On=l[d+3]-$e,la=Math.sqrt(en*en+On*On);r.moveTo(Le+la,$e),r.arc(Le,$e,la,0,2*Math.PI,!0),++c;break;case Fe.CLOSE_PATH:r.closePath(),++c;break;case Fe.CUSTOM:d=G[1],h=G[2];var As=G[4],ee=6==G.length?G[5]:void 0;Te.geometry=G[3],Te.feature=Qe,c in le||(le[c]=[]);var ce=le[c];ee?ee(l,d,h,2,ce):(ce[0]=l[d],ce[1]=l[d+1],ce.length=2),As(ce,Te),++c;break;case Fe.DRAW_IMAGE:d=G[1],h=G[2],v=G[4],p=G[5];var _e=G[6],Ut=G[7],Fr=G[8],Fi=G[9],ca=G[10],tn=G[11],ko=G[12],Rn=G[13],Wn=G[14];if(!(b=G[3])&&G.length>=19){var Ni=this.drawLabelWithPointPlacement_(S=G[18],k=G[19],I=G[20],M=G[21]);G[3]=b=Ni.label,G[4]=v=(Ni.anchorX-G[22])*this.pixelRatio,G[5]=p=(Ni.anchorY-G[23])*this.pixelRatio,G[6]=_e=b.height,G[13]=Rn=b.width}var _f=void 0;G.length>24&&(_f=G[24]);var Ao=void 0,Wa=void 0,Os=void 0;G.length>16?(Ao=G[15],Wa=G[16],Os=G[17]):(Ao=Cs,Wa=!1,Os=!1),ca&&ne?tn+=pe:!ca&&!ne&&(tn-=pe);for(var pl=0;d<h;d+=2)if(!(_f&&_f[pl++]<Rn/this.pixelRatio)){var Bi=[r,e,b,Vi=this.calculateImageOrLabelDimensions_(b.width,b.height,l[d],l[d+1],Rn,_e,v,p,Fr,Fi,tn,ko,a,Ao,Wa||Os,Qe),Ut,Wa?z:null,Os?Q:null],Kv=void 0,pE=void 0;if(u&&Wn){if(!Wn[d]){Wn[d]=Bi;continue}if(Kv=Wn[d],delete Wn[d],pE=e1(Kv),u.collides(pE))continue}u&&u.collides(Vi.declutterBox)||(Kv&&(u&&u.insert(pE),this.replayImageOrLabel_.apply(this,Kv)),u&&u.insert(Vi.declutterBox),this.replayImageOrLabel_.apply(this,Bi))}++c;break;case Fe.DRAW_CHARS:var hP=G[1],vP=G[2],gE=G[3],ite=G[4];M=G[5];var ate=G[6],pP=G[7],gP=G[8];I=G[9];var yE=G[10];S=G[11];var yP=[G[13],G[13]],mE=this.textStates[k=G[12]],Cf=mE.font,Ef=[mE.scale[0]*pP,mE.scale[1]*pP],bf=void 0;Cf in this.widths_?bf=this.widths_[Cf]:this.widths_[Cf]=bf={};var mP=JR(l,hP,vP,2),_P=Math.abs(Ef[0])*BR(Cf,S,bf);if(ite||_P<=mP){var wf=XZ(l,hP,vP,2,S,(mP-_P)*Ev[this.textStates[k].textAlign],ate,Math.abs(Ef[0]),BR,Cf,bf,ne?0:this.viewRotation_);e:if(wf){var Sf=[],Oo=void 0,Yv=void 0,vr=void 0,ui=void 0;if(I)for(Oo=0,Yv=wf.length;Oo<Yv;++Oo){vr=this.createLabel((ui=wf[Oo])[4],k,"",I);var Vi=this.calculateImageOrLabelDimensions_(vr.width,vr.height,ui[0],ui[1],vr.width,vr.height,v=ui[2]+(Ef[0]<0?-yE:yE),p=gE*vr.height+2*(.5-gE)*yE*Ef[1]/Ef[0]-gP,0,0,ui[3],yP,!1,Cs,!1,Qe);if(u&&u.collides(Vi.declutterBox))break e;Sf.push([r,e,vr,Vi,1,null,null])}if(M)for(Oo=0,Yv=wf.length;Oo<Yv;++Oo){if(vr=this.createLabel((ui=wf[Oo])[4],k,M,""),Vi=this.calculateImageOrLabelDimensions_(vr.width,vr.height,ui[0],ui[1],vr.width,vr.height,v=ui[2],p=gE*vr.height-gP,0,0,ui[3],yP,!1,Cs,!1,Qe),u&&u.collides(Vi.declutterBox))break e;Sf.push([r,e,vr,Vi,1,null,null])}u&&u.load(Sf.map(e1));for(var _E=0,ute=Sf.length;_E<ute;++_E)this.replayImageOrLabel_.apply(this,Sf[_E])}}++c;break;case Fe.END_GEOMETRY:if(void 0!==o){var CP=o(Qe=G[1],ct);if(CP)return CP}++c;break;case Fe.FILL:me?L++:this.fill_(r),++c;break;case Fe.MOVE_TO_LINE_TO:for(h=G[2],E=(Re=l[(d=G[1])+1])+.5|0,((m=(yt=l[d])+.5|0)!==y||E!==_)&&(r.moveTo(yt,Re),y=m,_=E),d+=2;d<h;d+=2)m=(yt=l[d])+.5|0,E=(Re=l[d+1])+.5|0,(d==h-2||m!==y||E!==_)&&(r.lineTo(yt,Re),y=m,_=E);++c;break;case Fe.SET_FILL_STYLE:z=G,this.alignFill_=G[2],L&&(this.fill_(r),L=0,K&&(r.stroke(),K=0)),r.fillStyle=G[1],++c;break;case Fe.SET_STROKE_STYLE:Q=G,K&&(r.stroke(),K=0),this.setStrokeStyle_(r,G),++c;break;case Fe.STROKE:me?K++:r.stroke(),++c;break;default:++c}}L&&this.fill_(r),K&&r.stroke()},t.prototype.execute=function(r,e,n,i,a,o){this.viewRotation_=i,this.execute_(r,e,n,this.instructions,a,void 0,void 0,o)},t.prototype.executeHitDetection=function(r,e,n,i,a){return this.viewRotation_=n,this.execute_(r,1,e,this.hitDetectionInstructions,!0,i,a)},t}(),JZ=$Z,lC=["Polygon","Circle","LineString","Image","Text","Default"],eX=function(){function t(r,e,n,i,a,o){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return t.prototype.clip=function(r,e){var n=this.getClipCoords(e);r.beginPath(),r.moveTo(n[0],n[1]),r.lineTo(n[2],n[3]),r.lineTo(n[4],n[5]),r.lineTo(n[6],n[7]),r.clip()},t.prototype.createExecutors_=function(r){for(var e in r){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=r[e],a=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i)n[o]=new JZ(this.resolution_,this.pixelRatio_,this.overlaps_,i[o],a)}},t.prototype.hasExecutors=function(r){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,a=r.length;i<a;++i)if(r[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(r,e,n,i,a,o){var s=2*(i=Math.round(i))+1,u=na(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-r[0],-r[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=fr(s,s));var f,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Ju(f=[1/0,1/0,-1/0,-1/0],r),K_(f,e*(this.renderBuffer_+i),f));var h,d=function(t){if(void 0!==cC[t])return cC[t];for(var r=2*t+1,e=t*t,n=new Array(e+1),i=0;i<=t;++i)for(var a=0;a<=t;++a){var o=i*i+a*a;if(o>e)break;var s=n[o];s||(n[o]=s=[]),s.push(4*((t+i)*r+(t+a))+3),i>0&&s.push(4*((t-i)*r+(t+a))+3),a>0&&(s.push(4*((t+i)*r+(t-a))+3),i>0&&s.push(4*((t-i)*r+(t-a))+3))}for(var u=[],l=(i=0,n.length);i<l;++i)n[i]&&u.push.apply(u,n[i]);return cC[t]=u,u}(i);function v(k,I){for(var M=c.getImageData(0,0,s,s).data,L=0,K=d.length;L<K;L++)if(M[d[L]]>0){if(!o||"Image"!==h&&"Text"!==h||-1!==o.indexOf(k)){var z=(d[L]-3)/4,Q=i-z%s,le=i-(z/s|0),pe=a(k,I,Q*Q+le*le);if(pe)return pe}c.clearRect(0,0,s,s);break}}var y,_,m,E,b,p=Object.keys(this.executorsByZIndex_).map(Number);for(p.sort(hs),y=p.length-1;y>=0;--y){var S=p[y].toString();for(m=this.executorsByZIndex_[S],_=lC.length-1;_>=0;--_)if(void 0!==(E=m[h=lC[_]])&&(b=E.executeHitDetection(c,u,n,v,f)))return b}},t.prototype.getClipCoords=function(r){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],a=e[2],o=e[3],s=[n,i,n,o,a,o,a,i];return _s(s,0,8,2,r,s),s},t.prototype.isEmpty=function(){return Kc(this.executorsByZIndex_)},t.prototype.execute=function(r,e,n,i,a,o,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(hs),this.maxExtent_&&(r.save(),this.clip(r,n));var c,f,d,h,v,p,l=o||lC;for(s&&u.reverse(),c=0,f=u.length;c<f;++c){var y=u[c].toString();for(v=this.executorsByZIndex_[y],d=0,h=l.length;d<h;++d)void 0!==(p=v[l[d]])&&p.execute(r,e,n,i,a,s)}this.maxExtent_&&r.restore()},t}(),cC={},n1=eX,nX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rX=function(t){function r(e,n,i,a,o,s,u){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=a,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=u,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return nX(r,t),r.prototype.drawImages_=function(e,n,i,a){if(this.image_){var o=_s(e,n,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var f=0,d=o.length;f<d;f+=2){var h=o[f]-this.imageAnchorX_,v=o[f+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,y=v+this.imageAnchorY_;na(u,p,y,1,1,c,-p,-y),s.setTransform.apply(s,u),s.translate(p,y),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,v,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},r.prototype.drawText_=function(e,n,i,a){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=_s(e,n,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);n<i;n+=a){var l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var f=na(this.tmpLocalTransform_,l,c,1,1,u,-l,-c);s.setTransform.apply(s,f),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},r.prototype.moveToLineTo_=function(e,n,i,a,o){var s=this.context_,u=_s(e,n,i,a,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var l=u.length;o&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(u[c],u[c+1]);return o&&s.closePath(),i},r.prototype.drawRings_=function(e,n,i,a){for(var o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(e,n,i[o],a,!0);return n},r.prototype.drawCircle=function(e){if(Rr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=function(t,r,e){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return _s(n,0,n.length,i,r,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(i*i+a*a),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},r.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},r.prototype.setTransform=function(e){this.transform_=e},r.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},r.prototype.drawFeature=function(e,n){var i=n.getGeometryFunction()(e);!i||!Rr(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),i=0,a=n.length;i<a;++i)this.drawGeometry(n[i])},r.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},r.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(Rr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=e.getFlatCoordinates(),o=0,s=e.getEnds(),u=e.getStride();i.beginPath();for(var l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(a,o,s[l],u,!1);i.stroke()}if(""!==this.text_){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},r.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getOrientedFlatCoordinates(),a=0,o=e.getEndss(),s=e.getStride();n.beginPath();for(var u=0,l=o.length;u<l;++u)a=this.drawRings_(i,a,o[u],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},r.prototype.setContextFillState_=function(e){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},r.prototype.setContextStrokeState_=function(e){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(zc(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},r.prototype.setContextTextState_=function(e){var n=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:lf;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=a&&(i.textAlign=a,n.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=a,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},r.prototype.setFillStrokeStyle=function(e,n){if(e){var i=e.getColor();this.fillState_={fillStyle:aa(i||Ba)}}else this.fillState_=null;if(n){var a=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),u=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:ol,lineDash:s||hv,lineDashOffset:u||0,lineJoin:void 0!==l?l:sl,lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==f?f:10,strokeStyle:aa(a||uf)}}else this.strokeState_=null},r.prototype.setImageStyle=function(e){if(e){var n=e.getSize();if(n){var i=e.getAnchor(),a=e.getImage(1),o=e.getOrigin(),s=e.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=n[1],this.image_=a,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=n[0]}else this.image_=null}else this.image_=null},r.prototype.setTextStyle=function(e){if(e){var n=e.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:aa(i||Ba)}}else this.textFillState_=null;var a=e.getStroke();if(a){var o=a.getColor(),s=a.getLineCap(),u=a.getLineDash(),l=a.getLineDashOffset(),c=a.getLineJoin(),f=a.getWidth(),d=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:ol,lineDash:u||hv,lineDashOffset:l||0,lineJoin:void 0!==c?c:sl,lineWidth:void 0!==f?f:1,miterLimit:void 0!==d?d:10,strokeStyle:aa(o||uf)}}else this.textStrokeState_=null;var h=e.getFont(),v=e.getOffsetX(),p=e.getOffsetY(),y=e.getRotateWithView(),_=e.getRotation(),m=e.getScaleArray(),E=e.getText(),b=e.getTextAlign(),S=e.getTextBaseline();this.textState_={font:void 0!==h?h:LR,textAlign:void 0!==b?b:lf,textBaseline:void 0!==S?S:pv},this.text_=void 0!==E?E:"",this.textOffsetX_=void 0!==v?this.pixelRatio_*v:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},r}(qR),iX=rX,aX=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var e in this.cache_)0==(3&r++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(r,e,n){var i=r1(r,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(r,e,n,i){var a=r1(r,e,n);this.cache_[a]=i,++this.cacheSize_},t.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},t}();function r1(t,r,e){return r+":"+t+":"+(e?MR(e):"null")}var bv=new aX,oX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sX=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=a,o}return oX(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return qe()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){qe()},r}(qu),uX=sX,lX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function fC(t,r,e){var n=t;if(n.src&&WO){var i=n.decode(),a=!0;return i.then(function(){a&&r()}).catch(function(u){a&&("EncodingError"===u.name&&"Invalid image type."===u.message?r():e())}),function(){a=!1}}var s=[Zh(n,"load",r),Zh(n,"error",e)];return function(){s.forEach(Bt)}}!function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,i,0)||this;return u.src_=a,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=0,u.imageLoadFunction_=s,u}lX(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Mi(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=fC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(e){this.image_=e},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(uX);var cX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hf=null,fX=function(t){function r(e,n,i,a,o,s){var u=t.call(this)||this;return u.hitDetectionImage_=null,u.image_=e||new Image,null!==a&&(u.image_.crossOrigin=a),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=o,u.size_=i,u.src_=n,u}return cX(r,t),r.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){hf||(hf=fr(1,1)),hf.drawImage(this.image_,0,0);try{hf.getImageData(0,0,1,1),this.tainted_=!1}catch(e){hf=null,this.tainted_=!0}}return!0===this.tainted_},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},r.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},r.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=fr(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=fC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var i=n.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=MR(this.color_),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,n.width,n.height),o=a.data,s=this.color_[0]/255,u=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],f=0,d=o.length;f<d;f+=4)o[f]*=s,o[f+1]*=u,o[f+2]*=l,o[f+3]*=c;i.putImageData(a,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(qu),hX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vX=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,f=i.src;Xe(!(void 0!==f&&l),4),Xe(!l||l&&c,5),(void 0===f||0===f.length)&&l&&(f=l.src||Ze(l)),Xe(void 0!==f&&f.length>0,6);var d=void 0!==i.src?0:2;return n.color_=void 0!==i.color?xR(i.color):null,n.iconImage_=function(t,r,e,n,i,a){var o=bv.get(r,n,a);return o||(o=new fX(t,r,e,n,i,a),bv.set(r,n,a,o)),o}(l,f,c,n.crossOrigin_,d,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return hX(r,t),r.prototype.clone=function(){var e=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=n[0]),"fraction"==this.anchorYUnits_&&(e[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+n[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},r.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(e){return this.iconImage_.getImage(e)},r.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_,n=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var i=this.getSize(),a=this.iconImage_.getSize();if(!i||!a)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=a[0]-i[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=a[1]-i[1]-e[1])}return e[0]+=n[0],e[1]+=n[1],this.origin_=e,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},r}(AR),dC=vX,a1={Point:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(r,n)}if(o&&o.getText()){var l=t.getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},LineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},Polygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},MultiPoint:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(r,n)}if(o&&o.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},MultiLineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},MultiPolygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(o||a){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},GeometryCollection:function(t,r,e,n,i){var o,s,a=r.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,a1[a[o].getType()])(t,a[o],e,n,i)},Circle:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}}};function mX(t,r){return parseInt(Ze(t),10)-parseInt(Ze(r),10)}function hC(t,r){return.5*t/r}function o1(t,r,e,n,i,a,o){var s=!1,u=e.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,r,e,n,i,a){var o=e.getGeometryFunction()(r);if(o){var s=o.simplifyTransformed(n,i);e.getRenderer()?s1(t,s,e,r):(0,a1[s.getType()])(t,s,e,r,a)}}(t,r,e,n,a,o),s}function s1(t,r,e,n){if("GeometryCollection"!=r.getType())t.getBuilder(e.getZIndex(),"Default").drawCustom(r,n,e.getRenderer());else for(var i=r.getGeometries(),a=0,o=i.length;a<o;++a)s1(t,i[a],e,n)}function vC(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function pC(t,r){var e=Math.cos(r),n=Math.sin(r),a=t[1]*e+t[0]*n;return t[0]=t[0]*e-t[1]*n,t[1]=a,t}function c1(t,r){if(r.canWrapX()){var e=qt(r.getExtent()),n=function(t,r,e){var n=r.getExtent(),i=0;if(r.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var a=e||qt(n);i=Math.floor((t[0]-n[0])/a)}return i}(t,r,e);n&&(t[0]-=n*e)}return t}var FX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NX=function(t){function r(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return FX(r,t),r.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},r.prototype.renderWorlds=function(e,n,i){var a=n.extent,o=n.viewState,s=o.center,u=o.resolution,l=o.projection,c=o.rotation,f=l.getExtent(),d=this.getLayer().getSource(),h=n.pixelRatio,v=n.viewHints,p=!(v[0]||v[1]),y=this.context,_=Math.round(n.size[0]*h),m=Math.round(n.size[1]*h),E=d.getWrapX()&&l.canWrapX(),b=E?qt(f):null,S=E?Math.ceil((a[2]-f[2])/b)+1:1,k=E?Math.floor((a[0]-f[0])/b):0;do{var I=this.getRenderTransform(s,u,c,h,_,m,k*b);e.execute(y,1,I,c,p,void 0,i)}while(++k<S)},r.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},r.prototype.renderFrame=function(e,n){var i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];(function(t,r,e){!function(t,r,e,n,i,a,o){t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=o}(t,r,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),iv(this.inversePixelTransform,this.pixelTransform);var o=av(this.pixelTransform);this.useContainer(n,o,a.opacity);var s=this.context,u=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&u.width>0&&(u.width=0),this.container;var f=Math.round(e.size[0]*i),d=Math.round(e.size[1]*i);u.width!=f||u.height!=d?(u.width=f,u.height=d,u.style.transform!==o&&(u.style.transform=o)):this.containerReused||s.clearRect(0,0,f,d),this.preRender(s,e);var h=e.viewState,p=!1;if(a.extent&&this.clipping){var y=ms(a.extent);(p=!Qu(y,e.extent)&&Rr(y,e.extent))&&this.clipUnrotated(s,e,y)}this.renderWorlds(l,e),p&&s.restore(),this.postRender(s,e);var _=a.opacity,m=this.container;return _!==parseFloat(m.style.opacity)&&(m.style.opacity=1===_?"":String(_)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];zt(this.pixelTransform,i);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.renderedExtent_,c=this.getLayer(),f=[],d=i[0]/2,h=i[1]/2;f.push(this.getRenderTransform(a,o,s,.5,d,h,0).slice());var v=c.getSource(),p=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!Qu(p,l)){for(var y=l[0],_=qt(p),m=0;y<p[0];)--m,f.push(this.getRenderTransform(a,o,s,.5,d,h,_*m).slice()),y+=_;for(m=0,y=l[2];y>p[2];)++m,f.push(this.getRenderTransform(a,o,s,.5,d,h,_*m).slice()),y-=_}this.hitDetectionImageData_=function(t,r,e,n,i,a,o){var l=fr(t[0]/2,t[1]/2);l.imageSmoothingEnabled=!1;for(var c=l.canvas,f=new iX(l,.5,i,null,o),d=e.length,h=Math.floor(16777215/d),v={},p=1;p<=d;++p){var y=e[p-1],_=y.getStyleFunction()||n;if(n){var m=_(y,a);if(m){Array.isArray(m)||(m=[m]);for(var b="#"+("000000"+(p*h).toString(16)).slice(-6),S=0,k=m.length;S<k;++S){var I=m[S],M=I.clone(),L=M.getFill();L&&L.setColor(b);var K=M.getStroke();K&&K.setColor(b),M.setText(void 0);var z=I.getImage();if(z){var Q=z.getImageSize();if(!Q)continue;var le=document.createElement("canvas");le.width=Q[0],le.height=Q[1];var pe=le.getContext("2d",{alpha:!1});pe.fillStyle=b;var ne=pe.canvas;pe.fillRect(0,0,ne.width,ne.height),fr(Q?Q[0]:ne.width,Q?Q[1]:ne.height).drawImage(ne,0,0),M.setImage(new dC({img:ne,imgSize:Q,anchor:z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:z.getOrigin(),size:z.getSize(),opacity:z.getOpacity(),scale:z.getScale(),rotation:z.getRotation(),rotateWithView:z.getRotateWithView()}))}var yt=Number(M.getZIndex());(Re=v[yt])||(v[yt]=Re={},Re.Polygon=[],Re.Circle=[],Re.LineString=[],Re.Point=[]);var ct=M.getGeometryFunction()(y);ct&&Rr(i,ct.getExtent())&&Re[ct.getType().replace("Multi","")].push(ct,M)}}}}for(var G=Object.keys(v).map(Number).sort(hs),Jt=(p=0,G.length);p<Jt;++p){var Re=v[G[p]];for(var Le in Re){var $e=Re[Le];for(S=0,k=$e.length;S<k;S+=2){f.setStyle($e[S+1]);for(var un=0,Nt=r.length;un<Nt;++un)f.setTransform(r[un]),f.drawGeometry($e[S])}}}return l.getImageData(0,0,c.width,c.height)}(i,f,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}n(function(t,r,e){var n=[];if(e){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*e.width),u=e.data[i+2]+256*(e.data[i+1]+256*e.data[i]),l=Math.floor(16777215/r.length);u&&u%l==0&&n.push(r[u/l-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){var s=this;if(this.replayGroup_){var h,u=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),f={},d=function(y,_,m){var E=Ze(y),b=f[E];if(b){if(!0!==b&&m<b.distanceSq){if(0===m)return f[E]=!0,o.splice(o.lastIndexOf(b),1),a(y,c,_);b.geometry=_,b.distanceSq=m}}else{if(0===m)return f[E]=!0,a(y,c,_);o.push(f[E]={feature:y,layer:c,geometry:_,distanceSq:m,callback:a})}},v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(function(p){return h=p.forEachFeatureAtCoordinate(e,u,l,i,d,p===s.declutterExecutorGroup?n.declutterTree.all().map(function(y){return y.value}):null)}),h}},r.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},r.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(e){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var a=e.viewHints[0],o=e.viewHints[1],s=n.getUpdateWhileAnimating(),u=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,f=c.projection,d=c.resolution,h=e.pixelRatio,v=n.getRevision(),p=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=mX);var _=c.center.slice(),m=K_(l,p*d),E=[m.slice()],b=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!Qu(b,e.extent)){var S=qt(b),k=Math.max(qt(m)/2,S);m[0]=b[0]-k,m[2]=b[2]+k,c1(_,f);var I=function(t,r){var e=r.getExtent(),n=tl(t);if(r.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var i=qt(e),o=Math.floor((n[0]-e[0])/i)*i;t[0]-=o,t[2]-=o}return t}(E[0],f);I[0]<b[0]&&I[2]<b[2]?E.push([I[0]+S,I[1],I[2]+S,I[3]]):I[0]>b[0]&&I[2]>b[2]&&E.push([I[0]-S,I[1],I[2]-S,I[3]])}if(!this.dirty_&&this.renderedResolution_==d&&this.renderedRevision_==v&&this.renderedRenderOrder_==y&&Qu(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var L,M=new XR(hC(d,h),m,d,h);this.getLayer().getDeclutter()&&(L=new XR(hC(d,h),m,d,h));var z,K=bR();if(K){for(var Q=0,le=E.length;Q<le;++Q)i.loadFeatures(tC(E[Q]),d,K);z=rf(K,f)}else for(Q=0,le=E.length;Q<le;++Q)i.loadFeatures(E[Q],d,f);var pe=function(t,r){var e=hC(t,r);return e*e}(d,h),ne=function(Re){var ct,G=Re.getStyleFunction()||n.getStyleFunction();if(G&&(ct=G(Re,d)),ct){var Jt=this.renderFeature(Re,pe,ct,M,z,L);this.dirty_=this.dirty_||Jt}}.bind(this),Te=tC(m),me=i.getFeaturesInExtent(Te);for(y&&me.sort(y),Q=0,le=me.length;Q<le;++Q)ne(me[Q]);this.renderedFeatures_=me;var Qe=M.finish(),yt=new n1(m,d,h,i.getOverlaps(),Qe,n.getRenderBuffer());return L&&(this.declutterExecutorGroup=new n1(m,d,h,i.getOverlaps(),L.finish(),n.getRenderBuffer())),this.renderedResolution_=d,this.renderedRevision_=v,this.renderedRenderOrder_=y,this.renderedExtent_=m,this.renderedCenter_=_,this.renderedProjection_=f,this.replayGroup_=yt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(e,n,i,a,o,s){if(!i)return!1;var u=!1;if(Array.isArray(i))for(var l=0,c=i.length;l<c;++l)u=o1(a,e,i[l],n,this.boundHandleStyleImageChange_,o,s)||u;else u=o1(a,e,i,n,this.boundHandleStyleImageChange_,o,s);return u},r}($R),LX=NX,VX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BX=function(t){function r(e){return t.call(this,e)||this}return VX(r,t),r.prototype.createRenderer=function(){return new LX(this)},r}(EZ),f1=BX,UX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HX=function(t){function r(e){var n=this,i=e||{},a=jn({},i);return delete a.preload,delete a.useInterimTilesOnError,(n=t.call(this,a)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return UX(r,t),r.prototype.getPreload=function(){return this.get("preload")},r.prototype.setPreload=function(e){this.set("preload",e)},r.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},r.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},r}($O),jX=HX,d1=function(){function t(r,e,n,i){this.minX=r,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(r){return this.containsXY(r[1],r[2])},t.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},t.prototype.containsXY=function(r,e){return this.minX<=r&&r<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},t.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},t}();function gC(t,r,e,n,i){return void 0!==i?(i.minX=t,i.maxX=r,i.minY=e,i.maxY=n,i):new d1(t,r,e,n)}var h1=d1,GX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v1=function(t){function r(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new h1(0,0,0,0),n}return GX(r,t),r.prototype.isDrawableTile=function(e){var n=this.getLayer(),i=e.getState(),a=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!a},r.prototype.getTile=function(e,n,i,a){var o=a.pixelRatio,s=a.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,s);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},r.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},r.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(e,n){var i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,s=a.resolution,u=a.center,l=a.rotation,c=e.pixelRatio,f=this.getLayer(),d=f.getSource(),h=d.getRevision(),v=d.getTileGridForProjection(o),p=v.getZForResolution(s,d.zDirection),y=v.getResolution(p),_=e.extent,m=i.extent&&ms(i.extent);m&&(_=nl(_,ms(i.extent)));var E=d.getTilePixelRatio(c),b=Math.round(e.size[0]*E),S=Math.round(e.size[1]*E);if(l){var k=Math.round(Math.sqrt(b*b+S*S));b=k,S=k}var I=y*b/2/E,M=y*S/2/E,L=[u[0]-I,u[1]-M,u[0]+I,u[1]+M],K=v.getTileRangeForExtentAndZ(_,p),z={};z[p]={};var Q=this.createLoadedTileFinder(d,o,z),le=this.tmpExtent,pe=this.tmpTileRange_;this.newTiles_=!1;for(var ne=K.minX;ne<=K.maxX;++ne)for(var Te=K.minY;Te<=K.maxY;++Te){var me=this.getTile(p,ne,Te,e);if(this.isDrawableTile(me)){var Qe=Ze(this);if(2==me.getState()){z[p][me.tileCoord.toString()]=me;var yt=me.inTransition(Qe);!this.newTiles_&&(yt||-1===this.renderedTiles.indexOf(me))&&(this.newTiles_=!0)}if(1===me.getAlpha(Qe,e.time))continue}var Re=v.getTileCoordChildTileRange(me.tileCoord,pe,le),ct=!1;Re&&(ct=Q(p+1,Re)),ct||v.forEachTileCoordParentTileRange(me.tileCoord,Q,pe,le)}var G=y/s;na(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,l,-b/2,-S/2);var Jt=function(t){return $h?av(t):(yv||(yv=fr(1,1).canvas),yv.style.transform=av(t),yv.style.transform)}(this.pixelTransform);this.useContainer(n,Jt,i.opacity);var Le=this.context,$e=Le.canvas;iv(this.inversePixelTransform,this.pixelTransform),na(this.tempTransform,b/2,S/2,G,G,0,-b/2,-S/2),$e.width!=b||$e.height!=S?($e.width=b,$e.height=S):this.containerReused||Le.clearRect(0,0,b,S),m&&this.clipUnrotated(Le,e,m),jn(Le,d.getContextOptions()),this.preRender(Le,e),this.renderedTiles.length=0;var Nt,en,On,un=Object.keys(z).map(Number);un.sort(hs),1!==i.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(Nt=[],en=[]):un=un.reverse();for(var la=un.length-1;la>=0;--la){var hr=un[la],As=d.getTilePixelSize(hr,c,o),ce=v.getResolution(hr)/y,_e=As[0]*ce*G,Ut=As[1]*ce*G,Fr=v.getTileCoordForCoordAndZ(yo(L),hr),Fi=v.getTileCoordExtent(Fr),ca=zt(this.tempTransform,[E*(Fi[0]-L[0])/y,E*(L[3]-Fi[3])/y]),tn=E*d.getGutterForProjection(o),ko=z[hr];for(var Rn in ko){var Wn=(me=ko[Rn]).tileCoord,Ni=ca[0]-(Fr[1]-Wn[1])*_e,Li=Math.round(Ni+_e),Io=ca[1]-(Fr[2]-Wn[2])*Ut,_f=Math.round(Io+Ut),Ao=Li-(ne=Math.round(Ni)),Wa=_f-(Te=Math.round(Io)),Os=p===hr;if(!(yt=Os&&1!==me.getAlpha(Ze(this),e.time)))if(Nt){Le.save(),On=[ne,Te,ne+Ao,Te,ne+Ao,Te+Wa,ne,Te+Wa];for(var pl=0,Vi=Nt.length;pl<Vi;++pl)if(p!==hr&&hr<en[pl]){var Bi=Nt[pl];Le.beginPath(),Le.moveTo(On[0],On[1]),Le.lineTo(On[2],On[3]),Le.lineTo(On[4],On[5]),Le.lineTo(On[6],On[7]),Le.moveTo(Bi[6],Bi[7]),Le.lineTo(Bi[4],Bi[5]),Le.lineTo(Bi[2],Bi[3]),Le.lineTo(Bi[0],Bi[1]),Le.clip()}Nt.push(On),en.push(hr)}else Le.clearRect(ne,Te,Ao,Wa);this.drawTileImage(me,e,ne,Te,Ao,Wa,tn,Os,i.opacity),Nt&&!yt&&Le.restore(),this.renderedTiles.push(me),this.updateUsedTiles(e.usedTiles,d,me)}}return this.renderedRevision=h,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!Qc(this.renderedExtent_,L),this.renderedExtent_=L,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,d,v,c,o,_,p,f.getPreload()),this.scheduleExpireCache(e,d),this.postRender(Le,e),i.extent&&Le.restore(),Jt!==$e.style.transform&&($e.style.transform=Jt),this.container},r.prototype.drawTileImage=function(e,n,i,a,o,s,u,l,c){var f=this.getTileImage(e);if(f){var d=Ze(this),h=l?e.getAlpha(d,n.time):1,v=c*h,p=v!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,a,o,s),p&&this.context.restore(),1!==h?n.animate=!0:l&&e.endTransition(d)}},r.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},r.prototype.getTileImage=function(e){return e.getImage()},r.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var i=function(a,o,s){var u=Ze(a);u in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,n);e.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(e,n,i){var a=Ze(n);a in e||(e[a]={}),e[a][i.getKey()]=!0},r.prototype.manageTilePyramid=function(e,n,i,a,o,s,u,l,c){var f=Ze(n);f in e.wantedTiles||(e.wantedTiles[f]={});var y,_,m,E,b,S,d=e.wantedTiles[f],h=e.tileQueue,p=0;for(S=i.getMinZoom();S<=u;++S)for(_=i.getTileRangeForExtentAndZ(s,S,_),m=i.getResolution(S),E=_.minX;E<=_.maxX;++E)for(b=_.minY;b<=_.maxY;++b)u-S<=l?(++p,0==(y=n.getTile(S,E,b,a,o)).getState()&&(d[y.getKey()]=!0,h.isKeyQueued(y.getKey())||h.enqueue([y,f,i.getTileCoordCenter(y.tileCoord),m])),void 0!==c&&c(y)):n.useTile(S,E,b,o);n.updateCacheSize(p,o)},r}($R),WX=v1,zX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qX=function(t){function r(e){return t.call(this,e)||this}return zX(r,t),r.prototype.createRenderer=function(){return new WX(this)},r}(jX),KX=qX,YX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZX=function(t){function r(e){var n=t.call(this)||this;return n.map_=e,n}return YX(r,t),r.prototype.dispatchRenderEvent=function(e,n){qe()},r.prototype.calculateMatrices2D=function(e){var n=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;na(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),iv(a,i)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o,s,u,l){var c,f=n.viewState;function d(ne,Te,me,Qe){return o.call(s,Te,ne?me:null,Qe)}var h=f.projection,v=c1(e.slice(),h),p=[[0,0]];if(h.canWrapX()&&a){var _=qt(h.getExtent());p.push([-_,0],[_,0])}for(var m=n.layerStatesArray,E=m.length,b=[],S=[],k=0;k<p.length;k++)for(var I=E-1;I>=0;--I){var M=m[I],L=M.layer;if(L.hasRenderer()&&nv(M,f)&&u.call(l,L)){var K=L.getRenderer(),z=L.getSource();if(K&&z){var Q=z.getWrapX()?v:e,le=d.bind(null,M.managed);S[0]=Q[0]+p[k][0],S[1]=Q[1]+p[k][1],c=K.forEachFeatureAtCoordinate(S,n,i,le,b)}if(c)return c}}if(0!==b.length){var pe=1/b.length;return b.forEach(function(ne,Te){return ne.distanceSq+=Te*pe}),b.sort(function(ne,Te){return ne.distanceSq-Te.distanceSq}),b.some(function(ne){return c=ne.callback(ne.feature,ne.layer,ne.geometry)}),c}},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){return qe()},r.prototype.hasFeatureAtCoordinate=function(e,n,i,a,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,a,po,this,o,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(e){qe()},r.prototype.scheduleExpireIconCache=function(e){bv.canExpireCache()&&e.postRenderFunctions.push(XX)},r}(N_);function XX(t,r){bv.expire()}var QX=ZX,$X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JX=function(t){function r(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=ht(Ua,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=ev+" ol-layers";var a=e.getViewport();return a.insertBefore(n.element_,a.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return $X(r,t),r.prototype.dispatchRenderEvent=function(e,n){var i=this.getMap();if(i.hasListener(e)){var a=new QR(e,void 0,n);i.dispatchEvent(a)}},r.prototype.disposeInternal=function(){Bt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(d,h){return d.zIndex-h.zIndex}),i=e.viewState;this.children_.length=0;for(var a=[],o=null,s=0,u=n.length;s<u;++s){var l=n[s];if(e.layerIndex=s,nv(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in c&&a.push(c))}}for(s=a.length-1;s>=0;--s)a[s].renderDeclutter(e);(function(t,r){for(var e=t.childNodes,n=0;;++n){var i=e[n],a=r[n];if(!i&&!a)break;if(i!==a){if(!i){t.appendChild(a);continue}if(!a){t.removeChild(i),--n;continue}t.insertBefore(a,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){for(var s=n.viewState,u=n.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],d=f.layer;if(d.hasRenderer()&&nv(f,s)&&o(d)){var v=d.getRenderer().getDataAtPixel(e,n,i);if(v){var p=a(d,v);if(p)return p}}}},r}(QX),e9=JX,t9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),n9=function(t){function r(e){var n=this,i=e||{},a=jn({},i);delete a.layers;var o=i.layers;return(n=t.call(this,a)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(ea("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new ri(o.slice(),{unique:!0}):Xe("function"==typeof o.getArray,43):o=new ri(void 0,{unique:!0}),n.setLayers(o),n}return t9(r,t),r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Bt),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(ht(e,"add",this.handleLayersAdd_,this),ht(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Bt);zu(this.listenerKeys_);for(var i=e.getArray(),a=0,o=i.length;a<o;a++){var s=i[a];this.listenerKeys_[Ze(s)]=[ht(s,"propertychange",this.handleLayerChange_,this),ht(s,"change",this.handleLayerChange_,this)]}this.changed()},r.prototype.handleLayersAdd_=function(e){var n=e.element;this.listenerKeys_[Ze(n)]=[ht(n,"propertychange",this.handleLayerChange_,this),ht(n,"change",this.handleLayerChange_,this)],this.changed()},r.prototype.handleLayersRemove_=function(e){var i=Ze(e.element);this.listenerKeys_[i].forEach(Bt),delete this.listenerKeys_[i],this.changed()},r.prototype.getLayers=function(){return this.get("layers")},r.prototype.setLayers=function(e){this.set("layers",e)},r.prototype.getLayersArray=function(e){var n=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},r.prototype.getLayerStatesArray=function(e){var n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});for(var a=this.getLayerState(),o=i,s=n.length;o<s;o++){var u=n[o];u.opacity*=a.opacity,u.visible=u.visible&&a.visible,u.maxResolution=Math.min(u.maxResolution,a.maxResolution),u.minResolution=Math.max(u.minResolution,a.minResolution),u.minZoom=Math.max(u.minZoom,a.minZoom),u.maxZoom=Math.min(u.maxZoom,a.maxZoom),void 0!==a.extent&&(u.extent=void 0!==u.extent?nl(u.extent,a.extent):a.extent)}return n},r.prototype.getSourceState=function(){return"ready"},r}(QO),r9=n9,i9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),a9=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.map=n,a.frameState=void 0!==i?i:null,a}return i9(r,t),r}(Na),Sv=a9,o9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s9=function(t){function r(e,n,i,a,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return o9(r,t),Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},r}(Sv),bo=s9,wt={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},u9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l9=function(t){function r(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*Qh:Qh,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=ht(a,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=ht(a,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!zO&&{passive:!1}),i}return u9(r,t),r.prototype.emulateClick_=function(e){var n=new bo(wt.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new bo(wt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new bo(wt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(e){var n=e;n.type==wt.POINTERUP||n.type==wt.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==wt.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new bo(wt.POINTERUP,this.map_,e);this.dispatchEvent(n),this.emulateClicks_&&!n.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(e){return 0===e.button},r.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var n=new bo(wt.POINTERDOWN,this.map_,e);if(this.dispatchEvent(n),this.down_=e,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ht(i,wt.POINTERMOVE,this.handlePointerMove_,this),ht(i,wt.POINTERUP,this.handlePointerUp_,this),ht(this.element_,wt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ht(this.element_.getRootNode(),wt.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var n=new bo(wt.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}},r.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new bo(e.type,this.map_,e,n))},r.prototype.handleTouchMove_=function(e){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&e.preventDefault()},r.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Bt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Bt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},r}(qu),c9=l9,Tv=1/0,f9=function(){function t(r,e){this.priorityFunction_=r,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,zu(this.queuedElements_)},t.prototype.dequeue=function(){var r=this.elements_,e=this.priorities_,n=r[0];1==r.length?(r.length=0,e.length=0):(r[0]=r.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(r){Xe(!(this.keyFunction_(r)in this.queuedElements_),31);var e=this.priorityFunction_(r);return e!=Tv&&(this.elements_.push(r),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(r){return 2*r+1},t.prototype.getRightChildIndex_=function(r){return 2*r+2},t.prototype.getParentIndex_=function(r){return r-1>>1},t.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(r){return r in this.queuedElements_},t.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},t.prototype.siftUp_=function(r){for(var e=this.elements_,n=this.priorities_,i=e.length,a=e[r],o=n[r],s=r;r<i>>1;){var u=this.getLeftChildIndex_(r),l=this.getRightChildIndex_(r),c=l<i&&n[l]<n[u]?l:u;e[r]=e[c],n[r]=n[c],r=c}e[r]=a,n[r]=o,this.siftDown_(s,r)},t.prototype.siftDown_=function(r,e){for(var n=this.elements_,i=this.priorities_,a=n[e],o=i[e];e>r;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=a,i[e]=o},t.prototype.reprioritize=function(){var o,s,u,r=this.priorityFunction_,e=this.elements_,n=this.priorities_,i=0,a=e.length;for(s=0;s<a;++s)(u=r(o=e[s]))==Tv?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=u,e[i++]=o);e.length=i,n.length=i,this.heapify_()},t}(),d9=f9,h9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v9=function(t){function r(e,n){var i=t.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return h9(r,t),r.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(e){var n=e.target,i=n.getState();if(n.hifi&&2===i||3===i||4===i){n.removeEventListener("change",this.boundHandleTileChange_);var a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(e,n){for(var o,s,i=0;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=(o=this.dequeue()[0]).getKey(),0===o.getState()&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())},r}(d9),p9=v9;function p1(t,r,e){return function(n,i,a,o,s){if(n){var u=r?0:a[0]*i,l=r?0:a[1]*i,c=s?s[0]:0,f=s?s[1]:0,d=t[0]+u/2+c,h=t[2]-u/2+c,v=t[1]+l/2+f,p=t[3]-l/2+f;d>h&&(h=d=(h+d)/2),v>p&&(p=v=(p+v)/2);var y=kn(n[0],d,h),_=kn(n[1],v,p),m=30*i;return o&&e&&(y+=-m*Math.log(1+Math.max(0,d-n[0])/m)+m*Math.log(1+Math.max(0,n[0]-h)/m),_+=-m*Math.log(1+Math.max(0,v-n[1])/m)+m*Math.log(1+Math.max(0,n[1]-p)/m)),[y,_]}}}function m9(t){return t}function CC(t,r,e,n){var i=qt(r)/e[0],a=Mi(r)/e[1];return n?Math.min(t,Math.max(i,a)):Math.min(t,Math.min(i,a))}function EC(t,r,e){var n=Math.min(t,r);return n*=Math.log(1+50*Math.max(0,t/r-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),kn(n,e/2,2*r)}function g1(t,r,e,n,i){return function(a,o,s,u){if(void 0!==a){var l=n?CC(t,n,s,i):t;return(void 0===e||e)&&u?EC(a,l,r):kn(a,r,l)}}}function bC(t){if(void 0!==t)return 0}function y1(t){if(void 0!==t)return t}function m1(t,r,e,n,i,a,o){var f,s=t[r],u=t[r+1],l=t[e]-s,c=t[e+1]-u;if(0===l&&0===c)f=r;else{var d=((i-s)*l+(a-u)*c)/(l*l+c*c);if(d>1)f=e;else{if(d>0){for(var h=0;h<n;++h)o[h]=ps(t[r+h],t[e+h],d);return void(o.length=n)}f=r}}for(h=0;h<n;++h)o[h]=t[f+h];o.length=n}function _1(t,r,e,n,i){var a=t[r],o=t[r+1];for(r+=n;r<e;r+=n){var s=t[r],u=t[r+1],l=Yu(a,o,s,u);l>i&&(i=l),a=s,o=u}return i}function E1(t,r,e,n,i,a,o,s,u,l,c){if(r==e)return l;var f,d;if(0===i){if((d=Yu(o,s,t[r],t[r+1]))<l){for(f=0;f<n;++f)u[f]=t[r+f];return u.length=n,d}return l}for(var h=c||[NaN,NaN],v=r+n;v<e;)if(m1(t,v-n,v,n,o,s,h),(d=Yu(o,s,h[0],h[1]))<l){for(l=d,f=0;f<n;++f)u[f]=h[f];u.length=n,v+=n}else v+=n*Math.max((Math.sqrt(d)-Math.sqrt(l))/i|0,1);if(a&&(m1(t,e-n,r,n,o,s,h),(d=Yu(o,s,h[0],h[1]))<l)){for(l=d,f=0;f<n;++f)u[f]=h[f];u.length=n}return l}function w1(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=o*s-a*u,a=s,o=u}return i/2}var w9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S9=function(t){function r(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return w9(r,t),r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(e,n,i,a){return a<sR(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),E1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.getArea=function(){return w1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Cv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=function(t,r,e,n,i,a,o){var s=(e-r)/n;if(s<3){for(;r<e;r+=n)a[o++]=t[r],a[o++]=t[r+1];return o}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[r,e-n],c=0;l.length>0;){for(var f=l.pop(),d=l.pop(),h=0,v=t[d],p=t[d+1],y=t[f],_=t[f+1],m=d+n;m<f;m+=n){var S=VY(t[m],t[m+1],v,p,y,_);S>h&&(c=m,h=S)}h>i&&(u[(c-r)/n]=1,d+n<c&&l.push(d,c),c+n<f&&l.push(c,f))}for(m=0;m<s;++m)u[m]&&(a[o++]=t[r+m*n],a[o++]=t[r+m*n+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new r(n,"XY")},r.prototype.getType=function(){return"LinearRing"},r.prototype.intersectsExtent=function(e){return!1},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=DR(this.flatCoordinates,0,e,this.stride),this.changed()},r}(nC),T1=S9;function T9(t,r,e,n,i){return!fR(i,function(o){return!ws(t,r,e,n,o[0],o[1])})}function ws(t,r,e,n,i,a){for(var o=0,s=t[e-n],u=t[e-n+1];r<e;r+=n){var l=t[r],c=t[r+1];u<=a?c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0&&o++:c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0&&o--,s=l,u=c}return 0!==o}function wC(t,r,e,n,i,a){if(0===e.length||!ws(t,r,e[0],n,i,a))return!1;for(var o=1,s=e.length;o<s;++o)if(ws(t,e[o-1],e[o],n,i,a))return!1;return!0}function SC(t,r,e,n,i){var a=cR([1/0,1/0,-1/0,-1/0],t,r,e,n);return!!Rr(i,a)&&(!!(Qu(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3])||function(t,r,e,n,i){for(var s,a=[t[r],t[r+1]],o=[];r+n<e;r+=n){if(o[0]=t[r+n],o[1]=t[r+n+1],s=i(a,o))return s;a[0]=o[0],a[1]=o[1]}return!1}(t,r,e,n,function(o,s){return function(t,r,e){var n=!1,i=Y_(t,r),a=Y_(t,e);if(1===i||1===a)n=!0;else{var o=t[0],s=t[1],u=t[2],l=t[3],d=e[0],h=e[1],v=(h-r[1])/(d-r[0]),p=void 0,y=void 0;!!(2&a)&&!(2&i)&&(n=(p=d-(h-l)/v)>=o&&p<=u),n||!(4&a)||4&i||(n=(y=h-(d-u)*v)>=s&&y<=l),n||!(8&a)||8&i||(n=(p=d-(h-s)/v)>=o&&p<=u),!n&&16&a&&!(16&i)&&(n=(y=h-(d-o)*v)>=s&&y<=l)}return n}(i,o,s)}))}function I9(t,r,e,n){for(;r<e-n;){for(var i=0;i<n;++i){var a=t[r+i];t[r+i]=t[e-n+i],t[e-n+i]=a}r+=n,e-=n}}function I1(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=(s-a)*(u+o),a=s,o=u}return 0===i?void 0:i>0}function TC(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=I1(t,r,u,n);(0===o?a&&l||!a&&!l:a&&!l||!a&&l)&&I9(t,r,u,n),r=u}return r}var A9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dv=function(t){function r(e,n,i){var a=t.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&i?(a.setFlatCoordinates(n,e),a.ends_=i):a.setCoordinates(e,n),a}return A9(r,t),r.prototype.appendLinearRing=function(e){this.flatCoordinates?Yh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){return a<sR(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,r,e,n,i){for(var a=0,o=e.length;a<o;++a){var s=e[a];i=_1(t,r,s,n,i),r=s}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,r,e,n,i,a,o,s,u,l,c){for(var f=c||[NaN,NaN],d=0,h=e.length;d<h;++d){var v=e[d];l=E1(t,r,v,n,i,a,o,s,u,l,f),r=v}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.containsXY=function(e,n){return wC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},r.prototype.getArea=function(){return function(t,r,e,n){for(var i=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=w1(t,r,s,n),r=s}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(e){var n;return void 0!==e?TC(n=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):n=this.flatCoordinates,sC(n,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=tl(this.getExtent());this.flatInteriorPoint_=function(t,r,e,n,i,a,o){for(var s,u,l,c,f,d,h,v=i[a+1],p=[],y=0,_=e.length;y<_;++y){var m=e[y];for(c=t[m-n],d=t[m-n+1],s=r;s<m;s+=n)f=t[s],h=t[s+1],(v<=d&&h<=v||d<=v&&v<=h)&&p.push(l=(v-d)/(h-d)*(f-c)+c),c=f,d=h}var E=NaN,b=-1/0;for(p.sort(hs),c=p[0],s=1,u=p.length;s<u;++s){f=p[s];var S=Math.abs(f-c);S>b&&wC(t,r,e,n,l=(c+f)/2,v)&&(E=l,b=S),c=f}return isNaN(E)&&(E=i[a]),o?(o.push(E,v,b),o):[E,v,b]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new rC(this.getFlatInteriorPoint(),"XYM")},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new T1(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},r.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,a=[],o=0,s=0,u=i.length;s<u;++s){var l=i[s],c=new T1(n.slice(o,l),e);a.push(c),o=l}return a},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=I1(t,r,u,n);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;r=u}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=TC(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[],i=[];return n.length=function(t,r,e,n,i,a,o,s){for(var u=0,l=e.length;u<l;++u){var c=e[u];o=xZ(t,r,c,n,i,a,o),s.push(o),r=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new r(n,"XY",i)},r.prototype.getType=function(){return"Polygon"},r.prototype.intersectsExtent=function(e){return function(t,r,e,n,i){if(!function(t,r,e,n,i){return!!(SC(t,r,e,n,i)||ws(t,r,e,n,i[0],i[1])||ws(t,r,e,n,i[0],i[3])||ws(t,r,e,n,i[2],i[1])||ws(t,r,e,n,i[2],i[3]))}(t,r,e[0],n,i))return!1;if(1===e.length)return!0;for(var a=1,o=e.length;a<o;++a)if(T9(t,e[a-1],e[a],n,i)&&!SC(t,e[a-1],e[a],n,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function(t,r,e,n,i){for(var a=i||[],o=0,s=0,u=e.length;s<u;++s){var l=DR(t,r,e[s],n);a[o++]=l,r=l}return a.length=o,a}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},r}(nC),O9=Dv;function O1(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=[r,e,r,i,n,i,n,e,r,e];return new Dv(a,"XY",[a.length])}var M9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P9=function(t){function r(e){var n=t.call(this)||this,i=jn({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=J_(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=Va(i.center)),i.extent&&(i.extent=ms(i.extent)),n.applyOptions_(i),n}return M9(r,t),r.prototype.applyOptions_=function(e){var i=function(t){var r,e,n,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,d=J_(t.projection,"EPSG:3857"),h=d.getExtent(),v=t.constrainOnlyCenter,p=t.extent;if(!l&&!p&&d.isGlobal()&&(v=!1,p=h),void 0!==t.resolutions){var y=t.resolutions;e=y[o],n=void 0!==y[s]?y[s]:y[y.length-1],r=t.constrainResolution?function(t,r,e,n){return function(i,a,o,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=e?CC(u,e,o,n):u;if(s)return void 0===r||r?EC(i,c,l):kn(i,l,c);var d=Math.min(c,i),h=Math.floor(V_(t,d,a));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(y,c,!v&&p,f):g1(e,n,c,!v&&p,f)}else{var m=(h?Math.max(qt(h),Mi(h)):360*La[go.DEGREES]/d.getMetersPerUnit())/256/Math.pow(2,0),E=m/Math.pow(2,28);void 0!==(e=t.maxResolution)?o=0:e=m/Math.pow(u,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(u,s):m/Math.pow(u,s):E),s=o+Math.floor(Math.log(e/n)/Math.log(u)),n=e/Math.pow(u,s-o),r=t.constrainResolution?function(t,r,e,n,i,a){return function(o,s,u,l){if(void 0!==o){var c=i?CC(r,i,u,a):r,f=void 0!==e?e:0;if(l)return void 0===n||n?EC(o,c,f):kn(o,f,c);var v=Math.ceil(Math.log(r/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,y=Math.min(c,o),_=Math.floor(Math.log(r/y)/Math.log(t)+p),m=Math.max(v,_);return kn(r/Math.pow(t,m),f,c)}}}(u,e,n,c,!v&&p,f):g1(e,n,c,!v&&p,f)}return{constraint:r,maxResolution:e,minResolution:n,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=i.minZoom;var a=function(t){if(void 0!==t.extent)return p1(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=J_(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,p1(n,!1,!1)}return m9}(e),o=i.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function(t){var r=tv(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=r?0:e:void 0}}():!1===e?y1:"number"==typeof e?function(t){var r=2*Math.PI/t;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/r+.5)*r:void 0}}(e):y1}return bC}(e);this.constraints_={center:a,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},r.prototype.getUpdatedOptions_=function(e){var n=jn({},this.options_);return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),jn({},n,e)},r.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var a=arguments[i];a.center&&((a=jn({},a)).center=Va(a.center,this.getProjection())),a.anchor&&((a=jn({},a)).anchor=Va(a.anchor,this.getProjection())),n[i]=a}this.animateInternal.apply(this,n)},r.prototype.animateInternal=function(e){var i,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n),!this.isDef()){var a=arguments[n-1];return a.center&&this.setCenterInternal(a.center),void 0!==a.zoom&&this.setZoom(a.zoom),void 0!==a.rotation&&this.setRotation(a.rotation),void(i&&kv(i,!0))}for(var o=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<n;++f){var d=arguments[f],h={start:o,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||W_,callback:i};if(d.center&&(h.sourceCenter=s,h.targetCenter=d.center.slice(),s=h.targetCenter),void 0!==d.zoom?(h.sourceResolution=u,h.targetResolution=this.getResolutionForZoom(d.zoom),u=h.targetResolution):d.resolution&&(h.sourceResolution=u,h.targetResolution=d.resolution,u=h.targetResolution),void 0!==d.rotation){h.sourceRotation=l;var v=Zu(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+v,l=h.targetRotation}L9(h)?h.complete=!0:o+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[0]>0},r.prototype.getInteracting=function(){return this.hints_[1]>0},r.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,n=0,i=this.animations_.length;n<i;++n){var a=this.animations_[n];if(a[0].callback&&kv(a[0].callback,!1),!e)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e},r.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],o=!0,s=0,u=a.length;s<u;++s){var l=a[s];if(!l.complete){var f=l.duration>0?(e-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):o=!1;var d=l.easing(f);if(l.sourceCenter){var h=l.sourceCenter[0],v=l.sourceCenter[1];this.targetCenter_=[h+d*(l.targetCenter[0]-h),v+d*(l.targetCenter[1]-v)]}if(l.sourceResolution&&l.targetResolution){var E=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){var b=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(E,0,b,!0);this.targetCenter_=this.calculateCenterZoom(S,l.anchor)}this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var k=1===d?Zu(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){var I=this.constraints_.rotation(k,!0);this.targetCenter_=this.calculateCenterRotate(I,l.anchor)}this.targetRotation_=k}if(this.applyTargetState_(!0),n=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var M=a[0].callback;M&&kv(M,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(e,n){var i,a=this.getCenterInternal();return void 0!==a&&(pC(i=[a[0]-n[0],a[1]-n[1]],e-this.getRotation()),function(t,r){t[0]+=+r[0],t[1]+=+r[1]}(i,n)),i},r.prototype.calculateCenterZoom=function(e,n){var i,a=this.getCenterInternal(),o=this.getResolution();return void 0!==a&&void 0!==o&&(i=[n[0]-e*(n[0]-a[0])/o,n[1]-e*(n[1]-a[1])/o]),i},r.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var i=n[0],a=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return n},r.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&eC(e,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get("center")},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},r.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},r.prototype.calculateExtent=function(e){return tC(this.calculateExtentInternal(e),this.getProjection())},r.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSize_(),i=this.getCenterInternal();Xe(i,1);var a=this.getResolution();Xe(void 0!==a,2);var o=this.getRotation();return Xe(void 0!==o,3),dR(i,a,o,n)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},r.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get("resolution")},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(ms(e,this.getProjection()),n)},r.prototype.getResolutionForExtentInternal=function(e,n){var i=n||this.getViewportSize_(),a=qt(e)/i[0],o=Mi(e)/i[1];return Math.max(a,o)},r.prototype.getResolutionForValueFunction=function(e){var n=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/Math.log(n);return function(s){return i/Math.pow(n,s*o)}},r.prototype.getRotation=function(){return this.get("rotation")},r.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/n;return function(s){return Math.log(i/s)/n/o}},r.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),i=this.padding;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},r.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),o=this.padding;if(o){var s=this.getViewportSizeMinusPadding_();a=kC(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:a.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var e,n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e},r.prototype.getZoomForResolution=function(e){var i,a,n=this.minZoom_||0;if(this.resolutions_){var o=V_(this.resolutions_,e,1);n=o,i=this.resolutions_[o],a=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(i/e)/Math.log(a)},r.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=kn(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],kn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},r.prototype.fit=function(e,n){var i;if(Xe(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Xe(!Z_(e),25),i=O1(a=ms(e,this.getProjection()));else if("Circle"===e.getType()){var a;(i=O1(a=ms(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),tl(a))}else{var o=bR();i=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(i,n)},r.prototype.fitInternal=function(e,n){var i=n||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var u,o=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=e.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),d=Math.sin(-c),h=1/0,v=1/0,p=-1/0,y=-1/0,_=e.getStride(),m=0,E=l.length;m<E;m+=_){var b=l[m]*f-l[m+1]*d,S=l[m]*d+l[m+1]*f;h=Math.min(h,b),v=Math.min(v,S),p=Math.max(p,b),y=Math.max(y,S)}var k=this.getResolutionForExtentInternal([h,v,p,y],[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);k=isNaN(k)?u:Math.max(k,u),k=this.getConstrainedResolution(k,s?0:1);var I=(h+p)/2,M=(v+y)/2,z=this.getConstrainedCenter([(I+=(o[1]-o[3])/2*k)*f-(M+=(o[0]-o[2])/2*k)*(d=-d),M*f+I*d],k),Q=i.callback?i.callback:vs;void 0!==i.duration?this.animateInternal({resolution:k,center:z,duration:i.duration,easing:i.easing},Q):(this.targetResolution_=k,this.targetCenter_=z,this.applyTargetState_(!1,!0),kv(Q,!0))},r.prototype.centerOn=function(e,n,i){this.centerOnInternal(Va(e,this.getProjection()),n,i)},r.prototype.centerOnInternal=function(e,n,i){this.setCenterInternal(kC(e,n,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(e,n,i,a){var o,s=this.padding;if(s&&e){var u=this.getViewportSizeMinusPadding_(-i),l=kC(e,a,[u[0]/2+s[3],u[1]/2+s[0]],n,i);o=[e[0]-l[0],e[1]-l[1]]}return o},r.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},r.prototype.adjustCenter=function(e){var n=eC(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustResolution=function(e,n){var i=n&&Va(n,this.getProjection());this.adjustResolutionInternal(e,i)},r.prototype.adjustResolutionInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()},r.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},r.prototype.adjustRotation=function(e,n){n&&(n=Va(n,this.getProjection())),this.adjustRotationInternal(e,n)},r.prototype.adjustRotationInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=e,this.applyTargetState_()},r.prototype.setCenter=function(e){this.setCenterInternal(Va(e,this.getProjection()))},r.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},r.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},r.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},r.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},r.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},r.prototype.applyTargetState_=function(e,n){var i=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get("rotation")!==a&&this.set("rotation",a),this.get("resolution")!==s&&this.set("resolution",s),(!this.get("center")||!vC(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(e,n,i){var a=void 0!==e?e:200,o=n||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,o,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,s,u));if(0===a&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===a?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!vC(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:a,easing:Xu,anchor:f}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},r.prototype.endInteraction=function(e,n,i){var a=i&&Va(i,this.getProjection());this.endInteractionInternal(e,n,a)},r.prototype.endInteractionInternal=function(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)},r.prototype.getConstrainedCenter=function(e,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(e,n){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},r.prototype.getConstrainedResolution=function(e,n){var i=n||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,a)},r}(ta);function kv(t,r){setTimeout(function(){t(r)},0)}function L9(t){return!(t.sourceCenter&&t.targetCenter&&!vC(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function kC(t,r,e,n,i){var a=Math.cos(-i),o=Math.sin(-i),s=t[0]*a-t[1]*o,u=t[1]*a+t[0]*o;return[(s+=(r[0]/2-e[0])*n)*a-(u+=(e[1]-r[1]/2)*n)*(o=-o),u*a+s*o]}var R1=P9,V9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B9=function(t){function r(e){var n=t.call(this)||this,i=function(t){var r=null;void 0!==t.keyboardEventTarget&&(r="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,a,o,e={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new r9({layers:t.layers});return e.layergroup=n,e.target=t.target,e.view=void 0!==t.view?t.view:new R1,void 0!==t.controls&&(Array.isArray(t.controls)?i=new ri(t.controls.slice()):(Xe("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?a=new ri(t.interactions.slice()):(Xe("function"==typeof t.interactions.getArray,48),a=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new ri(t.overlays.slice()):(Xe("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new ri,{controls:i,interactions:a,keyboardEventTarget:r,overlays:o,values:e}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Qh,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new ri,n.interactions=i.interactions||new ri,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new p9(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(ea("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(ea("view"),n.handleViewChanged_),n.addEventListener(ea("size"),n.handleSizeChanged_),n.addEventListener(ea("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.controls.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener("remove",function(a){var s=a.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],a.element.setMap(null)}.bind(n)),n}return V9(r,t),r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(e){this.getControls().push(e)},r.prototype.addInteraction=function(e){this.getInteractions().push(e)},r.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},r.prototype.addOverlay=function(e){this.getOverlays().push(e)},r.prototype.addOverlayInternal_=function(e){var n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(e,n,i){if(this.frameState_){var a=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:po,null)}},r.prototype.getFeaturesAtPixel=function(e,n){var i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},n),i},r.prototype.forEachLayerAtPixel=function(e,n,i){if(this.frameState_){var a=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==a.hitTolerance?a.hitTolerance:0,n,a.layerFilter||po)}},r.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:po,null)},r.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},r.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},r.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]},r.prototype.getTarget=function(){return this.get("target")},r.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},r.prototype.getCoordinateFromPixel=function(e){return eC(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?zt(n.pixelToCoordinateTransform,e.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get("layergroup")},r.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},r.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var o=e[n].layer.getSource();if(o&&o.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(e){var n=Va(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},r.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?zt(n.coordinateToPixelTransform,e.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get("size")},r.prototype.getView=function(){return this.get("view")},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},r.prototype.getTilePriority=function(e,n,i,a){return function(t,r,e,n,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][r.getKey()])return Tv;var a=t.viewState.center,o=n[0]-a[0],s=n[1]-a[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i}(this.frameState_,e,n,i,a)},r.prototype.handleBrowserEvent=function(e,n){var a=new bo(n||e.type,this,e);this.handleMapBrowserEvent(a)},r.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s="host"in o?o.elementFromPoint(n.clientX,n.clientY):n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},r.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,a=i;if(e){var o=e.viewHints;if(o[0]||o[1]){var s=!WO&&Date.now()-e.time>8;i=s?0:8,a=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}e&&this.hasListener("rendercomplete")&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",e);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,e);u.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var n=0,i=this.keyHandlerKeys_.length;n<i;++n)Bt(this.keyHandlerKeys_[n]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,H_(this.viewport_)}if(e){for(var a in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new c9(this,this.moveTolerance_),wt)this.mapBrowserEventHandler_.addEventListener(wt[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!zO&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[ht(o,"keydown",this.handleBrowserEvent,this),ht(o,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Bt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Bt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ht(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ht(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Bt),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[ht(e,"propertychange",this.render,this),ht(e,"change",this.render,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var a=e[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(e){return this.getControls().remove(e)},r.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},r.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},r.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},r.prototype.renderFrame_=function(e){var n=this,i=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&a&&a.isDef()){var u=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=a.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:dR(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!Z_(this.previousExtent_)&&!Qc(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Sv("movestart",this,o)),this.previousExtent_=$u(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!Qc(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Sv("moveend",this,s)),oR(s.extent,this.previousExtent_))),this.dispatchEvent(new Sv("postrender",this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},r.prototype.setLayerGroup=function(e){this.set("layergroup",e)},r.prototype.setSize=function(e){this.set("size",e)},r.prototype.setTarget=function(e){this.set("target",e)},r.prototype.setView=function(e){this.set("view",e)},r.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var n=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}},r}(ta),H9=B9,j9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),G9=function(t){function r(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return j9(r,t),r.prototype.getActive=function(){return this.get("active")},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(e){return!0},r.prototype.setActive=function(e){this.set("active",e)},r.prototype.setMap=function(e){this.map_=e},r}(ta);function IC(t,r,e,n){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+r),o=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:e,duration:void 0!==n?n:250,easing:Xu})}}var dl=G9,z9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),q9=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return z9(r,t),r.prototype.handleEvent=function(e){var n=!1;if(e.type==wt.DBLCLICK){var i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;IC(e.map.getView(),s,o,this.duration_),i.preventDefault(),n=!0}return!n},r}(dl),K9=q9,Y9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z9=function(t){function r(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Y9(r,t),r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==wt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==wt.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==wt.POINTERDOWN){var a=this.handleDownEvent(e);this.handlingDownUpSequence=a,n=this.stopDown(a)}else e.type==wt.POINTERMOVE&&this.handleMoveEvent(e);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(e){if(function(t){var r=t.type;return r===wt.POINTERDOWN||r===wt.POINTERDRAG||r===wt.POINTERUP}(e)){var n=e.originalEvent,i=n.pointerId.toString();e.type==wt.POINTERUP?delete this.trackedPointers_[i]:(e.type==wt.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=n),this.targetPointers=UO(this.trackedPointers_)}},r}(dl);function AC(t){for(var r=t.length,e=0,n=0,i=0;i<r;i++)e+=t[i].clientX,n+=t[i].clientY;return[e/r,n/r]}var vf=Z9;function OC(t){var r=arguments;return function(e){for(var n=!0,i=0,a=r.length;i<a&&(n=n&&r[i](e));++i);return n}}var xC,Q9=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},P1=function(r){return!r.map.getTargetElement().hasAttribute("tabindex")||function(r){return r.target.getTargetElement().contains(document.activeElement)}(r)},J9=po,eQ=function(r){return r.type==wt.CLICK},x1=function(r){var e=r.originalEvent;return 0==e.button&&!(kY&&IY&&e.ctrlKey)},F1=qc,tQ=function(r){return r.type==wt.SINGLECLICK},N1=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},L1=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},V1=function(r){var n=r.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},RC=function(r){var e=r.originalEvent;return Xe(void 0!==e,56),"mouse"==e.pointerType},nQ=function(r){var e=r.originalEvent;return Xe(void 0!==e,56),e.isPrimary&&0===e.button},rQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iQ=function(t){function r(e){var n=t.call(this,{stopDown:qc})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var a=i.condition?i.condition:OC(N1,nQ);return n.condition_=i.onFocusOnly?OC(P1,a):a,n.noKinetic_=!1,n}return rQ(r,t),r.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=AC(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();(function(t,r){t[0]*=r,t[1]*=r})(a,s.getResolution()),pC(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(e){var n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),u=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([u[0]-a*Math.cos(o),u[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Xu})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},r}(vf),aQ=iQ,oQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sQ=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:qc})||this).condition_=i.condition?i.condition:Q9,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return oQ(r,t),r.prototype.handleDragEvent=function(e){if(RC(e)){var n=e.map,i=n.getView();if(i.getConstraints().rotation!==bC){var a=n.getSize(),o=e.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},r.prototype.handleUpEvent=function(e){return!RC(e)||(e.map.getView().endInteraction(this.duration_),!1)},r.prototype.handleDownEvent=function(e){return!(!RC(e)||!x1(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},r}(vf),uQ=sQ,lQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cQ=function(t){function r(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return lQ(r,t),r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],n[0])+i,a.top=Math.min(e[1],n[1])+i,a.width=Math.abs(n[0]-e[0])+i,a.height=Math.abs(n[1]-e[1])+i},r.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,a=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new O9([a])},r.prototype.getGeometry=function(){return this.geometry_},r}(N_),fQ=cQ,B1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MC=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.coordinate=n,a.mapBrowserEvent=i,a}return B1(r,t),r}(Na),dQ=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.box_=new fQ(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:x1,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return B1(r,t),r.prototype.defaultBoxEndCondition=function(e,n,i){var a=i[0]-n[0],o=i[1]-n[1];return a*a+o*o>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new MC("boxdrag",e.coordinate,e))},r.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new MC(n?"boxend":"boxcancel",e.coordinate,e)),!1},r.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new MC("boxstart",e.coordinate,e)),!0)},r.prototype.onBoxEnd=function(e){},r}(vf),hQ=dQ,vQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pQ=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:L1,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return vQ(r,t),r.prototype.onBoxEnd=function(e){var n=this.getMap(),i=n.getView(),a=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(a),u=function(t,r){return function(t,r){for(var e=0,n=r.length;e<n;++e)Ju(t,r[e]);return t}($u(void 0),t)}([n.getPixelFromCoordinateInternal(el(o)),n.getPixelFromCoordinateInternal(rl(o))]);(function(t,r){var e=(t[2]-t[0])/2*(r-1),n=(t[3]-t[1])/2*(r-1);t[0]-=e,t[2]+=e,t[1]-=n,t[3]+=n})(s,1/i.getResolutionForExtentInternal(u,a)),o=s}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,a)),f=i.getConstrainedCenter(tl(o),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:Xu})},r}(hQ),gQ=pQ,yQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mQ=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(a){return N1(a)&&V1(a)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return yQ(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type){var i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(40==a||37==a||39==a||38==a)){var s=e.map.getView(),u=s.getResolution()*this.pixelDelta_,l=0,c=0;40==a?c=-u:37==a?l=-u:39==a?l=u:c=u;var f=[l,c];pC(f,s.getRotation()),function(t,r,e){var n=t.getCenterInternal();n&&t.animateInternal({duration:void 0!==e?e:250,easing:KY,center:t.getConstrainedCenter([n[0]+r[0],n[1]+r[1]])})}(s,f,this.duration_),i.preventDefault(),n=!0}}return!n},r}(dl),_Q=mQ,CQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EQ=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:V1,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return CQ(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,a=i.charCode;if(this.condition_(e)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=e.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_;IC(o.getView(),s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},r}(dl),bQ=EQ,wQ=function(){function t(r,e,n){this.decay_=r,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(r,e){this.points_.push(r,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<r)return!1;for(var n=e-3;n>0&&this.points_[n+2]>r;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var a=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),SQ=wQ,TQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DQ=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var a=i.condition?i.condition:J9;return n.condition_=i.onFocusOnly?OC(P1,a):a,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return TQ(r,t),r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var o,i=e.map,a=e.originalEvent;if(a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=a.deltaY,DY&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Qh),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;var s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},r.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var i=-kn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),IC(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},r}(dl),kQ=DQ,IQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AQ=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=qc),(n=t.call(this,a)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return IQ(r,t),r.prototype.handleDragEvent=function(e){var n=0,i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=o;var u=e.map,l=u.getView();if(l.getConstraints().rotation!==bC){var c=u.getViewport().getBoundingClientRect(),f=AC(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(n,this.anchor_))}},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(vf),OQ=AQ,RQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MQ=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=qc),(n=t.call(this,a)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return RQ(r,t),r.prototype.handleDragEvent=function(e){var n=1,i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/u),this.lastDistance_=u;var l=e.map,c=l.getView();1!=n&&(this.lastScaleDelta_=n);var f=l.getViewport().getBoundingClientRect(),d=AC(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),c.adjustResolutionInternal(n,this.anchor_)},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(vf),PQ=MQ,FQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NQ=function(t){function r(e){return(e=jn({},e)).controls||(e.controls=rR()),e.interactions||(e.interactions=function(t){var r={onFocusOnly:!0}||{},e=new ri,n=new SQ(-.005,.05,100);return(void 0===r.altShiftDragRotate||r.altShiftDragRotate)&&e.push(new uQ),(void 0===r.doubleClickZoom||r.doubleClickZoom)&&e.push(new K9({delta:r.zoomDelta,duration:r.zoomDuration})),(void 0===r.dragPan||r.dragPan)&&e.push(new aQ({onFocusOnly:r.onFocusOnly,kinetic:n})),(void 0===r.pinchRotate||r.pinchRotate)&&e.push(new OQ),(void 0===r.pinchZoom||r.pinchZoom)&&e.push(new PQ({duration:r.zoomDuration})),(void 0===r.keyboard||r.keyboard)&&(e.push(new _Q),e.push(new bQ({delta:r.zoomDelta,duration:r.zoomDuration}))),(void 0===r.mouseWheelZoom||r.mouseWheelZoom)&&e.push(new kQ({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(void 0===r.shiftDragZoom||r.shiftDragZoom)&&e.push(new gQ({duration:r.zoomDuration})),e}()),t.call(this,e)||this}return FQ(r,t),r.prototype.createRenderer=function(){return new e9(this)},r}(H9),LQ=NQ,VQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BQ=function(t){function r(e,n,i){var a=t.call(this)||this,o=i||{};return a.tileCoord=e,a.state=n,a.interimTile=null,a.hifi=!0,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a}return VQ(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},r.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},r.prototype.load=function(){qe()},r.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=n;var a=n-i+1e3/60;return a>=this.transition_?1:nR(a/this.transition_)},r.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},r.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},r}(qu),U1=BQ,UQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HQ=function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,s)||this;return u.crossOrigin_=a,u.src_=i,u.key=i,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.tileLoadFunction_=o,u}return UQ(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function(){var t=fr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},r.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},r.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=fC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(U1),GQ=HQ,qQ=function(){function t(r,e,n,i,a,o){this.sourceProj_=r,this.targetProj_=e;var s={},u=af(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var b=E[0]+"/"+E[1];return s[b]||(s[b]=u(E)),s[b]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&qt(i)==qt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?qt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?qt(this.targetProj_.getExtent()):null;var l=yo(n),c=rl(n),f=$c(n),d=el(n),h=this.transformInv_(l),v=this.transformInv_(c),p=this.transformInv_(f),y=this.transformInv_(d),_=10+(o?Math.max(0,Math.ceil(LY(sv(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,f,d,h,v,p,y,_),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(E,b,S){m=Math.min(m,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-m>this.sourceWorldWidth_/2){var b=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];b[0][0]-m>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-m>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-m>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);var S=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-S<this.sourceWorldWidth_/2&&(E.source=b)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(r,e,n,i,a,o){this.triangles_.push({source:[i,a,o],target:[r,e,n]})},t.prototype.addQuad_=function(r,e,n,i,a,o,s,u,l){var c=aR([a,o,s,u]),f=this.sourceWorldWidth_?qt(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&f>.5&&f<1,v=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(v=qt(aR([r,e,n,i]))/this.targetWorldWidth_>.25||v),!h&&this.sourceProj_.isGlobal()&&f&&(v=f>.25||v)),!(!v&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Rr(c,this.maxSourceExtent_)){var _=0;if(!(v||isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)v=!0;else if(1!=(_=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=_&&4!=_&&8!=_)return;if(l>0){if(!v){var E=this.transformInv_([(r[0]+n[0])/2,(r[1]+n[1])/2]),b=void 0;b=h?(Zu(a[0],d)+Zu(s[0],d))/2-Zu(E[0],d):(a[0]+s[0])/2-E[0];var k=(a[1]+s[1])/2-E[1];v=b*b+k*k>this.errorThresholdSquared_}if(v){if(Math.abs(r[0]-n[0])<=Math.abs(r[1]-n[1])){var M=[(e[0]+n[0])/2,(e[1]+n[1])/2],L=this.transformInv_(M),K=[(i[0]+r[0])/2,(i[1]+r[1])/2],z=this.transformInv_(K);this.addQuad_(r,e,M,K,a,o,L,z,l-1),this.addQuad_(K,M,n,i,z,L,s,u,l-1)}else{var Q=[(r[0]+e[0])/2,(r[1]+e[1])/2],le=this.transformInv_(Q),pe=[(n[0]+i[0])/2,(n[1]+i[1])/2],ne=this.transformInv_(pe);this.addQuad_(r,Q,pe,i,a,le,ne,u,l-1),this.addQuad_(Q,e,n,pe,le,o,s,ne,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&_)&&this.addTriangle_(r,n,i,a,s,u),0==(14&_)&&this.addTriangle_(r,n,e,a,s,o),_&&(0==(13&_)&&this.addTriangle_(e,i,r,o,u,a),0==(7&_)&&this.addTriangle_(e,i,n,o,u,s))}},t.prototype.calculateSourceExtent=function(){var r=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var a=e.source;Ju(r,a[0]),Ju(r,a[1]),Ju(r,a[2])}),r},t.prototype.getTriangles=function(){return this.triangles_},t}(),KQ=qQ,j1={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function G1(t,r,e,n,i){t.beginPath(),t.moveTo(0,0),t.lineTo(r,e),t.lineTo(n,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(r,n)+1,Math.max(e,i)),t.restore()}function FC(t,r){return Math.abs(t[4*r]-210)>2||Math.abs(t[4*r+3]-191.25)>2}function W1(t,r,e,n){var i=of(e,r,t),a=mR(r,n,e),o=r.getMetersPerUnit();void 0!==o&&(a*=o);var s=t.getMetersPerUnit();void 0!==s&&(a/=s);var u=t.getExtent();if(!u||ov(u,i)){var l=mR(t,a,i)/a;isFinite(l)&&l>0&&(a/=l)}return a}var QQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$Q=function(t){function r(e,n,i,a,o,s,u,l,c,f,d,h){var v=t.call(this,o,0)||this;v.renderEdges_=void 0!==d&&d,v.contextOptions_=h,v.pixelRatio_=u,v.gutter_=l,v.canvas_=null,v.sourceTileGrid_=n,v.targetTileGrid_=a,v.wrappedTileCoord_=s||o,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var p=a.getTileCoordExtent(v.wrappedTileCoord_),y=v.targetTileGrid_.getExtent(),_=v.sourceTileGrid_.getExtent(),m=y?nl(p,y):p;if(0===sv(m))return v.state=4,v;var E=e.getExtent();E&&(_=_?nl(_,E):E);var b=a.getResolution(v.wrappedTileCoord_[0]),S=function(t,r,e,n){var i=tl(e),a=W1(t,r,i,n);return(!isFinite(a)||a<=0)&&fR(e,function(o){return a=W1(t,r,o,n),isFinite(a)&&a>0}),a}(e,i,m,b);if(!isFinite(S)||S<=0)return v.state=4,v;if(v.triangulation_=new KQ(e,i,m,_,S*(void 0!==f?f:.5),b),0===v.triangulation_.getTriangles().length)return v.state=4,v;v.sourceZ_=n.getZForResolution(S);var I=v.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(I[1]=kn(I[1],_[1],_[3]),I[3]=kn(I[3],_[1],_[3])):I=nl(I,_)),sv(I)){for(var M=n.getTileRangeForExtentAndZ(I,v.sourceZ_),L=M.minX;L<=M.maxX;L++)for(var K=M.minY;K<=M.maxY;K++){var z=c(v.sourceZ_,L,K,u);z&&v.sourceTiles_.push(z)}0===v.sourceTiles_.length&&(v.state=4)}else v.state=4;return v}return QQ(r,t),r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,f,d){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),a="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(n),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,r,e,n,i,a,o,s,u,l,c,f){var d=fr(Math.round(e*t),Math.round(e*r));if(jn(d,f),0===u.length)return d.canvas;function h(b){return Math.round(b*e)/e}d.scale(e,e),d.globalCompositeOperation="lighter";var v=[1/0,1/0,-1/0,-1/0];u.forEach(function(b,S,k){!function(t,r){r[0]<t[0]&&(t[0]=r[0]),r[2]>t[2]&&(t[2]=r[2]),r[1]<t[1]&&(t[1]=r[1]),r[3]>t[3]&&(t[3]=r[3])}(v,b.extent)});var p=qt(v),y=Mi(v),_=fr(Math.round(e*p/n),Math.round(e*y/n));jn(_,f);var m=e/n;u.forEach(function(b,S,k){var I=b.extent[0]-v[0],M=-(b.extent[3]-v[3]),L=qt(b.extent),K=Mi(b.extent);b.image.width>0&&b.image.height>0&&_.drawImage(b.image,l,l,b.image.width-2*l,b.image.height-2*l,I*m,M*m,L*m,K*m)});var E=yo(o);return s.getTriangles().forEach(function(b,S,k){var I=b.source,M=b.target,L=I[0][0],K=I[0][1],z=I[1][0],Q=I[1][1],le=I[2][0],pe=I[2][1],ne=h((M[0][0]-E[0])/a),Te=h(-(M[0][1]-E[1])/a),me=h((M[1][0]-E[0])/a),Qe=h(-(M[1][1]-E[1])/a),yt=h((M[2][0]-E[0])/a),Re=h(-(M[2][1]-E[1])/a),ct=L,G=K;L=0,K=0;var Le=function(t){for(var r=t.length,e=0;e<r;e++){for(var n=e,i=Math.abs(t[e][e]),a=e+1;a<r;a++){var o=Math.abs(t[a][e]);o>i&&(i=o,n=a)}if(0===i)return null;var s=t[n];t[n]=t[e],t[e]=s;for(var u=e+1;u<r;u++)for(var l=-t[u][e]/t[e][e],c=e;c<r+1;c++)e==c?t[u][c]=0:t[u][c]+=l*t[e][c]}for(var f=new Array(r),d=r-1;d>=0;d--){f[d]=t[d][r]/t[d][d];for(var h=d-1;h>=0;h--)t[h][r]-=t[h][d]*f[d]}return f}([[z-=ct,Q-=G,0,0,me-ne],[le-=ct,pe-=G,0,0,yt-ne],[0,0,z,Q,Qe-Te],[0,0,le,pe,Re-Te]]);if(Le){if(d.save(),d.beginPath(),function(){if(void 0===xC){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",G1(t,4,5,4,0),G1(t,4,5,0,5);var r=t.getImageData(0,0,3,3).data;xC=FC(r,0)||FC(r,4)||FC(r,8)}return xC}()||f===j1){d.moveTo(me,Qe);for(var un=ne-me,Nt=Te-Qe,en=0;en<4;en++)d.lineTo(me+h((en+1)*un/4),Qe+h(en*Nt/3)),3!=en&&d.lineTo(me+h((en+1)*un/4),Qe+h((en+1)*Nt/3));d.lineTo(yt,Re)}else d.moveTo(me,Qe),d.lineTo(ne,Te),d.lineTo(yt,Re);d.clip(),d.transform(Le[0],Le[2],Le[1],Le[3],ne,Te),d.translate(v[0]-ct,v[3]-G),d.scale(n/e,-n/e),d.drawImage(_.canvas,0,0),d.restore()}}),c&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,s.getTriangles().forEach(function(b,S,k){var I=b.target,M=(I[0][0]-E[0])/a,L=-(I[0][1]-E[1])/a,K=(I[1][0]-E[0])/a,z=-(I[1][1]-E[1])/a,Q=(I[2][0]-E[0])/a,le=-(I[2][1]-E[1])/a;d.beginPath(),d.moveTo(K,z),d.lineTo(M,L),d.lineTo(Q,le),d.closePath(),d.stroke()}),d.restore()),d.canvas}(a,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},r.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,a){var o=n.getState();if(0==o||1==o){e++;var s=ht(n,"change",function(u){var l=n.getState();(2==l||3==l||4==l)&&(Bt(s),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(n,i,a){0==n.getState()&&n.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Bt),this.sourcesListenerKeys_=null},r}(U1),JQ=$Q,e$=function(){function t(r){this.highWaterMark=void 0!==r?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},t.prototype.forEach=function(r){for(var e=this.oldest_;e;)r(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(r,e){var n=this.entries_[r];return Xe(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(r){var e=this.entries_[r];return Xe(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[r],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.key_;return r},t.prototype.getValues=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.value_;return r},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},t.prototype.replace=function(r,e){this.get(r),this.entries_[r].value_=e},t.prototype.set=function(r,e){Xe(!(r in this.entries_),16);var n={key_:r,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[r]=n,++this.count_},t.prototype.setSize=function(r){this.highWaterMark=r},t}(),t$=e$;function z1(t,r,e,n){return void 0!==n?(n[0]=t,n[1]=r,n[2]=e,n):[t,r,e]}function Av(t,r,e){return t+"/"+r+"/"+e}function q1(t){return Av(t[0],t[1],t[2])}var a$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),o$=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a$(r,t),r.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},r.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var n=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),i=n[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(q1(a.tileCoord)),a.release())}.bind(this))}},r}(t$),K1=o$,s$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),u$=function(t){function r(e){var n=t.call(this)||this;return n.projection_=dr(e.projection),n.attributions_=Y1(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return s$(r,t),r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolutions=function(){return qe()},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getContextOptions=function(){},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(e){this.attributions_=Y1(e),this.changed()},r.prototype.setState=function(e){this.state_=e,this.changed()},r}(ta);function Y1(t){return t?Array.isArray(t)?function(r){return t}:"function"==typeof t?t:function(r){return[t]}:null}var Z1=u$,l$=[0,0,0],c$=function(){function t(r){var e;if(this.minZoom=void 0!==r.minZoom?r.minZoom:0,this.resolutions_=r.resolutions,Xe(function(t,r,e){var n=function(o,s){return s-o}||hs;return t.every(function(i,a){if(0===a)return!0;var o=n(t[a-1],i);return!(o>0||0===o)})}(this.resolutions_),17),!r.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==r.origin?r.origin:null,this.origins_=null,void 0!==r.origins&&(this.origins_=r.origins,Xe(this.origins_.length==this.resolutions_.length,20));var a=r.extent;void 0!==a&&!this.origin_&&!this.origins_&&(this.origin_=yo(a)),Xe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==r.tileSizes&&(this.tileSizes_=r.tileSizes,Xe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==r.tileSize?r.tileSize:this.tileSizes_?null:256,Xe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==r.sizes?this.fullTileRanges_=r.sizes.map(function(o,s){var u=new h1(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var l=this.getTileRangeForExtentAndZ(a,s);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(r,e,n){for(var i=this.getTileRangeForExtentAndZ(r,e),a=i.minX,o=i.maxX;a<=o;++a)for(var s=i.minY,u=i.maxY;s<=u;++s)n([e,a,s])},t.prototype.forEachTileCoordParentTileRange=function(r,e,n,i){var o,s,u=null,l=r[0]-1;for(2===this.zoomFactor_?(o=r[1],s=r[2]):u=this.getTileCoordExtent(r,i);l>=this.minZoom;){if(e(l,2===this.zoomFactor_?gC(o=Math.floor(o/2),o,s=Math.floor(s/2),s,n):this.getTileRangeForExtentAndZ(u,l,n)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},t.prototype.getResolution=function(r){return this.resolutions_[r]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(r,e,n){if(r[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*r[1],a=2*r[2];return gC(i,i+1,a,a+1,e)}var o=this.getTileCoordExtent(r,n);return this.getTileRangeForExtentAndZ(o,r[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(r,e,n){var i=this.getOrigin(r),a=this.getResolution(r),o=ii(this.getTileSize(r),this.tmpSize_);return ia(i[0]+e.minX*o[0]*a,i[1]+e.minY*o[1]*a,i[0]+(e.maxX+1)*o[0]*a,i[1]+(e.maxY+1)*o[1]*a,n)},t.prototype.getTileRangeForExtentAndZ=function(r,e,n){var i=l$;this.getTileCoordForXYAndZ_(r[0],r[3],e,!1,i);var a=i[1],o=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],e,!0,i),gC(a,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(r){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),i=ii(this.getTileSize(r[0]),this.tmpSize_);return[e[0]+(r[1]+.5)*i[0]*n,e[1]-(r[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(r,e){var n=this.getOrigin(r[0]),i=this.getResolution(r[0]),a=ii(this.getTileSize(r[0]),this.tmpSize_),o=n[0]+r[1]*a[0]*i,s=n[1]-(r[2]+1)*a[1]*i;return ia(o,s,o+a[0]*i,s+a[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(r,e,n){return this.getTileCoordForXYAndResolution_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(r,e,n,i,a){var o=this.getZForResolution(n),s=n/this.getResolution(o),u=this.getOrigin(o),l=ii(this.getTileSize(o),this.tmpSize_),f=i?.5:0,d=Math.floor((r-u[0])/n+(i?.5:0)),h=Math.floor((u[1]-e)/n+f),v=s*d/l[0],p=s*h/l[1];return i?(v=Math.ceil(v)-1,p=Math.ceil(p)-1):(v=Math.floor(v),p=Math.floor(p)),z1(o,v,p,a)},t.prototype.getTileCoordForXYAndZ_=function(r,e,n,i,a){var o=this.getOrigin(n),s=this.getResolution(n),u=ii(this.getTileSize(n),this.tmpSize_),c=i?.5:0,f=Math.floor((r-o[0])/s+(i?.5:0)),d=Math.floor((o[1]-e)/s+c),h=f/u[0],v=d/u[1];return i?(h=Math.ceil(h)-1,v=Math.ceil(v)-1):(h=Math.floor(h),v=Math.floor(v)),z1(n,h,v,a)},t.prototype.getTileCoordForCoordAndZ=function(r,e,n){return this.getTileCoordForXYAndZ_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},t.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},t.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},t.prototype.getZForResolution=function(r,e){return kn(V_(this.resolutions_,r,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(r){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=n},t}(),X1=c$;function Q1(t){var r=t.getDefaultTileGrid();return r||(r=function(t,r,e,n){return function(t,r,e,n){var a=$1(t,undefined,e);return new X1({extent:t,origin:h7(t,"top-left"),resolutions:a,tileSize:e})}(LC(t),0,void 0)}(t),t.setDefaultTileGrid(r)),r}function $1(t,r,e,n){for(var i=void 0!==r?r:42,a=Mi(t),o=qt(t),s=ii(void 0!==e?e:256),u=n>0?n:Math.max(o/s[0],a/s[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function LC(t){var r=(t=dr(t)).getExtent();if(!r){var e=180*La[go.DEGREES]/t.getMetersPerUnit();r=ia(-e,-e,e,e)}return r}var J1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),p$=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var a=e.tileGrid;return a&&ii(a.getTileSize(a.getMinZoom()),[256,256]),n.tileCache=new K1(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return J1(r,t),r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);i&&i.expireCache(n)},r.prototype.forEachLoadedTile=function(e,n,i,a){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,l,c,s=!0,f=i.minX;f<=i.maxX;++f)for(var d=i.minY;d<=i.maxY;++d)l=Av(n,f,d),c=!1,o.containsKey(l)&&(c=2===(u=o.get(l)).getState())&&(c=!1!==a(u)),c||(s=!1);return s},r.prototype.getGutterForProjection=function(e){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},r.prototype.getOpaque=function(e){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(e,n,i,a,o){return qe()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Q1(e)},r.prototype.getTileCacheForProjection=function(e){return Xe(al(this.getProjection(),e),68),this.tileCache},r.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(e,n,i){var a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=ii(a.getTileSize(e),this.tmpSize);return 1==o?s:function(t,r,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*r+.5|0,e[1]=t[1]*r+.5|0,e}(s,o,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(e,n){var i=void 0!==n?n:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function(t,r,e){var n=r[0],i=t.getTileCoordCenter(r),a=LC(e);if(ov(a,i))return r;var o=qt(a),s=Math.ceil((a[0]-i[0])/o);return i[0]+=o*s,t.getTileCoordForCoordAndZ(i,n)}(a,e,i)),function(t,r){var e=t[0],n=t[1],i=t[2];if(r.getMinZoom()>e||e>r.getMaxZoom())return!1;var a=r.getFullTileRange(e);return!a||a.containsXY(n,i)}(e,a)?e:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(e,n){var i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)},r.prototype.useTile=function(e,n,i,a){},r}(Z1),g$=function(t){function r(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return J1(r,t),r}(Na),y$=p$;function m$(t,r){var e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return t.replace(e,o[0].toString()).replace(n,o[1].toString()).replace(i,o[2].toString()).replace(a,function(){var c=r.getFullTileRange(o[0]);return Xe(c,55),(c.getHeight()-o[2]-1).toString()})}}var b$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),w$=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===r.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return b$(r,t),r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(e){var o,n=e.target,i=Ze(n),a=n.getState();1==a?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==a?"tileloaderror":2==a?"tileloadend":void 0),null!=o&&this.dispatchEvent(new g$(o,n))},r.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},r.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==n?this.setKey(n):this.changed()},r.prototype.setUrl=function(e){var n=function(t){var r=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var n=e[1].charCodeAt(0),i=e[2].charCodeAt(0),a=void 0;for(a=n;a<=i;++a)r.push(t.replace(e[0],String.fromCharCode(a)));return r}if(e=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(e[2],10),s=parseInt(e[1],10);s<=o;s++)r.push(t.replace(e[0],s.toString()));return r}return r.push(t),r}(e);this.urls=n,this.setUrls(n)},r.prototype.setUrls=function(e){this.urls=e;var n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i)n[i]=m$(t[i],r);return function(t){return 1===t.length?t[0]:function(r,e,n){if(r){var i=function(t){return(t[1]<<t[0])+t[2]}(r),a=Zu(i,t.length);return t[a](r,e,n)}}}(n)}(e,this.tileGrid),n):this.setKey(n)},r.prototype.tileUrlFunction=function(e,n,i){},r.prototype.useTile=function(e,n,i){var a=Av(e,n,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},r}(y$),S$=w$,T$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D$=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:k$,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:GQ,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?j1:void 0,n.renderReprojectionEdges_=!1,n}return T$(r,t),r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);for(var a in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==i?n:{})}},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!al(this.getProjection(),e)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},r.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!al(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},r.prototype.getTileGridForProjection=function(e){var n=this.getProjection();if(this.tileGrid&&(!n||al(n,e)))return this.tileGrid;var i=Ze(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Q1(e)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();if(!n||al(n,e))return this.tileCache;var i=Ze(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new K1(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(e,n,i,a,o,s){var u=[e,n,i],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,a,o):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener("change",this.handleTileChange.bind(this)),f},r.prototype.getTile=function(e,n,i,a,o){var s=this.getProjection();if(!s||!o||al(s,o))return this.getTileInternal(e,n,i,a,s||o);var u=this.getTileCacheForProjection(o),l=[e,n,i],c=void 0,f=q1(l);u.containsKey(f)&&(c=u.get(f));var d=this.getKey();if(c&&c.key==d)return c;var h=this.getTileGridForProjection(s),v=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(l,o),y=new JQ(s,h,o,v,l,p,this.getTilePixelRatio(a),this.getGutter(),function(_,m,E,b){return this.getTileInternal(_,m,E,b,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return y.key=d,c?(y.interimTile=c,y.refreshInterimChain(),u.replace(f,y)):u.set(f,y),y},r.prototype.getTileInternal=function(e,n,i,a,o){var s=null,u=Av(e,n,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((s=this.tileCache.get(u)).key!=l){var c=s;(s=this.createTile_(e,n,i,a,o,l)).interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(u,s)}}else s=this.createTile_(e,n,i,a,o,l),this.tileCache.set(u,s);return s},r.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var n in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},r.prototype.setTileGridForProjection=function(e,n){var i=dr(e);if(i){var a=Ze(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}},r}(S$);function k$(t,r){t.getImage().src=r}var I$=D$,A$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O$=function(t){function r(e){var i=e||{},a=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var r=t||{},e=r.extent||dr("EPSG:3857").getExtent(),n={extent:e,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:$1(e,r.maxZoom,r.tileSize,r.maxResolution)};return new X1(n)}({extent:LC(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return A$(r,t),r}(I$),R$=O$,M$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x$=function(t){function r(e){var i=e||{};return t.call(this,{attributions:void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:void 0!==i.crossOrigin?i.crossOrigin:"anonymous",imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:i.wrapX})||this}return M$(r,t),r}(R$),F$=x$,N$=function(){function t(r){this.rbush_=new(IR())(r),this.items_={}}return t.prototype.insert=function(r,e){var n={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:e};this.rbush_.insert(n),this.items_[Ze(e)]=n},t.prototype.load=function(r,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=r[i],s=e[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=u,this.items_[Ze(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(r){var e=Ze(r),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(r,e){var n=this.items_[Ze(e)];Qc([n.minX,n.minY,n.maxX,n.maxY],r)||(this.remove(e),this.insert(r,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},t.prototype.getInExtent=function(r){return this.rbush_.search({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}).map(function(i){return i.value})},t.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},t.prototype.forEachInExtent=function(r,e){return this.forEach_(this.getInExtent(r),e)},t.prototype.forEach_=function(r,e){for(var n,i=0,a=r.length;i<a;i++)if(n=e(r[i]))return n;return n},t.prototype.isEmpty=function(){return Kc(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(r){var e=this.rbush_.toJSON();return ia(e.minX,e.minY,e.maxX,e.maxY,r)},t.prototype.concat=function(r){for(var e in this.rbush_.load(r.rbush_.all()),r.items_)this.items_[e]=r.items_[e]},t}(),eM=N$;function L$(t,r){return[[-1/0,-1/0,1/0,1/0]]}function nM(t,r){return function(e,n,i,a,o){var s=this;!function(t,r,e,n,i,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(e,n,i):t,!0),"arraybuffer"==r.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var l=r.getType(),c=void 0;"json"==l||"text"==l?c=s.responseText:"xml"==l?(c=s.responseXML)||(c=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(c=s.response),c?a(r.readFeatures(c,{extent:e,featureProjection:i}),r.readProjection(c)):o()}else o()},s.onerror=o,s.send()}(t,r,e,n,i,function(u,l){void 0!==a&&a(u),s.addFeatures(u)},o||vs)}}var rM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wo=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.feature=n,a.features=i,a}return rM(r,t),r}(Na),B$=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=vs,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Xe(n.format_,7),n.loader_=nM(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:L$;var o,s,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new eM:null,n.loadedExtentsRtree_=new eM,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?s=i.features:i.features&&(s=(o=i.features).getArray()),!a&&void 0===o&&(o=new ri(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==o&&n.bindFeaturesCollection_(o),n}return rM(r,t),r.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},r.prototype.addFeatureInternal=function(e){var n=Ze(e);if(this.addToIndex_(n,e)){this.setupChangeEvents_(n,e);var i=e.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new wo("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},r.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[ht(n,"change",this.handleFeatureChange_,this),ht(n,"propertychange",this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(e,n){var i=!0,a=n.getId();return void 0!==a&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=n),i&&(Xe(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),i},r.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},r.prototype.addFeaturesInternal=function(e){for(var n=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=Ze(u=e[o]);this.addToIndex_(l,u)&&i.push(u)}o=0;for(var c=i.length;o<c;o++){var u;l=Ze(u=i[o]),this.setupChangeEvents_(l,u);var f=u.getGeometry();if(f){var d=f.getExtent();n.push(d),a.push(u)}else this.nullGeometryFeatures_[l]=u}this.featuresRtree_&&this.featuresRtree_.load(n,a),o=0;for(var h=i.length;o<h;o++)this.dispatchEvent(new wo("addfeature",i[o]))},r.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener("addfeature",function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener("removefeature",function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener("add",function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),e.addEventListener("remove",function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=e},r.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(Bt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var a in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new wo("clear");this.dispatchEvent(o),this.changed()},r.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureAtCoordinateDirect=function(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(a){if(a.getGeometry().intersectsCoordinate(e))return n(a)})},r.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},r.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var o=n(i);if(o)return o}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Kc(this.nullGeometryFeatures_)||Yh(e,UO(this.nullGeometryFeatures_))),e},r.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n},r.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},r.prototype.getClosestFeatureToCoordinate=function(e,n){var i=e[0],a=e[1],o=null,s=[NaN,NaN],u=1/0,l=[-1/0,-1/0,1/0,1/0],c=n||po;return this.featuresRtree_.forEachInExtent(l,function(f){if(c(f)){var d=f.getGeometry(),h=u;if((u=d.closestPointXY(i,a,s,u))<h){o=f;var v=Math.sqrt(u);l[0]=i-v,l[1]=a-v,l[2]=i+v,l[3]=a+v}}}),o},r.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},r.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return void 0!==n?n:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(e){var n=e.target,i=Ze(n),a=n.getGeometry();if(a){var o=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);var s=n.getId();if(void 0!==s){var u=s.toString();this.idIndex_[u]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[u]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new wo("changefeature",n))},r.prototype.hasFeature=function(e){var n=e.getId();return void 0!==n?n in this.idIndex_:Ze(e)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Kc(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(e,n,i){var a=this.loadedExtentsRtree_,o=this.strategy_(e,n);this.loading=!1;for(var s=function(d,h){var v=o[d];a.forEachInExtent(v,function(y){return Qu(y.extent,v)})||(u.dispatchEvent(new wo("featuresloadstart")),u.loader_.call(u,v,n,i,function(y){this.dispatchEvent(new wo("featuresloadend",void 0,y))}.bind(u),function(){this.dispatchEvent(new wo("featuresloaderror"))}.bind(u)),a.insert(v,{extent:v.slice()}),u.loading=u.loader_!==vs)},u=this,l=0,c=o.length;l<c;++l)s(l)},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(e){var i,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(a){if(Qc(a.extent,e))return i=a,!0}),i&&n.remove(i)},r.prototype.removeFeature=function(e){var n=Ze(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},r.prototype.removeFeatureInternal=function(e){var n=Ze(e);this.featureChangeKeys_[n].forEach(Bt),delete this.featureChangeKeys_[n];var i=e.getId();void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new wo("removefeature",e))},r.prototype.removeFromIdIndex_=function(e){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}return n},r.prototype.setLoader=function(e){this.loader_=e},r.prototype.setUrl=function(e){Xe(this.format_,7),this.setLoader(nM(e,this.format_))},r}(Z1),iM=B$,aM=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),H$=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.selected=n,o.deselected=i,o.mapBrowserEvent=a,o}return aM(r,t),r}(Na),Ov={},j$=function(t){function r(e){var a,n=t.call(this)||this,i=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=i.condition?i.condition:tQ,n.addCondition_=i.addCondition?i.addCondition:F1,n.removeCondition_=i.removeCondition?i.removeCondition:F1,n.toggleCondition_=i.toggleCondition?i.toggleCondition:L1,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:po,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.style_=void 0!==i.style?i.style:function(){var t=function(){var t={},r=[255,255,255,1],e=[0,153,255,1];return t.Polygon=[new cl({fill:new ll({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new cl({stroke:new mv({color:r,width:5})}),new cl({stroke:new mv({color:e,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new cl({image:new HR({radius:6,fill:new ll({color:e}),stroke:new mv({color:r,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}();return Yh(t.Polygon,t.LineString),Yh(t.GeometryCollection,t.LineString),function(r){return r.getGeometry()?t[r.getGeometry().getType()]:null}}(),n.features_=i.features||new ri,i.layers)if("function"==typeof i.layers)a=i.layers;else{var o=i.layers;a=function(u){return L_(o,u)}}else a=po;return n.layerFilter_=a,n.featureLayerAssociation_={},n}return aM(r,t),r.prototype.addFeatureLayerAssociation_=function(e,n){this.featureLayerAssociation_[Ze(e)]=n},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(e){return this.featureLayerAssociation_[Ze(e)]},r.prototype.setHitTolerance=function(e){this.hitTolerance_=e},r.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},r.prototype.addFeature_=function(e){this.style_&&this.applySelectedStyle_(e.element)},r.prototype.removeFeature_=function(e){this.style_&&this.restorePreviousStyle_(e.element)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(e){var n=Ze(e);n in Ov||(Ov[n]=e.getStyle()),e.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(e){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var a=n[i];if(a!==this&&a instanceof r&&a.getStyle()&&-1!==a.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(a.getStyle())}var o=Ze(e);e.setStyle(Ov[o]),delete Ov[o]},r.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Ze(e)]},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var n=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!n&&!i&&!a,s=e.map,u=this.getFeatures(),l=[],c=[];if(o){zu(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(p,y){if(this.filter_(p,y))return c.push(p),this.addFeatureLayerAssociation_(p,y),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=u.getLength()-1;f>=0;--f){var d=u.item(f),h=c.indexOf(d);h>-1?c.splice(h,1):(u.remove(d),l.push(d))}0!==c.length&&u.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,function(p,y){if(this.filter_(p,y))return!n&&!a||L_(u.getArray(),p)?(i||a)&&L_(u.getArray(),p)&&(l.push(p),this.removeFeatureLayerAssociation_(p)):(c.push(p),this.addFeatureLayerAssociation_(p,y)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new H$("select",c,l,e)),!0},r}(dl),W$=j$,q$=function(){function t(r){var e=r||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=ii(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new ll({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var r=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(r){this.overflow_=r},t.prototype.setFont=function(r){this.font_=r},t.prototype.setMaxAngle=function(r){this.maxAngle_=r},t.prototype.setOffsetX=function(r){this.offsetX_=r},t.prototype.setOffsetY=function(r){this.offsetY_=r},t.prototype.setPlacement=function(r){this.placement_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setFill=function(r){this.fill_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=ii(void 0!==r?r:1)},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.setText=function(r){this.text_=r},t.prototype.setTextAlign=function(r){this.textAlign_=r},t.prototype.setTextBaseline=function(r){this.textBaseline_=r},t.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},t.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},t.prototype.setPadding=function(r){this.padding_=r},t}(),K$=q$;function VC(t,r){if(t){var e=t.getProperties(),i=r?"assets/marker_blue.png":"assets/marker.png";t.setStyle(new GR({text:new K$({text:e.info&&r?e.info:"",font:"bold 13px sans-serif",backgroundFill:new ll({color:"#ffffff"}),offsetY:-50,fill:new ll({color:"#555588"})}),image:new dC({src:i,imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.7})}))}}var Q$=function(){var t=function(){function r(e){g(this,r),this.mapDataService=e,this.markers=[],this.unsubscribe$=new it,this.onMarkerClicked=new we}return C(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.map||this.initilizeMap(),this.mapDataService.mapInput$.pipe(lo(this.unsubscribe$)).subscribe(function(i){i&&n.setupMap(i)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"setupMap",value:function(n){this.positions=n.markerPosisitons,this.userPos=n.userPos;var i=this.map.getView();this.positions.length>0?i.setCenter(nf([this.positions[0].lng,this.positions[0].lat])):this.userPos&&this.userPos.lat&&this.userPos.lng&&i.setCenter(nf([this.userPos.lng,this.userPos.lat])),i.setZoom(this.positions.length<2?r.ZoomLevelSingleMarker:r.ZoomLevelSeveralMarkers),this.updateMarkers(this.positions,!0),this.updateUserMarker(this.userPos)}},{key:"updateUserMarker",value:function(n){this.userPos=n,this.userMarker.setGeometry(null),n&&(this.userMarker.setGeometry(new rC(nf([n.lng,n.lat]))),function(t){!t||t.setStyle(new GR({image:new dC({src:"assets/user.png",imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.5})}))}(this.userMarker))}},{key:"updateMarkers",value:function(n,i){for(var a=0;a<r.MaxNumMarkers;a++)this.markers[a].setGeometry(null);if(this.positions=n,n)for(var o=0;o<Math.min(n.length,r.MaxNumMarkers);o++){var s=n[o],u=this.markers[o];u.setId(s.id),u.setGeometry(new rC(nf([s.lng,s.lat]))),u.setProperties({info:s.info}),VC(u,!1)}}},{key:"initilizeMap",value:function(){var n=this;this.markers=[];for(var i=0;i<r.MaxNumMarkers;i++)this.markers.push(new iR({}));this.userMarker=new iR;var a=new JO({target:"attribution"}),o=new f1({source:new iM({features:this.markers})});this.map=new LQ({controls:rR({attribution:!1}).extend([a]),target:"map",layers:[new KX({source:new F$}),o,new f1({source:new iM({features:[this.userMarker]})})],view:new R1({center:nf([0,0]),zoom:r.ZoomLevelSingleMarker})}),function(t,r,e,n){var i=new W$({style:null,condition:eQ,toggleCondition:function(){return!0},layers:[r]});t.addInteraction(i),i.on("select",function(a){!function(t){!t||t.forEach(function(r){VC(r,!1)})}(e);var o=null;if(a.selected&&a.selected.length>0?o=a.selected:a.deselected&&a.deselected.length>0&&(o=a.deselected),o){var s=o[0];VC(s,!0),n(s.getId())}})}(this.map,o,this.markers,function(s){return n.onMarkerClicked.emit(s)})}}]),r}();return t.MaxNumMarkers=200,t.ZoomLevelSingleMarker=13,t.ZoomLevelSeveralMarkers=6,t.\u0275fac=function(e){return new(e||t)(T(VO))},t.\u0275cmp=ln({type:t,selectors:[["app-map"]],outputs:{onMarkerClicked:"onMarkerClicked"},decls:2,vars:0,consts:[["id","attribution"],["id","map",1,"map"]],template:function(e,n){1&e&&(jt(0,"div",0),jt(1,"div",1))},styles:["#map[_ngcontent-%COMP%]{height:90vh;width:100%}[_nghost-%COMP%]  .ol-zoom-in, [_nghost-%COMP%]  .ol-zoom-out, [_nghost-%COMP%]  .ol-rotate-reset{width:1.8em;height:1.8em;font-size:1.5em;font-weight:bold;opacity:.8;margin:5px;padding:0;border:2;border-radius:0;background-color:#d3d3d3}[_nghost-%COMP%]  .ol-zoom{max-width:60px}[_nghost-%COMP%]  .ol-hidden{display:none}[_nghost-%COMP%]  .ol-attribution>button{display:none}[_nghost-%COMP%]  .ol-attribution ul{list-style-type:none;padding:0;margin:0}[_nghost-%COMP%]  .ol-attribution{font-size:.7em;padding-bottom:5px}[_nghost-%COMP%]  .ol-compass{margin-left:-3px}"]}),t}();function $$(t,r){if(1&t){var e=fn();A(0,"p-sidebar",1),oe("visibleChange",function(a){return de(e),H().isVisible=a}),A(1,"div",2),A(2,"i",3),oe("click",function(){return de(e),H().close()}),O(),gt(3),O(),A(4,"div"),A(5,"div"),gt(6),O(),O(),jt(7,"hr"),A(8,"app-map",4),oe("onMarkerClicked",function(a){return de(e),H().onMapMarkerClicked(a)}),O(),O()}if(2&t){var n=H();P("visible",n.isVisible)("showCloseIcon",!1),N(3),sr(" ",n.title," "),N(3),sr(" ",n.details," ")}}var J$=function(){var t=function(){function r(e,n){g(this,r),this.broker=e,this.mapDataService=n,this.unsubscribe$=new it,this.isVisible=!1}return C(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(lo(this.unsubscribe$),Dn(function(i){return i instanceof Th})).subscribe(function(i){var a=new tY;a.markerPosisitons=i.positions,a.userPos=i.userPos,n.title=i.title,n.details=i.details,n.isVisible=!0,n.mapDataService.addNewMapInput(a)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}},{key:"onMapMarkerClicked",value:function(n){this.broker.sendMessage(new LO(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(us),T(VO))},t.\u0275cmp=ln({type:t,selectors:[["app-map-sidebar"]],decls:2,vars:1,consts:[["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-left","close-button","clickable",3,"click"],[3,"onMarkerClicked"]],template:function(e,n){1&e&&(ue(0,$$,9,4,"p-sidebar",0),jt(1,"app-info-sidebar")),2&e&&P("ngIf",n.isVisible)},directives:[Qr,hY,BO,Q$],encapsulation:2}),t}(),oM=["container"],eJ=function(r,e,n,i){return{"pi-info-circle":r,"pi-exclamation-triangle":e,"pi-times-circle":n,"pi-check":i}};function tJ(t,r){if(1&t&&(pi(0),jt(1,"span",6),A(2,"div",7),A(3,"div",8),gt(4),O(),A(5,"div",9),gt(6),O(),O(),gi()),2&t){var e=H();N(1),kr("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),P("ngClass",Sd(5,eJ,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),N(3),_i(e.message.summary),N(2),_i(e.message.detail)}}function nJ(t,r){1&t&&or(0)}function rJ(t,r){if(1&t){var e=fn();A(0,"button",10),oe("click",function(i){return de(e),H().onCloseIconClick(i)})("keydown.enter",function(i){return de(e),H().onCloseIconClick(i)}),jt(1,"span",11),O()}}var iJ=function(r){return[r,"p-toast-message"]},aJ=function(r,e,n,i){return{showTransformParams:r,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:i}},oJ=function(r){return{value:"visible",params:r}},sJ=function(r){return{$implicit:r}};function uJ(t,r){if(1&t){var e=fn();A(0,"p-toastItem",3),oe("onClose",function(s){return de(e),H().onMessageClose(s)})("@toastAnimation.start",function(s){return de(e),H().onAnimationStart(s)})("@toastAnimation.done",function(s){return de(e),H().onAnimationEnd(s)}),O()}if(2&t){var n=r.$implicit,i=r.index,a=H();P("message",n)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}var lJ=function(){var t=function(){function r(e){g(this,r),this.zone=e,this.onClose=new we}return C(r,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var n=this;this.message.sticky||this.zone.runOutsideAngular(function(){n.timeout=setTimeout(function(){n.onClose.emit({index:n.index,message:n.message})},n.message.life||3e3)})}},{key:"clearTimeout",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)})},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(lt))},t.\u0275cmp=ln({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,n){var i;1&e&&bi(oM,5),2&e&&Cn(i=En())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(A(0,"div",0,1),oe("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),A(2,"div",2),ue(3,tJ,7,10,"ng-container",3),ue(4,nJ,1,0,"ng-container",4),ue(5,rJ,2,0,"button",5),O(),O()),2&e&&(kr(n.message.styleClass),P("ngClass",_n(10,iJ,"p-toast-message-"+n.message.severity))("@messageState",_n(17,oJ,Sd(12,aJ,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),Et("id",n.message.id),N(2),P("ngClass",n.message.contentStyleClass),N(1),P("ngIf",!n.template),N(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",_n(19,sJ,n.message)),N(1),P("ngIf",!1!==n.message.closable))},directives:[Qi,Qr,Ru,n_],encapsulation:2,data:{animation:[Uc("messageState",[h_("visible",ni({transform:"translateY(0)",opacity:1})),xa("void => *",[ni({transform:"{{showTransformParams}}",opacity:0}),fo("{{showTransitionParams}}")]),xa("* => void",[fo("{{hideTransitionParams}}",ni({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t}(),cJ=function(){var t=function(){function r(e,n,i){g(this,r),this.messageService=e,this.cd=n,this.config=i,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new we,this.id=vA()}return C(r,[{key:"ngOnInit",value:function(){var n=this;this.messageSubscription=this.messageService.messageObserver.subscribe(function(i){if(i)if(i instanceof Array){var a=i.filter(function(o){return n.canAdd(o)});n.add(a)}else n.canAdd(i)&&n.add([i])}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(i){i?n.key===i&&(n.messages=null):n.messages=null,n.cd.markForCheck()})}},{key:"ngAfterViewInit",value:function(){this.breakpoints&&this.createStyle()}},{key:"add",value:function(n){this.messages=this.messages?[].concat(he(this.messages),he(n)):he(n),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(he(this.messagesArchieve),he(n)):he(n)),this.cd.markForCheck()}},{key:"canAdd",value:function(n){var i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i}},{key:"containsMessage",value:function(n,i){return!!n&&null!=n.find(function(a){return a.summary===i.summary&&a.detail==i.detail&&a.severity===i.severity})}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.template=i.template})}},{key:"onMessageClose",value:function(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}},{key:"onAnimationStart",value:function(n){"void"===n.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&ti.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&this.autoZIndex&&ti.clear(this.containerViewChild.nativeElement)}},{key:"createStyle",value:function(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);var n="";for(var i in this.breakpoints){var a="";for(var o in this.breakpoints[i])a+=o+":"+this.breakpoints[i][o]+" !important;";n+="\n                    @media screen and (max-width: ".concat(i,") {\n                        .p-toast[").concat(this.id,"] {\n                           ").concat(a,"\n                        }\n                    }\n                ")}this.styleElement.innerHTML=n}}},{key:"destroyStyle",value:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ti.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(t_),T(Kr),T(Nc))},t.\u0275cmp=ln({type:t,selectors:[["p-toast"]],contentQueries:function(e,n,i){var a;1&e&&Da(i,Dh,4),2&e&&Cn(a=En())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&bi(oM,5),2&e&&Cn(i=En())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,n){1&e&&(A(0,"div",0,1),ue(2,uJ,1,8,"p-toastItem",2),O()),2&e&&(kr(n.styleClass),P("ngClass","p-toast p-component p-toast-"+n.position)("ngStyle",n.style),N(2),P("ngForOf",n.messages))},directives:[Qi,so,eh,lJ],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Uc("toastAnimation",[xa(":enter, :leave",[c6("@*",l6())])])]},changeDetection:0}),t}(),fJ=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir,Ih],kh]}),t}(),dJ=function(){var t=function(){function r(e,n,i){g(this,r),this.broker=e,this.primeNGmessageService=n,this.translationService=i,this.title="sr-traffic",this.isLoading=!1,this.unsubscribe$=new it}return C(r,[{key:"ngOnInit",value:function(){return cr(this,void 0,void 0,at().mark(function n(){var a,i=this;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.translationService.defaultLangCode="en",this.translationService.currentLocale=navigator.language,(a=this.broker.getMessage()).pipe(lo(this.unsubscribe$),Dn(function(u){return u instanceof QK})).subscribe(function(u){i.primeNGmessageService.add({severity:"success",summary:"",detail:u.info})}),a.pipe(lo(this.unsubscribe$),Dn(function(u){return u instanceof Vu})).subscribe(function(u){i.primeNGmessageService.add({severity:"error",summary:"",detail:u.errorMessage})}),s.next=7,this.fetchBaseData();case 7:case"end":return s.stop()}},n,this)}))}},{key:"fetchBaseData",value:function(){return cr(this,void 0,void 0,at().mark(function n(){return at().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{this.isLoading=!0}finally{this.isLoading=!1}case 1:case"end":return a.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(us),T(t_),T(eY))},t.\u0275cmp=ln({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","top-center"]],template:function(e,n){1&e&&(A(0,"div"),jt(1,"app-map-sidebar"),O(),A(2,"div"),jt(3,"router-outlet"),O(),jt(4,"p-toast",0))},directives:[J$,Lm,cJ],styles:[".content[_ngcontent-%COMP%]{padding-top:210px}.header[_ngcontent-%COMP%]{overflow:hidden;position:fixed;top:-8px;width:calc(100% - 16px);z-index:1000;margin-left:0;background-color:#fff;opacity:1;max-height:230px;min-height:230px}[_nghost-%COMP%]     .p-toast.p-component.p-toast-top-center{max-width:300px}"]}),t}(),pJ=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({imports:[[Ir]]}),t}();function sM(){return"undefined"!=typeof window&&void 0!==window.document}function BC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function So(t){switch(t.length){case 0:return new Gu;case 1:return t[0];default:return new VA(t)}}function uM(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(n.forEach(function(f){var d=f.offset,h=d==u,v=h&&l||{};Object.keys(f).forEach(function(p){var y=p,_=f[p];if("offset"!==p)switch(y=r.normalizePropertyName(y,o),_){case"!":_=i[p];break;case Pa:_=a[p];break;default:_=r.normalizeStyleValue(p,y,_,o)}v[y]=_}),h||s.push(v),l=v,u=d}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function UC(t,r,e,n){switch(r){case"start":t.onStart(function(){return n(e&&HC(e,"start",t))});break;case"done":t.onDone(function(){return n(e&&HC(e,"done",t))});break;case"destroy":t.onDestroy(function(){return n(e&&HC(e,"destroy",t))})}}function HC(t,r,e){var n=e.totalTime,a=jC(t.element,t.triggerName,t.fromState,t.toState,r||t.phaseName,null==n?t.totalTime:n,!!e.disabled),o=t._data;return null!=o&&(a._data=o),a}function jC(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:r,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function Pr(t,r,e){var n;return t instanceof Map?(n=t.get(r))||t.set(r,n=e):(n=t[r])||(n=t[r]=e),n}function lM(t){var r=t.indexOf(":");return[t.substring(1,r),t.substr(r+1)]}var GC=function(r,e){return!1},WC=function(r,e){return!1},cM=function(r,e,n){return[]},fM=BC();(fM||"undefined"!=typeof Element)&&(GC=sM()?function(r,e){for(;e&&e!==document.documentElement;){if(e===r)return!0;e=e.parentNode||e.host}return!1}:function(r,e){return r.contains(e)},WC=function(){if(fM||Element.prototype.matches)return function(e,n){return e.matches(n)};var t=Element.prototype,r=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return r?function(e,n){return r.apply(e,[n])}:WC}(),cM=function(r,e,n){var i=[];if(n)for(var a=r.querySelectorAll(e),o=0;o<a.length;o++)i.push(a[o]);else{var s=r.querySelector(e);s&&i.push(s)}return i});var Ts=null,dM=!1;function zC(t){Ts||(Ts=("undefined"!=typeof document?document.body:null)||{},dM=!!Ts.style&&"WebkitAppearance"in Ts.style);var r=!0;return Ts.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(r=t in Ts.style)&&dM&&(r="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ts.style),r}var qC=WC,KC=GC,YC=cM;function hM(t){var r={};return Object.keys(t).forEach(function(e){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[n]=t[e]}),r}var vM=function(){var t=function(){function r(){g(this,r)}return C(r,[{key:"validateStyleProperty",value:function(n){return zC(n)}},{key:"matchesElement",value:function(n,i){return qC(n,i)}},{key:"containsElement",value:function(n,i){return KC(n,i)}},{key:"query",value:function(n,i,a){return YC(n,i,a)}},{key:"computeStyle",value:function(n,i,a){return a||""}},{key:"animate",value:function(n,i,a,o,s){return new Gu(a,o)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),ZC=function(){var t=function r(){g(this,r)};return t.NOOP=new vM,t}(),gM="ng-enter",XC="ng-leave",Rv="ng-trigger",Mv=".ng-trigger",yM="ng-animating",QC=".ng-animating";function Ds(t){if("number"==typeof t)return t;var r=t.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:$C(parseFloat(r[1]),r[2])}function $C(t,r){return"s"===r?1e3*t:t}function Pv(t,r,e){return t.hasOwnProperty("duration")?t:function(t,r,e){var i,a=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return r.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=$C(parseFloat(s[1]),s[2]);var u=s[3];null!=u&&(a=$C(parseFloat(u),s[4]));var l=s[5];l&&(o=l)}else i=t;if(!e){var c=!1,f=r.length;i<0&&(r.push("Duration values below 0 are not allowed for this animation step."),c=!0),a<0&&(r.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&r.splice(f,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:a,easing:o}}(t,r,e)}function hl(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function To(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)for(var n in t)e[n]=t[n];else hl(t,e);return e}function mM(t,r,e){return e?r+":"+e+";":""}function _M(t){for(var r="",e=0;e<t.style.length;e++){var n=t.style.item(e);r+=mM(0,n,t.style.getPropertyValue(n))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=mM(0,wJ(i),t.style[i]));t.setAttribute("style",r)}function ua(t,r,e){t.style&&(Object.keys(r).forEach(function(n){var i=eE(n);e&&!e.hasOwnProperty(n)&&(e[n]=t.style[i]),t.style[i]=r[n]}),BC()&&_M(t))}function ks(t,r){t.style&&(Object.keys(r).forEach(function(e){var n=eE(e);t.style[n]=""}),BC()&&_M(t))}function gf(t){return Array.isArray(t)?1==t.length?t[0]:xA(t):t}var JC=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function CM(t){var r=[];if("string"==typeof t){for(var e;e=JC.exec(t);)r.push(e[1]);JC.lastIndex=0}return r}function xv(t,r,e){var n=t.toString(),i=n.replace(JC,function(a,o){var s=r[o];return r.hasOwnProperty(o)||(e.push("Please provide a value for the animation param ".concat(o)),s=""),s.toString()});return i==n?t:i}function Fv(t){for(var r=[],e=t.next();!e.done;)r.push(e.value),e=t.next();return r}var bJ=/-+([a-z0-9])/g;function eE(t){return t.replace(bJ,function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function wJ(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function EM(t,r){return 0===t||0===r}function bM(t,r,e){var n=Object.keys(e);if(n.length&&r.length){var i=r[0],a=[];if(n.forEach(function(u){i.hasOwnProperty(u)||a.push(u),i[u]=e[u]}),a.length)for(var o=function(){var l=r[s];a.forEach(function(c){l[c]=tE(t,c)})},s=1;s<r.length;s++)o()}return r}function xr(t,r,e){switch(r.type){case 7:return t.visitTrigger(r,e);case 0:return t.visitState(r,e);case 1:return t.visitTransition(r,e);case 2:return t.visitSequence(r,e);case 3:return t.visitGroup(r,e);case 4:return t.visitAnimate(r,e);case 5:return t.visitKeyframes(r,e);case 6:return t.visitStyle(r,e);case 8:return t.visitReference(r,e);case 9:return t.visitAnimateChild(r,e);case 10:return t.visitAnimateRef(r,e);case 11:return t.visitQuery(r,e);case 12:return t.visitStagger(r,e);default:throw new Error("Unable to resolve animation metadata node #".concat(r.type))}}function tE(t,r){return window.getComputedStyle(t)[r]}function SJ(t,r){var e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(n){return function(t,r,e){if(":"==t[0]){var n=function(t,r){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,n){return parseFloat(n)>parseFloat(e)};case":decrement":return function(e,n){return parseFloat(n)<parseFloat(e)};default:return r.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,e);if("function"==typeof n)return void r.push(n);t=n}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push('The provided transition expression "'.concat(t,'" is not supported')),r;var a=i[1],o=i[2],s=i[3];r.push(wM(a,s)),"<"==o[0]&&!("*"==a&&"*"==s)&&r.push(wM(s,a))}(n,e,r)}):e.push(t),e}var Lv=new Set(["true","1"]),Vv=new Set(["false","0"]);function wM(t,r){var e=Lv.has(t)||Vv.has(t),n=Lv.has(r)||Vv.has(r);return function(i,a){var o="*"==t||t==i,s="*"==r||r==a;return!o&&e&&"boolean"==typeof i&&(o=i?Lv.has(t):Vv.has(t)),!s&&n&&"boolean"==typeof a&&(s=a?Lv.has(r):Vv.has(r)),o&&s}}var kJ=new RegExp("s*".concat(":self","s*,?"),"g");function TM(t,r,e){return new IJ(t).build(r,e)}var IJ=function(){function t(r){g(this,t),this._driver=r}return C(t,[{key:"build",value:function(e,n){var i=new RJ(n);return this._resetContextStyleTimingState(i),xr(this,gf(e),i)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,n){var i=this,a=n.queryCount=0,o=n.depCount=0,s=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(l){if(i._resetContextStyleTimingState(n),0==l.type){var c=l,f=c.name;f.toString().split(/\s*,\s*/).forEach(function(h){c.name=h,s.push(i.visitState(c,n))}),c.name=f}else if(1==l.type){var d=i.visitTransition(l,n);a+=d.queryCount,o+=d.depCount,u.push(d)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:u,queryCount:a,depCount:o,options:null}}},{key:"visitState",value:function(e,n){var i=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var o=new Set,s=a||{};if(i.styles.forEach(function(l){if(Bv(l)){var c=l;Object.keys(c).forEach(function(f){CM(c[f]).forEach(function(d){s.hasOwnProperty(d)||o.add(d)})})}}),o.size){var u=Fv(o.values());n.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(u.join(", ")))}}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,n){n.queryCount=0,n.depCount=0;var i=xr(this,gf(e.animation),n);return{type:1,matchers:SJ(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Is(e.options)}}},{key:"visitSequence",value:function(e,n){var i=this;return{type:2,steps:e.steps.map(function(a){return xr(i,a,n)}),options:Is(e.options)}}},{key:"visitGroup",value:function(e,n){var i=this,a=n.currentTime,o=0,s=e.steps.map(function(u){n.currentTime=a;var l=xr(i,u,n);return o=Math.max(o,n.currentTime),l});return n.currentTime=o,{type:3,steps:s,options:Is(e.options)}}},{key:"visitAnimate",value:function(e,n){var i=function(t,r){var e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return nE(Pv(t,r).duration,0,"");var i=t,a=i.split(/\s+/).some(function(s){return"{"==s.charAt(0)&&"{"==s.charAt(1)});if(a){var o=nE(0,0,"");return o.dynamic=!0,o.strValue=i,o}return nE((e=e||Pv(i,r)).duration,e.delay,e.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;var a,o=e.styles?e.styles:ni({});if(5==o.type)a=this.visitKeyframes(o,n);else{var s=e.styles,u=!1;if(!s){u=!0;var l={};i.easing&&(l.easing=i.easing),s=ni(l)}n.currentTime+=i.duration+i.delay;var c=this.visitStyle(s,n);c.isEmptyStep=u,a=c}return n.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,n){var i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}},{key:"_makeStyleAst",value:function(e,n){var i=[];Array.isArray(e.styles)?e.styles.forEach(function(s){"string"==typeof s?s==Pa?i.push(s):n.errors.push("The provided style string value ".concat(s," is not allowed.")):i.push(s)}):i.push(e.styles);var a=!1,o=null;return i.forEach(function(s){if(Bv(s)){var u=s,l=u.easing;if(l&&(o=l,delete u.easing),!a)for(var c in u)if(u[c].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}},{key:"_validateStyleAst",value:function(e,n){var i=this,a=n.currentAnimateTimings,o=n.currentTime,s=n.currentTime;a&&s>0&&(s-=a.duration+a.delay),e.styles.forEach(function(u){"string"!=typeof u&&Object.keys(u).forEach(function(l){if(i._driver.validateStyleProperty(l)){var c=n.collectedStyles[n.currentQuerySelector],f=c[l],d=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(n.errors.push('The CSS property "'.concat(l,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(s,'ms" and "').concat(o,'ms"')),d=!1),s=f.startTime),d&&(c[l]={startTime:s,endTime:o}),n.options&&function(t,r,e){var n=r.params||{},i=CM(t);i.length&&i.forEach(function(a){n.hasOwnProperty(a)||e.push("Unable to resolve the local animation param ".concat(a," in the given list of values"))})}(u[l],n.options,n.errors)}else n.errors.push('The provided animation property "'.concat(l,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,n){var i=this,a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),a;var s=0,u=[],l=!1,c=!1,f=0,d=e.steps.map(function(E){var b=i._makeStyleAst(E,n),S=null!=b.offset?b.offset:function(t){if("string"==typeof t)return null;var r=null;if(Array.isArray(t))t.forEach(function(n){if(Bv(n)&&n.hasOwnProperty("offset")){var i=n;r=parseFloat(i.offset),delete i.offset}});else if(Bv(t)&&t.hasOwnProperty("offset")){var e=t;r=parseFloat(e.offset),delete e.offset}return r}(b.styles),k=0;return null!=S&&(s++,k=b.offset=S),c=c||k<0||k>1,l=l||k<f,f=k,u.push(k),b});c&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&n.errors.push("Please ensure that all keyframe offsets are in order");var h=e.steps.length,v=0;s>0&&s<h?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(v=1/(h-1));var p=h-1,y=n.currentTime,_=n.currentAnimateTimings,m=_.duration;return d.forEach(function(E,b){var S=v>0?b==p?1:v*b:u[b],k=S*m;n.currentTime=y+_.delay+k,_.duration=k,i._validateStyleAst(E,n),E.offset=S,a.styles.push(E)}),a}},{key:"visitReference",value:function(e,n){return{type:8,animation:xr(this,gf(e.animation),n),options:Is(e.options)}}},{key:"visitAnimateChild",value:function(e,n){return n.depCount++,{type:9,options:Is(e.options)}}},{key:"visitAnimateRef",value:function(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Is(e.options)}}},{key:"visitQuery",value:function(e,n){var i=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;var o=function(t){var r=!!t.split(/\s*,\s*/).find(function(e){return":self"==e});return r&&(t=t.replace(kJ,"")),t=t.replace(/@\*/g,Mv).replace(/@\w+/g,function(e){return Mv+"-"+e.substr(1)}).replace(/:animating/g,QC),[t,r]}(e.selector),s=ge(o,2),u=s[0],l=s[1];n.currentQuerySelector=i.length?i+" "+u:u,Pr(n.collectedStyles,n.currentQuerySelector,{});var c=xr(this,gf(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:Is(e.options)}}},{key:"visitStagger",value:function(e,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Pv(e.timings,n.errors,!0);return{type:12,animation:xr(this,gf(e.animation),n),timings:i,options:null}}}]),t}(),RJ=function t(r){g(this,t),this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Bv(t){return!Array.isArray(t)&&"object"==typeof t}function Is(t){return t?(t=hl(t)).params&&(t.params=function(t){return t?hl(t):null}(t.params)):t={},t}function nE(t,r,e){return{duration:t,delay:r,easing:e}}function rE(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:r,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var iE=function(){function t(){g(this,t),this._map=new Map}return C(t,[{key:"consume",value:function(e){var n=this._map.get(e);return n?this._map.delete(e):n=[],n}},{key:"append",value:function(e,n){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,he(n))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),NJ=new RegExp(":enter","g"),VJ=new RegExp(":leave","g");function kM(t,r,e,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new BJ).buildKeyframes(t,r,e,n,i,a,o,s,u,l)}var BJ=function(){function t(){g(this,t)}return C(t,[{key:"buildKeyframes",value:function(e,n,i,a,o,s,u,l,c){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new iE;var d=new UJ(e,n,c,a,o,f,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),xr(this,i,d);var h=d.timelines.filter(function(p){return p.containsAnimation()});if(h.length&&Object.keys(u).length){var v=h[h.length-1];v.allowOnlyTimelineStyles()||v.setStyles([u],null,d.errors,l)}return h.length?h.map(function(p){return p.buildKeyframes()}):[rE(n,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,n){}},{key:"visitState",value:function(e,n){}},{key:"visitTransition",value:function(e,n){}},{key:"visitAnimateChild",value:function(e,n){var i=n.subInstructions.consume(n.element);if(i){var a=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,a,a.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}},{key:"visitAnimateRef",value:function(e,n){var i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}},{key:"_visitSubInstructions",value:function(e,n,i){var o=n.currentTimeline.currentTime,s=null!=i.duration?Ds(i.duration):null,u=null!=i.delay?Ds(i.delay):null;return 0!==s&&e.forEach(function(l){var c=n.appendInstructionToTimeline(l,s,u);o=Math.max(o,c.duration+c.delay)}),o}},{key:"visitReference",value:function(e,n){n.updateOptions(e.options,!0),xr(this,e.animation,n),n.previousNode=e}},{key:"visitSequence",value:function(e,n){var i=this,a=n.subContextCount,o=n,s=e.options;if(s&&(s.params||s.delay)&&((o=n.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Uv);var u=Ds(s.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(function(l){return xr(i,l,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),n.previousNode=e}},{key:"visitGroup",value:function(e,n){var i=this,a=[],o=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Ds(e.options.delay):0;e.steps.forEach(function(u){var l=n.createSubContext(e.options);s&&l.delayNextStep(s),xr(i,u,l),o=Math.max(o,l.currentTimeline.currentTime),a.push(l.currentTimeline)}),a.forEach(function(u){return n.currentTimeline.mergeTimelineCollectedStyles(u)}),n.transformIntoNewTimeline(o),n.previousNode=e}},{key:"_visitTiming",value:function(e,n){if(e.dynamic){var i=e.strValue;return Pv(n.params?xv(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,n){var i=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}},{key:"visitStyle",value:function(e,n){var i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}},{key:"visitKeyframes",value:function(e,n){var i=n.currentAnimateTimings,a=n.currentTimeline.duration,o=i.duration,u=n.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(function(l){u.forwardTime((l.offset||0)*o),u.setStyles(l.styles,l.easing,n.errors,n.options),u.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(u),n.transformIntoNewTimeline(a+o),n.previousNode=e}},{key:"visitQuery",value:function(e,n){var i=this,a=n.currentTimeline.currentTime,o=e.options||{},s=o.delay?Ds(o.delay):0;s&&(6===n.previousNode.type||0==a&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Uv);var u=a,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=l.length;var c=null;l.forEach(function(f,d){n.currentQueryIndex=d;var h=n.createSubContext(e.options,f);s&&h.delayNextStep(s),f===n.element&&(c=h.currentTimeline),xr(i,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,h.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}},{key:"visitStagger",value:function(e,n){var i=n.parentContext,a=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),u=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=u-l;break;case"full":l=i.currentStaggerTime}var f=n.currentTimeline;l&&f.delayNextStep(l);var d=f.currentTime;xr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=a.currentTime-d+(a.startTime-i.currentTimeline.startTime)}}]),t}(),Uv={},UJ=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this._driver=r,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new IM(this._driver,e,0),s.push(this.currentTimeline)}return C(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,n){var i=this;if(e){var a=e,o=this.options;null!=a.duration&&(o.duration=Ds(a.duration)),null!=a.delay&&(o.delay=Ds(a.delay));var s=a.params;if(s){var u=o.params;u||(u=this.options.params={}),Object.keys(s).forEach(function(l){(!n||!u.hasOwnProperty(l))&&(u[l]=xv(s[l],u,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var n=this.options.params;if(n){var i=e.params={};Object.keys(n).forEach(function(a){i[a]=n[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,o=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Uv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,n,i){var a={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new HJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(o),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,n,i,a,o,s){var u=[];if(a&&u.push(this.element),e.length>0){e=(e=e.replace(NJ,"."+this._enterClassName)).replace(VJ,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),u.push.apply(u,he(c))}return!o&&0==u.length&&s.push('`query("'.concat(n,'")` returned zero elements. (Use `query("').concat(n,'", { optional: true })` if you wish to allow this.)')),u}}]),t}(),IM=function(){function t(r,e,n,i){g(this,t),this._driver=r,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return C(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,n){this._localTimelineStyles[e]=n,this._globalTimelineStyles[e]=n,this._styleSummary[e]={time:this.currentTime,value:n}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var n=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(i){n._backFill[i]=n._globalTimelineStyles[i]||Pa,n._currentKeyframe[i]=Pa}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,n,i,a){var o=this;n&&(this._previousKeyframe.easing=n);var s=a&&a.params||{},u=function(t,r){var n,e={};return t.forEach(function(i){"*"===i?(n=n||Object.keys(r)).forEach(function(a){e[a]=Pa}):To(i,!1,e)}),e}(e,this._globalTimelineStyles);Object.keys(u).forEach(function(l){var c=xv(u[l],s,i);o._pendingStyles[l]=c,o._localTimelineStyles.hasOwnProperty(l)||(o._backFill[l]=o._globalTimelineStyles.hasOwnProperty(l)?o._globalTimelineStyles[l]:Pa),o._updateStyle(l,c)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(function(a){e._currentKeyframe[a]=n[a]}),Object.keys(this._localTimelineStyles).forEach(function(a){e._currentKeyframe.hasOwnProperty(a)||(e._currentKeyframe[a]=e._localTimelineStyles[a])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(n){var i=e._localTimelineStyles[n];e._pendingStyles[n]=i,e._updateStyle(n,i)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var n in this._currentKeyframe)e.push(n);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var n=this;Object.keys(e._styleSummary).forEach(function(i){var a=n._styleSummary[i],o=e._styleSummary[i];(!a||o.time>a.time)&&n._updateStyle(i,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var n=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(f,d){var h=To(f,!0);Object.keys(h).forEach(function(v){var p=h[v];"!"==p?n.add(v):p==Pa&&i.add(v)}),a||(h.offset=d/e.duration),o.push(h)});var s=n.size?Fv(n.values()):[],u=i.size?Fv(i.values()):[];if(a){var l=o[0],c=hl(l);l.offset=0,c.offset=1,o=[l,c]}return rE(this.element,o,s,u,this.duration,this.startTime,this.easing,!1)}}]),t}(),HJ=function(t){R(e,t);var r=w(e);function e(n,i,a,o,s,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return g(this,e),(l=r.call(this,n,i,u.delay)).keyframes=a,l.preStyleProps=o,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return C(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var i=this.keyframes,a=this.timings,o=a.delay,s=a.duration,u=a.easing;if(this._stretchStartingKeyframe&&o){var l=[],c=s+o,f=o/c,d=To(i[0],!1);d.offset=0,l.push(d);var h=To(i[0],!1);h.offset=AM(f),l.push(h);for(var v=i.length-1,p=1;p<=v;p++){var y=To(i[p],!1);y.offset=AM((o+y.offset*s)/c),l.push(y)}s=c,o=0,u="",i=l}return rE(this.element,i,this.preStyleProps,this.postStyleProps,s,o,u,!0)}}]),e}(IM);function AM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.pow(10,r-1);return Math.round(t*e)/e}var aE=function t(){g(this,t)},GJ=function(t){R(e,t);var r=w(e);function e(){return g(this,e),r.apply(this,arguments)}return C(e,[{key:"normalizePropertyName",value:function(i,a){return eE(i)}},{key:"normalizeStyleValue",value:function(i,a,o,s){var u="",l=o.toString().trim();if(WJ[a]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{var c=o.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push("Please provide a CSS unit value for ".concat(i,":").concat(o))}return l+u}}]),e}(aE),WJ=function(){return function(t){var r={};return t.forEach(function(e){return r[e]=!0}),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function OM(t,r,e,n,i,a,o,s,u,l,c,f,d){return{type:0,element:t,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:f,errors:d}}var oE={},RM=function(){function t(r,e,n){g(this,t),this._triggerName=r,this.ast=e,this._stateStyles=n}return C(t,[{key:"match",value:function(e,n,i,a){return function(t,r,e,n,i){return t.some(function(a){return a(r,e,n,i)})}(this.ast.matchers,e,n,i,a)}},{key:"buildStyles",value:function(e,n,i){var a=this._stateStyles["*"],o=this._stateStyles[e],s=a?a.buildStyles(n,i):{};return o?o.buildStyles(n,i):s}},{key:"build",value:function(e,n,i,a,o,s,u,l,c,f){var d=[],h=this.ast.options&&this.ast.options.params||oE,p=this.buildStyles(i,u&&u.params||oE,d),y=l&&l.params||oE,_=this.buildStyles(a,y,d),m=new Set,E=new Map,b=new Map,S="void"===a,k={params:j(j({},h),y)},I=f?[]:kM(e,n,this.ast.animation,o,s,p,_,k,c,d),M=0;if(I.forEach(function(K){M=Math.max(K.duration+K.delay,M)}),d.length)return OM(n,this._triggerName,i,a,S,p,_,[],[],E,b,M,d);I.forEach(function(K){var z=K.element,Q=Pr(E,z,{});K.preStyleProps.forEach(function(pe){return Q[pe]=!0});var le=Pr(b,z,{});K.postStyleProps.forEach(function(pe){return le[pe]=!0}),z!==n&&m.add(z)});var L=Fv(m.values());return OM(n,this._triggerName,i,a,S,p,_,I,L,E,b,M)}}]),t}(),KJ=function(){function t(r,e,n){g(this,t),this.styles=r,this.defaultParams=e,this.normalizer=n}return C(t,[{key:"buildStyles",value:function(e,n){var i=this,a={},o=hl(this.defaultParams);return Object.keys(e).forEach(function(s){var u=e[s];null!=u&&(o[s]=u)}),this.styles.styles.forEach(function(s){if("string"!=typeof s){var u=s;Object.keys(u).forEach(function(l){var c=u[l];c.length>1&&(c=xv(c,o,n));var f=i.normalizer.normalizePropertyName(l,n);c=i.normalizer.normalizeStyleValue(l,f,c,n),a[f]=c})}}),a}}]),t}(),ZJ=function(){function t(r,e,n){var i=this;g(this,t),this.name=r,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(function(a){i.states[a.name]=new KJ(a.style,a.options&&a.options.params||{},n)}),MM(this.states,"true","1"),MM(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new RM(r,a,i.states))}),this.fallbackTransition=function(t,r,e){return new RM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(o,s){return!0}],options:null,queryCount:0,depCount:0},r)}(r,this.states)}return C(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,n,i,a){return this.transitionFactories.find(function(s){return s.match(e,n,i,a)})||null}},{key:"matchStyles",value:function(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}]),t}();function MM(t,r,e){t.hasOwnProperty(r)?t.hasOwnProperty(e)||(t[e]=t[r]):t.hasOwnProperty(e)&&(t[r]=t[e])}var QJ=new iE,$J=function(){function t(r,e,n){g(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return C(t,[{key:"register",value:function(e,n){var i=[],a=TM(this._driver,n,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: ".concat(i.join("\n")));this._animations[e]=a}},{key:"_buildPlayer",value:function(e,n,i){var a=e.element,o=uM(this._driver,this._normalizer,a,e.keyframes,n,i);return this._driver.animate(a,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,n){var u,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],l=new Map;if(s?(u=kM(this._driver,n,s,gM,XC,{},{},a,QJ,o)).forEach(function(d){var h=Pr(l,d.element,{});d.postStyleProps.forEach(function(v){return h[v]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),u=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));l.forEach(function(d,h){Object.keys(d).forEach(function(v){d[v]=i._driver.computeStyle(h,v,Pa)})});var c=u.map(function(d){var h=l.get(d.element);return i._buildPlayer(d,{},h)}),f=So(c);return this._playersById[e]=f,f.onDestroy(function(){return i.destroy(e)}),this.players.push(f),f}},{key:"destroy",value:function(e){var n=this._getPlayer(e);n.destroy(),delete this._playersById[e];var i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var n=this._playersById[e];if(!n)throw new Error("Unable to find the timeline player referenced by ".concat(e));return n}},{key:"listen",value:function(e,n,i,a){var o=jC(n,"","","");return UC(this._getPlayer(e),i,o,a),function(){}}},{key:"command",value:function(e,n,i,a){if("register"!=i)if("create"!=i){var s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,n,a[0]||{});else this.register(e,a[0])}}]),t}(),PM="ng-animate-queued",xM="ng-animate-disabled",FM=".ng-animate-disabled",eee="ng-star-inserted",nee=[],NM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ree={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed",sE=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g(this,t),this.namespaceId=e;var n=r&&r.hasOwnProperty("value"),i=n?r.value:r;if(this.value=see(i),n){var a=hl(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return C(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var n=e.params;if(n){var i=this.options.params;Object.keys(n).forEach(function(a){null==i[a]&&(i[a]=n[a])})}}}]),t}(),yf="void",uE=new sE(yf),iee=function(){function t(r,e,n){g(this,t),this.id=r,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,si(e,this._hostClassName)}return C(t,[{key:"listen",value:function(e,n,i,a){var o=this;if(!this._triggers.hasOwnProperty(n))throw new Error('Unable to listen on the animation trigger event "'.concat(i,'" because the animation trigger "').concat(n,"\" doesn't exist!"));if(null==i||0==i.length)throw new Error('Unable to listen on the animation trigger "'.concat(n,'" because the provided event is undefined!'));if(!function(t){return"start"==t||"done"==t}(i))throw new Error('The provided animation trigger event "'.concat(i,'" for the animation trigger "').concat(n,'" is not supported!'));var s=Pr(this._elementListeners,e,[]),u={name:n,phase:i,callback:a};s.push(u);var l=Pr(this._engine.statesByElement,e,{});return l.hasOwnProperty(n)||(si(e,Rv),si(e,Rv+"-"+n),l[n]=uE),function(){o._engine.afterFlush(function(){var c=s.indexOf(u);c>=0&&s.splice(c,1),o._triggers[n]||delete l[n]})}}},{key:"register",value:function(e,n){return!this._triggers[e]&&(this._triggers[e]=n,!0)}},{key:"_getTrigger",value:function(e){var n=this._triggers[e];if(!n)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return n}},{key:"trigger",value:function(e,n,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(n),u=new lE(this.id,n,e),l=this._engine.statesByElement.get(e);l||(si(e,Rv),si(e,Rv+"-"+n),this._engine.statesByElement.set(e,l={}));var c=l[n],f=new sE(i,this.id),d=i&&i.hasOwnProperty("value");!d&&c&&f.absorbOptions(c.options),l[n]=f,c||(c=uE);var h=f.value===yf;if(h||c.value!==f.value){var _=Pr(this._engine.playersByElement,e,[]);_.forEach(function(b){b.namespaceId==a.id&&b.triggerName==n&&b.queued&&b.destroy()});var m=s.matchTransition(c.value,f.value,e,f.params),E=!1;if(!m){if(!o)return;m=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:f,player:u,isFallbackTransition:E}),E||(si(e,PM),u.onStart(function(){vl(e,PM)})),u.onDone(function(){var b=a.players.indexOf(u);b>=0&&a.players.splice(b,1);var S=a._engine.playersByElement.get(e);if(S){var k=S.indexOf(u);k>=0&&S.splice(k,1)}}),this.players.push(u),_.push(u),u}if(!fee(c.params,f.params)){var v=[],p=s.matchStyles(c.value,c.params,v),y=s.matchStyles(f.value,f.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(function(){ks(e,p),ua(e,y)})}}},{key:"deregister",value:function(e){var n=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(i,a){delete i[e]}),this._elementListeners.forEach(function(i,a){n._elementListeners.set(a,i.filter(function(o){return o.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var n=this._engine.playersByElement.get(e);n&&(n.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var i=this,a=this._engine.driver.query(e,Mv,!0);a.forEach(function(o){if(!o[oi]){var s=i._engine.fetchNamespacesByElement(o);s.size?s.forEach(function(u){return u.triggerLeaveAnimation(o,n,!1,!0)}):i.clearElementCache(o)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(o){return i.clearElementCache(o)})})}},{key:"triggerLeaveAnimation",value:function(e,n,i,a){var o=this,s=this._engine.statesByElement.get(e);if(s){var u=[];if(Object.keys(s).forEach(function(l){if(o._triggers[l]){var c=o.trigger(e,l,yf,a);c&&u.push(c)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,n),i&&So(u).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var n=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var o=new Set;i.forEach(function(s){var u=s.name;if(!o.has(u)){o.add(u);var c=n._triggers[u].fallbackTransition,f=a[u]||uE,d=new sE(yf),h=new lE(n.id,u,e);n._engine.totalQueuedPlayers++,n._queue.push({element:e,triggerName:u,transition:c,fromState:f,toState:d,player:h,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,n){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),!this.triggerLeaveAnimation(e,n,!0)){var o=!1;if(a.totalAnimations){var s=a.players.length?a.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else for(var u=e;u=u.parentNode;)if(a.statesByElement.get(u)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)a.markElementAsRemoved(this.id,e,!1,n);else{var c=e[oi];(!c||c===NM)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,n))}}}},{key:"insertNode",value:function(e,n){si(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var n=this,i=[];return this._queue.forEach(function(a){var o=a.player;if(!o.destroyed){var s=a.element,u=n._elementListeners.get(s);u&&u.forEach(function(l){if(l.name==a.triggerName){var c=jC(s,a.triggerName,a.fromState.value,a.toState.value);c._data=e,UC(a.player,l.phase,c,l.callback)}}),o.markedForDestroy?n._engine.afterFlush(function(){o.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,o){var s=a.transition.ast.depCount,u=o.transition.ast.depCount;return 0==s||0==u?s-u:n._engine.driver.containsElement(a.element,o.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(n){return n.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var n=!1;return this._elementListeners.has(e)&&(n=!0),!!this._queue.find(function(i){return i.element===e})||n}}]),t}(),aee=function(){function t(r,e,n){g(this,t),this.bodyNode=r,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(i,a){}}return C(t,[{key:"_onRemovalComplete",value:function(e,n){this.onRemovalComplete(e,n)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(n){n.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,n){var i=new iee(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,n){var i=this._namespaceList.length-1;if(i>=0){for(var a=!1,o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,n)){this._namespaceList.splice(o+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(n,e),e}},{key:"register",value:function(e,n){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}},{key:"registerTrigger",value:function(e,n,i){var a=this._namespaceLookup[e];a&&a.register(n,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,n){var i=this;if(e){var a=this._fetchNamespace(e);this.afterFlush(function(){i.namespacesByHostElement.delete(a.hostElement),delete i._namespaceLookup[e];var o=i._namespaceList.indexOf(a);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return a.destroy(n)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var n=new Set,i=this.statesByElement.get(e);if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=i[a[o]].namespaceId;if(s){var u=this._fetchNamespace(s);u&&n.add(u)}}return n}},{key:"trigger",value:function(e,n,i,a){if(Hv(n)){var o=this._fetchNamespace(e);if(o)return o.trigger(n,i,a),!0}return!1}},{key:"insertNode",value:function(e,n,i,a){if(Hv(n)){var o=n[oi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){var u=this._fetchNamespace(e);u&&u.insertNode(n,i)}a&&this.collectEnterElement(n)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),si(e,xM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vl(e,xM))}},{key:"removeNode",value:function(e,n,i,a){if(Hv(n)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,a):this.markElementAsRemoved(e,n,!1,a),i){var s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,a)}}else this._onRemovalComplete(n,a)}},{key:"markElementAsRemoved",value:function(e,n,i,a){this.collectedLeaveElements.push(n),n[oi]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}},{key:"listen",value:function(e,n,i,a,o){return Hv(n)?this._fetchNamespace(e).listen(n,i,a,o):function(){}}},{key:"_buildInstruction",value:function(e,n,i,a,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,n,o)}},{key:"destroyInnerAnimations",value:function(e){var n=this,i=this.driver.query(e,Mv,!0);i.forEach(function(a){return n.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,QC,!0)).forEach(function(a){return n.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var n=this.playersByElement.get(e);n&&n.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var n=this.playersByQueriedElement.get(e);n&&n.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(n){if(e.players.length)return So(e.players).onDone(function(){return n()});n()})}},{key:"processLeaveNode",value:function(e){var n=this,i=e[oi];if(i&&i.setForRemoval){if(e[oi]=NM,i.namespaceId){this.destroyInnerAnimations(e);var a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}this.driver.matchesElement(e,FM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,FM,!0).forEach(function(o){n.markElementAsDisabled(o,!1)})}},{key:"flush",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(d,h){return e._balanceNamespaceList(d,h)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++){var o=this.collectedEnterElements[a];si(o,eee)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var s=[];try{i=this._flushAnimations(s,n)}finally{for(var u=0;u<s.length;u++)s[u]()}}else for(var l=0;l<this.collectedLeaveElements.length;l++){var c=this.collectedLeaveElements[l];this.processLeaveNode(c)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(d){return d()}),this._flushFns=[],this._whenQuietFns.length){var f=this._whenQuietFns;this._whenQuietFns=[],i.length?So(i).onDone(function(){f.forEach(function(d){return d()})}):f.forEach(function(d){return d()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,n){var i=this,a=new iE,o=[],s=new Map,u=[],l=new Map,c=new Map,f=new Map,d=new Set;this.disabledNodes.forEach(function(ee){d.add(ee);for(var ce=i.driver.query(ee,".ng-animate-queued",!0),_e=0;_e<ce.length;_e++)d.add(ce[_e])});var h=this.bodyNode,v=Array.from(this.statesByElement.keys()),p=BM(v,this.collectedEnterElements),y=new Map,_=0;p.forEach(function(ee,ce){var _e=gM+_++;y.set(ce,_e),ee.forEach(function(Ut){return si(Ut,_e)})});for(var m=[],E=new Set,b=new Set,S=0;S<this.collectedLeaveElements.length;S++){var k=this.collectedLeaveElements[S],I=k[oi];I&&I.setForRemoval&&(m.push(k),E.add(k),I.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(ee){return E.add(ee)}):b.add(k))}var M=new Map,L=BM(v,Array.from(E));L.forEach(function(ee,ce){var _e=XC+_++;M.set(ce,_e),ee.forEach(function(Ut){return si(Ut,_e)})}),e.push(function(){p.forEach(function(ee,ce){var _e=y.get(ce);ee.forEach(function(Ut){return vl(Ut,_e)})}),L.forEach(function(ee,ce){var _e=M.get(ce);ee.forEach(function(Ut){return vl(Ut,_e)})}),m.forEach(function(ee){i.processLeaveNode(ee)})});for(var K=[],z=[],Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(n).forEach(function(ee){var ce=ee.player,_e=ee.element;if(K.push(ce),i.collectedEnterElements.length){var Ut=_e[oi];if(Ut&&Ut.setForMove)return void ce.destroy()}var Fr=!h||!i.driver.containsElement(h,_e),Fi=M.get(_e),ca=y.get(_e),tn=i._buildInstruction(ee,a,ca,Fi,Fr);if(tn.errors&&tn.errors.length)z.push(tn);else{if(Fr)return ce.onStart(function(){return ks(_e,tn.fromStyles)}),ce.onDestroy(function(){return ua(_e,tn.toStyles)}),void o.push(ce);if(ee.isFallbackTransition)return ce.onStart(function(){return ks(_e,tn.fromStyles)}),ce.onDestroy(function(){return ua(_e,tn.toStyles)}),void o.push(ce);tn.timelines.forEach(function(Rn){return Rn.stretchStartingKeyframe=!0}),a.append(_e,tn.timelines),u.push({instruction:tn,player:ce,element:_e}),tn.queriedElements.forEach(function(Rn){return Pr(l,Rn,[]).push(ce)}),tn.preStyleProps.forEach(function(Rn,Wn){var Ni=Object.keys(Rn);if(Ni.length){var Li=c.get(Wn);Li||c.set(Wn,Li=new Set),Ni.forEach(function(Io){return Li.add(Io)})}}),tn.postStyleProps.forEach(function(Rn,Wn){var Ni=Object.keys(Rn),Li=f.get(Wn);Li||f.set(Wn,Li=new Set),Ni.forEach(function(Io){return Li.add(Io)})})}});if(z.length){var pe=[];z.forEach(function(ee){pe.push("@".concat(ee.triggerName," has failed due to:\n")),ee.errors.forEach(function(ce){return pe.push("- ".concat(ce,"\n"))})}),K.forEach(function(ee){return ee.destroy()}),this.reportError(pe)}var ne=new Map,Te=new Map;u.forEach(function(ee){var ce=ee.element;a.has(ce)&&(Te.set(ce,ce),i._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,ne))}),o.forEach(function(ee){var ce=ee.element;i._getPreviousPlayers(ce,!1,ee.namespaceId,ee.triggerName,null).forEach(function(Ut){Pr(ne,ce,[]).push(Ut),Ut.destroy()})});var me=m.filter(function(ee){return HM(ee,c,f)}),Qe=new Map;VM(Qe,this.driver,b,f,Pa).forEach(function(ee){HM(ee,c,f)&&me.push(ee)});var Re=new Map;p.forEach(function(ee,ce){VM(Re,i.driver,new Set(ee),c,"!")}),me.forEach(function(ee){var ce=Qe.get(ee),_e=Re.get(ee);Qe.set(ee,j(j({},ce),_e))});var ct=[],G=[],Jt={};u.forEach(function(ee){var ce=ee.element,_e=ee.player,Ut=ee.instruction;if(a.has(ce)){if(d.has(ce))return _e.onDestroy(function(){return ua(ce,Ut.toStyles)}),_e.disabled=!0,_e.overrideTotalTime(Ut.totalTime),void o.push(_e);var Fr=Jt;if(Te.size>1){for(var Fi=ce,ca=[];Fi=Fi.parentNode;){var tn=Te.get(Fi);if(tn){Fr=tn;break}ca.push(Fi)}ca.forEach(function(Wn){return Te.set(Wn,Fr)})}var ko=i._buildAnimation(_e.namespaceId,Ut,ne,s,Re,Qe);if(_e.setRealPlayer(ko),Fr===Jt)ct.push(_e);else{var Rn=i.playersByElement.get(Fr);Rn&&Rn.length&&(_e.parentPlayer=So(Rn)),o.push(_e)}}else ks(ce,Ut.fromStyles),_e.onDestroy(function(){return ua(ce,Ut.toStyles)}),G.push(_e),d.has(ce)&&o.push(_e)}),G.forEach(function(ee){var ce=s.get(ee.element);if(ce&&ce.length){var _e=So(ce);ee.setRealPlayer(_e)}}),o.forEach(function(ee){ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(var Le=0;Le<m.length;Le++){var $e=m[Le],un=$e[oi];if(vl($e,XC),!un||!un.hasAnimation){var Nt=[];if(l.size){var en=l.get($e);en&&en.length&&Nt.push.apply(Nt,he(en));for(var On=this.driver.query($e,QC,!0),la=0;la<On.length;la++){var hr=l.get(On[la]);hr&&hr.length&&Nt.push.apply(Nt,he(hr))}}var As=Nt.filter(function(ee){return!ee.destroyed});As.length?lee(this,$e,As):this.processLeaveNode($e)}}return m.length=0,ct.forEach(function(ee){i.players.push(ee),ee.onDone(function(){ee.destroy();var ce=i.players.indexOf(ee);i.players.splice(ce,1)}),ee.play()}),ct}},{key:"elementContainsData",value:function(e,n){var i=!1,a=n[oi];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,n,i,a,o){var s=[];if(n){var u=this.playersByQueriedElement.get(e);u&&(s=u)}else{var l=this.playersByElement.get(e);if(l){var c=!o||o==yf;l.forEach(function(f){f.queued||!c&&f.triggerName!=a||s.push(f)})}}return(i||a)&&(s=s.filter(function(f){return!(i&&i!=f.namespaceId||a&&a!=f.triggerName)})),s}},{key:"_beforeAnimationBuild",value:function(e,n,i){var f,a=this,s=n.element,u=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName,c=B(n.timelines);try{var d=function(){var p=f.value.element,y=p!==s,_=Pr(i,p,[]);a._getPreviousPlayers(p,y,u,l,n.toState).forEach(function(E){var b=E.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),E.destroy(),_.push(E)})};for(c.s();!(f=c.n()).done;)d()}catch(h){c.e(h)}finally{c.f()}ks(s,n.fromStyles)}},{key:"_buildAnimation",value:function(e,n,i,a,o,s){var u=this,l=n.triggerName,c=n.element,f=[],d=new Set,h=new Set,v=n.timelines.map(function(y){var _=y.element;d.add(_);var m=_[oi];if(m&&m.removedBeforeQueried)return new Gu(y.duration,y.delay);var E=_!==c,b=function(t){var r=[];return UM(t,r),r}((i.get(_)||nee).map(function(K){return K.getRealPlayer()})).filter(function(K){return!!K.element&&K.element===_}),S=o.get(_),k=s.get(_),I=uM(u.driver,u._normalizer,_,y.keyframes,S,k),M=u._buildPlayer(y,I,b);if(y.subTimeline&&a&&h.add(_),E){var L=new lE(e,l,_);L.setRealPlayer(M),f.push(L)}return M});f.forEach(function(y){Pr(u.playersByQueriedElement,y.element,[]).push(y),y.onDone(function(){return function(t,r,e){var n;if(t instanceof Map){if(n=t.get(r)){if(n.length){var i=n.indexOf(e);n.splice(i,1)}0==n.length&&t.delete(r)}}else if(n=t[r]){if(n.length){var a=n.indexOf(e);n.splice(a,1)}0==n.length&&delete t[r]}return n}(u.playersByQueriedElement,y.element,y)})}),d.forEach(function(y){return si(y,yM)});var p=So(v);return p.onDestroy(function(){d.forEach(function(y){return vl(y,yM)}),ua(c,n.toStyles)}),h.forEach(function(y){Pr(a,y,[]).push(p)}),p}},{key:"_buildPlayer",value:function(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Gu(e.duration,e.delay)}}]),t}(),lE=function(){function t(r,e,n){g(this,t),this.namespaceId=r,this.triggerName=e,this.element=n,this._player=new Gu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return C(t,[{key:"setRealPlayer",value:function(e){var n=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(i){n._queuedCallbacks[i].forEach(function(a){return UC(e,i,void 0,a)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var n=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return n.finish()}),e.onDestroy(function(){return n.destroy()})}},{key:"_queueEvent",value:function(e,n){Pr(this._queuedCallbacks,e,[]).push(n)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var n=this._player;n.triggerCallback&&n.triggerCallback(e)}}]),t}();function see(t){return null!=t?t:null}function Hv(t){return t&&1===t.nodeType}function LM(t,r){var e=t.style.display;return t.style.display=null!=r?r:"none",e}function VM(t,r,e,n,i){var a=[];e.forEach(function(u){return a.push(LM(u))});var o=[];n.forEach(function(u,l){var c={};u.forEach(function(f){var d=c[f]=r.computeStyle(l,f,i);(!d||0==d.length)&&(l[oi]=ree,o.push(l))}),t.set(l,c)});var s=0;return e.forEach(function(u){return LM(u,a[s++])}),o}function BM(t,r){var e=new Map;if(t.forEach(function(s){return e.set(s,[])}),0==r.length)return e;var i=new Set(r),a=new Map;function o(s){if(!s)return 1;var u=a.get(s);if(u)return u;var l=s.parentNode;return u=e.has(l)?l:i.has(l)?1:o(l),a.set(s,u),u}return r.forEach(function(s){var u=o(s);1!==u&&e.get(u).push(s)}),e}var jv="$$classes";function si(t,r){if(t.classList)t.classList.add(r);else{var e=t[jv];e||(e=t[jv]={}),e[r]=!0}}function vl(t,r){if(t.classList)t.classList.remove(r);else{var e=t[jv];e&&delete e[r]}}function lee(t,r,e){So(e).onDone(function(){return t.processLeaveNode(r)})}function UM(t,r){for(var e=0;e<t.length;e++){var n=t[e];n instanceof VA?UM(n.players,r):r.push(n)}}function fee(t,r){var e=Object.keys(t),n=Object.keys(r);if(e.length!=n.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!r.hasOwnProperty(a)||t[a]!==r[a])return!1}return!0}function HM(t,r,e){var n=e.get(t);if(!n)return!1;var i=r.get(t);return i?n.forEach(function(a){return i.add(a)}):r.set(t,n),e.delete(t),!0}var Gv=function(){function t(r,e,n){var i=this;g(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=function(a,o){},this._transitionEngine=new aee(r,e,n),this._timelineEngine=new $J(r,e,n),this._transitionEngine.onRemovalComplete=function(a,o){return i.onRemovalComplete(a,o)}}return C(t,[{key:"registerTrigger",value:function(e,n,i,a,o){var s=e+"-"+a,u=this._triggerCache[s];if(!u){var l=[],c=TM(this._driver,o,l);if(l.length)throw new Error('The animation trigger "'.concat(a,'" has failed to build due to the following errors:\n - ').concat(l.join("\n - ")));u=function(t,r,e){return new ZJ(t,r,e)}(a,c,this._normalizer),this._triggerCache[s]=u}this._transitionEngine.registerTrigger(n,a,u)}},{key:"register",value:function(e,n){this._transitionEngine.register(e,n)}},{key:"destroy",value:function(e,n){this._transitionEngine.destroy(e,n)}},{key:"onInsert",value:function(e,n,i,a){this._transitionEngine.insertNode(e,n,i,a)}},{key:"onRemove",value:function(e,n,i,a){this._transitionEngine.removeNode(e,n,a||!1,i)}},{key:"disableAnimations",value:function(e,n){this._transitionEngine.markElementAsDisabled(e,n)}},{key:"process",value:function(e,n,i,a){if("@"==i.charAt(0)){var s=ge(lM(i),2);this._timelineEngine.command(s[0],n,s[1],a)}else this._transitionEngine.trigger(e,n,i,a)}},{key:"listen",value:function(e,n,i,a,o){if("@"==i.charAt(0)){var u=ge(lM(i),2);return this._timelineEngine.listen(u[0],n,u[1],o)}return this._transitionEngine.listen(e,n,i,a,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function jM(t,r){var e=null,n=null;return Array.isArray(r)&&r.length?(e=cE(r[0]),r.length>1&&(n=cE(r[r.length-1]))):r&&(e=cE(r)),e||n?new dee(t,e,n):null}var dee=function(){var t=function(){function r(e,n,i){g(this,r),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a={}),this._initialStyles=a}return C(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ua(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ua(this._element,this._initialStyles),this._endStyles&&(ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ks(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ks(this._element,this._endStyles),this._endStyles=null),ua(this._element,this._initialStyles),this._state=3)}}]),r}();return t.initialStylesByElement=new WeakMap,t}();function cE(t){for(var r=null,e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];hee(i)&&((r=r||{})[i]=t[i])}return r}function hee(t){return"display"===t||"position"===t}var GM="animation",WM="animationend",gee=function(){function t(r,e,n,i,a,o,s){var u=this;g(this,t),this._element=r,this._name=e,this._duration=n,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(l){return u._handleCallback(l)}}return C(t,[{key:"apply",value:function(){(function(t,r){var e=dE(t,"").trim();e.length&&(function(t,r){for(var e=0,n=0;n<t.length;n++)","===t.charAt(n)&&e++;return e}(e)+1,r="".concat(e,", ").concat(r)),Wv(t,"",r)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),KM(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){zM(this._element,this._name,"paused")}},{key:"resume",value:function(){zM(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var n=qM(this._element,this._name);this._position=e*this._duration,Wv(this._element,"Delay","-".concat(this._position,"ms"),n)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var n=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),KM(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,r){var n=dE(t,"").split(","),i=fE(n,r);i>=0&&(n.splice(i,1),Wv(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function zM(t,r,e){Wv(t,"PlayState",e,qM(t,r))}function qM(t,r){var e=dE(t,"");return e.indexOf(",")>0?fE(e.split(","),r):fE([e],r)}function fE(t,r){for(var e=0;e<t.length;e++)if(t[e].indexOf(r)>=0)return e;return-1}function KM(t,r,e){e?t.removeEventListener(WM,r):t.addEventListener(WM,r)}function Wv(t,r,e,n){var i=GM+r;if(null!=n){var a=t.style[i];if(a.length){var o=a.split(",");o[n]=e,e=o.join(",")}}t.style[i]=e}function dE(t,r){return t.style[GM+r]||""}var YM=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this.element=r,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return C(t,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new gee(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var n={};if(this.hasStarted()){var i=this._state>=3;Object.keys(this._finalStyles).forEach(function(a){"offset"!=a&&(n[a]=i?e._finalStyles[a]:tE(e.element,a))})}this.currentSnapshot=n}}]),t}(),bee=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).element=n,a._startingStyles={},a.__initialized=!1,a._styles=hM(i),a}return C(e,[{key:"init",value:function(){var i=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(a){i._startingStyles[a]=i.element.style[a]}),De(Ne(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var i=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(a){return i.element.style.setProperty(a,i._styles[a])}),De(Ne(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var i=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(a){var o=i._startingStyles[a];o?i.element.style.setProperty(a,o):i.element.style.removeProperty(a)}),this._startingStyles=null,De(Ne(e.prototype),"destroy",this).call(this))}}]),e}(Gu),wee="gen_css_kf_",XM=function(){function t(){g(this,t),this._count=0}return C(t,[{key:"validateStyleProperty",value:function(e){return zC(e)}},{key:"matchesElement",value:function(e,n){return qC(e,n)}},{key:"containsElement",value:function(e,n){return KC(e,n)}},{key:"query",value:function(e,n,i){return YC(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"buildKeyframeElement",value:function(e,n,i){i=i.map(function(u){return hM(u)});var a="@keyframes ".concat(n," {\n"),o="";i.forEach(function(u){o=" ";var l=parseFloat(u.offset);a+="".concat(o).concat(100*l,"% {\n"),o+=" ",Object.keys(u).forEach(function(c){var f=u[c];switch(c){case"offset":return;case"easing":return void(f&&(a+="".concat(o,"animation-timing-function: ").concat(f,";\n")));default:return void(a+="".concat(o).concat(c,": ").concat(f,";\n"))}}),a+="".concat(o,"}\n")}),a+="}\n";var s=document.createElement("style");return s.textContent=a,s}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=s.filter(function(_){return _ instanceof YM}),c={};EM(i,a)&&l.forEach(function(_){var m=_.currentSnapshot;Object.keys(m).forEach(function(E){return c[E]=m[E]})});var f=Tee(n=bM(e,n,c));if(0==i)return new bee(e,f);var d="".concat(wee).concat(this._count++),h=this.buildKeyframeElement(e,d,n),v=See(e);v.appendChild(h);var p=jM(e,n),y=new YM(e,n,d,i,a,o,f,p);return y.onDestroy(function(){return Dee(h)}),y}}]),t}();function See(t){var r,e=null===(r=t.getRootNode)||void 0===r?void 0:r.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head}function Tee(t){var r={};return t&&(Array.isArray(t)?t:[t]).forEach(function(n){Object.keys(n).forEach(function(i){"offset"==i||"easing"==i||(r[i]=n[i])})}),r}function Dee(t){t.parentNode.removeChild(t)}var $M=function(){function t(r,e,n,i){g(this,t),this.element=r,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return C(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,n,i){return e.animate(n,i)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(i){"offset"!=i&&(n[i]=e._finished?e._finalKeyframe[i]:tE(e.element,i))}),this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),kee=function(){function t(){g(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JM().toString()),this._cssKeyframesDriver=new XM}return C(t,[{key:"validateStyleProperty",value:function(e){return zC(e)}},{key:"matchesElement",value:function(e,n){return qC(e,n)}},{key:"containsElement",value:function(e,n){return KC(e,n)}},{key:"query",value:function(e,n,i){return YC(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6?arguments[6]:void 0,l=!u&&!this._isNativeImpl;if(l)return this._cssKeyframesDriver.animate(e,n,i,a,o,s);var c=0==a?"both":"forwards",f={duration:i,delay:a,fill:c};o&&(f.easing=o);var d={},h=s.filter(function(p){return p instanceof $M});EM(i,a)&&h.forEach(function(p){var y=p.currentSnapshot;Object.keys(y).forEach(function(_){return d[_]=y[_]})});var v=jM(e,n=bM(e,n=n.map(function(p){return To(p,!1)}),d));return new $M(e,n,f,v)}}]),t}();function JM(){return sM()&&Element.prototype.animate||{}}var Aee=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a){var o;return g(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=i.createRenderer(a.body,{id:"0",encapsulation:nr.None,styles:[],data:{animation:[]}}),o}return C(n,[{key:"build",value:function(a){var o=this._nextAnimationId.toString();this._nextAnimationId++;var s=Array.isArray(a)?xA(a):a;return eP(this._renderer,null,o,"register",[s]),new Oee(o,this._renderer)}}]),n}(PA);return t.\u0275fac=function(e){return new(e||t)(U(Zo),U(xt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Oee=function(t){R(e,t);var r=w(e);function e(n,i){var a;return g(this,e),(a=r.call(this))._id=n,a._renderer=i,a}return C(e,[{key:"create",value:function(i,a){return new Ree(this._id,i,a||{},this._renderer)}}]),e}(u6),Ree=function(){function t(r,e,n,i){g(this,t),this.id=r,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return C(t,[{key:"_listen",value:function(e,n){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),n)}},{key:"_command",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return eP(this._renderer,this.element,this.id,e,i)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,n;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}]),t}();function eP(t,r,e,n,i){return t.setProperty(r,"@@".concat(e,":").concat(n),i)}var tP="@.disabled",Mee=function(){var t=function(){function r(e,n,i){g(this,r),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(a,o){var s=null==o?void 0:o.parentNode(a);s&&o.removeChild(s,a)}}return C(r,[{key:"createRenderer",value:function(n,i){var a=this,s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){var u=this._rendererCache.get(s);return u||(u=new nP("",s,this.engine),this._rendererCache.set(s,u)),u}var l=i.id,c=i.id+"-"+this._currentId;return this._currentId++,this.engine.register(c,n),i.data.animation.forEach(function h(v){Array.isArray(v)?v.forEach(h):a.engine.registerTrigger(l,c,n,v.name,v)}),new Pee(this,c,s,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var n=this;this.promise.then(function(){n._microtaskId++})}},{key:"scheduleListenerCallback",value:function(n,i,a){var o=this;n>=0&&n<this._microtaskId?this._zone.run(function(){return i(a)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){o._zone.run(function(){o._animationCallbacksBuffer.forEach(function(s){var u=ge(s,2);(0,u[0])(u[1])}),o._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}},{key:"end",value:function(){var n=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){n._scheduleCountTask(),n.engine.flush(n._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(Zo),U(Gv),U(lt))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),nP=function(){function t(r,e,n){g(this,t),this.namespaceId=r,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(i){return e.destroyNode(i)}:null}return C(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,n){return this.delegate.createElement(e,n)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}},{key:"insertBefore",value:function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,a)}},{key:"removeChild",value:function(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}},{key:"selectRootElement",value:function(e,n){return this.delegate.selectRootElement(e,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,n,i,a){this.delegate.setAttribute(e,n,i,a)}},{key:"removeAttribute",value:function(e,n,i){this.delegate.removeAttribute(e,n,i)}},{key:"addClass",value:function(e,n){this.delegate.addClass(e,n)}},{key:"removeClass",value:function(e,n){this.delegate.removeClass(e,n)}},{key:"setStyle",value:function(e,n,i,a){this.delegate.setStyle(e,n,i,a)}},{key:"removeStyle",value:function(e,n,i){this.delegate.removeStyle(e,n,i)}},{key:"setProperty",value:function(e,n,i){"@"==n.charAt(0)&&n==tP?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}},{key:"setValue",value:function(e,n){this.delegate.setValue(e,n)}},{key:"listen",value:function(e,n,i){return this.delegate.listen(e,n,i)}},{key:"disableAnimations",value:function(e,n){this.engine.disableAnimations(e,n)}}]),t}(),Pee=function(t){R(e,t);var r=w(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,i,a,o)).factory=n,s.namespaceId=i,s}return C(e,[{key:"setProperty",value:function(i,a,o){"@"==a.charAt(0)?"."==a.charAt(1)&&a==tP?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,a.substr(1),o):this.delegate.setProperty(i,a,o)}},{key:"listen",value:function(i,a,o){var s=this;if("@"==a.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i),l=a.substr(1),c="";if("@"!=l.charAt(0)){var f=function(t){var r=t.indexOf(".");return[t.substring(0,r),t.substr(r+1)]}(l),d=ge(f,2);l=d[0],c=d[1]}return this.engine.listen(this.namespaceId,u,l,c,function(h){s.factory.scheduleListenerCallback(h._data||-1,o,h)})}return this.delegate.listen(i,a,o)}}]),e}(nP),Nee=function(){var t=function(r){R(n,r);var e=w(n);function n(i,a,o){return g(this,n),e.call(this,i.body,a,o)}return C(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Gv);return t.\u0275fac=function(e){return new(e||t)(U(xt),U(ZC),U(aE))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),rP=new Ae("AnimationModuleType"),iP=[{provide:PA,useClass:Aee},{provide:aE,useFactory:function(){return new GJ}},{provide:Gv,useClass:Nee},{provide:Zo,useFactory:function(t,r,e){return new Mee(t,r,e)},deps:[ah,Gv,lt]}],aP=[{provide:ZC,useFactory:function(){return"function"==typeof JM()?new kee:new XM}},{provide:rP,useValue:"BrowserAnimations"}].concat(iP),Uee=[{provide:ZC,useClass:vM},{provide:rP,useValue:"NoopAnimations"}].concat(iP),Hee=function(){var t=function(){function r(){g(this,r)}return C(r,null,[{key:"withConfig",value:function(n){return{ngModule:r,providers:n.disableAnimations?Uee:aP}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:aP,imports:[Bk]}),t}();function hE(t,r){var e=x(t)?t:function(){return t},n=function(a){return a.error(e())};return new nt(r?function(i){return r.schedule(n,0,i)}:n)}var Do=new nt(gr);function jee(t){return new nt(function(r){return t.subscribe(r)})}var Gee={connector:function(){return new it}};function oP(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gee,e=r.connector;return Lt(function(n,i){var a=e();pn(t(jee(a))).subscribe(i),i.add(n.subscribe(a))})}function sP(t,r){return r?function(e){return Ec(r.pipe(Lr(1),Lt(function(t,r){t.subscribe(new Tt(r,gr))})),e.pipe(sP(t)))}:an(function(e,n){return t(e,n).pipe(Lr(1),function(t){return je(function(){return t})}(e))})}function uP(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CA,e=bA(t,r);return sP(function(){return e})}var mf="Service workers are disabled or not supported by this browser",qv=function(){function t(r){if(g(this,t),this.serviceWorker=r,r){var n=Hu(r,"controllerchange").pipe(je(function(){return r.controller})),a=Ec(sh(function(){return Ee(r.controller)}),n);this.worker=a.pipe(Dn(function(c){return!!c})),this.registration=this.worker.pipe(Jr(function(){return r.getRegistration()}));var l=Hu(r,"message").pipe(je(function(c){return c.data})).pipe(Dn(function(c){return c&&c.type})).pipe(function(t){return t?function(r){return oP(t)(r)}:function(r){return function(t,r){var e=x(t)?t:function(){return t};return x(r)?oP(r,{connector:e}):function(n){return new zk(n,e)}}(new it)(r)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=sh(function(){return hE(new Error("Service workers are disabled or not supported by this browser"))})}return C(t,[{key:"postMessage",value:function(e,n){return this.worker.pipe(Lr(1),lr(function(i){i.postMessage(j({action:e},n))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(e,n,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(e,n);return Promise.all([o,a]).then(function(s){return ge(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(Dn("string"==typeof e?function(a){return a.type===e}:function(a){return e.includes(a.type)}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(Lr(1))}},{key:"waitForOperationCompleted",value:function(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Dn(function(n){return n.nonce===e}),Lr(1),je(function(n){if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),Zee=function(){var t=function(){function r(e){if(g(this,r),this.sw=e,this.subscriptionChanges=new it,!e.isEnabled)return this.messages=Do,this.notificationClicks=Do,void(this.subscription=Do);this.messages=this.sw.eventsOfType("PUSH").pipe(je(function(i){return i.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(je(function(i){return i.data})),this.pushManager=this.sw.registration.pipe(je(function(i){return i.pushManager}));var n=this.pushManager.pipe(Jr(function(i){return i.getSubscription()}));this.subscription=ap(n,this.subscriptionChanges)}return C(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(n){var i=this;if(!this.sw.isEnabled)return Promise.reject(new Error(mf));for(var a={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length)),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return a.applicationServerKey=s,this.pushManager.pipe(Jr(function(l){return l.subscribe(a)}),Lr(1)).toPromise().then(function(l){return i.subscriptionChanges.next(l),l})}},{key:"unsubscribe",value:function(){var n=this;return this.sw.isEnabled?this.subscription.pipe(Lr(1),Jr(function(o){if(null===o)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(function(s){if(!s)throw new Error("Unsubscribe failed!");n.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(mf))}},{key:"decodeBase64",value:function(n){return atob(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(qv))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),Xee=function(){var t=function(){function r(e){if(g(this,r),this.sw=e,!e.isEnabled)return this.versionUpdates=Do,this.available=Do,this.activated=Do,void(this.unrecoverable=Do);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Dn(function(n){return"VERSION_READY"===n.type}),je(function(n){return{type:"UPDATE_AVAILABLE",current:n.currentVersion,available:n.latestVersion}})),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return C(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(mf));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(mf));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(qv))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t}(),vE=function t(){g(this,t)},lP=new Ae("NGSW_REGISTER_SCRIPT");function Qee(t,r,e,n){return function(){if(dm(n)&&"serviceWorker"in navigator&&!1!==e.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{var u=function(t){return te(t)||He(t)||$(t)||ke()}((e.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=Ee(null);break;case"registerWithDelay":o=cP(+c[0]||0);break;case"registerWhenStable":o=c[0]?ap(fP(t),cP(+c[0])):fP(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(e.registrationStrategy))}}t.get(lt).runOutsideAngular(function(){return o.pipe(Lr(1)).subscribe(function(){return navigator.serviceWorker.register(r,{scope:e.scope}).catch(function(d){return console.error("Service worker registration failed with:",d)})})})}}}function cP(t){return Ee(null).pipe(uP(t))}function fP(t){return t.get($o).isStable.pipe(Dn(function(e){return e}))}function $ee(t,r){return new qv(dm(r)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var Jee=function(){var t=function(){function r(){g(this,r)}return C(r,null,[{key:"register",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:r,providers:[{provide:lP,useValue:n},{provide:vE,useValue:i},{provide:qv,useFactory:$ee,deps:[vE,io]},{provide:wu,useFactory:Qee,deps:[kt,lP,vE,io],multi:!0}]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t}),t.\u0275inj=ot({providers:[Zee,Xee]}),t}();var nte=function(){var t=function(){function r(e,n){g(this,r),this.messageService=e,this.logging=n}return C(r,[{key:"intercept",value:function(n,i){var a=this;return i.handle(n).pipe(function(t,r){var e=r;return function(n){return n.pipe(function(t){return Lt(function(r,e){var n,a,i=!1;!function s(){n=r.subscribe(new Tt(e,void 0,void 0,function(u){a||(a=new it,t(a).subscribe(new Tt(e,function(){return n?s():i=!0}))),a&&a.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,s())}()})}(function(i){return i.pipe(uP(t),an(function(a){return e-- >0?Ee(a):hE("Network problem, try again.")}))}))}}(1e3,3),Oa(function(o){return a.handleError(o,a.messageService)}))}},{key:"handleError",value:function(n,i){return n&&"string"==typeof n?(this.logging.logError("err: "+n),i.sendMessage(new Vu(n))):n&&(0===n.status?(this.logging.logError("Connection error."),i.sendMessage(new Vu("Connection error."))):(this.logging.logError("An error has occurred."),i.sendMessage(new Vu("An error has occurred.")))),hE(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(U(us),U(xc))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rte=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=dt({type:t,bootstrap:[dJ]}),t.\u0275inj=ot({providers:[t_,xc,{provide:Qm,useClass:nte,multi:!0,deps:[us,xc]}],imports:[[Bk,XK,o5,pJ,Hee,fY,fJ,p5,uK,pq,kK,jK,FK,TK,Jee.register("ngsw-worker.js",{enabled:true})]]}),t}();(function(){if(cD)throw new Error("Cannot enable prod mode after platform setup.");lD=!1})(),gz().bootstrapModule(rte).catch(function(t){return console.error(t)})},774:function(fa,da,mt){fa.exports=mt(452)}},function(fa){fa(fa.s=503)}]);