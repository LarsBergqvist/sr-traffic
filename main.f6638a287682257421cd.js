(self.webpackChunksr_traffic=self.webpackChunksr_traffic||[]).push([[179],{8255:function(lo){function Lr(wn){return Promise.resolve().then(function(){var de=new Error("Cannot find module '"+wn+"'");throw de.code="MODULE_NOT_FOUND",de})}Lr.keys=function(){return[]},Lr.resolve=Lr,Lr.id=8255,lo.exports=Lr},8782:function(lo){lo.exports=function(){"use strict";function Lr(k,T,H,re,J){!function z(ie,De,He,qe,Ot){for(;qe>He;){if(qe-He>600){var Y=qe-He+1,Ye=De-He+1,fo=Math.log(Y),Vr=.5*Math.exp(2*fo/3),Yn=.5*Math.sqrt(fo*Vr*(Y-Vr)/Y)*(Ye-Y/2<0?-1:1);z(ie,De,Math.max(He,Math.floor(De-Ye*Vr/Y+Yn)),Math.min(qe,Math.floor(De+(Y-Ye)*Vr/Y+Yn)),Ot)}var ms=ie[De],Ei=He,ot=qe;for(wn(ie,He,De),Ot(ie[qe],ms)>0&&wn(ie,He,qe);Ei<ot;){for(wn(ie,Ei,ot),Ei++,ot--;Ot(ie[Ei],ms)<0;)Ei++;for(;Ot(ie[ot],ms)>0;)ot--}0===Ot(ie[He],ms)?wn(ie,He,ot):wn(ie,++ot,qe),ot<=De&&(He=ot+1),De<=ot&&(qe=ot-1)}}(k,T,H||0,re||k.length-1,J||de)}function wn(k,T,H){var re=k[T];k[T]=k[H],k[H]=re}function de(k,T){return k<T?-1:k>T?1:0}var ft=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function ke(k,T,H){if(!H)return T.indexOf(k);for(var re=0;re<T.length;re++)if(H(k,T[re]))return re;return-1}function Zi(k,T){m(k,0,k.children.length,T,k)}function m(k,T,H,re,J){J||(J=R(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var z=T;z<H;z++){var ie=k.children[z];g(J,k.leaf?re(ie):ie)}return J}function g(k,T){return k.minX=Math.min(k.minX,T.minX),k.minY=Math.min(k.minY,T.minY),k.maxX=Math.max(k.maxX,T.maxX),k.maxY=Math.max(k.maxY,T.maxY),k}function co(k,T){return k.minX-T.minX}function M(k,T){return k.minY-T.minY}function vs(k){return(k.maxX-k.minX)*(k.maxY-k.minY)}function Xi(k){return k.maxX-k.minX+(k.maxY-k.minY)}function jt(k,T){return k.minX<=T.minX&&k.minY<=T.minY&&T.maxX<=k.maxX&&T.maxY<=k.maxY}function gs(k,T){return T.minX<=k.maxX&&T.minY<=k.maxY&&T.maxX>=k.minX&&T.maxY>=k.minY}function R(k){return{children:k,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ys(k,T,H,re,J){for(var z=[T,H];z.length;)if(!((H=z.pop())-(T=z.pop())<=re)){var ie=T+Math.ceil((H-T)/re/2)*re;Lr(k,ie,T,H,J),z.push(T,ie,ie,H)}}return ft.prototype.all=function(){return this._all(this.data,[])},ft.prototype.search=function(k){var T=this.data,H=[];if(!gs(k,T))return H;for(var re=this.toBBox,J=[];T;){for(var z=0;z<T.children.length;z++){var ie=T.children[z],De=T.leaf?re(ie):ie;gs(k,De)&&(T.leaf?H.push(ie):jt(k,De)?this._all(ie,H):J.push(ie))}T=J.pop()}return H},ft.prototype.collides=function(k){var T=this.data;if(!gs(k,T))return!1;for(var H=[];T;){for(var re=0;re<T.children.length;re++){var J=T.children[re],z=T.leaf?this.toBBox(J):J;if(gs(k,z)){if(T.leaf||jt(k,z))return!0;H.push(J)}}T=H.pop()}return!1},ft.prototype.load=function(k){if(!k||!k.length)return this;if(k.length<this._minEntries){for(var T=0;T<k.length;T++)this.insert(k[T]);return this}var H=this._build(k.slice(),0,k.length-1,0);if(this.data.children.length)if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var re=this.data;this.data=H,H=re}this._insert(H,this.data.height-H.height-1,!0)}else this.data=H;return this},ft.prototype.insert=function(k){return k&&this._insert(k,this.data.height-1),this},ft.prototype.clear=function(){return this.data=R([]),this},ft.prototype.remove=function(k,T){if(!k)return this;for(var H,re,J,z=this.data,ie=this.toBBox(k),De=[],He=[];z||De.length;){if(z||(z=De.pop(),re=De[De.length-1],H=He.pop(),J=!0),z.leaf){var qe=ke(k,z.children,T);if(-1!==qe)return z.children.splice(qe,1),De.push(z),this._condense(De),this}J||z.leaf||!jt(z,ie)?re?(H++,z=re.children[H],J=!1):z=null:(De.push(z),He.push(H),H=0,re=z,z=z.children[0])}return this},ft.prototype.toBBox=function(k){return k},ft.prototype.compareMinX=function(k,T){return k.minX-T.minX},ft.prototype.compareMinY=function(k,T){return k.minY-T.minY},ft.prototype.toJSON=function(){return this.data},ft.prototype.fromJSON=function(k){return this.data=k,this},ft.prototype._all=function(k,T){for(var H=[];k;)k.leaf?T.push.apply(T,k.children):H.push.apply(H,k.children),k=H.pop();return T},ft.prototype._build=function(k,T,H,re){var J,z=H-T+1,ie=this._maxEntries;if(z<=ie)return Zi(J=R(k.slice(T,H+1)),this.toBBox),J;re||(re=Math.ceil(Math.log(z)/Math.log(ie)),ie=Math.ceil(z/Math.pow(ie,re-1))),(J=R([])).leaf=!1,J.height=re;var De=Math.ceil(z/ie),He=De*Math.ceil(Math.sqrt(ie));ys(k,T,H,He,this.compareMinX);for(var qe=T;qe<=H;qe+=He){var Ot=Math.min(qe+He-1,H);ys(k,qe,Ot,De,this.compareMinY);for(var Y=qe;Y<=Ot;Y+=De){var Ye=Math.min(Y+De-1,Ot);J.children.push(this._build(k,Y,Ye,re-1))}}return Zi(J,this.toBBox),J},ft.prototype._chooseSubtree=function(k,T,H,re){for(;re.push(T),!T.leaf&&re.length-1!==H;){for(var J=1/0,z=1/0,ie=void 0,De=0;De<T.children.length;De++){var He=T.children[De],qe=vs(He),Ot=(Y=k,Ye=He,(Math.max(Ye.maxX,Y.maxX)-Math.min(Ye.minX,Y.minX))*(Math.max(Ye.maxY,Y.maxY)-Math.min(Ye.minY,Y.minY))-qe);Ot<z?(z=Ot,J=qe<J?qe:J,ie=He):Ot===z&&qe<J&&(J=qe,ie=He)}T=ie||T.children[0]}var Y,Ye;return T},ft.prototype._insert=function(k,T,H){var re=H?k:this.toBBox(k),J=[],z=this._chooseSubtree(re,this.data,T,J);for(z.children.push(k),g(z,re);T>=0&&J[T].children.length>this._maxEntries;)this._split(J,T),T--;this._adjustParentBBoxes(re,J,T)},ft.prototype._split=function(k,T){var H=k[T],re=H.children.length,J=this._minEntries;this._chooseSplitAxis(H,J,re);var z=this._chooseSplitIndex(H,J,re),ie=R(H.children.splice(z,H.children.length-z));ie.height=H.height,ie.leaf=H.leaf,Zi(H,this.toBBox),Zi(ie,this.toBBox),T?k[T-1].children.push(ie):this._splitRoot(H,ie)},ft.prototype._splitRoot=function(k,T){this.data=R([k,T]),this.data.height=k.height+1,this.data.leaf=!1,Zi(this.data,this.toBBox)},ft.prototype._chooseSplitIndex=function(k,T,H){for(var re,J,z,ie,De,He,qe,Ot=1/0,Y=1/0,Ye=T;Ye<=H-T;Ye++){var fo=m(k,0,Ye,this.toBBox),Vr=m(k,Ye,H,this.toBBox),Yn=(J=fo,z=Vr,void 0,void 0,void 0,void 0,ie=Math.max(J.minX,z.minX),De=Math.max(J.minY,z.minY),He=Math.min(J.maxX,z.maxX),qe=Math.min(J.maxY,z.maxY),Math.max(0,He-ie)*Math.max(0,qe-De)),Ci=vs(fo)+vs(Vr);Yn<Ot?(Ot=Yn,re=Ye,Y=Ci<Y?Ci:Y):Yn===Ot&&Ci<Y&&(Y=Ci,re=Ye)}return re||H-T},ft.prototype._chooseSplitAxis=function(k,T,H){var re=k.leaf?this.compareMinX:co,J=k.leaf?this.compareMinY:M;this._allDistMargin(k,T,H,re)<this._allDistMargin(k,T,H,J)&&k.children.sort(re)},ft.prototype._allDistMargin=function(k,T,H,re){k.children.sort(re);for(var J=this.toBBox,z=m(k,0,T,J),ie=m(k,H-T,H,J),De=Xi(z)+Xi(ie),He=T;He<H-T;He++){var qe=k.children[He];g(z,k.leaf?J(qe):qe),De+=Xi(z)}for(var Ot=H-T-1;Ot>=T;Ot--){var Y=k.children[Ot];g(ie,k.leaf?J(Y):Y),De+=Xi(ie)}return De},ft.prototype._adjustParentBBoxes=function(k,T,H){for(var re=H;re>=0;re--)g(T[re],k)},ft.prototype._condense=function(k){for(var T=k.length-1,H=void 0;T>=0;T--)0===k[T].children.length?T>0?(H=k[T-1].children).splice(H.indexOf(k[T]),1):this.clear():Zi(k[T],this.toBBox)},ft}()},4859:function(lo,Lr,wn){"use strict";function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ke(t,r,e){return(ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(i,a,o){var s=function(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=de(t)););return t}(i,a);if(s){var u=Object.getOwnPropertyDescriptor(s,a);return u.get?u.get.call(o):u.value}})(t,r,e||t)}function Zi(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,r,e){return r&&Zi(t.prototype,r),e&&Zi(t,e),t}function g(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function co(t,r){return(co=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(t,r)}function M(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&co(t,r)}function vs(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t,r){return!r||"object"!==Xi(r)&&"function"!=typeof r?jt(t):r}function R(t){var r=vs();return function(){var i,n=de(t);if(r){var a=de(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gs(this,i)}}function ys(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function k(t,r){if(t){if("string"==typeof t)return ys(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ys(t,r)}}function T(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=k(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=e.return&&e.return()}finally{if(o)throw s}}}}function H(t){if(Array.isArray(t))return t}function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(t,r){return H(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,s,n=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(n.push(o.value),!r||n.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw s}}return n}}(t,r)||k(t,r)||J()}function ie(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function De(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Y(t){return function(t){if(Array.isArray(t))return ys(t)}(t)||De(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(t,r,e){return(Ye=vs()?Reflect.construct:function(i,a,o){var s=[null];s.push.apply(s,a);var l=new(Function.bind.apply(i,s));return o&&co(l,o.prototype),l}).apply(null,arguments)}function Vr(t){var r="function"==typeof Map?new Map:void 0;return(Vr=function(n){if(null===n||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return Ye(n,arguments,de(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),co(i,n)})(t)}var Yn=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function Ci(t){return null!==t&&"object"==typeof t}function ho(t){return"function"==typeof t}var Ei=function(){function t(r){return Error.call(this),this.message=r?"".concat(r.length," errors occurred during unsubscription:\n").concat(r.map(function(e,n){return"".concat(n+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=r,this}return t.prototype=Object.create(Error.prototype),t}(),ot=function(){var r,t=function(){function r(e){g(this,r),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return m(r,[{key:"unsubscribe",value:function(){var n;if(!this.closed){var i=this._parentOrParents,a=this._ctorUnsubscribe,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof r)i.remove(this);else if(null!==i)for(var u=0;u<i.length;++u)i[u].remove(this);if(ho(o)){a&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){n=d instanceof Ei?pE(d.errors):[d]}}if(Yn(s))for(var c=-1,f=s.length;++c<f;){var h=s[c];if(Ci(h))try{h.unsubscribe()}catch(d){n=n||[],d instanceof Ei?n=n.concat(pE(d.errors)):n.push(d)}}if(n)throw new Ei(n)}}},{key:"add",value:function(n){var i=n;if(!n)return r.EMPTY;switch(typeof n){case"function":i=new r(n);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof r)){var a=i;(i=new r)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}var s=i._parentOrParents;if(null===s)i._parentOrParents=this;else if(s instanceof r){if(s===this)return i;i._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return i;s.push(this)}var u=this._subscriptions;return null===u?this._subscriptions=[i]:u.push(i),i}},{key:"remove",value:function(n){var i=this._subscriptions;if(i){var a=i.indexOf(n);-1!==a&&i.splice(a,1)}}}]),r}();return t.EMPTY=((r=new t).closed=!0,r),t}();function pE(t){return t.reduce(function(r,e){return r.concat(e instanceof Ei?e.errors:e)},[])}var rv=!1,Br={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else rv&&console.log("RxJS: Back to a better error behavior. Thank you. <3");rv=t},get useDeprecatedSynchronousErrorHandling(){return rv}};function _s(t){setTimeout(function(){throw t},0)}var Ef={closed:!0,next:function(r){},error:function(r){if(Br.useDeprecatedSynchronousErrorHandling)throw r;_s(r)},complete:function(){}},bf=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),_t=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;switch(g(this,e),(o=r.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Ef;break;case 1:if(!n){o.destination=Ef;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(jt(o))):(o.syncErrorThrowable=!0,o.destination=new vE(jt(o),n));break}default:o.syncErrorThrowable=!0,o.destination=new vE(jt(o),n,i,a)}return o}return m(e,[{key:bf,value:function(){return this}},{key:"next",value:function(i){this.isStopped||this._next(i)}},{key:"error",value:function(i){this.isStopped||(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,ke(de(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){this.destination.error(i),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var i=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=i,this}}],[{key:"create",value:function(i,a,o){var s=new e(i,a,o);return s.syncErrorThrowable=!1,s}}]),e}(ot),vE=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;g(this,e),(s=r.call(this))._parentSubscriber=n;var u,l=jt(s);return ho(i)?u=i:i&&(u=i.next,a=i.error,o=i.complete,i!==Ef&&(ho((l=Object.create(i)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(jt(s)))),s._context=l,s._next=u,s._error=a,s._complete=o,s}return m(e,[{key:"next",value:function(i){if(!this.isStopped&&this._next){var a=this._parentSubscriber;Br.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,i)&&this.unsubscribe():this.__tryOrUnsub(this._next,i)}}},{key:"error",value:function(i){if(!this.isStopped){var a=this._parentSubscriber,o=Br.useDeprecatedSynchronousErrorHandling;if(this._error)o&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,i),this.unsubscribe()):(this.__tryOrUnsub(this._error,i),this.unsubscribe());else if(a.syncErrorThrowable)o?(a.syncErrorValue=i,a.syncErrorThrown=!0):_s(i),this.unsubscribe();else{if(this.unsubscribe(),o)throw i;_s(i)}}}},{key:"complete",value:function(){var i=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var o=function(){return i._complete.call(i._context)};Br.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?(this.__tryOrSetError(a,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(i,a){try{i.call(this._context,a)}catch(o){if(this.unsubscribe(),Br.useDeprecatedSynchronousErrorHandling)throw o;_s(o)}}},{key:"__tryOrSetError",value:function(i,a,o){if(!Br.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,o)}catch(s){return Br.useDeprecatedSynchronousErrorHandling?(i.syncErrorValue=s,i.syncErrorThrown=!0,!0):(_s(s),!0)}return!1}},{key:"_unsubscribe",value:function(){var i=this._parentSubscriber;this._context=null,this._parentSubscriber=null,i.unsubscribe()}}]),e}(_t),ul=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function wf(t){return t}function gE(t){return 0===t.length?wf:1===t.length?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var Ge=function(){var t=function(){function r(e){g(this,r),this._isScalar=!1,e&&(this._subscribe=e)}return m(r,[{key:"lift",value:function(n){var i=new r;return i.source=this,i.operator=n,i}},{key:"subscribe",value:function(n,i,a){var o=this.operator,s=function(t,r,e){if(t){if(t instanceof _t)return t;if(t[bf])return t[bf]()}return t||r||e?new _t(t,r,e):new _t(Ef)}(n,i,a);if(s.add(o?o.call(s,this.source):this.source||Br.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Br.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(n){try{return this._subscribe(n)}catch(i){Br.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=i),function(t){for(;t;){var n=t.destination;if(t.closed||t.isStopped)return!1;t=n&&n instanceof _t?n:null}return!0}(n)?n.error(i):console.warn(i)}}},{key:"forEach",value:function(n,i){var a=this;return new(i=yE(i))(function(o,s){var u;u=a.subscribe(function(l){try{n(l)}catch(c){s(c),u&&u.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(n){var i=this.source;return i&&i.subscribe(n)}},{key:ul,value:function(){return this}},{key:"pipe",value:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return 0===i.length?this:gE(i)(this)}},{key:"toPromise",value:function(n){var i=this;return new(n=yE(n))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}]),r}();return t.create=function(r){return new t(r)},t}();function yE(t){if(t||(t=Br.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var po=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),mE=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).subject=n,a.subscriber=i,a.closed=!1,a}return m(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var i=this.subject,a=i.observers;if(this.subject=null,a&&0!==a.length&&!i.isStopped&&!i.closed){var o=a.indexOf(this.subscriber);-1!==o&&a.splice(o,1)}}}}]),e}(ot),_E=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this,n)).destination=n,i}return e}(_t),xe=function(){var t=function(r){M(n,r);var e=R(n);function n(){var i;return g(this,n),(i=e.call(this)).observers=[],i.closed=!1,i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return m(n,[{key:bf,value:function(){return new _E(this)}},{key:"lift",value:function(a){var o=new CE(this,this);return o.operator=a,o}},{key:"next",value:function(a){if(this.closed)throw new po;if(!this.isStopped)for(var o=this.observers,s=o.length,u=o.slice(),l=0;l<s;l++)u[l].next(a)}},{key:"error",value:function(a){if(this.closed)throw new po;this.hasError=!0,this.thrownError=a,this.isStopped=!0;for(var o=this.observers,s=o.length,u=o.slice(),l=0;l<s;l++)u[l].error(a);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new po;this.isStopped=!0;for(var a=this.observers,o=a.length,s=a.slice(),u=0;u<o;u++)s[u].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(a){if(this.closed)throw new po;return ke(de(n.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){if(this.closed)throw new po;return this.hasError?(a.error(this.thrownError),ot.EMPTY):this.isStopped?(a.complete(),ot.EMPTY):(this.observers.push(a),new mE(this,a))}},{key:"asObservable",value:function(){var a=new Ge;return a.source=this,a}}]),n}(Ge);return t.create=function(r,e){return new CE(r,e)},t}(),CE=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).destination=n,a.source=i,a}return m(e,[{key:"next",value:function(i){var a=this.destination;a&&a.next&&a.next(i)}},{key:"error",value:function(i){var a=this.destination;a&&a.error&&this.destination.error(i)}},{key:"complete",value:function(){var i=this.destination;i&&i.complete&&this.destination.complete()}},{key:"_subscribe",value:function(i){return this.source?this.source.subscribe(i):ot.EMPTY}}]),e}(xe);function Cs(t){return t&&"function"==typeof t.schedule}function Oe(t,r){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new uP(t,r))}}var uP=function(){function t(r,e){g(this,t),this.project=r,this.thisArg=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new lP(e,this.project,this.thisArg))}}]),t}(),lP=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).project=i,o.count=0,o.thisArg=a||jt(o),o}return m(e,[{key:"_next",value:function(i){var a;try{a=this.project.call(this.thisArg,i,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(a)}}]),e}(_t),EE=function(r){return function(e){for(var n=0,i=r.length;n<i&&!e.closed;n++)e.next(r[n]);e.complete()}};function fP(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Sf=fP(),bE=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function wE(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var iv=function(r){if(r&&"function"==typeof r[ul])return function(r){return function(e){var n=r[ul]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}(r);if(bE(r))return EE(r);if(wE(r))return function(r){return function(e){return r.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,_s),e}}(r);if(r&&"function"==typeof r[Sf])return function(r){return function(e){for(var n=r[Sf]();;){var i=void 0;try{i=n.next()}catch(a){return e.error(a),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}(r);var e=Ci(r)?"an invalid object":"'".concat(r,"'"),n="You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function av(t,r){return new Ge(function(e){var n=new ot,i=0;return n.add(r.schedule(function(){i!==t.length?(e.next(t[i++]),e.closed||n.add(this.schedule())):e.complete()})),n})}function ln(t,r){return r?function(t,r){if(null!=t){if(function(t){return t&&"function"==typeof t[ul]}(t))return function(t,r){return new Ge(function(e){var n=new ot;return n.add(r.schedule(function(){var i=t[ul]();n.add(i.subscribe({next:function(o){n.add(r.schedule(function(){return e.next(o)}))},error:function(o){n.add(r.schedule(function(){return e.error(o)}))},complete:function(){n.add(r.schedule(function(){return e.complete()}))}}))})),n})}(t,r);if(wE(t))return function(t,r){return new Ge(function(e){var n=new ot;return n.add(r.schedule(function(){return t.then(function(i){n.add(r.schedule(function(){e.next(i),n.add(r.schedule(function(){return e.complete()}))}))},function(i){n.add(r.schedule(function(){return e.error(i)}))})})),n})}(t,r);if(bE(t))return av(t,r);if(function(t){return t&&"function"==typeof t[Sf]}(t)||"string"==typeof t)return function(t,r){if(!t)throw new Error("Iterable cannot be null");return new Ge(function(e){var i,n=new ot;return n.add(function(){i&&"function"==typeof i.return&&i.return()}),n.add(r.schedule(function(){i=t[Sf](),n.add(r.schedule(function(){if(!e.closed){var a,o;try{var s=i.next();a=s.value,o=s.done}catch(u){return void e.error(u)}o?e.complete():(e.next(a),this.schedule())}}))})),n})}(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,r):t instanceof Ge?t:new Ge(iv(t))}var Es=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this)).parent=n,i}return m(e,[{key:"_next",value:function(i){this.parent.notifyNext(i)}},{key:"_error",value:function(i){this.parent.notifyError(i),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),e}(_t),bs=function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"notifyNext",value:function(i){this.destination.next(i)}},{key:"notifyError",value:function(i){this.destination.error(i)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),e}(_t);function ws(t,r){if(!r.closed)return t instanceof Ge?t.subscribe(r):iv(t)(r)}function en(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof r?function(n){return n.pipe(en(function(i,a){return ln(t(i,a)).pipe(Oe(function(o,s){return r(i,o,a,s)}))},e))}:("number"==typeof r&&(e=r),function(n){return n.lift(new CP(t,e))})}var CP=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;g(this,t),this.project=r,this.concurrent=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new EP(e,this.project,this.concurrent))}}]),t}(),EP=function(t){M(e,t);var r=R(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return g(this,e),(a=r.call(this,n)).project=i,a.concurrent=o,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return m(e,[{key:"_next",value:function(i){this.active<this.concurrent?this._tryNext(i):this.buffer.push(i)}},{key:"_tryNext",value:function(i){var a,o=this.index++;try{a=this.project(i,o)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(a)}},{key:"_innerSub",value:function(i){var a=new Es(this),o=this.destination;o.add(a);var s=ws(i,a);s!==a&&o.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(i){this.destination.next(i)}},{key:"notifyComplete",value:function(){var i=this.buffer;this.active--,i.length>0?this._next(i.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(bs);function ll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return en(wf,t)}function ov(t,r){return r?av(t,r):new Ge(EE(t))}function sv(){for(var t=Number.POSITIVE_INFINITY,r=null,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=n[n.length-1];return Cs(a)?(r=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof a&&(t=n.pop()),null===r&&1===n.length&&n[0]instanceof Ge?n[0]:ll(t)(ov(n,r))}function uv(){return function(r){return r.lift(new bP(r))}}var bP=function(){function t(r){g(this,t),this.connectable=r}return m(t,[{key:"call",value:function(e,n){var i=this.connectable;i._refCount++;var a=new wP(e,i),o=n.subscribe(a);return a.closed||(a.connection=i.connect()),o}}]),t}(),wP=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).connectable=i,a}return m(e,[{key:"_unsubscribe",value:function(){var i=this.connectable;if(i){this.connectable=null;var a=i._refCount;if(a<=0)this.connection=null;else if(i._refCount=a-1,a>1)this.connection=null;else{var o=this.connection,s=i._connection;this.connection=null,s&&(!o||s===o)&&s.unsubscribe()}}else this.connection=null}}]),e}(_t),SE=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).source=n,a.subjectFactory=i,a._refCount=0,a._isComplete=!1,a}return m(e,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var i=this._connection;return i||(this._isComplete=!1,(i=this._connection=new ot).add(this.source.subscribe(new TP(this.getSubject(),this))),i.closed&&(this._connection=null,i=ot.EMPTY)),i}},{key:"refCount",value:function(){return uv()(this)}}]),e}(Ge),SP=function(){var t=SE.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),TP=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).connectable=i,a}return m(e,[{key:"_error",value:function(i){this._unsubscribe(),ke(de(e.prototype),"_error",this).call(this,i)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),ke(de(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var i=this.connectable;if(i){this.connectable=null;var a=i._connection;i._refCount=0,i._subject=null,i._connection=null,a&&a.unsubscribe()}}}]),e}(_E);function lv(t,r){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof r)return n.lift(new kP(i,r));var a=Object.create(n,SP);return a.source=n,a.subjectFactory=i,a}}var kP=function(){function t(r,e){g(this,t),this.subjectFactory=r,this.selector=e}return m(t,[{key:"call",value:function(e,n){var i=this.selector,a=this.subjectFactory(),o=i(a).subscribe(e);return o.add(n.subscribe(a)),o}}]),t}();function IP(){return new xe}function Ze(t){for(var r in t)if(t[r]===Ze)return r;throw Error("Could not find renamed property on target object.")}function cv(t,r){for(var e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=r[e])}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var r=t.toString();if(null==r)return""+r;var e=r.indexOf("\n");return-1===e?r:r.substring(0,e)}function fv(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}var OP=Ze({__forward_ref__:Ze});function Xe(t){return t.__forward_ref__=Xe,t.toString=function(){return Ae(this())},t}function se(t){return TE(t)?t():t}function TE(t){return"function"==typeof t&&t.hasOwnProperty(OP)&&t.__forward_ref__===Xe}var vo=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,function(t,r){var e=t?"NG0".concat(t,": "):"";return"".concat(e).concat(r)}(n,i))).code=n,a}return e}(Vr(Error));function be(t){return"string"==typeof t?t:null==t?"":String(t)}function Sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():be(t)}function Tf(t,r){var e=r?" in ".concat(r):"";throw new vo("201","No provider for ".concat(Sn(t)," found").concat(e))}function Xn(t,r){null==t&&function(t,r,e,n){throw new Error("ASSERTION ERROR: ".concat(t)+(null==n?"":" [Expected=> ".concat(e," ").concat(n," ").concat(r," <=Actual]")))}(r,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ze(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ta(t){return kE(t,kf)||kE(t,DE)}function kE(t,r){return t.hasOwnProperty(r)?t[r]:null}function IE(t){return t&&(t.hasOwnProperty(dv)||t.hasOwnProperty(NP))?t[dv]:null}var pv,kf=Ze({"\u0275prov":Ze}),dv=Ze({"\u0275inj":Ze}),DE=Ze({ngInjectableDef:Ze}),NP=Ze({ngInjectorDef:Ze}),Ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function LP(){return pv}function ka(t){var r=pv;return pv=t,r}function OE(t,r,e){var n=Ta(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Ue.Optional?null:void 0!==r?r:void Tf(Ae(t),"Injector")}function Ia(t){return{toString:t}.toString()}var cl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),VP="undefined"!=typeof globalThis&&globalThis,BP="undefined"!=typeof window&&window,UP="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jP="undefined"!=typeof global&&global,et=VP||jP||BP||UP,Ss={},st=[],If=Ze({"\u0275cmp":Ze}),vv=Ze({"\u0275dir":Ze}),gv=Ze({"\u0275pipe":Ze}),AE=Ze({"\u0275mod":Ze}),HP=Ze({"\u0275loc":Ze}),$i=Ze({"\u0275fac":Ze}),fl=Ze({__NG_ELEMENT_ID__:Ze}),GP=0;function At(t){return Ia(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cl.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ur.Emulated,id:"c",styles:t.styles||st,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,a=t.features,o=t.pipes;return n.id+=GP++,n.inputs=xE(t.inputs,e),n.outputs=xE(t.outputs),a&&a.forEach(function(s){return s(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(RE)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ME)}:null,n})}function RE(t){return Tn(t)||function(t){return t[vv]||null}(t)}function ME(t){return function(t){return t[gv]||null}(t)}var PE={};function Ke(t){return Ia(function(){var r={type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(PE[t.id]=t.type),r})}function xE(t,r){if(null==t)return Ss;var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=n,r&&(r[i]=a)}return e}var te=At;function xn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tn(t){return t[If]||null}function hr(t,r){var e=t[AE]||null;if(!e&&!0===r)throw new Error("Type ".concat(Ae(t)," does not have '\u0275mod' property."));return e}function bi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Hr(t){return Array.isArray(t)&&!0===t[1]}function _v(t){return 0!=(8&t.flags)}function Rf(t){return 2==(2&t.flags)}function Mf(t){return 1==(1&t.flags)}function Gr(t){return null!==t.template}function XP(t){return 0!=(512&t[2])}function Co(t,r){return t.hasOwnProperty($i)?t[$i]:null}var NE=function(){function t(r,e,n){g(this,t),this.previousValue=r,this.currentValue=e,this.firstChange=n}return m(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function nn(){return LE}function LE(t){return t.type.prototype.ngOnChanges&&(t.setInput=ex),JP}function JP(){var t=BE(this),r=null==t?void 0:t.current;if(r){var e=t.previous;if(e===Ss)t.previous=r;else for(var n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function ex(t,r,e,n){var i=BE(t)||function(t,r){return t[VE]=r}(t,{previous:Ss,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[e],u=o[s];a[s]=new NE(u&&u.currentValue,r,o===Ss),t[n]=r}nn.ngInherit=!0;var VE="__ngSimpleChanges__";function BE(t){return t[VE]||null}var bv=void 0;function Ft(t){return!!t.listen}var HE={createRenderer:function(r,e){return void 0!==bv?bv:"undefined"!=typeof document?document:void 0}};function qt(t){for(;Array.isArray(t);)t=t[0];return t}function Pf(t,r){return qt(r[t])}function vr(t,r){return qt(r[t.index])}function Sv(t,r){return t.data[r]}function Os(t,r){return t[r]}function $n(t,r){var e=r[t];return bi(e)?e:e[0]}function GE(t){return 4==(4&t[2])}function Tv(t){return 128==(128&t[2])}function Oa(t,r){return null==r?null:t[r]}function zE(t){t[18]=0}function kv(t,r){t[5]+=r;for(var e=t,n=t[3];null!==n&&(1===r&&1===e[5]||-1===r&&0===e[5]);)n[5]+=r,e=n,n=n[3]}var ge={lFrame:$E(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function WE(){return ge.bindingsEnabled}function L(){return ge.lFrame.lView}function We(){return ge.lFrame.tView}function ue(t){return ge.lFrame.contextLView=t,t[8]}function Xt(){for(var t=qE();null!==t&&64===t.type;)t=t.parent;return t}function qE(){return ge.lFrame.currentTNode}function wi(t,r){var e=ge.lFrame;e.currentTNode=t,e.isParent=r}function Iv(){return ge.lFrame.isParent}function Dv(){ge.lFrame.isParent=!1}function xf(){return ge.isInCheckNoChangesMode}function Ff(t){ge.isInCheckNoChangesMode=t}function kn(){var t=ge.lFrame,r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Si(){return ge.lFrame.bindingIndex}function As(){return ge.lFrame.bindingIndex++}function Ji(t){var r=ge.lFrame,e=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,e}function gx(t,r){var e=ge.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ov(r)}function Ov(t){ge.lFrame.currentDirectiveIndex=t}function ZE(){return ge.lFrame.currentQueryIndex}function Rv(t){ge.lFrame.currentQueryIndex=t}function mx(t){var r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function XE(t,r,e){if(e&Ue.SkipSelf){for(var n=r,i=t;!(null!==(n=n.parent)||e&Ue.Host||null===(n=mx(i))||(i=i[15],10&n.type)););if(null===n)return!1;r=n,t=i}var a=ge.lFrame=QE();return a.currentTNode=r,a.lView=t,!0}function Nf(t){var r=QE(),e=t[1];ge.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function QE(){var t=ge.lFrame,r=null===t?null:t.child;return null===r?$E(t):r}function $E(t){var r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function JE(){var t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eb=JE;function Lf(){var t=JE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _x(t){return(ge.lFrame.contextLView=function(t,r){for(;t>0;)r=r[15],t--;return r}(t,ge.lFrame.contextLView))[8]}function In(){return ge.lFrame.selectedIndex}function Aa(t){ge.lFrame.selectedIndex=t}function Nt(){var t=ge.lFrame;return Sv(t.tView,t.selectedIndex)}function Vf(t,r){for(var e=r.directiveStart,n=r.directiveEnd;e<n;e++){var a=t.data[e].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),s&&((t.contentHooks||(t.contentHooks=[])).push(e,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function Bf(t,r,e){tb(t,r,3,e)}function Uf(t,r,e,n){(3&t[2])===e&&tb(t,r,e,n)}function Mv(t,r){var e=t[2];(3&e)===r&&(e&=2047,t[2]=e+=1)}function tb(t,r,e,n){for(var a=null!=n?n:-1,o=r.length-1,s=0,u=void 0!==n?65535&t[18]:0;u<o;u++)if("number"==typeof r[u+1]){if(s=r[u],null!=n&&s>=n)break}else r[u]<0&&(t[18]+=65536),(s<a||-1==a)&&(Ix(t,e,r,u),t[18]=(4294901760&t[18])+u+2),u++}function Ix(t,r,e,n){var i=e[n]<0,a=e[n+1],s=t[i?-e[n]:e[n]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}var gl=function t(r,e,n){g(this,t),this.factory=r,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n};function jf(t,r,e){for(var n=Ft(t),i=0;i<e.length;){var a=e[i];if("number"==typeof a){if(0!==a)break;i++;var o=e[i++],s=e[i++],u=e[i++];n?t.setAttribute(r,s,u,o):r.setAttributeNS(o,s,u)}else{var l=a,c=e[++i];xv(l)?n&&t.setProperty(r,l,c):n?t.setAttribute(r,l,c):r.setAttribute(l,c),i++}}return i}function nb(t){return 3===t||4===t||6===t}function xv(t){return 64===t.charCodeAt(0)}function Hf(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else for(var e=-1,n=0;n<r.length;n++){var i=r[n];"number"==typeof i?e=i:0===e||rb(t,e,i,null,-1===e||2===e?r[++n]:null)}return t}function rb(t,r,e,n,i){var a=0,o=t.length;if(-1===r)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===r){o=-1;break}if(s>r){o=a-1;break}}}for(;a<t.length;){var u=t[a];if("number"==typeof u)break;if(u===e){if(null===n)return void(null!==i&&(t[a+1]=i));if(n===t[a+1])return void(t[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(t.splice(o,0,r),a=o+1),t.splice(a++,0,e),null!==n&&t.splice(a++,0,n),null!==i&&t.splice(a++,0,i)}function ib(t){return-1!==t}function Rs(t){return 32767&t}function Ms(t,r){for(var e=function(t){return t>>16}(t),n=r;e>0;)n=n[15],e--;return n}var Fv=!0;function Gf(t){var r=Fv;return Fv=t,r}var xx=0;function ml(t,r){var e=Lv(t,r);if(-1!==e)return e;var n=r[1];n.firstCreatePass&&(t.injectorIndex=r.length,Nv(n.data,t),Nv(r,null),Nv(n.blueprint,null));var i=zf(t,r),a=t.injectorIndex;if(ib(i))for(var o=Rs(i),s=Ms(i,r),u=s[1].data,l=0;l<8;l++)r[a+l]=s[o+l]|u[o+l];return r[a+8]=i,a}function Nv(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Lv(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function zf(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var e=0,n=null,i=r;null!==i;){var a=i[1],o=a.type;if(null===(n=2===o?a.declTNode:1===o?i[6]:null))return-1;if(e++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function Wf(t,r,e){!function(t,r,e){var n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(fl)&&(n=e[fl]),null==n&&(n=e[fl]=xx++);var i=255&n;r.data[t+(i>>5)]|=1<<i}(t,r,e)}function sb(t,r,e){if(e&Ue.Optional)return t;Tf(r,"NodeInjector")}function ub(t,r,e,n){if(e&Ue.Optional&&void 0===n&&(n=null),0==(e&(Ue.Self|Ue.Host))){var i=t[9],a=ka(void 0);try{return i?i.get(r,n,e&Ue.Optional):OE(r,n,e&Ue.Optional)}finally{ka(a)}}return sb(n,r,e)}function lb(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ue.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=Bx(e);if("function"==typeof a){if(!XE(r,t,n))return n&Ue.Host?sb(i,e,n):ub(r,e,n,i);try{var o=a(n);if(null!=o||n&Ue.Optional)return o;Tf(e)}finally{eb()}}else if("number"==typeof a){var s=null,u=Lv(t,r),l=-1,c=n&Ue.Host?r[16][6]:null;for((-1===u||n&Ue.SkipSelf)&&(-1!==(l=-1===u?zf(t,r):r[u+8])&&hb(n,!1)?(s=r[1],u=Rs(l),r=Ms(l,r)):u=-1);-1!==u;){var f=r[1];if(fb(a,u,f.data)){var h=Vx(u,r,e,s,n,c);if(h!==cb)return h}-1!==(l=r[u+8])&&hb(n,r[1].data[u+8]===c)&&fb(a,u,r)?(s=f,u=Rs(l),r=Ms(l,r)):u=-1}}}return ub(r,e,n,i)}var cb={};function Lx(){return new Ps(Xt(),L())}function Vx(t,r,e,n,i,a){var o=r[1],s=o.data[t+8],c=qf(s,o,e,null==n?Rf(s)&&Fv:n!=o&&0!=(3&s.type),i&Ue.Host&&a===s);return null!==c?_l(r,o,c,s):cb}function qf(t,r,e,n,i){for(var a=t.providerIndexes,o=r.data,s=1048575&a,u=t.directiveStart,c=a>>20,h=i?s+c:t.directiveEnd,d=n?s:s+c;d<h;d++){var p=o[d];if(d<u&&e===p||d>=u&&p.type===e)return d}if(i){var v=o[u];if(v&&Gr(v)&&v.type===e)return u}return null}function _l(t,r,e,n){var i=t[e],a=r.data;if(function(t){return t instanceof gl}(i)){var o=i;o.resolving&&function(t,r){throw new vo("200","Circular dependency in DI detected for ".concat(t).concat(""))}(Sn(a[e]));var s=Gf(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?ka(o.injectImpl):null;XE(t,n,Ue.Default);try{i=t[e]=o.factory(void 0,a,t,n),r.firstCreatePass&&e>=n.directiveStart&&function(t,r,e){var n=r.type.prototype,a=n.ngOnInit,o=n.ngDoCheck;if(n.ngOnChanges){var s=LE(r);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,a[e],r)}finally{null!==u&&ka(u),Gf(s),o.resolving=!1,eb()}}return i}function Bx(t){if("string"==typeof t)return t.charCodeAt(0)||0;var r=t.hasOwnProperty(fl)?t[fl]:void 0;return"number"==typeof r?r>=0?255&r:Lx:r}function fb(t,r,e){return!!(e[r+(t>>5)]&1<<t)}function hb(t,r){return!(t&Ue.Self||t&Ue.Host&&r)}var Ps=function(){function t(r,e){g(this,t),this._tNode=r,this._lView=e}return m(t,[{key:"get",value:function(e,n){return lb(this._tNode,this._lView,e,void 0,n)}}]),t}();function gr(t){return Ia(function(){for(var r=t.prototype.constructor,e=r[$i]||Vv(r),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==n;){var a=i[$i]||Vv(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}function Vv(t){return TE(t)?function(){var r=Vv(se(t));return r&&r()}:Co(t)}var Fs="__parameters__";function Eo(t,r,e){return Ia(function(){var n=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(r);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return n.apply(this,o),this;var u=Ye(i,o);return l.annotation=u,l;function l(c,f,h){for(var d=c.hasOwnProperty(Fs)?c[Fs]:Object.defineProperty(c,Fs,{value:[]})[Fs];d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(u),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var _e=function(){function t(r,e){g(this,t),this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=W({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return m(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Gx=new _e("AnalyzeForEntryComponents"),Kf=Function;function yr(t,r){void 0===r&&(r=t);for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)?(r===t&&(r=t.slice(0,e)),yr(n,r)):r!==t&&r.push(n)}return r}function Ti(t,r){t.forEach(function(e){return Array.isArray(e)?Ti(e,r):r(e)})}function Zf(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function bo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ma(t,r){for(var e=[],n=0;n<t;n++)e.push(r);return e}function Jn(t,r,e){var n=Ls(t,r);return n>=0?t[1|n]=e:function(t,r,e,n){var i=t.length;if(i==r)t.push(e,n);else if(1===i)t.push(n,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>r;)t[i]=t[i-2],i--;t[r]=e,t[r+1]=n}}(t,n=~n,r,e),n}function Uv(t,r){var e=Ls(t,r);if(e>=0)return t[1|e]}function Ls(t,r){return function(t,r,e){for(var n=0,i=t.length>>e;i!==n;){var a=n+(i-n>>1),o=t[a<<e];if(r===o)return a<<e;o>r?i=a:n=a+1}return~(i<<e)}(t,r,1)}var Tl={},Hv="__NG_DI_FLAG__",Vs="ngTempTokenPath",nF=/\n/gm,Gv="__source",zv=Ze({provide:String,useValue:Ze}),kl=void 0;function Qf(t){var r=kl;return kl=t,r}function aF(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default;if(void 0===kl)throw new Error("inject() must be called from an injection context");return null===kl?OE(t,void 0,r):kl.get(t,r&Ue.Optional?null:void 0,r)}function F(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default;return(LP()||aF)(se(t),r)}var oF=F;function wo(t){for(var r=[],e=0;e<t.length;e++){var n=se(t[e]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Ue.Default,o=0;o<n.length;o++){var s=n[o],u=sF(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}r.push(F(i,a))}else r.push(F(n))}return r}function Il(t,r){return t[Hv]=r,t.prototype[Hv]=r,t}function sF(t){return t[Hv]}function uF(t,r,e,n){var i=t[Vs];throw r[Gv]&&i.unshift(r[Gv]),t.message=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Ae(r);if(Array.isArray(r))i=r.map(Ae).join(" -> ");else if("object"==typeof r){var a=[];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Ae(s)))}i="{".concat(a.join(", "),"}")}return"".concat(e).concat(n?"("+n+")":"","[").concat(i,"]: ").concat(t.replace(nF,"\n  "))}("\n"+t.message,i,e,n),t.ngTokenPath=i,t[Vs]=null,t}var Bs=Il(Eo("Inject",function(r){return{token:r}}),-1),Nn=Il(Eo("Optional"),8),Pa=Il(Eo("SkipSelf"),4),So=function(){function t(r){g(this,t),this.changingThisBreaksApplicationSecurity=r}return m(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}();function er(t){return t instanceof So?t.changingThisBreaksApplicationSecurity:t}var Lb="__ngContext__";function vn(t,r){t[Lb]=r}function eg(t){var r=function(t){return t[Lb]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function rh(t){return t.ngOriginalError}function sN(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var To=function(){function t(){g(this,t),this._console=console}return m(t,[{key:"handleError",value:function(e){var n=this._findOriginalError(e),i=this._findContext(e),a=function(t){return t&&t.ngErrorLogger||sN}(e);a(this._console,"ERROR",e),n&&a(this._console,"ORIGINAL ERROR",n),i&&a(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(rh(e)):null}},{key:"_findOriginalError",value:function(e){for(var n=e&&rh(e);n&&rh(n);)n=rh(n);return n||null}}]),t}(),qb=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(et)}();function Di(t){return t instanceof Function?t():t}var Gs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ig(t,r){return undefined(t,r)}function Pl(t){var r=t[3];return Hr(r)?r[3]:r}function ag(t){return Qb(t[13])}function og(t){return Qb(t[4])}function Qb(t){for(;null!==t&&!Hr(t);)t=t[4];return t}function zs(t,r,e,n,i){if(null!=n){var a,o=!1;Hr(n)?a=n:bi(n)&&(o=!0,n=n[0]);var s=qt(n);0===t&&null!==e?null==i?rw(r,e,s):ko(r,e,s,i||null,!0):1===t&&null!==e?ko(r,e,s,i||null,!0):2===t?function(t,r,e){var n=ih(t,r);n&&function(t,r,e,n){Ft(t)?t.removeChild(r,e,n):r.removeChild(e)}(t,n,r,e)}(r,s,o):3===t&&r.destroyNode(s),null!=a&&function(t,r,e,n,i){var a=e[7];a!==qt(e)&&zs(r,t,n,a,i);for(var s=10;s<e.length;s++){var u=e[s];xl(u[1],u,t,r,n,a)}}(r,t,a,e,i)}}function sg(t,r){return Ft(t)?t.createText(r):t.createTextNode(r)}function ug(t,r,e){return Ft(t)?t.createElement(r,e):null===e?t.createElement(r):t.createElementNS(e,r)}function Jb(t,r){var e=t[9],n=e.indexOf(r),i=r[3];1024&r[2]&&(r[2]&=-1025,kv(i,-1)),e.splice(n,1)}function lg(t,r){if(!(t.length<=10)){var e=10+r,n=t[e];if(n){var i=n[17];null!==i&&i!==t&&Jb(i,n),r>0&&(t[e-1][4]=n[4]);var a=bo(t,10+r);!function(t,r){xl(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(n[1],n);var o=a[19];null!==o&&o.detachView(a[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}}function ew(t,r){if(!(256&r[2])){var e=r[11];Ft(e)&&e.destroyNode&&xl(t,r,e,3,null,null),function(t){var r=t[13];if(!r)return cg(t[1],t);for(;r;){var e=null;if(bi(r))e=r[13];else{var n=r[10];n&&(e=n)}if(!e){for(;r&&!r[4]&&r!==t;)bi(r)&&cg(r[1],r),r=r[3];null===r&&(r=t),bi(r)&&cg(r[1],r),e=r&&r[4]}r=e}}(r)}}function cg(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(t,r){var e;if(null!=t&&null!=(e=t.destroyHooks))for(var n=0;n<e.length;n+=2){var i=r[e[n]];if(!(i instanceof gl)){var a=e[n+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(t,r),function(t,r){var e=t.cleanup,n=r[7],i=-1;if(null!==e)for(var a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){var o=e[a+1],s="function"==typeof o?o(r):qt(r[o]),u=n[i=e[a+2]],l=e[a+3];"boolean"==typeof l?s.removeEventListener(e[a],u,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),a+=2}else{var c=n[i=e[a+1]];e[a].call(c)}if(null!==n){for(var f=i+1;f<n.length;f++)(0,n[f])();r[7]=null}}(t,r),1===r[1].type&&Ft(r[11])&&r[11].destroy();var e=r[17];if(null!==e&&Hr(r[3])){e!==r[3]&&Jb(e,r);var n=r[19];null!==n&&n.detachView(t)}}}function tw(t,r,e){return function(t,r,e){for(var n=r;null!==n&&40&n.type;)n=(r=n).parent;if(null===n)return e[0];if(2&n.flags){var i=t.data[n.directiveStart].encapsulation;if(i===Ur.None||i===Ur.Emulated)return null}return vr(n,e)}(t,r.parent,e)}function ko(t,r,e,n,i){Ft(t)?t.insertBefore(r,e,n,i):r.insertBefore(e,n,i)}function rw(t,r,e){Ft(t)?t.appendChild(r,e):r.appendChild(e)}function iw(t,r,e,n,i){null!==n?ko(t,r,e,n,i):rw(t,r,e)}function ih(t,r){return Ft(t)?t.parentNode(r):r.parentNode}function aw(t,r,e){return sw(t,r,e)}var sw=function(t,r,e){return 40&t.type?vr(t,e):null};function ah(t,r,e,n){var i=tw(t,n,r),a=r[11],s=aw(n.parent||r[6],n,r);if(null!=i)if(Array.isArray(e))for(var u=0;u<e.length;u++)iw(a,i,e[u],s,!1);else iw(a,i,e,s,!1)}function oh(t,r){if(null!==r){var e=r.type;if(3&e)return vr(r,t);if(4&e)return hg(-1,t[r.index]);if(8&e){var n=r.child;if(null!==n)return oh(t,n);var i=t[r.index];return Hr(i)?hg(-1,i):qt(i)}if(32&e)return ig(r,t)()||qt(t[r.index]);var s=lw(t,r);return null!==s?Array.isArray(s)?s[0]:oh(Pl(t[16]),s):oh(t,r.next)}return null}function lw(t,r){return null!==r?t[16][6].projection[r.projection]:null}function hg(t,r){var e=10+t+1;if(e<r.length){var n=r[e],i=n[1].firstChild;if(null!==i)return oh(n,i)}return r[7]}function dg(t,r,e,n,i,a,o){for(;null!=e;){var s=n[e.index],u=e.type;if(o&&0===r&&(s&&vn(qt(s),n),e.flags|=4),64!=(64&e.flags))if(8&u)dg(t,r,e.child,n,i,a,!1),zs(r,t,i,s,a);else if(32&u){for(var l=ig(e,n),c=void 0;c=l();)zs(r,t,i,c,a);zs(r,t,i,s,a)}else 16&u?fw(t,r,n,e,i,a):zs(r,t,i,s,a);e=o?e.projectionNext:e.next}}function xl(t,r,e,n,i,a){dg(e,n,t.firstChild,r,i,a,!1)}function RN(t,r,e){fw(r[11],0,r,e,tw(t,e,r),aw(e.parent||r[6],e,r))}function fw(t,r,e,n,i,a){var o=e[16],u=o[6].projection[n.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)zs(r,t,i,u[l],a);else dg(t,r,u,o[3],i,a,!0)}function hw(t,r,e){Ft(t)?t.setAttribute(r,"style",e):r.style.cssText=e}function pg(t,r,e){Ft(t)?""===e?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e):r.className=e}function dw(t,r,e){for(var n=t.length;;){var i=t.indexOf(r,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var a=r.length;if(i+a===n||t.charCodeAt(i+a)<=32)return i}e=i+1}}var pw="ng-template";function xN(t,r,e){for(var n=0;n<t.length;){var i=t[n++];if(e&&"class"===i){if(-1!==dw((i=t[n]).toLowerCase(),r,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===r)return!0;return!1}}return!1}function vw(t){return 4===t.type&&t.value!==pw}function FN(t,r,e){return r===(4!==t.type||e?t.value:pw)}function NN(t,r,e){for(var n=4,i=t.attrs||[],a=function(t){for(var r=0;r<t.length;r++)if(nb(t[r]))return r;return t.length}(i),o=!1,s=0;s<r.length;s++){var u=r[s];if("number"!=typeof u){if(!o)if(4&n){if(n=2|1&n,""!==u&&!FN(t,u,e)||""===u&&1===r.length){if(zr(n))return!1;o=!0}}else{var l=8&n?u:r[++s];if(8&n&&null!==t.attrs){if(!xN(t.attrs,l,e)){if(zr(n))return!1;o=!0}continue}var f=LN(8&n?"class":u,i,vw(t),e);if(-1===f){if(zr(n))return!1;o=!0;continue}if(""!==l){var h;h=f>a?"":i[f+1].toLowerCase();var d=8&n?h:null;if(d&&-1!==dw(d,l,0)||2&n&&l!==h){if(zr(n))return!1;o=!0}}}}else{if(!o&&!zr(n)&&!zr(u))return!1;if(o&&zr(u))continue;o=!1,n=u|1&n}}return zr(n)||o}function zr(t){return 0==(1&t)}function LN(t,r,e,n){if(null===r)return-1;var i=0;if(n||!e){for(var a=!1;i<r.length;){var o=r[i];if(o===t)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=r[++i];"string"==typeof s;)s=r[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(t,r){var e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){var n=t[e];if("number"==typeof n)return-1;if(n===r)return e;e++}return-1}(r,t)}function gw(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<r.length;n++)if(NN(t,r[n],e))return!0;return!1}function jN(t,r){e:for(var e=0;e<r.length;e++){var n=r[e];if(t.length===n.length){for(var i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function yw(t,r){return t?":not("+r.trim()+")":r}function HN(t){for(var r=t[0],e=1,n=2,i="",a=!1;e<t.length;){var o=t[e];if("string"==typeof o)if(2&n){var s=t[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!zr(o)&&(r+=yw(a,i),i=""),n=o,a=a||!zr(n);e++}return""!==i&&(r+=yw(a,i)),r}var Ce={};function x(t){mw(We(),L(),In()+t,xf())}function mw(t,r,e,n){if(!n)if(3==(3&r[2])){var a=t.preOrderCheckHooks;null!==a&&Bf(r,a,e)}else{var o=t.preOrderHooks;null!==o&&Uf(r,o,0,e)}Aa(e)}function sh(t,r){return t<<17|r<<2}function Wr(t){return t>>17&32767}function vg(t){return 2|t}function ea(t){return(131068&t)>>2}function gg(t,r){return-131069&t|r<<2}function yg(t){return 1|t}function Dw(t,r){var e=t.contentQueries;if(null!==e)for(var n=0;n<e.length;n+=2){var a=e[n+1];if(-1!==a){var o=t.data[a];Rv(e[n]),o.contentQueries(2,r[a],a)}}}function Fl(t,r,e,n,i,a,o,s,u,l){var c=r.blueprint.slice();return c[0]=i,c[2]=140|n,zE(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=a,c[16]=2==r.type?t[16]:c,c}function Ws(t,r,e,n,i){var a=t.data[r];if(null===a)a=function(t,r,e,n,i){var a=qE(),o=Iv(),u=t.data[r]=function(t,r,e,n,i,a){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,r,n,i);return null===t.firstChild&&(t.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(t,r,e,n,i),ge.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=n,a.attrs=i;var o=function(){var t=ge.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return wi(a,!0),a}function qs(t,r,e,n){if(0===e)return-1;for(var i=r.length,a=0;a<e;a++)r.push(n),t.blueprint.push(n),t.data.push(null);return i}function Nl(t,r,e){Nf(r);try{var n=t.viewQuery;null!==n&&Pg(1,n,e);var i=t.template;null!==i&&Ow(t,r,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dw(t,r),t.staticViewQueries&&Pg(2,t.viewQuery,e);var a=t.components;null!==a&&function(t,r){for(var e=0;e<r.length;e++)bL(t,r[e])}(r,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{r[2]&=-5,Lf()}}function Ks(t,r,e,n){var i=r[2];if(256!=(256&i)){Nf(r);var a=xf();try{zE(r),function(t){ge.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Ow(t,r,e,2,n);var o=3==(3&i);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&Bf(r,s,null)}else{var u=t.preOrderHooks;null!==u&&Uf(r,u,0,null),Mv(r,0)}if(function(t){for(var r=ag(t);null!==r;r=og(r))if(r[2])for(var e=r[9],n=0;n<e.length;n++){var i=e[n];0==(1024&i[2])&&kv(i[3],1),i[2]|=1024}}(r),function(t){for(var r=ag(t);null!==r;r=og(r))for(var e=10;e<r.length;e++){var n=r[e],i=n[1];Tv(n)&&Ks(i,n,i.template,n[8])}}(r),null!==t.contentQueries&&Dw(t,r),!a)if(o){var l=t.contentCheckHooks;null!==l&&Bf(r,l)}else{var c=t.contentHooks;null!==c&&Uf(r,c,1),Mv(r,1)}!function(t,r){var e=t.hostBindingOpCodes;if(null!==e)try{for(var n=0;n<e.length;n++){var i=e[n];if(i<0)Aa(~i);else{var a=i,o=e[++n],s=e[++n];gx(o,a),s(2,r[a])}}}finally{Aa(-1)}}(t,r);var f=t.components;null!==f&&function(t,r){for(var e=0;e<r.length;e++)EL(t,r[e])}(r,f);var h=t.viewQuery;if(null!==h&&Pg(2,h,n),!a)if(o){var d=t.viewCheckHooks;null!==d&&Bf(r,d)}else{var p=t.viewHooks;null!==p&&Uf(r,p,2),Mv(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,kv(r[3],-1))}finally{Lf()}}}function nL(t,r,e,n){var i=r[10],a=!xf(),o=GE(r);try{a&&!o&&i.begin&&i.begin(),o&&Nl(t,r,n),Ks(t,r,e,n)}finally{a&&!o&&i.end&&i.end()}}function Ow(t,r,e,n,i){var a=In(),o=2&n;try{Aa(-1),o&&r.length>20&&mw(t,r,20,xf()),e(n,i)}finally{Aa(a)}}function Aw(t,r,e){if(_v(r))for(var i=r.directiveEnd,a=r.directiveStart;a<i;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}function Tg(t,r,e){!WE()||(function(t,r,e,n){var i=e.directiveStart,a=e.directiveEnd;t.firstCreatePass||ml(e,r),vn(n,r);for(var o=e.initialInputs,s=i;s<a;s++){var u=t.data[s],l=Gr(u);l&&gL(r,e,u);var c=_l(r,t,s,e);vn(c,r),null!==o&&yL(0,s-i,c,u,0,o),l&&($n(e.index,r)[8]=c)}}(t,r,e,vr(e,r)),128==(128&e.flags)&&function(t,r,e){var n=e.directiveStart,i=e.directiveEnd,o=e.index,s=ge.lFrame.currentDirectiveIndex;try{Aa(o);for(var u=n;u<i;u++){var l=t.data[u],c=r[u];Ov(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Vw(l,c)}}finally{Aa(-1),Ov(s)}}(t,r,e))}function kg(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vr,n=r.localNames;if(null!==n)for(var i=r.index+1,a=0;a<n.length;a+=2){var o=n[a+1],s=-1===o?e(r,t):t[o];t[i++]=s}}function Rw(t){var r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ch(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function ch(t,r,e,n,i,a,o,s,u,l){var c=20+n,f=c+i,h=function(t,r){for(var e=[],n=0;n<r;n++)e.push(n<t?null:Ce);return e}(c,f),d="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:r,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function xw(t,r,e,n){var i=zw(r);null===e?i.push(n):(i.push(e),t.firstCreatePass&&Ww(t).push(n,i.length-1))}function Fw(t,r,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(r,i):e[n]=[r,i]}return e}function Ig(t,r,e,n){var i=!1;if(WE()){var a=function(t,r,e){var n=t.directiveRegistry,i=null;if(n)for(var a=0;a<n.length;a++){var o=n[a];gw(e,o.selectors,!1)&&(i||(i=[]),Wf(ml(e,r),t,o.type),Gr(o)?(Bw(t,e),i.unshift(o)):i.push(o))}return i}(t,r,e),o=null===n?null:{"":-1};if(null!==a){i=!0,Uw(e,t.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=qs(t,r,a.length,null),h=0;h<a.length;h++){var d=a[h];e.mergedAttrs=Hf(e.mergedAttrs,d.hostAttrs),jw(t,e,r,f,d),vL(f,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function(t,r){for(var n=r.directiveEnd,i=t.data,a=r.attrs,o=[],s=null,u=null,l=r.directiveStart;l<n;l++){var c=i[l],f=c.inputs,h=null===a||vw(r)?null:mL(f,a);o.push(h),s=Fw(f,l,s),u=Fw(c.outputs,l,u)}null!==s&&(s.hasOwnProperty("class")&&(r.flags|=16),s.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=o,r.inputs=s,r.outputs=u}(t,e)}o&&function(t,r,e){if(r)for(var n=t.localNames=[],i=0;i<r.length;i+=2){var a=e[r[i+1]];if(null==a)throw new vo("301","Export of name '".concat(r[i+1],"' not found!"));n.push(r[i],a)}}(e,n,o)}return e.mergedAttrs=Hf(e.mergedAttrs,e.attrs),i}function Lw(t,r,e,n,i,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~r.index;(function(t){for(var r=t.length;r>0;){var e=t[--r];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(n,i,o)}}function Vw(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Bw(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function vL(t,r,e){if(e){if(r.exportAs)for(var n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;Gr(r)&&(e[""]=t)}}function Uw(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function jw(t,r,e,n,i){t.data[n]=i;var a=i.factory||(i.factory=Co(i.type)),o=new gl(a,Gr(i),null);t.blueprint[n]=o,e[n]=o,Lw(t,r,0,n,qs(t,e,i.hostVars,Ce),i)}function gL(t,r,e){var n=vr(r,t),i=Rw(e),a=t[10],o=fh(t,Fl(t,i,null,e.onPush?64:16,n,r,a,a.createRenderer(n,e),null,null));t[r.index]=o}function Oi(t,r,e,n,i,a){var o=vr(t,r);!function(t,r,e,n,i,a,o){if(null==a)Ft(t)?t.removeAttribute(r,i,e):r.removeAttribute(i);else{var s=null==o?be(a):o(a,n||"",i);Ft(t)?t.setAttribute(r,i,s,e):e?r.setAttributeNS(e,i,s):r.setAttribute(i,s)}}(r[11],o,a,t.value,e,n,i)}function yL(t,r,e,n,i,a){var o=a[r];if(null!==o)for(var s=n.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],f=o[u++];null!==s?n.setInput(e,f,l,c):e[c]=f}}function mL(t,r){for(var e=null,n=0;n<r.length;){var i=r[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],r[n+1])),n+=2}else n+=2;else n+=4}return e}function Hw(t,r,e,n){return new Array(t,!0,!1,r,null,0,n,e,null,null)}function EL(t,r){var e=$n(r,t);if(Tv(e)){var n=e[1];80&e[2]?Ks(n,e,n.template,e[8]):e[5]>0&&Og(e)}}function Og(t){for(var r=ag(t);null!==r;r=og(r))for(var e=10;e<r.length;e++){var n=r[e];if(1024&n[2]){var i=n[1];Ks(i,n,i.template,n[8])}else n[5]>0&&Og(n)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=$n(o[s],t);Tv(u)&&u[5]>0&&Og(u)}}function bL(t,r){var e=$n(r,t),n=e[1];(function(t,r){for(var e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])})(n,e),Nl(n,e,e[8])}function fh(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Ag(t){for(;t;){t[2]|=64;var r=Pl(t);if(XP(t)&&!r)return t;t=r}return null}function Mg(t,r,e){var n=r[10];n.begin&&n.begin();try{Ks(t,r,t.template,e)}catch(i){throw Kw(r,i),i}finally{n.end&&n.end()}}function Gw(t){!function(t){for(var r=0;r<t.components.length;r++){var e=t.components[r],n=eg(e),i=n[1];nL(i,n,i.template,e)}}(t[8])}function Pg(t,r,e){Rv(0),r(t,e)}var IL=function(){return Promise.resolve(null)}();function zw(t){return t[7]||(t[7]=[])}function Ww(t){return t.cleanup||(t.cleanup=[])}function Kw(t,r){var e=t[9],n=e?e.get(To,null):null;n&&n.handleError(r)}function Yw(t,r,e,n,i){for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=r[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,n,s):u[s]=i}}function na(t,r,e){var n=Pf(r,t);!function(t,r,e){Ft(t)?t.setValue(r,e):r.textContent=e}(t[11],n,e)}function hh(t,r,e){var n=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==r)for(var o=0;o<r.length;o++){var s=r[o];"number"==typeof s?a=s:1==a?i=fv(i,s):2==a&&(n=fv(n,s+": "+r[++o]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=i:t.classesWithoutHost=i}var dh=new _e("INJECTOR",-1),Zw=function(){function t(){g(this,t)}return m(t,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl;if(n===Tl){var i=new Error("NullInjectorError: No provider for ".concat(Ae(e),"!"));throw i.name="NullInjectorError",i}return n}}]),t}(),Ll=new _e("Set Injector scope."),Vl={},AL={},xg=void 0;function Xw(){return void 0===xg&&(xg=new Zw),xg}function Qw(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return new ML(t,e,r||Xw(),n)}var ML=function(){function t(r,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,t),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&Ti(e,function(u){return i.processProvider(u,r,e)}),Ti([r],function(u){return i.processInjectorType(u,[],o)}),this.records.set(dh,Ys(void 0,this));var s=this.records.get(Ll);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof r?null:Ae(r))}return m(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue.Default;this.assertNotDestroyed();var a=Qf(this),o=ka(void 0);try{if(!(i&Ue.SkipSelf)){var s=this.records.get(e);if(void 0===s){var u=UL(e)&&Ta(e);s=u&&this.injectableDefInScope(u)?Ys(Fg(e),Vl):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}var l=i&Ue.Self?Xw():this.parent;return l.get(e,n=i&Ue.Optional&&n===Tl?null:n)}catch(f){if("NullInjectorError"===f.name){var c=f[Vs]=f[Vs]||[];if(c.unshift(Ae(e)),a)throw f;return uF(f,e,"R3InjectorError",this.source)}throw f}finally{ka(o),Qf(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(n){return e.get(n)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(i,a){return e.push(Ae(a))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,n,i){var a=this;if(!(e=se(e)))return!1;var o=IE(e),s=null==o&&e.ngModule||void 0,u=void 0===s?e:s,f=-1!==i.indexOf(u);if(void 0!==s&&(o=IE(s)),null==o)return!1;if(null!=o.imports&&!f){var h;i.push(u);try{Ti(o.imports,function(_){a.processInjectorType(_,n,i)&&(void 0===h&&(h=[]),h.push(_))})}finally{}if(void 0!==h)for(var d=function(E){var b=h[E],w=b.ngModule,I=b.providers;Ti(I,function(D){return a.processProvider(D,w,I||st)})},p=0;p<h.length;p++)d(p)}this.injectorDefTypes.add(u);var v=Co(u)||function(){return new u};this.records.set(u,Ys(v,Vl));var y=o.providers;if(null!=y&&!f){var C=e;Ti(y,function(_){return a.processProvider(_,C,y)})}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,n,i){var a=Zs(e=se(e))?e:se(e&&e.provide),o=function(t,r,e){return Jw(t)?Ys(void 0,t.useValue):Ys($w(t),Vl)}(e);if(Zs(e)||!0!==e.multi)this.records.get(a);else{var s=this.records.get(a);s||((s=Ys(void 0,Vl,!0)).factory=function(){return wo(s.multi)},this.records.set(a,s)),a=e,s.multi.push(e)}this.records.set(a,o)}},{key:"hydrate",value:function(e,n){return n.value===Vl&&(n.value=AL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var n=se(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}]),t}();function Fg(t){var r=Ta(t),e=null!==r?r.factory:Co(t);if(null!==e)return e;if(t instanceof _e)throw new Error("Token ".concat(Ae(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var r=t.length;if(r>0){var e=Ma(r,"?");throw new Error("Can't resolve all parameters for ".concat(Ae(t),": (").concat(e.join(", "),")."))}var n=function(t){var r=t&&(t[kf]||t[DE]);if(r){var e=function(t){if(t.hasOwnProperty("name"))return t.name;var r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(e,'" class.')),r}return null}(t);return null!==n?function(){return n.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function $w(t,r,e){var n=void 0;if(Zs(t)){var i=se(t);return Co(i)||Fg(i)}if(Jw(t))n=function(){return se(t.useValue)};else if(function(t){return!(!t||!t.useFactory)}(t))n=function(){return t.useFactory.apply(t,Y(wo(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))n=function(){return F(se(t.useExisting))};else{var a=se(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Co(a)||Fg(a);n=function(){return Ye(a,Y(wo(t.deps)))}}return n}function Ys(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:r,multi:e?[]:void 0}}function Jw(t){return null!==t&&"object"==typeof t&&zv in t}function Zs(t){return"function"==typeof t}function UL(t){return"function"==typeof t||"object"==typeof t&&t instanceof _e}var eS=function(t,r,e){return function(t){var i=Qw(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i._resolveInjectorDefTypes(),i}({name:e},r,t,e)},dt=function(){var t=function(){function r(){g(this,r)}return m(r,null,[{key:"create",value:function(n,i){return Array.isArray(n)?eS(n,i,""):eS(n.providers,n.parent,n.name||"")}}]),r}();return t.THROW_IF_NOT_FOUND=Tl,t.NULL=new Zw,t.\u0275prov=W({token:t,providedIn:"any",factory:function(){return F(dh)}}),t.__NG_ELEMENT_ID__=-1,t}();function s2(t,r){Vf(eg(t)[1],Xt())}function pt(t){for(var r=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0,n=[t];r;){var i=void 0;if(Gr(t))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");i=r.\u0275dir}if(i){if(e){n.push(i);var a=t;a.inputs=Bg(t.inputs),a.declaredInputs=Bg(t.declaredInputs),a.outputs=Bg(t.outputs);var o=i.hostBindings;o&&f2(t,o);var s=i.viewQuery,u=i.contentQueries;if(s&&l2(t,s),u&&c2(t,u),cv(t.inputs,i.inputs),cv(t.declaredInputs,i.declaredInputs),cv(t.outputs,i.outputs),Gr(i)&&i.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var f=0;f<c.length;f++){var h=c[f];h&&h.ngInherit&&h(t),h===pt&&(e=!1)}}r=Object.getPrototypeOf(r)}!function(t){for(var r=0,e=null,n=t.length-1;n>=0;n--){var i=t[n];i.hostVars=r+=i.hostVars,i.hostAttrs=Hf(i.hostAttrs,e=Hf(e,i.hostAttrs))}}(n)}function Bg(t){return t===Ss?{}:t===st?[]:t}function l2(t,r){var e=t.viewQuery;t.viewQuery=e?function(n,i){r(n,i),e(n,i)}:r}function c2(t,r){var e=t.contentQueries;t.contentQueries=e?function(n,i,a){r(n,i,a),e(n,i,a)}:r}function f2(t,r){var e=t.hostBindings;t.hostBindings=e?function(n,i){r(n,i),e(n,i)}:r}var ph=null;function Qs(){if(!ph){var t=et.Symbol;if(t&&t.iterator)ph=t.iterator;else for(var r=Object.getOwnPropertyNames(Map.prototype),e=0;e<r.length;++e){var n=r[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ph=n)}}return ph}var Io=function(){function t(r){g(this,t),this.wrapped=r}return m(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ul(t){return!!Ug(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qs()in t)}function Ug(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ai(t,r,e){return t[r]=e}function gn(t,r,e){return!Object.is(t[r],e)&&(t[r]=e,!0)}function Do(t,r,e,n){var i=gn(t,r,e);return gn(t,r+1,n)||i}function Er(t,r,e,n,i,a){var o=Do(t,r,e,n);return Do(t,r+2,i,a)||o}function at(t,r,e,n){var i=L();return gn(i,As(),r)&&(We(),Oi(Nt(),i,t,r,e,n)),at}function X(t,r,e,n,i,a,o,s){var u=L(),l=We(),c=t+20,f=l.firstCreatePass?function(t,r,e,n,i,a,o,s,u){var l=r.consts,c=Ws(r,t,4,o||null,Oa(l,s));Ig(r,e,c,Oa(l,u)),Vf(r,c);var f=c.tViews=ch(2,c,n,i,a,r.directiveRegistry,r.pipeRegistry,null,r.schemas,l);return null!==r.queries&&(r.queries.template(r,c),f.queries=r.queries.embeddedTView(c)),c}(c,l,u,r,e,n,i,a,o):l.data[c];wi(f,!1);var h=u[11].createComment("");ah(l,u,h,f),vn(h,u),fh(u,u[c]=Hw(h,u,h,f)),Mf(f)&&Tg(l,u,f),null!=o&&kg(u,f,s)}function ra(t){return Os(ge.lFrame.contextLView,20+t)}function S(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue.Default,e=L();if(null===e)return F(t,r);var n=Xt();return lb(n,e,se(t),r)}function P(t,r,e){var n=L();return gn(n,As(),r)&&function(t,r,e,n,i,a,o,s){var c,u=vr(r,e),l=r.inputs;!s&&null!=l&&(c=l[n])?(Yw(t,e,c,n,i),Rf(r)&&function(t,r){var e=$n(r,t);16&e[2]||(e[2]|=64)}(e,r.index)):3&r.type&&(n=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=o?o(i,r.value||"",n):i,Ft(a)?a.setProperty(u,n,i):xv(n)||(u.setProperty?u.setProperty(n,i):u[n]=i))}(We(),Nt(),n,t,r,n[11],e,!1),P}function zg(t,r,e,n,i){var o=i?"class":"style";Yw(t,e,r.inputs[o],o,n)}function O(t,r,e,n){var i=L(),a=We(),o=20+t,s=i[11],u=i[o]=ug(s,r,ge.lFrame.currentNamespace),l=a.firstCreatePass?function(t,r,e,n,i,a,o){var s=r.consts,l=Ws(r,t,2,i,Oa(s,a));return Ig(r,e,l,Oa(s,o)),null!==l.attrs&&hh(l,l.attrs,!1),null!==l.mergedAttrs&&hh(l,l.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,l),l}(o,a,i,0,r,e,n):a.data[o];wi(l,!0);var c=l.mergedAttrs;null!==c&&jf(s,u,c);var f=l.classes;null!==f&&pg(s,u,f);var h=l.styles;null!==h&&hw(s,u,h),64!=(64&l.flags)&&ah(a,i,u,l),0===ge.lFrame.elementDepthCount&&vn(u,i),ge.lFrame.elementDepthCount++,Mf(l)&&(Tg(a,i,l),Aw(a,l,i)),null!==n&&kg(i,l)}function A(){var t=Xt();Iv()?Dv():wi(t=t.parent,!1);var r=t;ge.lFrame.elementDepthCount--;var e=We();e.firstCreatePass&&(Vf(e,t),_v(t)&&e.queries.elementEnd(t)),null!=r.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(r)&&zg(e,r,L(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(r)&&zg(e,r,L(),r.stylesWithoutHost,!1)}function kt(t,r,e,n){O(t,r,e,n),A()}function Kr(t,r,e){var n=L(),i=We(),a=t+20,o=i.firstCreatePass?function(t,r,e,n,i){var a=r.consts,o=Oa(a,n),s=Ws(r,t,8,"ng-container",o);return null!==o&&hh(s,o,!0),Ig(r,e,s,Oa(a,i)),null!==r.queries&&r.queries.elementStart(r,s),s}(a,i,n,r,e):i.data[a];wi(o,!0);var s=n[a]=n[11].createComment("");ah(i,n,s,o),vn(s,n),Mf(o)&&(Tg(i,n,o),Aw(i,o,n)),null!=e&&kg(n,o)}function Yr(){var t=Xt(),r=We();Iv()?Dv():wi(t=t.parent,!1),r.firstCreatePass&&(Vf(r,t),_v(t)&&r.queries.elementEnd(t))}function cn(t,r,e){Kr(t,r,e),Yr()}function Kt(){return L()}function Hl(t){return!!t&&"function"==typeof t.then}var gh=function(t){return!!t&&"function"==typeof t.subscribe};function ne(t,r,e,n){var i=L(),a=We(),o=Xt();return function(t,r,e,n,i,a,o,s){var u=Mf(n),c=t.firstCreatePass&&Ww(t),f=r[8],h=zw(r),d=!0;if(3&n.type||s){var p=vr(n,r),v=s?s(p):p,y=h.length,C=s?function($){return s(qt($[n.index]))}:n.index;if(Ft(e)){var _=null;if(!s&&u&&(_=function(t,r,e,n){var i=t.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===e&&i[a+1]===n){var s=r[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(t,r,i,n.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,d=!1;else{a=Wg(n,r,f,a,!1);var b=e.listen(v,i,a);h.push(a,b),c&&c.push(i,C,y,y+1)}}else a=Wg(n,r,f,a,!0),v.addEventListener(i,a,o),h.push(a),c&&c.push(i,C,y,o)}else a=Wg(n,r,f,a,!1);var I,w=n.outputs;if(d&&null!==w&&(I=w[i])){var D=I.length;if(D)for(var N=0;N<D;N+=2){var ae=r[I[N]][I[N+1]].subscribe(a),ce=h.length;h.push(a,ae),c&&c.push(i,n.index,ce,-(ce+1))}}}(a,i,i[11],o,t,r,!!e,n),ne}function FS(t,r,e,n){try{return!1!==e(n)}catch(i){return Kw(t,i),!1}}function Wg(t,r,e,n,i){return function a(o){if(o===Function)return n;var s=2&t.flags?$n(t.index,r):r;0==(32&r[2])&&Ag(s);for(var u=FS(r,0,n,o),l=a.__ngNextListenerFn__;l;)u=FS(r,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return _x(t)}function q2(t,r){for(var e=null,n=function(t){var r=t.attrs;if(null!=r){var e=r.indexOf(5);if(0==(1&e))return r[e+1]}return null}(t),i=0;i<r.length;i++){var a=r[i];if("*"!==a){if(null===n?gw(t,a,!0):jN(n,a))return i}else e=i}return e}function ia(t){var r=L()[16][6];if(!r.projection)for(var n=r.projection=Ma(t?t.length:1,null),i=n.slice(),a=r.child;null!==a;){var o=t?q2(a,t):0;null!==o&&(i[o]?i[o].projectionNext=a:n[o]=a,i[o]=a),a=a.next}}function Ri(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,n=L(),i=We(),a=Ws(i,20+t,16,null,e||null);null===a.projection&&(a.projection=r),Dv(),64!=(64&a.flags)&&RN(i,n,a)}function WS(t,r,e,n,i){for(var a=t[e+1],o=null===r,s=n?Wr(a):ea(a),u=!1;0!==s&&(!1===u||o);){var c=t[s+1];Z2(t[s],r)&&(u=!0,t[s+1]=n?yg(c):vg(c)),s=n?Wr(c):ea(c)}u&&(t[e+1]=n?vg(a):yg(a))}function Z2(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ls(t,r)>=0}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qS(t){return t.substring($t.key,$t.keyEnd)}function KS(t,r){var e=$t.textEnd;return e===r?-1:(r=$t.keyEnd=function(t,r,e){for(;r<e&&t.charCodeAt(r)>32;)r++;return r}(t,$t.key=r,e),uu(t,r,e))}function uu(t,r,e){for(;r<e&&t.charCodeAt(r)<=32;)r++;return r}function yh(t,r,e){return Zr(t,r,e,!1),yh}function Oo(t,r){return Zr(t,r,null,!0),Oo}function fn(t){!function(t,r,e,n){var i=We(),a=Ji(2);i.firstUpdatePass&&JS(i,null,a,n);var o=L();if(e!==Ce&&gn(o,a,e)){var s=i.data[In()];if(r0(s,n)&&!$S(i,a)){var l=n?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=fv(l,e||"")),zg(i,s,o,e,n)}else!function(t,r,e,n,i,a,o,s){i===Ce&&(i=st);for(var u=0,l=0,c=0<i.length?i[0]:null,f=0<a.length?a[0]:null;null!==c||null!==f;){var h=u<i.length?i[u+1]:void 0,d=l<a.length?a[l+1]:void 0,p=null,v=void 0;c===f?(u+=2,l+=2,h!==d&&(p=f,v=d)):null===f||null!==c&&c<f?(u+=2,p=c):(l+=2,p=f,v=d),null!==p&&t0(t,r,e,n,p,v,o,s),c=u<i.length?i[u]:null,f=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(t,r,e){if(null==e||""===e)return st;var n=[],i=er(e);if(Array.isArray(i))for(var a=0;a<i.length;a++)t(n,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&t(n,o,i[o]);else"string"==typeof i&&r(n,i);return n}(t,r,e),n,a)}}(Jn,Pi,t,!0)}function Pi(t,r){for(var e=function(t){return function(t){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=t.length}(t),KS(t,uu(t,0,$t.textEnd))}(r);e>=0;e=KS(r,e))Jn(t,qS(r),!0)}function Zr(t,r,e,n){var i=L(),a=We(),o=Ji(2);a.firstUpdatePass&&JS(a,t,o,n),r!==Ce&&gn(i,o,r)&&t0(a,a.data[In()],i,i[11],t,i[o+1]=function(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ae(er(t)))),t}(r,e),n,o)}function $S(t,r){return r>=t.expandoStartIndex}function JS(t,r,e,n){var i=t.data;if(null===i[e+1]){var a=i[In()],o=$S(t,e);r0(a,n)&&null===r&&!o&&(r=!1),r=function(t,r,e,n){var i=function(t){var r=ge.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t),a=n?r.residualClasses:r.residualStyles;if(null===i)0===(n?r.classBindings:r.styleBindings)&&(e=Gl(e=Kg(null,t,r,e,n),r.attrs,n),a=null);else{var s=r.directiveStylingLast;if(-1===s||t[s]!==i)if(e=Kg(i,t,r,e,n),null===a){var l=function(t,r,e){var n=e?r.classBindings:r.styleBindings;if(0!==ea(n))return t[Wr(n)]}(t,r,n);void 0!==l&&Array.isArray(l)&&function(t,r,e,n){t[Wr(e?r.classBindings:r.styleBindings)]=n}(t,r,n,l=Gl(l=Kg(null,t,r,l[1],n),r.attrs,n))}else a=function(t,r,e){for(var n=void 0,i=r.directiveEnd,a=1+r.directiveStylingLast;a<i;a++)n=Gl(n,t[a].hostAttrs,e);return Gl(n,r.attrs,e)}(t,r,n)}return void 0!==a&&(n?r.residualClasses=a:r.residualStyles=a),e}(i,a,r,n),function(t,r,e,n,i,a){var o=a?r.classBindings:r.styleBindings,s=Wr(o),u=ea(o);t[n]=e;var c,l=!1;if(Array.isArray(e)?(null===(c=e[1])||Ls(e,c)>0)&&(l=!0):c=e,i)if(0!==u){var d=Wr(t[s+1]);t[n+1]=sh(d,s),0!==d&&(t[d+1]=gg(t[d+1],n)),t[s+1]=function(t,r){return 131071&t|r<<17}(t[s+1],n)}else t[n+1]=sh(s,0),0!==s&&(t[s+1]=gg(t[s+1],n)),s=n;else t[n+1]=sh(u,0),0===s?s=n:t[u+1]=gg(t[u+1],n),u=n;l&&(t[n+1]=vg(t[n+1])),WS(t,c,n,!0),WS(t,c,n,!1),function(t,r,e,n,i){var a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof r&&Ls(a,r)>=0&&(e[n+1]=yg(e[n+1]))}(r,c,t,n,a),o=sh(s,u),a?r.classBindings=o:r.styleBindings=o}(i,a,r,e,o,n)}}function Kg(t,r,e,n,i){var a=null,o=e.directiveEnd,s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<o&&(n=Gl(n,(a=r[s]).hostAttrs,i),a!==t);)s++;return null!==t&&(e.directiveStylingLast=s),n}function Gl(t,r,e){var n=e?1:2,i=-1;if(null!==r)for(var a=0;a<r.length;a++){var o=r[a];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,o,!!e||r[++a]))}return void 0===t?null:t}function t0(t,r,e,n,i,a,o,s){if(3&r.type){var u=t.data,l=u[s+1];mh(function(t){return 1==(1&t)}(l)?n0(u,r,e,i,ea(l),o):void 0)||(mh(a)||function(t){return 2==(2&t)}(l)&&(a=n0(u,null,e,i,s,o)),function(t,r,e,n,i){var a=Ft(t);if(r)i?a?t.addClass(e,n):e.classList.add(n):a?t.removeClass(e,n):e.classList.remove(n);else{var o=-1===n.indexOf("-")?void 0:Gs.DashCase;if(null==i)a?t.removeStyle(e,n,o):e.style.removeProperty(n);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Gs.Important),a?t.setStyle(e,n,i,o):e.style.setProperty(n,i,s?"important":"")}}}(n,o,Pf(In(),e),i,a))}}function n0(t,r,e,n,i,a){for(var o=null===r,s=void 0;i>0;){var u=t[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c,h=e[i+1];h===Ce&&(h=f?st:void 0);var d=f?Uv(h,n):c===n?h:void 0;if(l&&!mh(d)&&(d=Uv(u,n)),mh(d)&&(s=d,o))return s;var p=t[i+1];i=o?Wr(p):ea(p)}if(null!==r){var v=a?r.residualClasses:r.residualStyles;null!=v&&(s=Uv(v,n))}return s}function mh(t){return void 0!==t}function r0(t,r){return 0!=(t.flags&(r?16:32))}function tt(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=L(),n=We(),i=t+20,a=n.firstCreatePass?Ws(n,i,1,r,null):n.data[i],o=e[i]=sg(e[11],r);ah(n,e,o,a),wi(a,!1)}function nr(t){return Ln("",t,""),nr}function Ln(t,r,e){var n=L(),i=function(t,r,e,n){return gn(t,As(),e)?r+be(e)+n:Ce}(n,t,r,e);return i!==Ce&&na(n,In(),i),Ln}function Yg(t,r,e,n,i){var a=L(),o=function(t,r,e,n,i,a){var s=Do(t,Si(),e,i);return Ji(2),s?r+be(e)+n+be(i)+a:Ce}(a,t,r,e,n,i);return o!==Ce&&na(a,In(),o),Yg}var Ao=void 0,OV=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var r=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===e?1:5}],lu={};function Dn(t){var r=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),e=w0(r);if(e)return e;var n=r.split("-")[0];if(e=w0(n))return e;if("en"===n)return OV;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function w0(t){return t in lu||(lu[t]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[t]),lu[t]}var Et=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),_h="en-US";function Xg(t){Xn(t,"Expected localeId to be defined"),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function SB(t,r,e){var n=We();if(n.firstCreatePass){var i=Gr(t);Jg(e,n.data,n.blueprint,i,!0),Jg(r,n.data,n.blueprint,i,!1)}}function Jg(t,r,e,n,i){if(t=se(t),Array.isArray(t))for(var a=0;a<t.length;a++)Jg(t[a],r,e,n,i);else{var o=We(),s=L(),u=Zs(t)?t:se(t.provide),l=$w(t),c=Xt(),f=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Zs(t)||!t.multi){var p=new gl(l,i,S),v=ty(u,r,i?f:f+d,h);-1===v?(Wf(ml(c,s),o,u),ey(o,t,r.length),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(p),s.push(p)):(e[v]=p,s[v]=p)}else{var y=ty(u,r,f+d,h),C=ty(u,r,f,f+d),E=C>=0&&e[C];if(i&&!E||!i&&!(y>=0&&e[y])){Wf(ml(c,s),o,u);var b=function(t,r,e,n,i){var a=new gl(t,e,S);return a.multi=[],a.index=r,a.componentProviders=0,Y0(a,i,n&&!e),a}(i?kB:TB,e.length,i,n,l);!i&&E&&(e[C].providerFactory=b),ey(o,t,r.length,0),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(b),s.push(b)}else ey(o,t,y>-1?y:C,Y0(e[i?C:y],l,!i&&n));!i&&n&&E&&e[C].componentProviders++}}}function ey(t,r,e,n){var i=Zs(r);if(i||function(t){return!!t.useClass}(r)){var o=(r.useClass||r).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&r.multi){var u=s.indexOf(e);-1===u?s.push(e,[n,o]):s[u+1].push(n,o)}else s.push(e,o)}}}function Y0(t,r,e){return e&&t.componentProviders++,t.multi.push(r)-1}function ty(t,r,e,n){for(var i=e;i<n;i++)if(r[i]===t)return i;return-1}function TB(t,r,e,n){return ny(this.multi,[])}function kB(t,r,e,n){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=_l(e,e[1],this.providerFactory.index,n);ny(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else ny(i,a=[]);return a}function ny(t,r){for(var e=0;e<t.length;e++)r.push((0,t[e])());return r}function Qe(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(e){e.providersResolver=function(n,i){return SB(n,i?i(t):t,r)}}}var DB=function t(){g(this,t)},Z0=function t(){g(this,t)},AB=function(){function t(){g(this,t)}return m(t,[{key:"resolveComponentFactory",value:function(e){throw function(t){var r=Error("No component factory found for ".concat(Ae(t),". Did you add it to @NgModule.entryComponents?"));return r.ngComponent=t,r}(e)}}]),t}(),fu=function(){var t=function r(){g(this,r)};return t.NULL=new AB,t}();function Sh(){}function hu(t,r){return new vt(vr(t,r))}var xB=function(){return hu(Xt(),L())},vt=function(){var t=function r(e){g(this,r),this.nativeElement=e};return t.__NG_ELEMENT_ID__=xB,t}();function Q0(t){return t instanceof vt?t.nativeElement:t}var Ro=function t(){g(this,t)},Qr=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=function(){return NB()},t}(),NB=function(){var t=L(),e=$n(Xt().index,t);return function(t){return t[11]}(bi(e)?e:t)},ry=function(){var t=function r(){g(this,r)};return t.\u0275prov=W({token:t,providedIn:"root",factory:function(){return null}}),t}(),BB=new function t(r){g(this,t),this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}("12.2.7"),$0=function(){function t(){g(this,t)}return m(t,[{key:"supports",value:function(e){return Ul(e)}},{key:"create",value:function(e){return new jB(e)}}]),t}(),UB=function(r,e){return e},jB=function(){function t(r){g(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||UB}return m(t,[{key:"forEachItem",value:function(e){var n;for(n=this._itHead;null!==n;n=n._next)e(n)}},{key:"forEachOperation",value:function(e){for(var n=this._itHead,i=this._removalsHead,a=0,o=null;n||i;){var s=!i||n&&n.currentIndex<eT(i,a,o)?n:i,u=eT(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,f=l-a;if(c!=f){for(var h=0;h<c;h++){var d=h<o.length?o[h]:o[h]=0,p=d+h;f<=p&&p<c&&(o[h]=d+1)}o[s.previousIndex]=f-c}}u!==l&&e(s,u,l)}}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachMovedItem",value:function(e){var n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"forEachIdentityChange",value:function(e){var n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ul(e))throw new Error("Error trying to diff '".concat(Ae(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=e[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function(t,r){if(Array.isArray(t))for(var e=0;e<t.length;e++)r(t[e]);else for(var i,n=t[Qs()]();!(i=n.next()).done;)r(i.value)}(e,function(c){u=n._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=n._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||n._addIdentityChange(i,c)):(i=n._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,n,i,a){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,a)):e=this._addAfter(new HB(n,i),o,a),e}},{key:"_verifyReinsertion",value:function(e,n,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var a=e._prevRemoved,o=e._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_moveAfter",value:function(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_addAfter",value:function(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,n,i){var a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(e),e.currentIndex=i,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}},{key:"_addToMoves",value:function(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),t}(),HB=function t(r,e){g(this,t),this.item=r,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},GB=function(){function t(){g(this,t),this._head=null,this._tail=null}return m(t,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,n){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}},{key:"remove",value:function(e){var n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}]),t}(),J0=function(){function t(){g(this,t),this.map=new Map}return m(t,[{key:"put",value:function(e){var n=e.trackById,i=this.map.get(n);i||(i=new GB,this.map.set(n,i)),i.add(e)}},{key:"get",value:function(e,n){var a=this.map.get(e);return a?a.get(e,n):null}},{key:"remove",value:function(e){var n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function eT(t,r,e){var n=t.previousIndex;if(null===n)return n;var i=0;return e&&n<e.length&&(i=e[n]),n+r+i}var tT=function(){function t(){g(this,t)}return m(t,[{key:"supports",value:function(e){return e instanceof Map||Ug(e)}},{key:"create",value:function(){return new zB}}]),t}(),zB=function(){function t(){g(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var n;for(n=this._mapHead;null!==n;n=n._next)e(n)}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachChangedItem",value:function(e){var n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ug(e)))throw new Error("Error trying to diff '".concat(Ae(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(o,s){if(i&&i.key===s)n._maybeAddToChanges(i,o),n._appendAfter=i,i=i._next;else{var u=n._getOrCreateRecordForKey(s,o);i=n._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,n){if(e){var i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}},{key:"_getOrCreateRecordForKey",value:function(e,n){if(this._records.has(e)){var i=this._records.get(e);this._maybeAddToChanges(i,n);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new WB(e);return this._records.set(e,s),s.currentValue=n,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(function(i){return n(e[i],i)})}}]),t}(),WB=function t(r){g(this,t),this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function nT(){return new du([new $0])}var du=function(){var t=function(){function r(e){g(this,r),this.factories=e}return m(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'"))}}],[{key:"create",value:function(n,i){if(null!=i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||nT())},deps:[[r,new Pa,new Nn]]}}}]),r}();return t.\u0275prov=W({token:t,providedIn:"root",factory:nT}),t}();function rT(){return new pu([new tT])}var pu=function(){var t=function(){function r(e){g(this,r),this.factories=e}return m(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"'"))}}],[{key:"create",value:function(n,i){if(i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||rT())},deps:[[r,new Pa,new Nn]]}}}]),r}();return t.\u0275prov=W({token:t,providedIn:"root",factory:rT}),t}();function Th(t,r,e,n){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==e;){var a=r[e.index];if(null!==a&&n.push(qt(a)),Hr(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&Th(s[1],s,u,n)}var l=e.type;if(8&l)Th(t,r,e.child,n);else if(32&l)for(var c=ig(e,r),f=void 0;f=c();)n.push(f);else if(16&l){var h=lw(r,e);if(Array.isArray(h))n.push.apply(n,Y(h));else{var d=Pl(r[16]);Th(d[1],d,h,n,!0)}}e=i?e.projectionNext:e.next}return n}var Zl=function(){function t(r,e){g(this,t),this._lView=r,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}return m(t,[{key:"rootNodes",get:function(){var e=this._lView,n=e[1];return Th(n,e,n.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(Hr(e)){var n=e[8],i=n?n.indexOf(this):-1;i>-1&&(lg(e,i),bo(n,i))}this._attachedToViewContainer=!1}ew(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){xw(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Ag(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Mg(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,r,e){Ff(!0);try{Mg(t,r,e)}finally{Ff(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(t,r){xl(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),t}(),KB=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this,n))._view=n,i}return m(e,[{key:"detectChanges",value:function(){Gw(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Ff(!0);try{Gw(t)}finally{Ff(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(Zl),ZB=function(t){return function(t,r,e){if(Rf(t)&&!e){var n=$n(t.index,r);return new Zl(n,n)}return 47&t.type?new Zl(r[16],r):null}(Xt(),L(),16==(16&t))},$r=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=ZB,t}(),$B=[new tT],e3=new du([new $0]),t3=new pu($B),r3=function(){return kh(Xt(),L())},Jr=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=r3,t}(),a3=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this))._declarationLView=n,o._declarationTContainer=i,o.elementRef=a,o}return m(e,[{key:"createEmbeddedView",value:function(i){var a=this._declarationTContainer.tViews,o=Fl(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];var u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(a)),Nl(a,o,i),new Zl(o)}}]),e}(Jr);function kh(t,r){return 4&t.type?new a3(r,t,hu(t,r)):null}var aa=function t(){g(this,t)},iT=function t(){g(this,t)},u3=function(){return sT(Xt(),L())},br=function(){var t=function r(){g(this,r)};return t.__NG_ELEMENT_ID__=u3,t}(),aT=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this))._lContainer=n,o._hostTNode=i,o._hostLView=a,o}return m(e,[{key:"element",get:function(){return hu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Ps(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=zf(this._hostTNode,this._hostLView);if(ib(i)){var a=Ms(i,this._hostLView),o=Rs(i);return new Ps(a[1].data[o+8],a)}return new Ps(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=oT(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,o){var s=i.createEmbeddedView(a||{});return this.insert(s,o),s}},{key:"createComponent",value:function(i,a,o,s,u){var l=o||this.parentInjector;if(!u&&null==i.ngModule&&l){var c=l.get(aa,null);c&&(u=c)}var f=i.create(l,s,void 0,u);return this.insert(f.hostView,a),f}},{key:"insert",value:function(i,a){var o=i._lView,s=o[1];if(function(t){return Hr(t[3])}(o)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=o[3],c=new aT(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),h=this._lContainer;!function(t,r,e,n){var i=10+n,a=e.length;n>0&&(e[i-1][4]=r),n<a-10?(r[4]=e[i],Zf(e,10+n,r)):(e.push(r),r[4]=null),r[3]=e;var o=r[17];null!==o&&e!==o&&function(t,r){var e=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===e?t[9]=[r]:e.push(r)}(o,r);var s=r[19];null!==s&&s.insertView(t),r[2]|=128}(s,o,h,f);var d=hg(f,h),p=o[11],v=ih(p,h[7]);return null!==v&&function(t,r,e,n,i,a){n[0]=i,n[6]=r,xl(t,n,e,1,i,a)}(s,h[6],p,o,v,d),i.attachToViewContainerRef(),Zf(iy(h),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=oT(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),o=lg(this._lContainer,a);o&&(bo(iy(this._lContainer),a),ew(o[1],o))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),o=lg(this._lContainer,a);return o&&null!=bo(iy(this._lContainer),a)?new Zl(o):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),e}(br);function oT(t){return t[8]}function iy(t){return t[8]||(t[8]=[])}function sT(t,r){var e,n=r[t.index];if(Hr(n))e=n;else{var i;if(8&t.type)i=qt(n);else{var a=r[11];i=a.createComment("");var o=vr(t,r);ko(a,ih(a,o),i,function(t,r){return Ft(t)?t.nextSibling(r):r.nextSibling}(a,o),!1)}r[t.index]=e=Hw(n,r,i,t),fh(r,e)}return new aT(e,t,r)}var gu={},kT=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this)).ngModule=n,i}return m(e,[{key:"resolveComponentFactory",value:function(i){var a=Tn(i);return new DT(a,this.ngModule)}}]),e}(fu);function IT(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push({propName:t[e],templateName:e});return r}var rU=new _e("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return qb}}),DT=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).componentDef=n,a.ngModule=i,a.componentType=n.type,a.selector=function(t){return t.map(HN).join(",")}(n.selectors),a.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],a.isBoundToModule=!!i,a}return m(e,[{key:"inputs",get:function(){return IT(this.componentDef.inputs)}},{key:"outputs",get:function(){return IT(this.componentDef.outputs)}},{key:"create",value:function(i,a,o,s){var _,E,u=(s=s||this.ngModule)?function(t,r){return{get:function(n,i,a){var o=t.get(n,gu,a);return o!==gu||i===gu?o:r.get(n,i,a)}}}(i,s.injector):i,l=u.get(Ro,HE),c=u.get(ry,null),f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=o?function(t,r,e){if(Ft(t))return t.selectRootElement(r,e===Ur.ShadowDom);var i="string"==typeof r?t.querySelector(r):r;return i.textContent="",i}(f,o,this.componentDef.encapsulation):ug(l.createRenderer(null,this.componentDef),h,function(t){var r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(h)),p=this.componentDef.onPush?576:528,v=function(t,r){return{components:[],scheduler:t||qb,clean:IL,playerHandler:r||null,flags:0}}(),y=ch(0,null,null,1,0,null,null,null,null,null),C=Fl(null,y,v,p,null,null,l,f,c,u);Nf(C);try{var b=function(t,r,e,n,i,a){var o=e[1];e[20]=t;var u=Ws(o,20,2,"#host",null),l=u.mergedAttrs=r.hostAttrs;null!==l&&(hh(u,l,!0),null!==t&&(jf(i,t,l),null!==u.classes&&pg(i,t,u.classes),null!==u.styles&&hw(i,t,u.styles)));var c=n.createRenderer(t,r),f=Fl(e,Rw(r),null,r.onPush?64:16,e[20],u,n,c,a||null,null);return o.firstCreatePass&&(Wf(ml(u,e),o,r.type),Bw(o,u),Uw(u,e.length,1)),fh(e,f),e[20]=f}(d,this.componentDef,C,l,f);if(d)if(o)jf(f,d,["ng-version",BB.full]);else{var w=function(t){for(var r=[],e=[],n=1,i=2;n<t.length;){var a=t[n];if("string"==typeof a)2===i?""!==a&&r.push(a,t[++n]):8===i&&e.push(a);else{if(!zr(i))break;i=a}n++}return{attrs:r,classes:e}}(this.componentDef.selectors[0]),I=w.attrs,D=w.classes;I&&jf(f,d,I),D&&D.length>0&&pg(f,d,D.join(" "))}if(E=Sv(y,20),void 0!==a)for(var N=E.projection=[],V=0;V<this.ngContentSelectors.length;V++){var G=a[V];N.push(null!=G?Array.from(G):null)}_=function(t,r,e,n,i){var a=e[1],o=function(t,r,e){var n=Xt();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),jw(t,n,r,qs(t,r,1,null),e));var a=_l(r,t,n.directiveStart,n);vn(a,r);var o=vr(n,r);return o&&vn(o,r),a}(a,e,r);if(n.components.push(o),t[8]=o,i&&i.forEach(function(c){return c(o,r)}),r.contentQueries){var s=Xt();r.contentQueries(1,o,s.directiveStart)}var u=Xt();return!a.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Aa(u.index),Lw(e[1],u,0,u.directiveStart,u.directiveEnd,r),Vw(r,o)),o}(b,this.componentDef,C,v,[s2]),Nl(y,C,null)}finally{Lf()}return new oU(this.componentType,_,hu(E,C),C,E)}}]),e}(Z0),oU=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s){var u;return g(this,e),(u=r.call(this)).location=a,u._rootLView=o,u._tNode=s,u.instance=i,u.hostView=u.changeDetectorRef=new KB(o),u.componentType=n,u}return m(e,[{key:"injector",get:function(){return new Ps(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),e}(DB),yu=new Map;var lU=function(t){M(e,t);var r=R(e);function e(n,i){var a;g(this,e),(a=r.call(this))._parent=i,a._bootstrapComponents=[],a.injector=jt(a),a.destroyCbs=[],a.componentFactoryResolver=new kT(jt(a));var o=hr(n),s=function(t){return t[HP]||null}(n);return s&&Xg(s),a._bootstrapComponents=Di(o.bootstrap),a._r3Injector=Qw(n,i,[{provide:aa,useValue:jt(a)},{provide:fu,useValue:a.componentFactoryResolver}],Ae(n)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(n),a}return m(e,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.THROW_IF_NOT_FOUND,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ue.Default;return i===dt||i===aa||i===dh?this:this._r3Injector.get(i,a,o)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),e}(aa),gy=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this)).moduleType=n,null!==hr(n)&&function(t){var r=new Set;!function e(n){var i=hr(n,!0),a=i.id;null!==a&&(function(t,r,e){if(r&&r!==e)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Ae(r)," vs ").concat(Ae(r.name)))}(a,yu.get(a),n),yu.set(a,n));var l,u=T(Di(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;r.has(c)||(r.add(c),e(c))}}catch(f){u.e(f)}finally{u.f()}}(t)}(n),i}return m(e,[{key:"create",value:function(i){return new lU(this.moduleType,i)}}]),e}(iT);function Jt(t,r,e,n){return function(t,r,e,n,i,a){var o=r+e;return gn(t,o,i)?Ai(t,o+1,a?n.call(a,i):n(i)):nc(t,o+1)}(L(),kn(),t,r,e,n)}function xo(t,r,e,n,i){return xT(L(),kn(),t,r,e,n,i)}function Fo(t,r,e,n,i,a){return function(t,r,e,n,i,a,o,s){var u=r+e;return function(t,r,e,n,i){var a=Do(t,r,e,n);return gn(t,r+2,i)||a}(t,u,i,a,o)?Ai(t,u+3,s?n.call(s,i,a,o):n(i,a,o)):nc(t,u+3)}(L(),kn(),t,r,e,n,i,a)}function tc(t,r,e,n,i,a,o){return function(t,r,e,n,i,a,o,s,u){var l=r+e;return Er(t,l,i,a,o,s)?Ai(t,l+4,u?n.call(u,i,a,o,s):n(i,a,o,s)):nc(t,l+4)}(L(),kn(),t,r,e,n,i,a,o)}function nc(t,r){var e=t[r];return e===Ce?void 0:e}function xT(t,r,e,n,i,a,o){var s=r+e;return Do(t,s,i,a)?Ai(t,s+2,o?n.call(o,i,a):n(i,a)):nc(t,s+2)}function BT(t,r,e,n){var i=t+20,a=L(),o=Os(a,i);return function(t,r){return Io.isWrapped(r)&&(r=Io.unwrap(r),t[Si()]=Ce),r}(a,function(t,r){return t[1].data[r].pure}(a,i)?xT(a,kn(),r,o.transform,e,n,o):o.transform(e,n))}function yy(t){return function(r){setTimeout(t,void 0,r)}}var me=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g(this,e),(n=r.call(this)).__isAsync=i,n}return m(e,[{key:"emit",value:function(i){ke(de(e.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,o){var s,u,l,c=i,f=a||function(){return null},h=o;if(i&&"object"==typeof i){var d=i;c=null===(s=d.next)||void 0===s?void 0:s.bind(d),f=null===(u=d.error)||void 0===u?void 0:u.bind(d),h=null===(l=d.complete)||void 0===l?void 0:l.bind(d)}this.__isAsync&&(f=yy(f),c&&(c=yy(c)),h&&(h=yy(h)));var p=ke(de(e.prototype),"subscribe",this).call(this,{next:c,error:f,complete:h});return i instanceof ot&&i.add(p),p}}]),e}(xe);function CU(){return this._results[Qs()]()}var UT=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(this,t),this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var e=Qs(),n=t.prototype;n[e]||(n[e]=CU)}return m(t,[{key:"changes",get:function(){return this._changes||(this._changes=new me)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,n){return this._results.reduce(e,n)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,n){var i=this;i.dirty=!1;var a=yr(e);(this._changesDetected=!function(t,r,e){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],a=r[n];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var wU=function(){function t(r){g(this,t),this.queryList=r,this.matches=null}return m(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),SU=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,t),this.queries=r}return m(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[],o=0;o<i;o++){var s=n.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new t(a)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var n=0;n<this.queries.length;n++)null!==WT(e,n).matches&&this.queries[n].setDirty()}}]),t}(),jT=function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(this,t),this.predicate=r,this.flags=e,this.read=n},TU=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,t),this.queries=r}return m(t,[{key:"elementStart",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}},{key:"elementEnd",value:function(e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var a=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,a);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),t}(),kU=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;g(this,t),this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return m(t,[{key:"elementStart",value:function(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,n){this.elementStart(e,n)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var n=this._declarationNodeIndex,i=e.parent;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,n){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(e,n,IU(n,o)),this.matchTNodeWithReadOption(e,n,qf(n,e,o,!1,!1))}else i===Jr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,qf(n,e,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,n,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===vt||a===br||a===Jr&&4&n.type)this.addMatch(n.index,-2);else{var o=qf(n,e,a,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}},{key:"addMatch",value:function(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}]),t}();function IU(t,r){var e=t.localNames;if(null!==e)for(var n=0;n<e.length;n+=2)if(e[n]===r)return e[n+1];return null}function OU(t,r,e,n){return-1===e?function(t,r){return 11&t.type?hu(t,r):4&t.type?kh(t,r):null}(r,t):-2===e?function(t,r,e){return e===vt?hu(r,t):e===Jr?kh(r,t):e===br?sT(r,t):void 0}(t,r,n):_l(t,t[1],e,r)}function HT(t,r,e,n){var i=r[19].queries[n];if(null===i.matches){for(var a=t.data,o=e.matches,s=[],u=0;u<o.length;u+=2){var l=o[u];s.push(l<0?null:OU(r,a[l],o[u+1],e.metadata.read))}i.matches=s}return i.matches}function my(t,r,e,n){var i=t.queries.getByIndex(e),a=i.matches;if(null!==a)for(var o=HT(t,r,i,e),s=0;s<a.length;s+=2){var u=a[s];if(u>0)n.push(o[s/2]);else{for(var l=a[s+1],c=r[-u],f=10;f<c.length;f++){var h=c[f];h[17]===h[3]&&my(h[1],h,l,n)}if(null!==c[9])for(var d=c[9],p=0;p<d.length;p++){var v=d[p];my(v[1],v,l,n)}}}return n}function Gt(t){var r=L(),e=We(),n=ZE();Rv(n+1);var i=WT(e,n);if(t.dirty&&GE(r)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var a=i.crossesNgTemplate?my(e,r,n,[]):HT(e,r,i,n);t.reset(a,Q0),t.notifyOnChanges()}return!0}return!1}function ri(t,r,e){var n=We();n.firstCreatePass&&(zT(n,new jT(t,r,e),-1),2==(2&r)&&(n.staticViewQueries=!0)),GT(n,L(),r)}function ii(t,r,e,n){var i=We();if(i.firstCreatePass){var a=Xt();zT(i,new jT(r,e,n),a.index),function(t,r){var e=t.contentQueries||(t.contentQueries=[]);r!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,r)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}GT(i,L(),e)}function zt(){return t=L(),r=ZE(),t[19].queries[r].queryList;var t,r}function GT(t,r,e){var n=new UT(4==(4&e));xw(t,r,n,n.destroy),null===r[19]&&(r[19]=new SU),r[19].queries.push(new wU(n))}function zT(t,r,e){null===t.queries&&(t.queries=new TU),t.queries.track(new kU(r,e))}function WT(t,r){return t.queries.getByIndex(r)}function Ph(t,r){return kh(t,r)}var _u=new _e("Application Initializer"),Cu=function(){var t=function(){function r(e){var n=this;g(this,r),this.appInits=e,this.resolve=Sh,this.reject=Sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){n.resolve=i,n.reject=a})}return m(r,[{key:"runInitializers",value:function(){var n=this;if(!this.initialized){var i=[],a=function(){n.done=!0,n.resolve()};if(this.appInits)for(var o=function(l){var c=n.appInits[l]();if(Hl(c))i.push(c);else if(gh(c)){var f=new Promise(function(h,d){c.subscribe({complete:h,error:d})});i.push(f)}},s=0;s<this.appInits.length;s++)o(s);Promise.all(i).then(function(){a()}).catch(function(u){n.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(_u,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),oc=new _e("AppId"),mj={provide:oc,useFactory:function(){return"".concat(Sy()).concat(Sy()).concat(Sy())},deps:[]};function Sy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lk=new _e("Platform Initializer"),Na=new _e("Platform ID"),ck=new _e("appBootstrapListener"),Nh=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"log",value:function(n){console.log(n)}},{key:"warn",value:function(n){console.warn(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),La=new _e("LocaleId"),fk=new _e("DefaultCurrencyCode"),Cj=function t(r,e){g(this,t),this.ngModuleFactory=r,this.componentFactories=e},Ty=function(r){return new gy(r)},Ej=Ty,wj=function(r){return Promise.resolve(Ty(r))},hk=function(r){var e=Ty(r),i=Di(hr(r).declarations).reduce(function(a,o){var s=Tn(o);return s&&a.push(new DT(s)),a},[]);return new Cj(e,i)},Sj=hk,kj=function(r){return Promise.resolve(hk(r))},No=function(){var t=function(){function r(){g(this,r),this.compileModuleSync=Ej,this.compileModuleAsync=wj,this.compileModuleAndAllComponentsSync=Sj,this.compileModuleAndAllComponentsAsync=kj}return m(r,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(n){}},{key:"getModuleId",value:function(n){}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Oj=function(){return Promise.resolve(0)}();function ky(t){"undefined"==typeof Zone?Oj.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var $e=function(){function t(r){var e=r.enableLongStackTrace,n=void 0!==e&&e,i=r.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=r.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(g(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var t=et.requestAnimationFrame,r=et.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){var e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);var n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(t){var r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(et,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Dy(t),t.isCheckStableRunning=!0,Iy(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Dy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,a,o,s,u){try{return dk(t),n.invokeTask(a,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&r(),pk(t)}},onInvoke:function(n,i,a,o,s,u,l){try{return dk(t),n.invoke(a,o,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&r(),pk(t)}},onHasTask:function(n,i,a,o){n.hasTask(a,o),i===a&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Dy(t),Iy(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(n,i,a,o){return n.handleError(a,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}(u)}return m(t,[{key:"run",value:function(e,n,i){return this._inner.run(e,n,i)}},{key:"runTask",value:function(e,n,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,e,Rj,Sh,Sh);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(e,n,i){return this._inner.runGuarded(e,n,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Rj={};function Iy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Dy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pk(t){t._nesting--,Iy(t)}var xj=function(){function t(){g(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}return m(t,[{key:"run",value:function(e,n,i){return e.apply(n,i)}},{key:"runGuarded",value:function(e,n,i){return e.apply(n,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,n,i,a){return e.apply(n,i)}}]),t}(),Oy=function(){var t=function(){function r(e){var n=this;g(this,r),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return m(r,[{key:"_watchAngularEvents",value:function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){n._ngZone.onStable.subscribe({next:function(){$e.assertNotInAngularZone(),ky(function(){n._isZoneStable=!0,n._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var n=this;if(this.isStable())ky(function(){for(;0!==n._callbacks.length;){var a=n._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(n._didWork)}n._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}}):[]}},{key:"addCallback",value:function(n,i,a){var o=this,s=-1;i&&i>0&&(s=setTimeout(function(){o._callbacks=o._callbacks.filter(function(u){return u.timeoutId!==s}),n(o._didWork,o.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:a})}},{key:"whenStable",value:function(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(n,i,a){return[]}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F($e))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),vk=function(){var t=function(){function r(){g(this,r),this._applications=new Map,Ay.addToWindow(this)}return m(r,[{key:"registerApplication",value:function(n,i){this._applications.set(n,i)}},{key:"unregisterApplication",value:function(n){this._applications.delete(n)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(n){return this._applications.get(n)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ay.findTestabilityInTree(this,n,i)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Ay=new(function(){function t(){g(this,t)}return m(t,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,n,i){return null}}]),t}()),gk=!0,yk=!1;var ai,Vj=function(t,r,e){var n=new gy(e);return Promise.resolve(n)},_k=new _e("AllowMultipleToken"),Ry=function t(r,e){g(this,t),this.name=r,this.token=e};function zj(t){if(ai&&!ai.destroyed&&!ai.injector.get(_k,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ai=t.get(bk);var r=t.get(lk,null);return r&&r.forEach(function(e){return e()}),ai}function Ck(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="Platform: ".concat(r),i=new _e(n);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ek();if(!o||o.injector.get(_k,!1))if(t)t(e.concat(a).concat({provide:i,useValue:!0}));else{var s=e.concat(a).concat({provide:i,useValue:!0},{provide:Ll,useValue:"platform"});zj(dt.create({providers:s,name:n}))}return Wj(i)}}function Wj(t){var r=Ek();if(!r)throw new Error("No platform exists!");if(!r.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return r}function Ek(){return ai&&!ai.destroyed?ai:null}var bk=function(){var t=function(){function r(e){g(this,r),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(r,[{key:"bootstrapModuleFactory",value:function(n,i){var a=this,l=function(t,r){return"noop"===t?new xj:("zone.js"===t?void 0:t)||new $e({enableLongStackTrace:(yk=!0,gk),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:$e,useValue:l}];return l.run(function(){var f=dt.create({providers:c,parent:a.injector,name:n.moduleType.name}),h=n.create(f),d=h.injector.get(To,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(function(){var p=l.onError.subscribe({next:function(y){d.handleError(y)}});h.onDestroy(function(){My(a._modules,h),p.unsubscribe()})}),function(t,r,e){try{var n=((p=h.injector.get(Cu)).runInitializers(),p.donePromise.then(function(){return Xg(h.injector.get(La,_h)||_h),a._moduleDoBootstrap(h),h}));return Hl(n)?n.catch(function(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}):n}catch(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}var p}(d,l)})}},{key:"bootstrapModule",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=wk({},a);return Vj(0,0,n).then(function(s){return i.bootstrapModuleFactory(s,o)})}},{key:"_moduleDoBootstrap",value:function(n){var i=n.injector.get(Lo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(function(a){return i.bootstrap(a)});else{if(!n.instance.ngDoBootstrap)throw new Error("The module ".concat(Ae(n.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");n.instance.ngDoBootstrap(i)}this._modules.push(n)}},{key:"onDestroy",value:function(n){this._destroyListeners.push(n)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(n){return n.destroy()}),this._destroyListeners.forEach(function(n){return n()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(dt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function wk(t,r){return Array.isArray(r)?r.reduce(wk,t):Object.assign(Object.assign({},t),r)}var Lo=function(){var t=function(){function r(e,n,i,a,o){var s=this;g(this,r),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new Ge(function(c){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){c.next(s._stable),c.complete()})}),l=new Ge(function(c){var f;s._zone.runOutsideAngular(function(){f=s._zone.onStable.subscribe(function(){$e.assertNotInAngularZone(),ky(function(){!s._stable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks&&(s._stable=!0,c.next(!0))})})});var h=s._zone.onUnstable.subscribe(function(){$e.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){c.next(!1)}))});return function(){f.unsubscribe(),h.unsubscribe()}});this.isStable=sv(u,l.pipe(function(t){return uv()(lv(IP)(t))}))}return m(r,[{key:"bootstrap",value:function(n,i){var o,a=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");o=n instanceof Z0?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(o.componentType);var s=function(t){return t.isBoundToModule}(o)?void 0:this._injector.get(aa),l=o.create(dt.NULL,[],i||o.selector,s),c=l.location.nativeElement,f=l.injector.get(Oy,null),h=f&&l.injector.get(vk);return f&&h&&h.registerApplication(c,f),l.onDestroy(function(){a.detachView(l.hostView),My(a.components,l),h&&h.unregisterApplication(c)}),this._loadComponent(l),l}},{key:"tick",value:function(){var n=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var a,i=T(this._views);try{for(i.s();!(a=i.n()).done;)a.value.detectChanges()}catch(c){i.e(c)}finally{i.f()}}catch(c){this._zone.runOutsideAngular(function(){return n._exceptionHandler.handleError(c)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(n){var i=n;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(n){var i=n;My(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ck,[]).concat(this._bootstrapListeners).forEach(function(a){return a(n)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(n){return n.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F($e),F(dt),F(To),F(fu),F(Cu))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function My(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var Vh=function t(){g(this,t)},Xj=function t(){g(this,t)},Qj={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$j=function(){var t=function(){function r(e,n){g(this,r),this._compiler=e,this._config=n||Qj}return m(r,[{key:"load",value:function(n){return this.loadAndCompile(n)}},{key:"loadAndCompile",value:function(n){var i=this,o=z(n.split("#"),2),s=o[0],u=o[1];return void 0===u&&(u="default"),wn(8255)(s).then(function(l){return l[u]}).then(function(l){return Ik(l,s,u)}).then(function(l){return i._compiler.compileModuleAsync(l)})}},{key:"loadFactory",value:function(n){var a=z(n.split("#"),2),o=a[0],s=a[1],u="NgFactory";return void 0===s&&(s="default",u=""),wn(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(l){return l[s+u]}).then(function(l){return Ik(l,o,s)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(No),F(Xj,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function Ik(t,r,e){if(!t)throw new Error("Cannot find '".concat(e,"' in '").concat(r,"'"));return t}var sH=Ck(null,"core",[{provide:Na,useValue:"unknown"},{provide:bk,deps:[dt]},{provide:vk,deps:[]},{provide:Nh,deps:[]}]),dH=[{provide:Lo,useClass:Lo,deps:[$e,dt,To,fu,Cu]},{provide:rU,deps:[$e],useFactory:function(t){var r=[];return t.onStable.subscribe(function(){for(;r.length;)r.pop()()}),function(e){r.push(e)}}},{provide:Cu,useClass:Cu,deps:[[new Nn,_u]]},{provide:No,useClass:No,deps:[]},mj,{provide:du,useFactory:function(){return e3},deps:[]},{provide:pu,useFactory:function(){return t3},deps:[]},{provide:La,useFactory:function(t){return Xg(t=t||"undefined"!=typeof $localize&&$localize.locale||_h),t},deps:[[new Bs(La),new Nn,new Pa]]},{provide:fk,useValue:"USD"}],vH=function(){var t=function r(e){g(this,r)};return t.\u0275fac=function(e){return new(e||t)(F(Lo))},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:dH}),t}(),Wh=null;function xi(){return Wh}var cG=function t(){g(this,t)},bt=new _e("DocumentToken"),Uo=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({factory:fG,token:t,providedIn:"platform"}),t}();function fG(){return F(Kk)}var hG=new _e("Location Initialized"),Kk=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return g(this,n),(a=e.call(this))._doc=i,a._init(),a}return m(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return xi().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=xi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=xi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,s){Yk()?this._history.pushState(a,o,s):this.location.hash=s}},{key:"replaceState",value:function(a,o,s){Yk()?this._history.replaceState(a,o,s):this.location.hash=s}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),n}(Uo);return t.\u0275fac=function(e){return new(e||t)(F(bt))},t.\u0275prov=W({factory:dG,token:t,providedIn:"platform"}),t}();function Yk(){return!!window.history.pushState}function dG(){return new Kk(F(bt))}function Yy(t,r){if(0==t.length)return r;if(0==r.length)return t;var e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r}function Zk(t){var r=t.match(/#|\?|$/),e=r&&r.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function sa(t){return t&&"?"!==t[0]?"?"+t:t}var wu=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({factory:pG,token:t,providedIn:"root"}),t}();function pG(t){var r=F(bt).location;return new Xk(F(Uo),r&&r.origin||"")}var Zy=new _e("appBaseHref"),Xk=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;if(g(this,n),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return m(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return Yy(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+sa(this._platformLocation.search),s=this._platformLocation.hash;return s&&a?"".concat(o).concat(s):o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+sa(u));this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+sa(u));this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),n}(wu);return t.\u0275fac=function(e){return new(e||t)(F(Uo),F(Zy,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),vG=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;return g(this,n),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return m(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=Yy(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+sa(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+sa(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),n}(wu);return t.\u0275fac=function(e){return new(e||t)(F(Uo),F(Zy,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),qh=function(){var t=function(){function r(e,n){var i=this;g(this,r),this._subject=new me,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Zk(Qk(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return m(r,[{key:"path",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(n))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(n+sa(i))}},{key:"normalize",value:function(n){return r.stripTrailingSlash(function(t,r){return t&&r.startsWith(t)?r.substring(t.length):r}(this._baseHref,Qk(n)))}},{key:"prepareExternalUrl",value:function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}},{key:"go",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sa(i)),a)}},{key:"replaceState",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sa(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var i,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,n)}},{key:"onUrlChange",value:function(n){var i=this;this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(n,i)})}},{key:"subscribe",value:function(n,i,a){return this._subject.subscribe({next:n,error:i,complete:a})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(wu),F(Uo))},t.normalizeQueryParams=sa,t.joinWithSlash=Yy,t.stripTrailingSlash=Zk,t.\u0275prov=W({factory:gG,token:t,providedIn:"root"}),t}();function gG(){return new qh(F(wu),F(Uo))}function Qk(t){return t.replace(/\/index.html$/,"")}var fc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Vn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),yt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Sr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Yt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Kh(t,r){return kr(Dn(t)[Et.DateFormat],r)}function Yh(t,r){return kr(Dn(t)[Et.TimeFormat],r)}function Zh(t,r){return kr(Dn(t)[Et.DateTimeFormat],r)}function Tr(t,r){var e=Dn(t),n=e[Et.NumberSymbols][r];if(void 0===n){if(r===Yt.CurrencyDecimal)return e[Et.NumberSymbols][Yt.Decimal];if(r===Yt.CurrencyGroup)return e[Et.NumberSymbols][Yt.Group]}return n}var SG=function(t){return Dn(t)[Et.PluralCase]};function Jk(t){if(!t[Et.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[Et.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function kr(t,r){for(var e=r;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function $y(t){var e=z(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var AG=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hc={},RG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ba=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),nt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),rt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function MG(t,r,e,n){var i=function(t){if(nI(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var e=z(t.split("-").map(function(f){return+f}),3),i=e[1],o=e[2];return Xh(e[0],(void 0===i?1:i)-1,void 0===o?1:o)}var l,u=parseFloat(t);if(!isNaN(t-u))return new Date(u);if(l=t.match(AG))return function(t){var r=new Date(0),e=0,n=0,i=t[8]?r.setUTCFullYear:r.setFullYear,a=t[8]?r.setUTCHours:r.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(r,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-e,s=Number(t[5]||0)-n,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(r,o,s,u,l),r}(l)}var c=new Date(t);if(!nI(c))throw new Error('Unable to convert "'.concat(t,'" into a date'));return c}(t);r=ua(e,r)||r;for(var s,o=[];r;){if(!(s=RG.exec(r))){o.push(r);break}var u=(o=o.concat(s.slice(1))).pop();if(!u)break;r=u}var l=i.getTimezoneOffset();n&&(l=tI(n,l),i=function(t,r,e){var i=t.getTimezoneOffset();return function(t,r){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+r),t}(t,-1*(tI(r,i)-i))}(i,n));var c="";return o.forEach(function(f){var h=function(t){if(em[t])return em[t];var r;switch(t){case"G":case"GG":case"GGG":r=mt(rt.Eras,yt.Abbreviated);break;case"GGGG":r=mt(rt.Eras,yt.Wide);break;case"GGGGG":r=mt(rt.Eras,yt.Narrow);break;case"y":r=Zt(nt.FullYear,1,0,!1,!0);break;case"yy":r=Zt(nt.FullYear,2,0,!0,!0);break;case"yyy":r=Zt(nt.FullYear,3,0,!1,!0);break;case"yyyy":r=Zt(nt.FullYear,4,0,!1,!0);break;case"Y":r=ed(1);break;case"YY":r=ed(2,!0);break;case"YYY":r=ed(3);break;case"YYYY":r=ed(4);break;case"M":case"L":r=Zt(nt.Month,1,1);break;case"MM":case"LL":r=Zt(nt.Month,2,1);break;case"MMM":r=mt(rt.Months,yt.Abbreviated);break;case"MMMM":r=mt(rt.Months,yt.Wide);break;case"MMMMM":r=mt(rt.Months,yt.Narrow);break;case"LLL":r=mt(rt.Months,yt.Abbreviated,Vn.Standalone);break;case"LLLL":r=mt(rt.Months,yt.Wide,Vn.Standalone);break;case"LLLLL":r=mt(rt.Months,yt.Narrow,Vn.Standalone);break;case"w":r=Jy(1);break;case"ww":r=Jy(2);break;case"W":r=Jy(1,!0);break;case"d":r=Zt(nt.Date,1);break;case"dd":r=Zt(nt.Date,2);break;case"c":case"cc":r=Zt(nt.Day,1);break;case"ccc":r=mt(rt.Days,yt.Abbreviated,Vn.Standalone);break;case"cccc":r=mt(rt.Days,yt.Wide,Vn.Standalone);break;case"ccccc":r=mt(rt.Days,yt.Narrow,Vn.Standalone);break;case"cccccc":r=mt(rt.Days,yt.Short,Vn.Standalone);break;case"E":case"EE":case"EEE":r=mt(rt.Days,yt.Abbreviated);break;case"EEEE":r=mt(rt.Days,yt.Wide);break;case"EEEEE":r=mt(rt.Days,yt.Narrow);break;case"EEEEEE":r=mt(rt.Days,yt.Short);break;case"a":case"aa":case"aaa":r=mt(rt.DayPeriods,yt.Abbreviated);break;case"aaaa":r=mt(rt.DayPeriods,yt.Wide);break;case"aaaaa":r=mt(rt.DayPeriods,yt.Narrow);break;case"b":case"bb":case"bbb":r=mt(rt.DayPeriods,yt.Abbreviated,Vn.Standalone,!0);break;case"bbbb":r=mt(rt.DayPeriods,yt.Wide,Vn.Standalone,!0);break;case"bbbbb":r=mt(rt.DayPeriods,yt.Narrow,Vn.Standalone,!0);break;case"B":case"BB":case"BBB":r=mt(rt.DayPeriods,yt.Abbreviated,Vn.Format,!0);break;case"BBBB":r=mt(rt.DayPeriods,yt.Wide,Vn.Format,!0);break;case"BBBBB":r=mt(rt.DayPeriods,yt.Narrow,Vn.Format,!0);break;case"h":r=Zt(nt.Hours,1,-12);break;case"hh":r=Zt(nt.Hours,2,-12);break;case"H":r=Zt(nt.Hours,1);break;case"HH":r=Zt(nt.Hours,2);break;case"m":r=Zt(nt.Minutes,1);break;case"mm":r=Zt(nt.Minutes,2);break;case"s":r=Zt(nt.Seconds,1);break;case"ss":r=Zt(nt.Seconds,2);break;case"S":r=Zt(nt.FractionalSeconds,1);break;case"SS":r=Zt(nt.FractionalSeconds,2);break;case"SSS":r=Zt(nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=$h(Ba.Short);break;case"ZZZZZ":r=$h(Ba.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=$h(Ba.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=$h(Ba.Long);break;default:return null}return em[t]=r,r}(f);c+=h?h(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Xh(t,r,e){var n=new Date(0);return n.setFullYear(t,r,e),n.setHours(0,0,0),n}function ua(t,r){var e=function(t){return Dn(t)[Et.LocaleId]}(t);if(hc[e]=hc[e]||{},hc[e][r])return hc[e][r];var n="";switch(r){case"shortDate":n=Kh(t,Sr.Short);break;case"mediumDate":n=Kh(t,Sr.Medium);break;case"longDate":n=Kh(t,Sr.Long);break;case"fullDate":n=Kh(t,Sr.Full);break;case"shortTime":n=Yh(t,Sr.Short);break;case"mediumTime":n=Yh(t,Sr.Medium);break;case"longTime":n=Yh(t,Sr.Long);break;case"fullTime":n=Yh(t,Sr.Full);break;case"short":var i=ua(t,"shortTime"),a=ua(t,"shortDate");n=Qh(Zh(t,Sr.Short),[i,a]);break;case"medium":var o=ua(t,"mediumTime"),s=ua(t,"mediumDate");n=Qh(Zh(t,Sr.Medium),[o,s]);break;case"long":var u=ua(t,"longTime"),l=ua(t,"longDate");n=Qh(Zh(t,Sr.Long),[u,l]);break;case"full":var c=ua(t,"fullTime"),f=ua(t,"fullDate");n=Qh(Zh(t,Sr.Full),[c,f])}return n&&(hc[e][r]=n),n}function Qh(t,r){return r&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return null!=r&&n in r?r[n]:e})),t}function ui(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));for(var o=String(t);o.length<r;)o="0"+o;return n&&(o=o.substr(o.length-r)),a+o}function PG(t,r){return ui(t,3).substr(0,r)}function Zt(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=xG(t,a);if((e>0||s>-e)&&(s+=e),t===nt.Hours)0===s&&-12===e&&(s=12);else if(t===nt.FractionalSeconds)return PG(s,r);var u=Tr(o,Yt.MinusSign);return ui(s,r,u,n,i)}}function xG(t,r){switch(t){case nt.FullYear:return r.getFullYear();case nt.Month:return r.getMonth();case nt.Date:return r.getDate();case nt.Hours:return r.getHours();case nt.Minutes:return r.getMinutes();case nt.Seconds:return r.getSeconds();case nt.FractionalSeconds:return r.getMilliseconds();case nt.Day:return r.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function mt(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vn.Format,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return FG(i,a,t,r,e,n)}}function FG(t,r,e,n,i,a){switch(e){case rt.Months:return function(t,r,e){var n=Dn(t),a=kr([n[Et.MonthsFormat],n[Et.MonthsStandalone]],r);return kr(a,e)}(r,i,n)[t.getMonth()];case rt.Days:return function(t,r,e){var n=Dn(t),a=kr([n[Et.DaysFormat],n[Et.DaysStandalone]],r);return kr(a,e)}(r,i,n)[t.getDay()];case rt.DayPeriods:var o=t.getHours(),s=t.getMinutes();if(a){var u=function(t){var r=Dn(t);return Jk(r),(r[Et.ExtraData][2]||[]).map(function(n){return"string"==typeof n?$y(n):[$y(n[0]),$y(n[1])]})}(r),l=function(t,r,e){var n=Dn(t);Jk(n);var a=kr([n[Et.ExtraData][0],n[Et.ExtraData][1]],r)||[];return kr(a,e)||[]}(r,i,n),c=u.findIndex(function(h){if(Array.isArray(h)){var d=z(h,2),p=d[0],v=d[1],y=o>=p.hours&&s>=p.minutes,C=o<v.hours||o===v.hours&&s<v.minutes;if(p.hours<v.hours){if(y&&C)return!0}else if(y||C)return!0}else if(h.hours===o&&h.minutes===s)return!0;return!1});if(-1!==c)return l[c]}return function(t,r,e){var n=Dn(t),a=kr([n[Et.DayPeriodsFormat],n[Et.DayPeriodsStandalone]],r);return kr(a,e)}(r,i,n)[o<12?0:1];case rt.Eras:return function(t,r){return kr(Dn(t)[Et.Eras],r)}(r,n)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(e))}}function $h(t){return function(r,e,n){var i=-1*n,a=Tr(e,Yt.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ba.Short:return(i>=0?"+":"")+ui(o,2,a)+ui(Math.abs(i%60),2,a);case Ba.ShortGMT:return"GMT"+(i>=0?"+":"")+ui(o,1,a);case Ba.Long:return"GMT"+(i>=0?"+":"")+ui(o,2,a)+":"+ui(Math.abs(i%60),2,a);case Ba.Extended:return 0===n?"Z":(i>=0?"+":"")+ui(o,2,a)+":"+ui(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function LG(t){var r=Xh(t,0,1).getDay();return Xh(t,0,1+(r<=4?4:11)-r)}function eI(t){return Xh(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Jy(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){var i;if(r){var a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+a)/7)}else{var s=eI(e),u=LG(s.getFullYear()),l=s.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return ui(i,t,Tr(n,Yt.MinusSign))}}function ed(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){return ui(eI(e).getFullYear(),t,Tr(n,Yt.MinusSign),r)}}var em={};function tI(t,r){t=t.replace(/:/g,"");var e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?r:e}function nI(t){return t instanceof Date&&!isNaN(t.valueOf())}var nd=function t(){g(this,t)},JG=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return g(this,n),(a=e.call(this)).locale=i,a}return m(n,[{key:"getPluralCategory",value:function(a,o){switch(SG(o||this.locale)(a)){case fc.Zero:return"zero";case fc.One:return"one";case fc.Two:return"two";case fc.Few:return"few";case fc.Many:return"many";default:return"other"}}}]),n}(nd);return t.\u0275fac=function(e){return new(e||t)(F(La))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function oI(t,r){r=encodeURIComponent(r);var n,e=T(t.split(";"));try{for(e.s();!(n=e.n()).done;){var i=n.value,a=i.indexOf("="),s=z(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===r)return decodeURIComponent(l)}}catch(c){e.e(c)}finally{e.f()}return null}var Ir=function(){var t=function(){function r(e,n,i,a){g(this,r),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return m(r,[{key:"klass",set:function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Ul(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ae(a.item)));i._toggleClass(a.item,!0)}),n.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!!n[a])}))}},{key:"_removeClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(n,i){var a=this;(n=n.trim())&&n.split(/\s+/g).forEach(function(o){i?a._renderer.addClass(a._ngEl.nativeElement,o):a._renderer.removeClass(a._ngEl.nativeElement,o)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(du),S(pu),S(vt),S(Qr))},t.\u0275dir=te({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),tz=function(){function t(r,e,n,i){g(this,t),this.$implicit=r,this.ngForOf=e,this.index=n,this.count=i}return m(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),rd=function(){var t=function(){function r(e,n,i){g(this,r),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(r,[{key:"ngForOf",set:function(n){this._ngForOf=n,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(n){this._trackByFn=n}},{key:"ngForTemplate",set:function(n){n&&(this._template=n)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(a){throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(n){var i=this,a=[];n.forEachOperation(function(c,f,h){if(null==c.previousIndex){var d=i._viewContainer.createEmbeddedView(i._template,new tz(null,i._ngForOf,-1,-1),null===h?void 0:h),p=new sI(c,d);a.push(p)}else if(null==h)i._viewContainer.remove(null===f?void 0:f);else if(null!==f){var v=i._viewContainer.get(f);i._viewContainer.move(v,h);var y=new sI(c,v);a.push(y)}});for(var o=0;o<a.length;o++)this._perViewChange(a[o].view,a[o].record);for(var s=0,u=this._viewContainer.length;s<u;s++){var l=this._viewContainer.get(s);l.context.index=s,l.context.count=u,l.context.ngForOf=this._ngForOf}n.forEachIdentityChange(function(c){i._viewContainer.get(c.currentIndex).context.$implicit=c.item})}},{key:"_perViewChange",value:function(n,i){n.context.$implicit=i.item}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(br),S(Jr),S(du))},t.\u0275dir=te({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),sI=function t(r,e){g(this,t),this.record=r,this.view=e},Bn=function(){var t=function(){function r(e,n){g(this,r),this._viewContainer=e,this._context=new rz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(r,[{key:"ngIf",set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}},{key:"ngIfThen",set:function(n){uI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(n){uI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(br),S(Jr))},t.\u0275dir=te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),rz=function t(){g(this,t),this.$implicit=null,this.ngIf=null};function uI(t,r){if(r&&!r.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Ae(r),"'."))}var Fi=function(){var t=function(){function r(e,n,i){g(this,r),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return m(r,[{key:"ngStyle",set:function(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}},{key:"_setStyle",value:function(n,i){var o=z(n.split("."),2),s=o[0],u=o[1];null!=(i=null!=i&&u?"".concat(i).concat(u):i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}},{key:"_applyChanges",value:function(n){var i=this;n.forEachRemovedItem(function(a){return i._setStyle(a.key,null)}),n.forEachAddedItem(function(a){return i._setStyle(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._setStyle(a.key,a.currentValue)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S(pu),S(Qr))},t.\u0275dir=te({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),Ua=function(){var t=function(){function r(e){g(this,r),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return m(r,[{key:"ngOnChanges",value:function(n){if(n.ngTemplateOutlet){var i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(br))},t.\u0275dir=te({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[nn]}),t}();function li(t,r){return Error("InvalidPipeArgument: '".concat(r,"' for pipe '").concat(Ae(t),"'"))}var cI=function(){var t=function(){function r(e){g(this,r),this.locale=e}return m(r,[{key:"transform",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==n||""===n||n!=n)return null;try{return MG(n,i,o||this.locale,a)}catch(s){throw li(r,s.message)}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(La,16))},t.\u0275pipe=xn({name:"date",type:t,pure:!0}),t}(),ir=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:[{provide:nd,useClass:JG}]}),t}();function lm(t){return"browser"===t}var dI=function(){var t=function r(){g(this,r)};return t.\u0275prov=W({token:t,providedIn:"root",factory:function(){return new Oz(F(bt),window)}}),t}(),Oz=function(){function t(r,e){g(this,t),this.document=r,this.window=e,this.offset=function(){return[0,0]}}return m(t,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var n=function(t,r){var e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(r)||a.querySelector('[name="'.concat(r,'"]'));if(o)return o}i=n.nextNode()}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=pI(this.window.history)||pI(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(n){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),t}();function pI(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var id,cm=function t(){g(this,t)},Mz=function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=(pc=pc||document.querySelector("base"))?pc.getAttribute("href"):null;return null==a?null:function(t){(id=id||document.createElement("a")).setAttribute("href",t);var r=id.pathname;return"/"===r.charAt(0)?r:"/".concat(r)}(a)}},{key:"resetBaseElement",value:function(){pc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return oI(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function(t){Wh||(Wh=t)}(new e)}}]),e}(function(t){M(e,t);var r=R(e);function e(){var n;return g(this,e),(n=r.apply(this,arguments)).supportsDOMEvents=!0,n}return e}(cG)),pc=null,vI=new _e("TRANSITION_ID"),Nz=[{provide:_u,useFactory:function(t,r,e){return function(){e.get(Cu).donePromise.then(function(){for(var n=xi(),i=r.querySelectorAll('style[ng-transition="'.concat(t,'"]')),a=0;a<i.length;a++)n.remove(i[a])})}},deps:[vI,bt,dt],multi:!0}],Lz=function(){function t(){g(this,t)}return m(t,[{key:"addToWindow",value:function(e){et.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},et.getAllAngularTestabilities=function(){return e.getAllTestabilities()},et.getAllAngularRootElements=function(){return e.getAllRootElements()},et.frameworkStabilizers||(et.frameworkStabilizers=[]),et.frameworkStabilizers.push(function(a){var o=et.getAllAngularTestabilities(),s=o.length,u=!1,l=function(f){u=u||f,0==--s&&a(u)};o.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(e,n,i){if(null==n)return null;var a=e.getTestability(n);return null!=a?a:i?xi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}],[{key:"init",value:function(){!function(t){Ay=t}(new t)}}]),t}(),Vz=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),vc=new _e("EventManagerPlugins"),od=function(){var t=function(){function r(e,n){var i=this;g(this,r),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return m(r,[{key:"addEventListener",value:function(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}},{key:"addGlobalEventListener",value:function(n,i,a){return this._findPluginFor(i).addGlobalEventListener(n,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(n){var i=this._eventNameToPlugin.get(n);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var s=a[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error("No event manager plugin found for event ".concat(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(vc),F($e))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),fm=function(){function t(r){g(this,t),this._doc=r}return m(t,[{key:"addGlobalEventListener",value:function(e,n,i){var a=xi().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(n));return this.addEventListener(a,n,i)}}]),t}(),yI=function(){var t=function(){function r(){g(this,r),this._stylesSet=new Set}return m(r,[{key:"addStyles",value:function(n){var i=this,a=new Set;n.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(n){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),gc=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return g(this,n),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return m(n,[{key:"_addStylesToHost",value:function(a,o,s){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,s.push(o.appendChild(c))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(mI),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(s,u){o._addStylesToHost(a,u,s)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(mI)})}}]),n}(yI);return t.\u0275fac=function(e){return new(e||t)(F(bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function mI(t){xi().remove(t)}var hm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dm=/%COMP%/g,Zz="_nghost-".concat("%COMP%"),Xz="_ngcontent-".concat("%COMP%");function sd(t,r,e){for(var n=0;n<r.length;n++){var i=r[n];Array.isArray(i)?sd(t,i,e):(i=i.replace(dm,t),e.push(i))}return e}function EI(t){return function(r){if("__ngUnwrap__"===r)return t;!1===t(r)&&(r.preventDefault(),r.returnValue=!1)}}var ud=function(){var t=function(){function r(e,n,i){g(this,r),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pm(e)}return m(r,[{key:"createRenderer",value:function(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Ur.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new tW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(n),a;case 1:case Ur.ShadowDom:return new nW(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){var o=sd(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(od),F(gc),F(oc))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),pm=function(){function t(r){g(this,t),this.eventManager=r,this.data=Object.create(null)}return m(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,n){return n?document.createElementNS(hm[n]||n,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,n){e.appendChild(n)}},{key:"insertBefore",value:function(e,n,i){e&&e.insertBefore(n,i)}},{key:"removeChild",value:function(e,n){e&&e.removeChild(n)}},{key:"selectRootElement",value:function(e,n){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return n||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,n,i,a){if(a){n=a+":"+n;var o=hm[a];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}},{key:"removeAttribute",value:function(e,n,i){if(i){var a=hm[i];a?e.removeAttributeNS(a,n):e.removeAttribute("".concat(i,":").concat(n))}else e.removeAttribute(n)}},{key:"addClass",value:function(e,n){e.classList.add(n)}},{key:"removeClass",value:function(e,n){e.classList.remove(n)}},{key:"setStyle",value:function(e,n,i,a){a&(Gs.DashCase|Gs.Important)?e.style.setProperty(n,i,a&Gs.Important?"important":""):e.style[n]=i}},{key:"removeStyle",value:function(e,n,i){i&Gs.DashCase?e.style.removeProperty(n):e.style[n]=""}},{key:"setProperty",value:function(e,n,i){e[n]=i}},{key:"setValue",value:function(e,n){e.nodeValue=n}},{key:"listen",value:function(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,EI(i)):this.eventManager.addEventListener(e,n,EI(i))}}]),t}(),tW=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;g(this,e),(s=r.call(this,n)).component=a;var u=sd(o+"-"+a.id,a.styles,[]);return i.addStyles(u),s.contentAttr=function(t){return Xz.replace(dm,t)}(o+"-"+a.id),s.hostAttr=function(t){return Zz.replace(dm,t)}(o+"-"+a.id),s}return m(e,[{key:"applyToHost",value:function(i){ke(de(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=ke(de(e.prototype),"createElement",this).call(this,i,a);return ke(de(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(pm),nW=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;g(this,e),(s=r.call(this,n)).sharedStylesHost=i,s.hostEl=a,s.shadowRoot=a.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=sd(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return m(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return ke(de(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return ke(de(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return ke(de(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(ke(de(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(pm),rW=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return g(this,n),e.call(this,i)}return m(n,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}]),n}(fm);return t.\u0275fac=function(e){return new(e||t)(F(bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),SI=["alt","control","meta","shift"],cW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vW={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},gW=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return g(this,n),e.call(this,i)}return m(n,[{key:"supports",value:function(a){return null!=n.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=n.parseEventName(o),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return xi().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=n._normalizeKey(o.pop()),l="";if(SI.forEach(function(f){var h=o.indexOf(f);h>-1&&(o.splice(h,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var c={};return c.domEventName=s,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var o="",s=function(t){var r=t.key;if(null==r){if(null==(r=t.keyIdentifier))return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===t.location&&TI.hasOwnProperty(r)&&(r=TI[r]))}return cW[r]||r}(a);return" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),SI.forEach(function(u){u!=s&&(0,vW[u])(a)&&(o+=u+".")}),o+=s}},{key:"eventCallback",value:function(a,o,s){return function(u){n.getEventFullKey(u)===a&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){switch(a){case"esc":return"escape";default:return a}}}]),n}(fm);return t.\u0275fac=function(e){return new(e||t)(F(bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),kW=Ck(sH,"browser",[{provide:Na,useValue:"browser"},{provide:lk,useValue:function(){Mz.makeCurrent(),Lz.init()},multi:!0},{provide:bt,useFactory:function(){return t=document,bv=t,document;var t},deps:[]}]),IW=[[],{provide:Ll,useValue:"root"},{provide:To,useFactory:function(){return new To},deps:[]},{provide:vc,useClass:rW,multi:!0,deps:[bt,$e,Na]},{provide:vc,useClass:gW,multi:!0,deps:[bt]},[],{provide:ud,useClass:ud,deps:[od,gc,oc]},{provide:Ro,useExisting:ud},{provide:yI,useExisting:gc},{provide:gc,useClass:gc,deps:[bt]},{provide:Oy,useClass:Oy,deps:[$e]},{provide:od,useClass:od,deps:[vc,$e]},{provide:cm,useClass:Vz,deps:[]},[]],mm=function(){var t=function(){function r(e){if(g(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(r,null,[{key:"withServerTransition",value:function(n){return{ngModule:r,providers:[{provide:oc,useValue:n.appId},{provide:vI,useExisting:oc},Nz]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(t,12))},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:IW,imports:[ir,vH]}),t}();function le(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r[r.length-1];return Cs(n)?(r.pop(),av(r,n)):ov(r)}"undefined"!=typeof window&&window;var Dr=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this))._value=n,i}return m(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=ke(de(e.prototype),"_subscribe",this).call(this,i);return a&&!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new po;return this._value}},{key:"next",value:function(i){ke(de(e.prototype),"next",this).call(this,this._value=i)}}]),e}(xe),PW=function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"notifyNext",value:function(i,a,o,s,u){this.destination.next(a)}},{key:"notifyError",value:function(i,a){this.destination.error(i)}},{key:"notifyComplete",value:function(i){this.destination.complete()}}]),e}(_t),xW=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this)).parent=n,o.outerValue=i,o.outerIndex=a,o.index=0,o}return m(e,[{key:"_next",value:function(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}},{key:"_error",value:function(i){this.parent.notifyError(i,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(_t);function FW(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new xW(t,e,n);if(!i.closed)return r instanceof Ge?r.subscribe(i):iv(r)(i)}var II={},LW=function(){function t(r){g(this,t),this.resultSelector=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new VW(e,this.resultSelector))}}]),t}(),VW=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).resultSelector=i,a.active=0,a.values=[],a.observables=[],a}return m(e,[{key:"_next",value:function(i){this.values.push(II),this.observables.push(i)}},{key:"_complete",value:function(){var i=this.observables,a=i.length;if(0===a)this.destination.complete();else{this.active=a,this.toRespond=a;for(var o=0;o<a;o++)this.add(FW(this,i[o],void 0,o))}}},{key:"notifyComplete",value:function(i){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(i,a,o){var s=this.values,l=this.toRespond?s[o]===II?--this.toRespond:this.toRespond:0;s[o]=a,0===l&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}},{key:"_tryResultSelector",value:function(i){var a;try{a=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(a)}}]),e}(PW),ld=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function UW(){return ll(1)}function cd(){return UW()(le.apply(void 0,arguments))}var Su=new Ge(function(t){return t.complete()});function fd(t){return t?function(t){return new Ge(function(r){return t.schedule(function(){return r.complete()})})}(t):Su}function hd(t){return new Ge(function(r){var e;try{e=t()}catch(i){return void r.error(i)}return(e?ln(e):fd()).subscribe(r)})}function ar(t,r){return"function"==typeof r?function(e){return e.pipe(ar(function(n,i){return ln(t(n,i)).pipe(Oe(function(a,o){return r(n,a,i,o)}))}))}:function(e){return e.lift(new HW(t))}}var HW=function(){function t(r){g(this,t),this.project=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new GW(e,this.project))}}]),t}(),GW=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).project=i,a.index=0,a}return m(e,[{key:"_next",value:function(i){var a,o=this.index++;try{a=this.project(i,o)}catch(s){return void this.destination.error(s)}this._innerSub(a)}},{key:"_innerSub",value:function(i){var a=this.innerSubscription;a&&a.unsubscribe();var o=new Es(this),s=this.destination;s.add(o),this.innerSubscription=ws(i,o),this.innerSubscription!==o&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var i=this.innerSubscription;(!i||i.closed)&&ke(de(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&ke(de(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(i){this.destination.next(i)}}]),e}(bs),DI=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function la(t){return function(r){return 0===t?fd():r.lift(new WW(t))}}var WW=function(){function t(r){if(g(this,t),this.total=r,this.total<0)throw new DI}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new qW(e,this.total))}}]),t}(),qW=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).total=i,a.count=0,a}return m(e,[{key:"_next",value:function(i){var a=this.total,o=++this.count;o<=a&&(this.destination.next(i),o===a&&(this.destination.complete(),this.unsubscribe()))}}]),e}(_t);function Cm(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r[r.length-1];return Cs(n)?(r.pop(),function(i){return cd(r,i,n)}):function(i){return cd(r,i)}}function OI(t,r){var e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new KW(t,r,e))}}var KW=function(){function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(this,t),this.accumulator=r,this.seed=e,this.hasSeed=n}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new YW(e,this.accumulator,this.seed,this.hasSeed))}}]),t}(),YW=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n)).accumulator=i,s._seed=a,s.hasSeed=o,s.index=0,s}return m(e,[{key:"seed",get:function(){return this._seed},set:function(i){this.hasSeed=!0,this._seed=i}},{key:"_next",value:function(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}},{key:"_tryNext",value:function(i){var o,a=this.index++;try{o=this.accumulator(this.seed,i,a)}catch(s){this.destination.error(s)}this.seed=o,this.destination.next(o)}}]),e}(_t);function hn(t,r){return function(n){return n.lift(new ZW(t,r))}}var ZW=function(){function t(r,e){g(this,t),this.predicate=r,this.thisArg=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new XW(e,this.predicate,this.thisArg))}}]),t}(),XW=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).predicate=i,o.thisArg=a,o.count=0,o}return m(e,[{key:"_next",value:function(i){var a;try{a=this.predicate.call(this.thisArg,i,this.count++)}catch(o){return void this.destination.error(o)}a&&this.destination.next(i)}}]),e}(_t);function ja(t){return function(e){var n=new QW(t),i=e.lift(n);return n.caught=i}}var QW=function(){function t(r){g(this,t),this.selector=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new $W(e,this.selector,this.caught))}}]),t}(),$W=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).selector=i,o.caught=a,o}return m(e,[{key:"error",value:function(i){if(!this.isStopped){var a;try{a=this.selector(i,this.caught)}catch(u){return void ke(de(e.prototype),"error",this).call(this,u)}this._unsubscribeAndRecycle();var o=new Es(this);this.add(o);var s=ws(a,o);s!==o&&this.add(s)}}}]),e}(bs);function Tu(t,r){return en(t,r,1)}function Em(t){return function(e){return 0===t?fd():e.lift(new JW(t))}}var JW=function(){function t(r){if(g(this,t),this.total=r,this.total<0)throw new DI}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new e4(e,this.total))}}]),t}(),e4=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).total=i,a.ring=new Array,a.count=0,a}return m(e,[{key:"_next",value:function(i){var a=this.ring,o=this.total,s=this.count++;a.length<o?a.push(i):a[s%o]=i}},{key:"_complete",value:function(){var i=this.destination,a=this.count;if(a>0)for(var o=this.count>=this.total?this.total:this.count,s=this.ring,u=0;u<o;u++){var l=a++%o;i.next(s[l])}i.complete()}}]),e}(_t);function AI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r4;return function(r){return r.lift(new t4(t))}}var t4=function(){function t(r){g(this,t),this.errorFactory=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new n4(e,this.errorFactory))}}]),t}(),n4=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).errorFactory=i,a.hasValue=!1,a}return m(e,[{key:"_next",value:function(i){this.hasValue=!0,this.destination.next(i)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var i;try{i=this.errorFactory()}catch(a){i=a}this.destination.error(i)}}]),e}(_t);function r4(){return new ld}function RI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(r){return r.lift(new i4(t))}}var i4=function(){function t(r){g(this,t),this.defaultValue=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new a4(e,this.defaultValue))}}]),t}(),a4=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).defaultValue=i,a.isEmpty=!0,a}return m(e,[{key:"_next",value:function(i){this.isEmpty=!1,this.destination.next(i)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(_t);function ku(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?hn(function(i,a){return t(i,a,n)}):wf,la(1),e?RI(r):AI(function(){return new ld}))}}function ca(){}function Un(t,r,e){return function(i){return i.lift(new s4(t,r,e))}}var s4=function(){function t(r,e,n){g(this,t),this.nextOrObserver=r,this.error=e,this.complete=n}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new u4(e,this.nextOrObserver,this.error,this.complete))}}]),t}(),u4=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n))._tapNext=ca,s._tapError=ca,s._tapComplete=ca,s._tapError=a||ca,s._tapComplete=o||ca,ho(i)?(s._context=jt(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||ca,s._tapError=i.error||ca,s._tapComplete=i.complete||ca),s}return m(e,[{key:"_next",value:function(i){try{this._tapNext.call(this._context,i)}catch(a){return void this.destination.error(a)}this.destination.next(i)}},{key:"_error",value:function(i){try{this._tapError.call(this._context,i)}catch(a){return void this.destination.error(a)}this.destination.error(i)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(i){return void this.destination.error(i)}return this.destination.complete()}}]),e}(_t),c4=function(){function t(r){g(this,t),this.callback=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new f4(e,this.callback))}}]),t}(),f4=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).add(new ot(i)),a}return e}(_t),fa=function t(r,e){g(this,t),this.id=r,this.url=e},bm=function(t){M(e,t);var r=R(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g(this,e),(a=r.call(this,n,i)).navigationTrigger=o,a.restoredState=s,a}return m(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(fa),yc=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).urlAfterRedirects=a,o}return m(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(fa),MI=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).reason=a,o}return m(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(fa),h4=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n,i)).error=a,o}return m(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(fa),d4=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return m(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(fa),p4=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return m(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(fa),v4=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s){var u;return g(this,e),(u=r.call(this,n,i)).urlAfterRedirects=a,u.state=o,u.shouldActivate=s,u}return m(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(fa),g4=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return m(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(fa),y4=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return m(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(fa),PI=function(){function t(r){g(this,t),this.route=r}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),xI=function(){function t(r){g(this,t),this.route=r}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),m4=function(){function t(r){g(this,t),this.snapshot=r}return m(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_4=function(){function t(r){g(this,t),this.snapshot=r}return m(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),C4=function(){function t(r){g(this,t),this.snapshot=r}return m(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),E4=function(){function t(r){g(this,t),this.snapshot=r}return m(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),FI=function(){function t(r,e,n){g(this,t),this.routerEvent=r,this.position=e,this.anchor=n}return m(t,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),t}(),Me="primary",b4=function(){function t(r){g(this,t),this.params=r||{}}return m(t,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n[0]:n}return null}},{key:"getAll",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n:[n]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Iu(t){return new b4(t)}var NI="ngNavigationCancelingError";function wm(t){var r=Error("NavigationCancelingError: "+t);return r[NI]=!0,r}function S4(t,r,e){var n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(r.hasChildren()||n.length<t.length))return null;for(var i={},a=0;a<n.length;a++){var o=n[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Ni(t,r){var e=t?Object.keys(t):void 0,n=r?Object.keys(r):void 0;if(!e||!n||e.length!=n.length)return!1;for(var i,a=0;a<e.length;a++)if(!LI(t[i=e[a]],r[i]))return!1;return!0}function LI(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;var e=Y(t).sort(),n=Y(r).sort();return e.every(function(i,a){return n[a]===i})}return t===r}function VI(t){return Array.prototype.concat.apply([],t)}function BI(t){return t.length>0?t[t.length-1]:null}function dn(t,r){for(var e in t)t.hasOwnProperty(e)&&r(t[e],e)}function Li(t){return gh(t)?t:Hl(t)?ln(Promise.resolve(t)):le(t)}var I4={exact:function HI(t,r,e){if(!Ho(t.segments,r.segments)||!dd(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children)if(!t.children[n]||!HI(t.children[n],r.children[n],e))return!1;return!0},subset:GI},UI={exact:function(t,r){return Ni(t,r)},subset:function(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(function(e){return LI(t[e],r[e])})},ignored:function(){return!0}};function jI(t,r,e){return I4[e.paths](t.root,r.root,e.matrixParams)&&UI[e.queryParams](t.queryParams,r.queryParams)&&!("exact"===e.fragment&&t.fragment!==r.fragment)}function GI(t,r,e){return zI(t,r,r.segments,e)}function zI(t,r,e,n){if(t.segments.length>e.length){var i=t.segments.slice(0,e.length);return!(!Ho(i,e)||r.hasChildren()||!dd(i,e,n))}if(t.segments.length===e.length){if(!Ho(t.segments,e)||!dd(t.segments,e,n))return!1;for(var a in r.children)if(!t.children[a]||!GI(t.children[a],r.children[a],n))return!1;return!0}var o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Ho(t.segments,o)&&dd(t.segments,o,n)&&t.children[Me])&&zI(t.children[Me],r,s,n)}function dd(t,r,e){return r.every(function(n,i){return UI[e](t[i].parameters,n.parameters)})}var jo=function(){function t(r,e,n){g(this,t),this.root=r,this.queryParams=e,this.fragment=n}return m(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return M4.serialize(this)}}]),t}(),Fe=function(){function t(r,e){var n=this;g(this,t),this.segments=r,this.children=e,this.parent=null,dn(e,function(i,a){return i.parent=n})}return m(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return pd(this)}}]),t}(),mc=function(){function t(r,e){g(this,t),this.path=r,this.parameters=e}return m(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Iu(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return YI(this)}}]),t}();function Ho(t,r){return t.length===r.length&&t.every(function(e,n){return e.path===r[n].path})}var Sm=function t(){g(this,t)},WI=function(){function t(){g(this,t)}return m(t,[{key:"parse",value:function(e){var n=new j4(e);return new jo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}},{key:"serialize",value:function(e){var n="/".concat(_c(e.root,!0)),i=function(t){var r=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(i){return"".concat(vd(e),"=").concat(vd(i))}).join("&"):"".concat(vd(e),"=").concat(vd(n))}).filter(function(e){return!!e});return r.length?"?".concat(r.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function(t){return encodeURI(t)}(e.fragment)):"";return"".concat(n).concat(i).concat(a)}}]),t}(),M4=new WI;function pd(t){return t.segments.map(function(r){return YI(r)}).join("/")}function _c(t,r){if(!t.hasChildren())return pd(t);if(r){var e=t.children[Me]?_c(t.children[Me],!1):"",n=[];return dn(t.children,function(a,o){o!==Me&&n.push("".concat(o,":").concat(_c(a,!1)))}),n.length>0?"".concat(e,"(").concat(n.join("//"),")"):e}var i=function(t,r){var e=[];return dn(t.children,function(n,i){i===Me&&(e=e.concat(r(n,i)))}),dn(t.children,function(n,i){i!==Me&&(e=e.concat(r(n,i)))}),e}(t,function(a,o){return o===Me?[_c(t.children[Me],!1)]:["".concat(o,":").concat(_c(a,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[Me]?"".concat(pd(t),"/").concat(i[0]):"".concat(pd(t),"/(").concat(i.join("//"),")")}function qI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vd(t){return qI(t).replace(/%3B/gi,";")}function Tm(t){return qI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gd(t){return decodeURIComponent(t)}function KI(t){return gd(t.replace(/\+/g,"%20"))}function YI(t){return"".concat(Tm(t.path)).concat(function(t){return Object.keys(t).map(function(r){return";".concat(Tm(r),"=").concat(Tm(t[r]))}).join("")}(t.parameters))}var N4=/^[^\/()?;=#]+/;function yd(t){var r=t.match(N4);return r?r[0]:""}var L4=/^[^=?&#]+/,B4=/^[^?&#]+/,j4=function(){function t(r){g(this,t),this.url=r,this.remaining=r}return m(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Me]=new Fe(e,n)),i}},{key:"parseSegment",value:function(){var e=yd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new mc(gd(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var n=yd(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=yd(this.remaining);a&&this.capture(i=a)}e[gd(n)]=gd(i)}}},{key:"parseQueryParam",value:function(e){var n=function(t){var r=t.match(L4);return r?r[0]:""}(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=function(t){var r=t.match(B4);return r?r[0]:""}(this.remaining);a&&this.capture(i=a)}var o=KI(n),s=KI(i);if(e.hasOwnProperty(o)){var u=e[o];Array.isArray(u)||(e[o]=u=[u]),u.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=yd(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Me);var s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Me]:new Fe([],s),this.consumeOptional("//")}return n}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),t}(),ZI=function(){function t(r){g(this,t),this._root=r}return m(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}},{key:"children",value:function(e){var n=km(e,this._root);return n?n.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var n=km(e,this._root);return n&&n.children.length>0?n.children[0].value:null}},{key:"siblings",value:function(e){var n=Im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Im(e,this._root).map(function(n){return n.value})}}]),t}();function km(t,r){if(t===r.value)return r;var n,e=T(r.children);try{for(e.s();!(n=e.n()).done;){var a=km(t,n.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Im(t,r){if(t===r.value)return[r];var n,e=T(r.children);try{for(e.s();!(n=e.n()).done;){var a=Im(t,n.value);if(a.length)return a.unshift(r),a}}catch(o){e.e(o)}finally{e.f()}return[]}var ha=function(){function t(r,e){g(this,t),this.value=r,this.children=e}return m(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Cc(t){var r={};return t&&t.children.forEach(function(e){return r[e.value.outlet]=e}),r}var XI=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).snapshot=i,Dm(jt(a),n),a}return m(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(ZI);function QI(t,r){var e=function(t,r){var o=new md([],{},{},"",{},Me,r,null,t.root,-1,{});return new JI("",new ha(o,[]))}(t,r),n=new Dr([new mc("",{})]),i=new Dr({}),a=new Dr({}),o=new Dr({}),s=new Dr(""),u=new Du(n,i,o,s,a,Me,r,e.root);return u.snapshot=e.root,new XI(new ha(u,[]),e)}var Du=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return m(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(function(e){return Iu(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(function(e){return Iu(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function $I(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=t.pathFromRoot,n=0;if("always"!==r)for(n=e.length-1;n>=1;){var i=e[n],a=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return G4(e.slice(n))}function G4(t){return t.reduce(function(r,e){return{params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var md=function(){function t(r,e,n,i,a,o,s,u,l,c,f){g(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=f}return m(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Iu(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),n=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(n,"')")}}]),t}(),JI=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,i)).url=n,Dm(jt(a),i),a}return m(e,[{key:"toString",value:function(){return eD(this._root)}}]),e}(ZI);function Dm(t,r){r.value._routerState=t,r.children.forEach(function(e){return Dm(t,e)})}function eD(t){var r=t.children.length>0?" { ".concat(t.children.map(eD).join(", ")," } "):"";return"".concat(t.value).concat(r)}function Om(t){if(t.snapshot){var r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ni(r.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),r.fragment!==e.fragment&&t.fragment.next(e.fragment),Ni(r.params,e.params)||t.params.next(e.params),function(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(!Ni(t[e],r[e]))return!1;return!0}(r.url,e.url)||t.url.next(e.url),Ni(r.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Am(t,r){return Ni(t.params,r.params)&&function(t,r){return Ho(t,r)&&t.every(function(e,n){return Ni(e.parameters,r[n].parameters)})}(t.url,r.url)&&!(!t.parent!=!r.parent)&&(!t.parent||Am(t.parent,r.parent))}function _d(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){var n=e.value;n._futureSnapshot=r.value;var i=function(t,r,e){return r.children.map(function(n){var a,i=T(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.shouldReuseRoute(n.value,o.value.snapshot))return _d(t,n,o)}}catch(s){i.e(s)}finally{i.f()}return _d(t,n)})}(t,r,e);return new ha(n,i)}if(t.shouldAttach(r.value)){var a=t.retrieve(r.value);if(null!==a){var o=a.route;return tD(r,o),o}}var s=function(t){return new Du(new Dr(t.url),new Dr(t.params),new Dr(t.queryParams),new Dr(t.fragment),new Dr(t.data),t.outlet,t.component,t)}(r.value),u=r.children.map(function(l){return _d(t,l)});return new ha(s,u)}function tD(t,r){if(t.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=t.value;for(var e=0;e<t.children.length;++e)tD(t.children[e],r.children[e])}function K4(t,r,e,n,i){if(0===e.length)return Rm(r.root,r.root,r,n,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rD(!0,0,t);var r=0,e=!1,n=t.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var s={};return dn(a.outlets,function(u,l){s[l]="string"==typeof u?u.split("/"):u}),[].concat(Y(i),[{outlets:s}])}if(a.segmentPath)return[].concat(Y(i),[a.segmentPath])}return"string"!=typeof a?[].concat(Y(i),[a]):0===o?(a.split("/").forEach(function(u,l){0==l&&"."===u||(0==l&&""===u?e=!0:".."===u?r++:""!=u&&i.push(u))}),i):[].concat(Y(i),[a])},[]);return new rD(e,r,n)}(e);if(a.toRoot())return Rm(r.root,new Fe([],{}),r,n,i);var o=function(t,r,e){if(t.isAbsolute)return new Mm(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){var n=e.snapshot._urlSegment;return new Mm(n,n===r.root,0)}var a=Cd(t.commands[0])?0:1;return function(t,r,e){for(var n=t,i=r,a=e;a>i;){if(a-=i,!(n=n.parent))throw new Error("Invalid number of '../'");i=n.segments.length}return new Mm(n,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(a,r,t),s=o.processChildren?Ed(o.segmentGroup,o.index,a.commands):iD(o.segmentGroup,o.index,a.commands);return Rm(o.segmentGroup,s,r,n,i)}function Cd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ec(t){return"object"==typeof t&&null!=t&&t.outlets}function Rm(t,r,e,n,i){var a={};return n&&dn(n,function(o,s){a[s]=Array.isArray(o)?o.map(function(u){return"".concat(u)}):"".concat(o)}),new jo(e.root===t?r:nD(e.root,t,r),a,i)}function nD(t,r,e){var n={};return dn(t.children,function(i,a){n[a]=i===r?e:nD(i,r,e)}),new Fe(t.segments,n)}var rD=function(){function t(r,e,n){if(g(this,t),this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&Cd(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(Ec);if(i&&i!==BI(n))throw new Error("{outlets:{}} has to be the last command")}return m(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Mm=function t(r,e,n){g(this,t),this.segmentGroup=r,this.processChildren=e,this.index=n};function iD(t,r,e){if(t||(t=new Fe([],{})),0===t.segments.length&&t.hasChildren())return Ed(t,r,e);var n=function(t,r,e){for(var n=0,i=r,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=e.length)return a;var o=t.segments[i],s=e[n];if(Ec(s))break;var u="".concat(s),l=n<e.length-1?e[n+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!oD(u,l,o))return a;n+=2}else{if(!oD(u,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var a=new Fe(t.segments.slice(0,n.pathIndex),{});return a.children[Me]=new Fe(t.segments.slice(n.pathIndex),t.children),Ed(a,0,i)}return n.match&&0===i.length?new Fe(t.segments,{}):n.match&&!t.hasChildren()?Pm(t,r,e):n.match?Ed(t,0,i):Pm(t,r,e)}function Ed(t,r,e){if(0===e.length)return new Fe(t.segments,{});var n=function(t){return Ec(t[0])?t[0].outlets:ie({},Me,t)}(e),i={};return dn(n,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=iD(t.children[o],r,a))}),dn(t.children,function(a,o){void 0===n[o]&&(i[o]=a)}),new Fe(t.segments,i)}function Pm(t,r,e){for(var n=t.segments.slice(0,r),i=0;i<e.length;){var a=e[i];if(Ec(a)){var o=J4(a.outlets);return new Fe(n,o)}if(0===i&&Cd(e[0]))n.push(new mc(t.segments[r].path,aD(e[0]))),i++;else{var u=Ec(a)?a.outlets[Me]:"".concat(a),l=i<e.length-1?e[i+1]:null;u&&l&&Cd(l)?(n.push(new mc(u,aD(l))),i+=2):(n.push(new mc(u,{})),i++)}}return new Fe(n,{})}function J4(t){var r={};return dn(t,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(r[n]=Pm(new Fe([],{}),0,e))}),r}function aD(t){var r={};return dn(t,function(e,n){return r[n]="".concat(e)}),r}function oD(t,r,e){return t==e.path&&Ni(r,e.parameters)}var t8=function(){function t(r,e,n,i){g(this,t),this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i}return m(t,[{key:"activate",value:function(e){var n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Om(this.futureState.root),this.activateChildRoutes(n,i,e)}},{key:"deactivateChildRoutes",value:function(e,n,i){var a=this,o=Cc(n);e.children.forEach(function(s){var u=s.value.outlet;a.deactivateRoutes(s,o[u],i),delete o[u]}),dn(o,function(s,u){a.deactivateRouteAndItsChildren(s,i)})}},{key:"deactivateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(a===o)if(a.component){var s=i.getContext(a.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}},{key:"detachAndStoreRouteSubtree",value:function(e,n){var i=n.getContext(e.value.outlet);if(i&&i.outlet){var a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:o})}}},{key:"deactivateRouteAndOutlet",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=Cc(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,n,i){var a=this,o=Cc(n);e.children.forEach(function(s){a.activateRoutes(s,o[s.value.outlet],i),a.forwardEvent(new E4(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _4(e.value.snapshot))}},{key:"activateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(Om(a),a===o)if(a.component){var s=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(a.component){var u=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var l=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),sD(l.route)}else{var c=function(t){for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),f=c?c.module.componentFactoryResolver:null;u.attachRef=null,u.route=a,u.resolver=f,u.outlet&&u.outlet.activateWith(a,f),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}]),t}();function sD(t){Om(t.value),t.children.forEach(sD)}var xm=function t(r,e){g(this,t),this.routes=r,this.module=e};function Ha(t){return"function"==typeof t}function Go(t){return t instanceof jo}var bc=Symbol("INITIAL_VALUE");function wc(){return ar(function(t){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=void 0,i=void 0;return Cs(r[r.length-1])&&(i=r.pop()),"function"==typeof r[r.length-1]&&(n=r.pop()),1===r.length&&Yn(r[0])&&(r=r[0]),ov(r,i).lift(new LW(n))}(t.map(function(r){return r.pipe(la(1),Cm(bc))})).pipe(OI(function(r,e){var n=!1;return e.reduce(function(i,a,o){return i!==bc?i:(a===bc&&(n=!0),n||!1!==a&&o!==e.length-1&&!Go(a)?i:a)},r)},bc),hn(function(r){return r!==bc}),Oe(function(r){return Go(r)?r:!0===r}),la(1))})}var uD=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=At({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&kt(0,"router-outlet")},directives:function(){return[jm]},encapsulation:2}),t}();function lD(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<t.length;e++){var n=t[e],i=l8(r,n);u8(n,i)}}function u8(t,r){t.children&&lD(t.children,r)}function l8(t,r){return r?t||r.path?t&&!r.path?"".concat(t,"/"):!t&&r.path?r.path:"".concat(t,"/").concat(r.path):"":t}function Fm(t){var r=t.children&&t.children.map(Fm),e=r?Object.assign(Object.assign({},t),{children:r}):Object.assign({},t);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Me&&(e.component=uD),e}function Or(t){return t.outlet||Me}function cD(t,r){var e=t.filter(function(n){return Or(n)===r});return e.push.apply(e,Y(t.filter(function(n){return Or(n)!==r}))),e}var fD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bd(t,r,e){var n;if(""===r.path)return"full"===r.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},fD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var a=(r.matcher||S4)(e,t,r);if(!a)return Object.assign({},fD);var o={};dn(a.posParams,function(u,l){o[l]=u.path});var s=a.consumed.length>0?Object.assign(Object.assign({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:s,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function wd(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&h8(t,e,n)){var a=new Fe(r,f8(t,r,n,new Fe(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&d8(t,e,n)){var o=new Fe(t.segments,c8(t,r,e,n,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=r.length,{segmentGroup:o,slicedSegments:e}}var s=new Fe(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=r.length,{segmentGroup:s,slicedSegments:e}}function c8(t,r,e,n,i,a){var u,o={},s=T(n);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(Sd(t,e,l)&&!i[Or(l)]){var c=new Fe([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:r.length,o[Or(l)]=c}}}catch(f){s.e(f)}finally{s.f()}return Object.assign(Object.assign({},i),o)}function f8(t,r,e,n){var i={};i[Me]=n,n._sourceSegment=t,n._segmentIndexShift=r.length;var o,a=T(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&Or(s)!==Me){var u=new Fe([],{});u._sourceSegment=t,u._segmentIndexShift=r.length,i[Or(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}function h8(t,r,e){return e.some(function(n){return Sd(t,r,n)&&Or(n)!==Me})}function d8(t,r,e){return e.some(function(n){return Sd(t,r,n)})}function Sd(t,r,e){return(!(t.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function hD(t,r,e,n){return!!(Or(t)===n||n!==Me&&Sd(r,e,t))&&("**"===t.path||bd(r,t,e).matched)}function dD(t,r,e){return 0===r.length&&!t.children[e]}var Sc=function t(r){g(this,t),this.segmentGroup=r||null},pD=function t(r){g(this,t),this.urlTree=r};function Td(t){return new Ge(function(r){return r.error(new Sc(t))})}function vD(t){return new Ge(function(r){return r.error(new pD(t))})}function p8(t){return new Ge(function(r){return r.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var y8=function(){function t(r,e,n,i,a){g(this,t),this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(aa)}return m(t,[{key:"apply",value:function(){var e=this,n=wd(this.urlTree.root,[],[],this.config).segmentGroup,i=new Fe(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Me).pipe(Oe(function(s){return e.createUrlTree(Nm(s),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(ja(function(s){if(s instanceof pD)return e.allowRedirects=!1,e.match(s.urlTree);throw s instanceof Sc?e.noMatchError(s):s}))}},{key:"match",value:function(e){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Me).pipe(Oe(function(o){return n.createUrlTree(Nm(o),e.queryParams,e.fragment)})).pipe(ja(function(o){throw o instanceof Sc?n.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,n,i){var a=e.segments.length>0?new Fe([],ie({},Me,e)):e;return new jo(a,n,i)}},{key:"expandSegmentGroup",value:function(e,n,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(Oe(function(o){return new Fe([],o)})):this.expandSegment(e,i,n,i.segments,a,!0)}},{key:"expandChildren",value:function(e,n,i){for(var a=this,o=[],s=0,u=Object.keys(i.children);s<u.length;s++){var l=u[s];"primary"===l?o.unshift(l):o.push(l)}return ln(o).pipe(Tu(function(c){var f=i.children[c],h=cD(n,c);return a.expandSegmentGroup(e,h,f,c).pipe(Oe(function(d){return{segment:d,outlet:c}}))}),OI(function(c,f){return c[f.outlet]=f.segment,c},{}),function(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?hn(function(i,a){return t(i,a,n)}):wf,Em(1),e?RI(r):AI(function(){return new ld}))}}())}},{key:"expandSegment",value:function(e,n,i,a,o,s){var u=this;return ln(i).pipe(Tu(function(l){return u.expandSegmentAgainstRoute(e,n,i,l,a,o,s).pipe(ja(function(f){if(f instanceof Sc)return le(null);throw f}))}),ku(function(l){return!!l}),ja(function(l,c){if(l instanceof ld||"EmptyError"===l.name){if(dD(n,a,o))return le(new Fe([],{}));throw new Sc(n)}throw l}))}},{key:"expandSegmentAgainstRoute",value:function(e,n,i,a,o,s,u){return hD(a,n,o,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,n,a,o,s):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s):Td(n):Td(n)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,n,i,a){var o=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?vD(s):this.lineralizeSegments(i,s).pipe(en(function(u){var l=new Fe(u,{});return o.expandSegment(e,l,n,u,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){var u=this,l=bd(n,a,o),f=l.consumedSegments,h=l.lastChild,d=l.positionalParamSegments;if(!l.matched)return Td(n);var p=this.applyRedirectCommands(f,a.redirectTo,d);return a.redirectTo.startsWith("/")?vD(p):this.lineralizeSegments(a,p).pipe(en(function(v){return u.expandSegment(e,n,i,v.concat(o.slice(h)),s,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,n,i,a,o){var s=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?le(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(Oe(function(v){return i._loadedConfig=v,new Fe(a,{})})):le(new Fe(a,{}));var l=bd(n,i,a),f=l.consumedSegments,h=l.lastChild;if(!l.matched)return Td(n);var d=a.slice(h);return this.getChildConfig(e,i,a).pipe(en(function(v){var y=v.module,C=v.routes,_=wd(n,f,d,C),E=_.segmentGroup,b=_.slicedSegments,w=new Fe(E.segments,E.children);if(0===b.length&&w.hasChildren())return s.expandChildren(y,C,w).pipe(Oe(function(V){return new Fe(f,V)}));if(0===C.length&&0===b.length)return le(new Fe(f,{}));var D=Or(i)===o;return s.expandSegment(y,w,C,b,D?Me:o,!0).pipe(Oe(function(V){return new Fe(f.concat(V.segments),V.children)}))}))}},{key:"getChildConfig",value:function(e,n,i){var a=this;return n.children?le(new xm(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?le(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(en(function(o){return o?a.configLoader.load(e.injector,n).pipe(Oe(function(s){return n._loadedConfig=s,s})):function(t){return new Ge(function(r){return r.error(wm("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(n)})):le(new xm([],e))}},{key:"runCanLoadGuards",value:function(e,n,i){var a=this,o=n.canLoad;return o&&0!==o.length?le(o.map(function(u){var c,l=e.get(u);if(function(t){return t&&Ha(t.canLoad)}(l))c=l.canLoad(n,i);else{if(!Ha(l))throw new Error("Invalid CanLoad guard");c=l(n,i)}return Li(c)})).pipe(wc(),Un(function(u){if(Go(u)){var l=wm('Redirecting to "'.concat(a.urlSerializer.serialize(u),'"'));throw l.url=u,l}}),Oe(function(u){return!0===u})):le(!0)}},{key:"lineralizeSegments",value:function(e,n){for(var i=[],a=n.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return le(i);if(a.numberOfChildren>1||!a.children[Me])return p8(e.redirectTo);a=a.children[Me]}}},{key:"applyRedirectCommands",value:function(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,n,i,a){var o=this.createSegmentGroup(e,n.root,i,a);return new jo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}},{key:"createQueryParams",value:function(e,n){var i={};return dn(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var u=a.substring(1);i[o]=n[u]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,n,i,a){var o=this,s=this.createSegments(e,n.segments,i,a),u={};return dn(n.children,function(l,c){u[c]=o.createSegmentGroup(e,l,i,a)}),new Fe(s,u)}},{key:"createSegments",value:function(e,n,i,a){var o=this;return n.map(function(s){return s.path.startsWith(":")?o.findPosParam(e,s,a):o.findOrReturn(s,i)})}},{key:"findPosParam",value:function(e,n,i){var a=i[n.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(n.path,"'."));return a}},{key:"findOrReturn",value:function(e,n){var o,i=0,a=T(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.path===e.path)return n.splice(i),s;i++}}catch(u){a.e(u)}finally{a.f()}return e}}]),t}();function Nm(t){for(var r={},e=0,n=Object.keys(t.children);e<n.length;e++){var i=n[e],o=Nm(t.children[i]);(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children[Me]){var r=t.children[Me];return new Fe(t.segments.concat(r.segments),r.children)}return t}(new Fe(t.segments,r))}var gD=function t(r){g(this,t),this.path=r,this.route=this.path[this.path.length-1]},kd=function t(r,e){g(this,t),this.component=r,this.route=e};function C8(t,r,e){var n=t._root;return Tc(n,r?r._root:null,e,[n.value])}function Id(t,r,e){var n=function(t){if(!t)return null;for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(n?n.module.injector:e).get(t)}function Tc(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Cc(r);return t.children.forEach(function(o){w8(o,a[o.value.outlet],e,n.concat([o.value]),i),delete a[o.value.outlet]}),dn(a,function(o,s){return kc(o,e.getContext(s),i)}),i}function w8(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=S8(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gD(n)):(a.data=o.data,a._resolvedData=o._resolvedData),Tc(t,r,a.component?s?s.children:null:e,n,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new kd(s.outlet.component,o))}else o&&kc(r,s,i),i.canActivateChecks.push(new gD(n)),Tc(t,null,a.component?s?s.children:null:e,n,i);return i}function S8(t,r,e){if("function"==typeof e)return e(t,r);switch(e){case"pathParamsChange":return!Ho(t.url,r.url);case"pathParamsOrQueryParamsChange":return!Ho(t.url,r.url)||!Ni(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Am(t,r)||!Ni(t.queryParams,r.queryParams);case"paramsChange":default:return!Am(t,r)}}function kc(t,r,e){var n=Cc(t),i=t.value;dn(n,function(a,o){kc(a,i.component?r?r.children.getContext(o):null:r,e)}),e.canDeactivateChecks.push(new kd(i.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,i))}var P8=function t(){g(this,t)};function yD(t){return new Ge(function(r){return r.error(t)})}var F8=function(){function t(r,e,n,i,a,o){g(this,t),this.rootComponentType=r,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return m(t,[{key:"recognize",value:function(){var e=wd(this.urlTree.root,[],[],this.config.filter(function(s){return void 0===s.redirectTo}),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Me);if(null===n)return null;var i=new md([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ha(i,n),o=new JI(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var n=this,i=e.value,a=$I(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return n.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}},{key:"processChildren",value:function(e,n){for(var i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a],u=n.children[s],l=cD(e,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;i.push.apply(i,Y(c))}var f=mD(i);return function(t){t.sort(function(r,e){return r.value.outlet===Me?-1:e.value.outlet===Me?1:r.value.outlet.localeCompare(e.value.outlet)})}(f),f}},{key:"processSegment",value:function(e,n,i,a){var s,o=T(e);try{for(o.s();!(s=o.n()).done;){var l=this.processSegmentAgainstRoute(s.value,n,i,a);if(null!==l)return l}}catch(c){o.e(c)}finally{o.f()}return dD(n,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,n,i,a){if(e.redirectTo||!hD(e,n,i,a))return null;var o,s=[],u=[];if("**"===e.path){var l=i.length>0?BI(i).parameters:{};o=new md(i,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ED(e),Or(e),e.component,e,_D(n),CD(n)+i.length,bD(e))}else{var c=bd(n,e,i);if(!c.matched)return null;s=c.consumedSegments,u=i.slice(c.lastChild),o=new md(s,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ED(e),Or(e),e.component,e,_D(n),CD(n)+s.length,bD(e))}var f=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),h=wd(n,s,u,f.filter(function(_){return void 0===_.redirectTo}),this.relativeLinkResolution),d=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&d.hasChildren()){var v=this.processChildren(f,d);return null===v?null:[new ha(o,v)]}if(0===f.length&&0===p.length)return[new ha(o,[])];var y=Or(e)===a,C=this.processSegment(f,d,p,y?Me:a);return null===C?null:[new ha(o,C)]}}]),t}();function mD(t){var i,r=[],e=new Set,n=T(t);try{var a=function(){var h=i.value;if(!function(t){var r=t.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}(h))return r.push(h),"continue";var p,d=r.find(function(v){return h.value.routeConfig===v.value.routeConfig});void 0!==d?((p=d.children).push.apply(p,Y(h.children)),e.add(d)):r.push(h)};for(n.s();!(i=n.n()).done;)a()}catch(f){n.e(f)}finally{n.f()}var u,s=T(e);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=mD(l.children);r.push(new ha(l.value,c))}}catch(f){s.e(f)}finally{s.f()}return r.filter(function(f){return!e.has(f)})}function _D(t){for(var r=t;r._sourceSegment;)r=r._sourceSegment;return r}function CD(t){for(var r=t,e=r._segmentIndexShift?r._segmentIndexShift:0;r._sourceSegment;)e+=(r=r._sourceSegment)._segmentIndexShift?r._segmentIndexShift:0;return e-1}function ED(t){return t.data||{}}function bD(t){return t.resolve||{}}function Lm(t){return ar(function(r){var e=t(r);return e?ln(e).pipe(Oe(function(){return r})):le(r)})}var q8=function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return e}(function(){function t(){g(this,t)}return m(t,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,n){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,n){return e.routeConfig===n.routeConfig}}]),t}()),Vm=new _e("ROUTES"),wD=function(){function t(r,e,n,i){g(this,t),this.loader=r,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return m(t,[{key:"load",value:function(e,n){var i=this;if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);var o=this.loadModuleFactory(n.loadChildren).pipe(Oe(function(s){i.onLoadEndListener&&i.onLoadEndListener(n);var u=s.create(e);return new xm(VI(u.injector.get(Vm,void 0,Ue.Self|Ue.Optional)).map(Fm),u)}),ja(function(s){throw n._loader$=void 0,s}));return n._loader$=new SE(o,function(){return new xe}).pipe(uv()),n._loader$}},{key:"loadModuleFactory",value:function(e){var n=this;return"string"==typeof e?ln(this.loader.load(e)):Li(e()).pipe(en(function(i){return i instanceof iT?le(i):ln(n.compiler.compileModuleAsync(i))}))}}]),t}(),K8=function t(){g(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ou,this.attachRef=null},Ou=function(){function t(){g(this,t),this.contexts=new Map}return m(t,[{key:"onChildOutletCreated",value:function(e,n){var i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var n=this.getContext(e);n&&(n.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var n=this.getContext(e);return n||(n=new K8,this.contexts.set(e,n)),n}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),t}(),Z8=function(){function t(){g(this,t)}return m(t,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,n){return e}}]),t}();function X8(t){throw t}function Q8(t,r,e){return r.parse("/")}function SD(t,r){return le(null)}var $8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=function(){var t=function(){function r(e,n,i,a,o,s,u,l){var c=this;g(this,r),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe,this.errorHandler=X8,this.malformedUriErrorHandler=Q8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:SD,afterPreactivation:SD},this.urlHandlingStrategy=new Z8,this.routeReuseStrategy=new q8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(aa),this.console=o.get(Nh);var d=o.get($e);this.isNgZoneEnabled=d instanceof $e&&$e.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new jo(new Fe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wD(s,u,function(v){return c.triggerEvent(new PI(v))},function(v){return c.triggerEvent(new xI(v))}),this.routerState=QI(this.currentUrlTree,this.rootComponentType),this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(r,[{key:"browserPageId",get:function(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}},{key:"setupNavigations",value:function(n){var i=this,a=this.events;return n.pipe(hn(function(o){return 0!==o.id}),Oe(function(o){return Object.assign(Object.assign({},o),{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),ar(function(o){var s=!1,u=!1;return le(o).pipe(Un(function(l){i.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:i.lastSuccessfulNavigation?Object.assign(Object.assign({},i.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ar(function(l){var c=i.browserUrlTree.toString(),f=!i.navigated||l.extractedUrl.toString()!==c||c!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||f)&&i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Dd(l.source)&&(i.browserUrlTree=l.extractedUrl),le(l).pipe(ar(function(w){var I=i.transitions.getValue();return a.next(new bm(w.id,i.serializeUrl(w.extractedUrl),w.source,w.restoredState)),I!==i.transitions.getValue()?Su:Promise.resolve(w)}),function(t,r,e,n){return ar(function(i){return function(t,r,e,n,i){return new y8(t,r,e,n,i).apply()}(t,r,e,i.extractedUrl,n).pipe(Oe(function(a){return Object.assign(Object.assign({},i),{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),Un(function(w){i.currentNavigation=Object.assign(Object.assign({},i.currentNavigation),{finalUrl:w.urlAfterRedirects})}),function(t,r,e,n,i){return en(function(a){return function(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new F8(t,r,e,n,i,a).recognize();return null===o?yD(new P8):le(o)}catch(s){return yD(s)}}(t,r,a.urlAfterRedirects,e(a.urlAfterRedirects),n,i).pipe(Oe(function(o){return Object.assign(Object.assign({},a),{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(w){return i.serializeUrl(w)},i.paramsInheritanceStrategy,i.relativeLinkResolution),Un(function(w){"eager"===i.urlUpdateStrategy&&(w.extras.skipLocationChange||i.setBrowserUrl(w.urlAfterRedirects,w),i.browserUrlTree=w.urlAfterRedirects);var I=new d4(w.id,i.serializeUrl(w.extractedUrl),i.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);a.next(I)}));if(f&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var v=l.extractedUrl,y=l.source,C=l.restoredState,_=l.extras,E=new bm(l.id,i.serializeUrl(v),y,C);a.next(E);var b=QI(v,i.rootComponentType).snapshot;return le(Object.assign(Object.assign({},l),{targetSnapshot:b,urlAfterRedirects:v,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=l.rawUrl,i.browserUrlTree=l.urlAfterRedirects,l.resolve(null),Su}),Lm(function(l){var p=l.extras;return i.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!p.skipLocationChange,replaceUrl:!!p.replaceUrl})}),Un(function(l){var c=new p4(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);i.triggerEvent(c)}),Oe(function(l){return Object.assign(Object.assign({},l),{guards:C8(l.targetSnapshot,l.currentSnapshot,i.rootContexts)})}),function(t,r){return en(function(e){var n=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?le(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,r,e,n){return ln(t).pipe(en(function(i){return function(t,r,e,n,i){var a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;return a&&0!==a.length?le(a.map(function(s){var l,u=Id(s,r,i);if(function(t){return t&&Ha(t.canDeactivate)}(u))l=Li(u.canDeactivate(t,r,e,n));else{if(!Ha(u))throw new Error("Invalid CanDeactivate guard");l=Li(u(t,r,e,n))}return l.pipe(ku())})).pipe(wc()):le(!0)}(i.component,i.route,e,r,n)}),ku(function(i){return!0!==i},!0))}(s,n,i,t).pipe(en(function(u){return u&&function(t){return"boolean"==typeof t}(u)?function(t,r,e,n){return ln(r).pipe(Tu(function(i){return cd(function(t,r){return null!==t&&r&&r(new m4(t)),le(!0)}(i.route.parent,n),function(t,r){return null!==t&&r&&r(new C4(t)),le(!0)}(i.route,n),function(t,r,e){var n=r[r.length-1],a=r.slice(0,r.length-1).reverse().map(function(o){return function(t){var r=t.routeConfig?t.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:t,guards:r}:null}(o)}).filter(function(o){return null!==o}).map(function(o){return hd(function(){return le(o.guards.map(function(u){var c,l=Id(u,o.node,e);if(function(t){return t&&Ha(t.canActivateChild)}(l))c=Li(l.canActivateChild(n,t));else{if(!Ha(l))throw new Error("Invalid CanActivateChild guard");c=Li(l(n,t))}return c.pipe(ku())})).pipe(wc())})});return le(a).pipe(wc())}(t,i.path,e),function(t,r,e){var n=r.routeConfig?r.routeConfig.canActivate:null;return n&&0!==n.length?le(n.map(function(a){return hd(function(){var s,o=Id(a,r,e);if(function(t){return t&&Ha(t.canActivate)}(o))s=Li(o.canActivate(r,t));else{if(!Ha(o))throw new Error("Invalid CanActivate guard");s=Li(o(r,t))}return s.pipe(ku())})})).pipe(wc()):le(!0)}(t,i.route,e))}),ku(function(i){return!0!==i},!0))}(n,o,t,r):le(u)}),Oe(function(u){return Object.assign(Object.assign({},e),{guardsResult:u})}))})}(i.ngModule.injector,function(l){return i.triggerEvent(l)}),Un(function(l){if(Go(l.guardsResult)){var c=wm('Redirecting to "'.concat(i.serializeUrl(l.guardsResult),'"'));throw c.url=l.guardsResult,c}var f=new v4(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);i.triggerEvent(f)}),hn(function(l){return!!l.guardsResult||(i.restoreHistory(l),i.cancelNavigationTransition(l,""),!1)}),Lm(function(l){if(l.guards.canActivateChecks.length)return le(l).pipe(Un(function(c){var f=new g4(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}),ar(function(c){var f=!1;return le(c).pipe(function(t,r){return en(function(e){var n=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return le(e);var a=0;return ln(i).pipe(Tu(function(o){return function(t,r,e,n){return function(t,r,e,n){var i=Object.keys(t);if(0===i.length)return le({});var a={};return ln(i).pipe(en(function(o){return function(t,r,e,n){var i=Id(t,r,n);return Li(i.resolve?i.resolve(r,e):i(r,e))}(t[o],r,e,n).pipe(Un(function(s){a[o]=s}))}),Em(1),en(function(){return Object.keys(a).length===i.length?le(a):Su}))}(t._resolve,t,r,n).pipe(Oe(function(a){return t._resolvedData=a,t.data=Object.assign(Object.assign({},t.data),$I(t,e).resolve),null}))}(o.route,n,t,r)}),Un(function(){return a++}),Em(1),en(function(o){return a===i.length?le(e):Su}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),Un({next:function(){return f=!0},complete:function(){f||(i.restoreHistory(c),i.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Un(function(c){var f=new y4(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}))}),Lm(function(l){var p=l.extras;return i.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!p.skipLocationChange,replaceUrl:!!p.replaceUrl})}),Oe(function(l){var c=function(t,r,e){var n=_d(t,r._root,e?e._root:void 0);return new XI(n,r)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),Un(function(l){i.currentUrlTree=l.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),i.routerState=l.targetRouterState,"deferred"===i.urlUpdateStrategy&&(l.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,l),i.browserUrlTree=l.urlAfterRedirects)}),function(r,e,n){return Oe(function(i){return new t8(e,i.targetRouterState,i.currentRouterState,n).activate(r),i})}(i.rootContexts,i.routeReuseStrategy,function(l){return i.triggerEvent(l)}),Un({next:function(){s=!0},complete:function(){s=!0}}),function(t){return function(r){return r.lift(new c4(t))}}(function(){if(!s&&!u){var l="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);"replace"===i.canceledNavigationResolution&&i.restoreHistory(o),i.cancelNavigationTransition(o,l)}i.currentNavigation=null}),ja(function(l){if(u=!0,function(t){return t&&t[NI]}(l)){var c=Go(l.url);c||(i.navigated=!0,i.restoreHistory(o,!0));var f=new MI(o.id,i.serializeUrl(o.extractedUrl),l.message);a.next(f),c?setTimeout(function(){var d=i.urlHandlingStrategy.merge(l.url,i.rawUrlTree),p={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||Dd(o.source)};i.scheduleNavigation(d,"imperative",null,p,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var h=new h4(o.id,i.serializeUrl(o.extractedUrl),l);a.next(h);try{o.resolve(i.errorHandler(l))}catch(d){o.reject(d)}}return Su}))}))}},{key:"resetRootComponentType",value:function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}},{key:"setTransition",value:function(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a=n.extractLocationChangeInfoFromEvent(i);n.shouldScheduleNavigation(n.lastLocationChangeInfo,a)&&setTimeout(function(){var o=a.source,s=a.state,u=a.urlTree,l={replaceUrl:!0};if(s){var c=Object.assign({},s);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(l.state=c)}n.scheduleNavigation(u,o,s,l)},0),n.lastLocationChangeInfo=a}))}},{key:"extractLocationChangeInfoFromEvent",value:function(n){var i;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(n,i){if(!n)return!0;var a=i.urlTree.toString()===n.urlTree.toString();return!(i.transitionId===n.transitionId&&a&&("hashchange"===i.source&&"popstate"===n.source||"popstate"===i.source&&"hashchange"===n.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(n){this.events.next(n)}},{key:"resetConfig",value:function(n){lD(n),this.config=n.map(Fm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,s=i.fragment,u=i.queryParamsHandling,l=i.preserveFragment,c=a||this.routerState.root,f=l?this.currentUrlTree.fragment:s,h=null;switch(u){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),K4(c,this.currentUrlTree,n,h,null!=f?f:null)}},{key:"navigateByUrl",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=Go(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return e5(n),this.navigateByUrl(this.createUrlTree(n,i),i)}},{key:"serializeUrl",value:function(n){return this.urlSerializer.serialize(n)}},{key:"parseUrl",value:function(n){var i;try{i=this.urlSerializer.parse(n)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return i}},{key:"isActive",value:function(n,i){var a;if(a=!0===i?Object.assign({},$8):!1===i?Object.assign({},J8):i,Go(n))return jI(this.currentUrlTree,n,a);var o=this.parseUrl(n);return jI(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(n){return Object.keys(n).reduce(function(i,a){var o=n[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var n=this;this.navigations.subscribe(function(i){n.navigated=!0,n.lastSuccessfulId=i.id,n.currentPageId=i.targetPageId,n.events.next(new yc(i.id,n.serializeUrl(i.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,i.resolve(!0)},function(i){n.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(n,i,a,o,s){var u,l;if(this.disposed)return Promise.resolve(!1);var v,y,C,c=this.getTransition(),f=Dd(i)&&c&&!Dd(c.source),p=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===n.toString();if(f&&p)return Promise.resolve(!0);s?(v=s.resolve,y=s.reject,C=s.promise):C=new Promise(function(w,I){v=w,y=I});var E,_=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),E=a&&a.\u0275routerPageId?a.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):E=0,this.setTransition({id:_,targetPageId:E,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:v,reject:y,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(function(w){return Promise.reject(w)})}},{key:"setBrowserUrl",value:function(n,i){var a=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(n){var a,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var s=this.currentPageId-n.targetPageId,u="popstate"===n.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);u&&0!==s?this.location.historyGo(s):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(n,i){var a=new MI(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(a),n.resolve(!1)}},{key:"generateNgRouterState",value:function(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,"\u0275routerPageId":i}:{navigationId:n}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(Kf),F(Sm),F(Ou),F(qh),F(dt),F(Vh),F(No),F(void 0))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function e5(t){for(var r=0;r<t.length;r++){var e=t[r];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(r))}}function Dd(t){return"imperative"!==t}var jm=function(){var t=function(){function r(e,n,i,a,o){g(this,r),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new me,this.deactivateEvents=new me,this.name=a||Me,e.onChildOutletCreated(this.name,this)}return m(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,n}},{key:"attach",value:function(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView)}},{key:"deactivate",value:function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}},{key:"activateWith",value:function(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var s=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,l=new r5(n,u,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(Ou),S(br),S(fu),function(t){return function(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;var e=t.attrs;if(e)for(var n=e.length,i=0;i<n;){var a=e[i];if(nb(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<n&&"string"==typeof e[i];)i++;else{if(a===r)return e[i+1];i+=2}}return null}(Xt(),t)}("name"),S($r))},t.\u0275dir=te({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),r5=function(){function t(r,e,n){g(this,t),this.route=r,this.childContexts=e,this.parent=n}return m(t,[{key:"get",value:function(e,n){return e===Du?this.route:e===Ou?this.childContexts:this.parent.get(e,n)}}]),t}(),TD=function t(){g(this,t)},i5=function(){function t(){g(this,t)}return m(t,[{key:"preload",value:function(e,n){return n().pipe(ja(function(){return le(null)}))}}]),t}(),kD=function(){function t(){g(this,t)}return m(t,[{key:"preload",value:function(e,n){return le(null)}}]),t}(),ID=function(){var t=function(){function r(e,n,i,a,o){g(this,r),this.router=e,this.injector=a,this.preloadingStrategy=o,this.loader=new wD(n,i,function(c){return e.triggerEvent(new PI(c))},function(c){return e.triggerEvent(new xI(c))})}return m(r,[{key:"setUpPreloading",value:function(){var n=this;this.subscription=this.router.events.pipe(hn(function(i){return i instanceof yc}),Tu(function(){return n.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var n=this.injector.get(aa);return this.processRoutes(n,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(n,i){var s,a=[],o=T(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;a.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(n,u)):u.children&&a.push(this.processRoutes(n,u.children))}}catch(c){o.e(c)}finally{o.f()}return ln(a).pipe(ll(),Oe(function(c){}))}},{key:"preloadConfig",value:function(n,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?le(i._loadedConfig):a.loader.load(n.injector,i)).pipe(en(function(s){return i._loadedConfig=s,a.processRoutes(s.module,s.routes)}))})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(jn),F(Vh),F(No),F(dt),F(TD))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Hm=function(){var t=function(){function r(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,r),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return m(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof bm?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=i.navigationTrigger,n.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof yc&&(n.lastId=i.id,n.scheduleScrollEvent(i,n.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof FI&&(i.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(n,i){this.router.triggerEvent(new FI(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(jn),F(dI),F(void 0))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),zo=new _e("ROUTER_CONFIGURATION"),DD=new _e("ROUTER_FORROOT_GUARD"),o5=[qh,{provide:Sm,useClass:WI},{provide:jn,useFactory:function(t,r,e,n,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new jn(null,t,r,e,n,i,a,VI(o));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),h5(s,c),s.enableTracing&&c.events.subscribe(function(f){var h,d;null===(h=console.group)||void 0===h||h.call(console,"Router Event: ".concat(f.constructor.name)),console.log(f.toString()),console.log(f),null===(d=console.groupEnd)||void 0===d||d.call(console)}),c},deps:[Sm,Ou,qh,dt,Vh,No,Vm,zo,[function t(){g(this,t)},new Nn],[function t(){g(this,t)},new Nn]]},Ou,{provide:Du,useFactory:function(t){return t.routerState.root},deps:[jn]},{provide:Vh,useClass:$j},ID,kD,i5,{provide:zo,useValue:{enableTracing:!1}}];function s5(){return new Ry("Router",jn)}var OD=function(){var t=function(){function r(e,n){g(this,r)}return m(r,null,[{key:"forRoot",value:function(n,i){return{ngModule:r,providers:[o5,AD(n),{provide:DD,useFactory:c5,deps:[[jn,new Nn,new Pa]]},{provide:zo,useValue:i||{}},{provide:wu,useFactory:l5,deps:[Uo,[new Bs(Zy),new Nn],zo]},{provide:Hm,useFactory:u5,deps:[jn,dI,zo]},{provide:TD,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:kD},{provide:Ry,multi:!0,useFactory:s5},[Gm,{provide:_u,multi:!0,useFactory:p5,deps:[Gm]},{provide:RD,useFactory:v5,deps:[Gm]},{provide:ck,multi:!0,useExisting:RD}]]}}},{key:"forChild",value:function(n){return{ngModule:r,providers:[AD(n)]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(DD,8),F(jn,8))},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({}),t}();function u5(t,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Hm(t,r,e)}function l5(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new vG(t,r):new Xk(t,r)}function c5(t){return"guarded"}function AD(t){return[{provide:Gx,multi:!0,useValue:t},{provide:Vm,multi:!0,useValue:t}]}function h5(t,r){t.errorHandler&&(r.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(r.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(r.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(r.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(r.urlUpdateStrategy=t.urlUpdateStrategy)}var Gm=function(){var t=function(){function r(e){g(this,r),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xe}return m(r,[{key:"appInitializer",value:function(){var n=this;return this.injector.get(hG,Promise.resolve(null)).then(function(){if(n.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(l){return a=l}),s=n.injector.get(jn),u=n.injector.get(zo);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),a(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=function(){return n.initNavigation?le(null):(n.initNavigation=!0,a(!0),n.resultOfPreactivationDone)},s.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(n){var i=this.injector.get(zo),a=this.injector.get(ID),o=this.injector.get(Hm),s=this.injector.get(jn),u=this.injector.get(Lo);n===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),o.init(),s.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(dt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}();function p5(t){return t.appInitializer.bind(t)}function v5(t){return t.bootstrapListener.bind(t)}var RD=new _e("Router Initializer"),zm=function(t,r){return(zm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])})(t,r)};function Ic(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=t}zm(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function Hn(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}function Gn(t,r){var n,i,a,o,e={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(a=(a=e.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(6===l[0]&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(c){l=[6,c],i=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}var Ad=function(){return function(){}}(),Ru=function(t){function r(e){var n=t.call(this)||this;return n.errorMessage=e,n}return Ic(r,t),Object.defineProperty(r.prototype,"Type",{get:function(){return"ErrorOccurredMessage"},enumerable:!1,configurable:!0}),r}(Ad),Rd=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.positions=e,o.userPos=n,o.title=i,o.details=a,o}return Ic(r,t),Object.defineProperty(r.prototype,"Type",{get:function(){return"ShowMapMessage"},enumerable:!1,configurable:!0}),r}(Ad),_5=function(){function t(){}return Object.defineProperty(t.prototype,"BaseUrl",{get:function(){return"https://api.sr.se/api/v2/"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FormatParam",{get:function(){return"format=json"},enumerable:!1,configurable:!0}),t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),C5=function(){return function(){}}();function Wm(t){return t*Math.PI/180}function ND(t,r,e,n){var a=Wm(n-r),o=Wm(t),s=Wm(e),u=6371*Math.acos(Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a));return Math.round(u)}var LD=function t(){g(this,t)},VD=function t(){g(this,t)},Dc=function(){function t(r){var e=this;g(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){e.headers=new Map,r.split("\n").forEach(function(n){var i=n.indexOf(":");if(i>0){var a=n.slice(0,i),o=a.toLowerCase(),s=n.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(s):e.headers.set(o,[s])}})}:function(){e.headers=new Map,Object.keys(r).forEach(function(n){var i=r[n],a=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(n,a))})}:this.headers=new Map}return m(t,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,n){return this.clone({name:e,value:n,op:"a"})}},{key:"set",value:function(e,n){return this.clone({name:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({name:e,value:n,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(n){return e.applyUpdate(n)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var n=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){n.headers.set(i,e.headers.get(i)),n.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(e){var n=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);var a=("a"===e.op?this.headers.get(n):void 0)||[];a.push.apply(a,Y(i)),this.headers.set(n,a);break;case"d":var o=e.value;if(o){var s=this.headers.get(n);if(!s)return;0===(s=s.filter(function(u){return-1===o.indexOf(u)})).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(e){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(n.normalizedNames.get(i),n.headers.get(i))})}}]),t}(),b5=function(){function t(){g(this,t)}return m(t,[{key:"encodeKey",value:function(e){return BD(e)}},{key:"encodeValue",value:function(e){return BD(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),t}();function w5(t,r){var e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),s=z(-1==a?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,a)),r.decodeValue(i.slice(a+1))],2),u=s[0],l=s[1],c=e.get(u)||[];c.push(l),e.set(u,c)}),e}var S5=/%(\d[a-f0-9])/gi,T5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function BD(t){return encodeURIComponent(t).replace(S5,function(r,e){var n;return null!==(n=T5[e])&&void 0!==n?n:r})}function UD(t){return"".concat(t)}var Mu=function(){function t(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g(this,t),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new b5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=w5(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(n){var i=e.fromObject[n];r.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}return m(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var n=this.map.get(e);return n?n[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,n){return this.clone({param:e,value:n,op:"a"})}},{key:"appendAll",value:function(e){var n=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}},{key:"set",value:function(e,n){return this.clone({param:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({param:e,value:n,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(n){var i=e.encoder.encodeKey(n);return e.map.get(n).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(n){return""!==n}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(n){return e.map.set(n,e.cloneFrom.map.get(n))}),this.updates.forEach(function(n){switch(n.op){case"a":case"s":var i=("a"===n.op?e.map.get(n.param):void 0)||[];i.push(UD(n.value)),e.map.set(n.param,i);break;case"d":if(void 0===n.value){e.map.delete(n.param);break}var a=e.map.get(n.param)||[],o=a.indexOf(UD(n.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(n.param,a):e.map.delete(n.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),k5=function(){function t(){g(this,t),this.map=new Map}return m(t,[{key:"set",value:function(e,n){return this.map.set(e,n),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function jD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function HD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function GD(t){return"undefined"!=typeof FormData&&t instanceof FormData}var qm=function(){function t(r,e,n,i){var a;if(g(this,t),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Dc),this.context||(this.context=new k5),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new Mu,this.urlWithParams=e}return m(t,[{key:"serializeBody",value:function(){return null===this.body?null:jD(this.body)||HD(this.body)||GD(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||GD(this.body)?null:HD(this.body)?this.body.type||null:jD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.method||this.method,a=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,f=e.params||this.params,h=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce(function(d,p){return d.set(p,e.setHeaders[p])},c)),e.setParams&&(f=Object.keys(e.setParams).reduce(function(d,p){return d.set(p,e.setParams[p])},f)),new t(i,a,s,{params:f,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:u})}}]),t}(),Oc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Km=function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";g(this,t),this.headers=r.headers||new Dc,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300},O5=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,e),(n=r.call(this,i)).type=Oc.ResponseHeader,n}return m(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Km),zD=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,e),(n=r.call(this,i)).type=Oc.Response,n.body=void 0!==i.body?i.body:null,n}return m(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(Km),WD=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this,n,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(n.url||"(unknown url)"):"Http failure response for ".concat(n.url||"(unknown url)",": ").concat(n.status," ").concat(n.statusText),i.error=n.error||null,i}return e}(Km);function Ym(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var qD=function(){var t=function(){function r(e){g(this,r),this.handler=e}return m(r,[{key:"request",value:function(n,i){var s,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n instanceof qm)s=n;else{var u=void 0;u=o.headers instanceof Dc?o.headers:new Dc(o.headers);var l=void 0;o.params&&(l=o.params instanceof Mu?o.params:new Mu({fromObject:o.params})),s=new qm(n,i,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var c=le(s).pipe(Tu(function(h){return a.handler.handle(h)}));if(n instanceof qm||"events"===o.observe)return c;var f=c.pipe(hn(function(h){return h instanceof zD}));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe(Oe(function(h){if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return f.pipe(Oe(function(h){if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return f.pipe(Oe(function(h){if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));case"json":default:return f.pipe(Oe(function(h){return h.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",n,i)}},{key:"get",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",n,i)}},{key:"head",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",n,i)}},{key:"jsonp",value:function(n,i){return this.request("JSONP",n,{params:(new Mu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",n,i)}},{key:"patch",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",n,Ym(a,i))}},{key:"post",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",n,Ym(a,i))}},{key:"put",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",n,Ym(a,i))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(LD))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),KD=function(){function t(r,e){g(this,t),this.next=r,this.interceptor=e}return m(t,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),t}(),Zm=new _e("HTTP_INTERCEPTORS"),A5=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"intercept",value:function(n,i){return i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),R5=/^\)\]\}',?\n/,YD=function(){var t=function(){function r(e){g(this,r),this.xhrFactory=e}return m(r,[{key:"handle",value:function(n){var i=this;if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ge(function(a){var o=i.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach(function(C,_){return o.setRequestHeader(C,_.join(","))}),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){var s=n.detectContentTypeHeader();null!==s&&o.setRequestHeader("Content-Type",s)}if(n.responseType){var u=n.responseType.toLowerCase();o.responseType="json"!==u?u:"text"}var l=n.serializeBody(),c=null,f=function(){if(null!==c)return c;var _=1223===o.status?204:o.status,E=o.statusText||"OK",b=new Dc(o.getAllResponseHeaders()),w=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new O5({headers:b,status:_,statusText:E,url:w})},h=function(){var _=f(),E=_.headers,b=_.status,w=_.statusText,I=_.url,D=null;204!==b&&(D=void 0===o.response?o.responseText:o.response),0===b&&(b=D?200:0);var N=b>=200&&b<300;if("json"===n.responseType&&"string"==typeof D){var V=D;D=D.replace(R5,"");try{D=""!==D?JSON.parse(D):null}catch(G){D=V,N&&(N=!1,D={error:G,text:D})}}N?(a.next(new zD({body:D,headers:E,status:b,statusText:w,url:I||void 0})),a.complete()):a.error(new WD({error:D,headers:E,status:b,statusText:w,url:I||void 0}))},d=function(_){var E=f(),w=new WD({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E.url||void 0});a.error(w)},p=!1,v=function(_){p||(a.next(f()),p=!0);var E={type:Oc.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),"text"===n.responseType&&!!o.responseText&&(E.partialText=o.responseText),a.next(E)},y=function(_){var E={type:Oc.UploadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),a.next(E)};return o.addEventListener("load",h),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",v),null!==l&&o.upload&&o.upload.addEventListener("progress",y)),o.send(l),a.next({type:Oc.Sent}),function(){o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",h),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",v),null!==l&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(cm))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Xm=new _e("XSRF_COOKIE_NAME"),Qm=new _e("XSRF_HEADER_NAME"),ZD=function t(){g(this,t)},P5=function(){var t=function(){function r(e,n,i){g(this,r),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return m(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=oI(n,this.cookieName),this.lastCookieString=n),this.lastToken}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(bt),F(Na),F(Xm))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),$m=function(){var t=function(){function r(e,n){g(this,r),this.tokenService=e,this.headerName=n}return m(r,[{key:"intercept",value:function(n,i){var a=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(n);var o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(ZD),F(Qm))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),x5=function(){var t=function(){function r(e,n){g(this,r),this.backend=e,this.injector=n,this.chain=null}return m(r,[{key:"handle",value:function(n){if(null===this.chain){var i=this.injector.get(Zm,[]);this.chain=i.reduceRight(function(a,o){return new KD(a,o)},this.backend)}return this.chain.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(VD),F(dt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),F5=function(){var t=function(){function r(){g(this,r)}return m(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:$m,useClass:A5}]}}},{key:"withOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[n.cookieName?{provide:Xm,useValue:n.cookieName}:[],n.headerName?{provide:Qm,useValue:n.headerName}:[]]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:[$m,{provide:Zm,useExisting:$m,multi:!0},{provide:ZD,useClass:P5},{provide:Xm,useValue:"XSRF-TOKEN"},{provide:Qm,useValue:"X-XSRF-TOKEN"}]}),t}(),N5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:[qD,{provide:LD,useClass:x5},YD,{provide:VD,useExisting:YD}],imports:[[F5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),Ac=function(){function t(){}return t.prototype.logInfo=function(r){console.info(r)},t.prototype.logError=function(r){console.error(r)},t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),Jm=function(t){return t[t.V\u00e4gtrafik=0]="V\xe4gtrafik",t[t.Kollektivtrafik=1]="Kollektivtrafik",t[t.PlaneradSt\u00f6rening=2]="PlaneradSt\xf6rening",t[t.\u00d6vrigt=3]="\xd6vrigt",t}({}),XD=function(t){return t.V\u00e4garbete="V\xe4garbete",t.Trafikst\u00f6rning="Trafikst\xf6rning",t.TrafikOlycka="Trafikolycka",t}({}),QD=function(t){function r(e,n){var i=t.call(this)||this;return i.http=e,i.logger=n,i.categoryMap={0:"V\xe4gtrafik",1:"Kollektivtrafik",2:"Planerad st\xf6rning",3:"\xd6vrigt"},i.priorityNameMap={0:"Empty",1:"Mycket allvarlig h\xe4ndelse",2:"Stor h\xe4ndelse",3:"St\xf6rning",4:"Information",5:"Mindre st\xf6rning"},i}return Ic(r,t),r.prototype.fetchAllTrafficAreas=function(){return Hn(this,void 0,void 0,function(){var n;return Gn(this,function(i){switch(i.label){case 0:return[4,this.http.get(this.BaseUrl+"traffic/areas/?page=1&size=100&"+this.FormatParam).toPromise()];case 1:return(n=i.sent()).areas.sort(function(a,o){return a.name.localeCompare(o.name)}),[2,n.areas]}})})},r.prototype.fetchClosestTrafficAreaForPosition=function(e){return Hn(this,void 0,void 0,function(){return Gn(this,function(a){switch(a.label){case 0:return[4,this.http.get(this.BaseUrl+"traffic/areas/?longitude="+e.lng+"&latitude="+e.lat+"&"+this.FormatParam).toPromise()];case 1:return[2,a.sent().area]}})})},r.prototype.fetchAllTrafficMessages=function(e){return Hn(this,void 0,void 0,function(){return Gn(this,function(i){switch(i.label){case 0:return[4,this.fetchMessages(this.BaseUrl+"traffic/messages/?page=1&size=200&"+this.FormatParam,e)];case 1:return[2,i.sent()]}})})},r.prototype.fetchAllTrafficMessagesForArea=function(e,n){return Hn(this,void 0,void 0,function(){return Gn(this,function(a){switch(a.label){case 0:return[4,this.fetchMessages(this.BaseUrl+"traffic/messages/?trafficareaname="+e+"&page=1&size=100&"+this.FormatParam,n)];case 1:return[2,a.sent()]}})})},r.prototype.getCachedMessageFromId=function(e){if(this.cachedMessages)return this.cachedMessages.find(function(n){return n.id===e})},r.prototype.fetchMessages=function(e,n){return Hn(this,void 0,void 0,function(){var i,a,o=this;return Gn(this,function(s){switch(s.label){case 0:return[4,this.http.get(""+e).toPromise()];case 1:return i=s.sent(),a=[],i.messages.forEach(function(u){var l=new C5;if(l.category=u.category,l.categoryName=o.categoryMap[u.category],l.priorityName=o.priorityNameMap[u.priority],l.priority=u.priority,l.description=u.description,l.title=u.title,l.subCategory=u.subcategory,l.exactLocation=u.exactlocation,l.latitude=u.latitude,l.longitude=u.longitude,l.id=u.id,n.lng&&n.lat&&u.latitude&&u.longitude)try{l.distance=ND(n.lat,n.lng,u.latitude,u.longitude)}catch(c){o.logger.logError(c)}u.createddate&&(l.createdDate=function(t){return"/Date(-62135596800000)/"===t?null:new Date(JSON.parse(t.match(/\d+/)[0]))}(u.createddate)),a.push(l)}),a.sort(function(u,l){return u.priority<l.priority?-1:1}),this.cachedMessages=a,[2,this.cachedMessages]}})})},r.\u0275prov=W({token:r,factory:r.\u0275fac=function(n){return new(n||r)(F(qD),F(Ac))},providedIn:"root"}),r}(_5),Wo=function(){function t(){this.subject=new xe}return t.prototype.sendMessage=function(r){this.subject.next(r)},t.prototype.getMessage=function(){return this.subject.asObservable()},t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),L5=function(){function t(){this.localStorage=window.localStorage}return t.prototype.get=function(r){if(this.isSupported){var e=this.localStorage.getItem(r);if(e)try{return JSON.parse(e)}catch(n){}}return null},t.prototype.set=function(r,e){return!!this.isSupported&&(this.localStorage.setItem(r,JSON.stringify(e)),!0)},Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.localStorage},enumerable:!1,configurable:!0}),t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),Q=function(){var t=function(){function r(){g(this,r)}return m(r,null,[{key:"addClass",value:function(n,i){n.classList?n.classList.add(i):n.className+=" "+i}},{key:"addMultipleClasses",value:function(n,i){if(n.classList)for(var a=i.trim().split(" "),o=0;o<a.length;o++)n.classList.add(a[o]);else for(var s=i.split(" "),u=0;u<s.length;u++)n.className+=" "+s[u]}},{key:"removeClass",value:function(n,i){n.classList?n.classList.remove(i):n.className=n.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(n,i){return n.classList?n.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(n.className)}},{key:"siblings",value:function(n){return Array.prototype.filter.call(n.parentNode.children,function(i){return i!==n})}},{key:"find",value:function(n,i){return Array.from(n.querySelectorAll(i))}},{key:"findSingle",value:function(n,i){return n?n.querySelector(i):null}},{key:"index",value:function(n){for(var i=n.parentNode.childNodes,a=0,o=0;o<i.length;o++){if(i[o]==n)return a;1==i[o].nodeType&&a++}return-1}},{key:"indexWithinGroup",value:function(n,i){for(var a=n.parentNode?n.parentNode.childNodes:[],o=0,s=0;s<a.length;s++){if(a[s]==n)return o;a[s].attributes&&a[s].attributes[i]&&1==a[s].nodeType&&o++}return-1}},{key:"relativePosition",value:function(n,i){var l,c,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=i.offsetHeight,s=i.getBoundingClientRect(),u=this.getViewport();s.top+o+a.height>u.height?(l=-1*a.height,n.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,n.style.transformOrigin="top"),c=a.width>u.width?-1*s.left:s.left+a.width>u.width?-1*(s.left+a.width-u.width):0,n.style.top=l+"px",n.style.left=c+"px"}},{key:"absolutePosition",value:function(n,i){var p,v,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=a.height,s=a.width,u=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),f=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();c.top+u+o>d.height?(p=c.top+f-o,n.style.transformOrigin="bottom",p<0&&(p=f)):(p=u+c.top+f,n.style.transformOrigin="top"),v=c.left+s>d.width?Math.max(0,c.left+h+l-s):c.left+h,n.style.top=p+"px",n.style.left=v+"px"}},{key:"getParents",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===n.parentNode?i:this.getParents(n.parentNode,i.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var i=[];if(n){var l,a=this.getParents(n),o=/(auto|scroll)/,s=function(_){var E=window.getComputedStyle(_,null);return o.test(E.getPropertyValue("overflow"))||o.test(E.getPropertyValue("overflowX"))||o.test(E.getPropertyValue("overflowY"))},u=T(a);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=1===c.nodeType&&c.dataset.scrollselectors;if(f){var p,d=T(f.split(","));try{for(d.s();!(p=d.n()).done;){var y=this.findSingle(c,p.value);y&&s(y)&&i.push(y)}}catch(C){d.e(C)}finally{d.f()}}9!==c.nodeType&&s(c)&&i.push(c)}}catch(C){u.e(C)}finally{u.f()}}return i}},{key:"getHiddenElementOuterHeight",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementOuterWidth",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementDimensions",value:function(n){var i={};return n.style.visibility="hidden",n.style.display="block",i.width=n.offsetWidth,i.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",i}},{key:"scrollInView",value:function(n,i){var a=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=a?parseFloat(a):0,s=getComputedStyle(n).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=n.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,h=n.scrollTop,d=n.clientHeight,p=this.getOuterHeight(i);f<0?n.scrollTop=h+f:f+p>d&&(n.scrollTop=h+f-d+p)}},{key:"fadeIn",value:function(n,i){n.style.opacity=0;var a=+new Date,o=0;!function u(){o=+n.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,n.style.opacity=o,a=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))}()}},{key:"fadeOut",value:function(n,i){var a=1,u=50/i,l=setInterval(function(){(a-=u)<=0&&(a=0,clearInterval(l)),n.style.opacity=a},50)}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"matches",value:function(n,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(n,i)}},{key:"getOuterWidth",value:function(n,i){var a=n.offsetWidth;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return a}},{key:"getHorizontalPadding",value:function(n){var i=getComputedStyle(n);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}},{key:"getHorizontalMargin",value:function(n){var i=getComputedStyle(n);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}},{key:"innerWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"width",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"getInnerHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i+(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom))}},{key:"getOuterHeight",value:function(n,i){var a=n.offsetHeight;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return a}},{key:"getHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))}},{key:"getWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))}},{key:"getViewport",value:function(){var n=window,i=document,a=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:n.innerWidth||a.clientWidth||o.clientWidth,height:n.innerHeight||a.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(n){var i=n.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(n,i){var a=n.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,n)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||(n.indexOf("Trident/")>0?(n.indexOf("rv:"),!0):n.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"appendChild",value:function(n,i){if(this.isElement(i))i.appendChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+n;i.el.nativeElement.appendChild(n)}}},{key:"removeChild",value:function(n,i){if(this.isElement(i))i.removeChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+n+" from "+i;i.el.nativeElement.removeChild(n)}}},{key:"removeElement",value:function(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}},{key:"isElement",value:function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}},{key:"calculateScrollbarWidth",value:function(n){if(n){var i=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var o=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=o,o}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=i,i}},{key:"invokeElementMethod",value:function(n,i,a){n[i].apply(n,a)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(n){}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:i[1]||"",version:i[2]||"0"}}},{key:"isInteger",value:function(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}},{key:"isHidden",value:function(n){return null===n.offsetParent}},{key:"getFocusableElements",value:function(n){var s,a=[],o=T(r.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'));try{for(o.s();!(s=o.n()).done;){var u=s.value;"none"!=getComputedStyle(u).display&&"hidden"!=getComputedStyle(u).visibility&&a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),r}();return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t}(),$D=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};g(this,t),this.element=r,this.listener=e}return m(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Q.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),Lt=function(){function t(){g(this,t)}return m(t,null,[{key:"equals",value:function(e,n,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(n,i):this.equalsByValue(e,n)}},{key:"equalsByValue",value:function(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var o,s,u,i=Array.isArray(e),a=Array.isArray(n);if(i&&a){if((s=e.length)!=n.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],n[o]))return!1;return!0}if(i!=a)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var f=e instanceof RegExp,h=n instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==n.toString();var d=Object.keys(e);if((s=d.length)!==Object.keys(n).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,d[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[u=d[o]],n[u]))return!1;return!0}return e!=e&&n!=n}},{key:"resolveFieldData",value:function(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(-1==n.indexOf("."))return e[n];for(var i=n.split("."),a=e,o=0,s=i.length;o<s;++o){if(null==a)return null;a=a[i[o]]}return a}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"reorderArray",value:function(e,n,i){e&&n!==i&&(i>=e.length&&(i%=e.length,n%=e.length),e.splice(i,0,e.splice(n,1)[0]))}},{key:"insertIntoOrderedArray",value:function(e,n,i,a){if(i.length>0){for(var o=!1,s=0;s<i.length;s++)if(this.findIndexInList(i[s],a)>n){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}},{key:"findIndexInList",value:function(e,n){var i=-1;if(n)for(var a=0;a<n.length;a++)if(n[a]==e){i=a;break}return i}},{key:"contains",value:function(e,n){if(null!=e&&n&&n.length){var a,i=T(n);try{for(i.s();!(a=i.n()).done;)if(this.equals(e,a.value))return!0}catch(s){i.e(s)}finally{i.f()}}return!1}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}}]),t}(),JD=0;function eO(){return JD++,"".concat("pr_id_").concat(JD)}var t,i,ci=(t=[],{get:i=function(o){return o&&parseInt(o.style.zIndex,10)||0},set:function(o,s,u){s&&(s.style.zIndex=String(function(o,s){var u=t.length>0?t[t.length-1]:{key:o,value:s},l=u.value+(u.key===o?0:s)+1;return t.push({key:o,value:l}),l}(o,u)))},clear:function(o){o&&(function(o){t=t.filter(function(s){return s.value!==o})}(i(o)),o.style.zIndex="")},getCurrent:function(){return t.length>0?t[t.length-1].value:0}}),tO=["*"],mn=function(){var t=function r(){g(this,r)};return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t}(),Rc=function(){var t=function(){function r(){g(this,r),this.ripple=!1,this.filterMatchModeOptions={text:[mn.STARTS_WITH,mn.CONTAINS,mn.NOT_CONTAINS,mn.ENDS_WITH,mn.EQUALS,mn.NOT_EQUALS],numeric:[mn.EQUALS,mn.NOT_EQUALS,mn.LESS_THAN,mn.LESS_THAN_OR_EQUAL_TO,mn.GREATER_THAN,mn.GREATER_THAN_OR_EQUAL_TO],date:[mn.DATE_IS,mn.DATE_IS_NOT,mn.DATE_BEFORE,mn.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new xe,this.translationObserver=this.translationSource.asObservable()}return m(r,[{key:"getTranslation",value:function(n){return this.translation[n]}},{key:"setTranslation",value:function(n){this.translation=Object.assign(Object.assign({},this.translation),n),this.translationSource.next(this.translation)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),nO=function(){var t=function r(){g(this,r)};return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t}(),B5=function(){var t=function(){function r(){var e=this;g(this,r),this.filters={startsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=Lt.removeAccents(a.toString()).toLocaleLowerCase(o);return Lt.removeAccents(i.toString()).toLocaleLowerCase(o).slice(0,s.length)===s},contains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=Lt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1!==Lt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},notContains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=Lt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1===Lt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},endsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=Lt.removeAccents(a.toString()).toLocaleLowerCase(o),u=Lt.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==u.indexOf(s,u.length-s.length)},equals:function(i,a,o){return null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():Lt.removeAccents(i.toString()).toLocaleLowerCase(o)==Lt.removeAccents(a.toString()).toLocaleLowerCase(o))},notEquals:function(i,a,o){return!(null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():Lt.removeAccents(i.toString()).toLocaleLowerCase(o)==Lt.removeAccents(a.toString()).toLocaleLowerCase(o)))},in:function(i,a){if(null==a||0===a.length)return!0;for(var o=0;o<a.length;o++)if(Lt.equals(i,a[o]))return!0;return!1},between:function(i,a){return null==a||null==a[0]||null==a[1]||null!=i&&(i.getTime?a[0].getTime()<=i.getTime()&&i.getTime()<=a[1].getTime():a[0]<=i&&i<=a[1])},lt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<a.getTime():i<a)},lte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<=a.getTime():i<=a)},gt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>a.getTime():i>a)},gte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>=a.getTime():i>=a)},is:function(i,a,o){return e.filters.equals(i,a,o)},isNot:function(i,a,o){return e.filters.notEquals(i,a,o)},before:function(i,a,o){return e.filters.lt(i,a,o)},after:function(i,a,o){return e.filters.gt(i,a,o)},dateIs:function(i,a){return null==a||null!=i&&i.toDateString()===a.toDateString()},dateIsNot:function(i,a){return null==a||null!=i&&i.toDateString()!==a.toDateString()},dateBefore:function(i,a){return null==a||null!=i&&i.getTime()<a.getTime()},dateAfter:function(i,a){return null==a||null!=i&&i.getTime()>a.getTime()}}}return m(r,[{key:"filter",value:function(n,i,a,o,s){var u=[];if(n){var c,l=T(n);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,h=T(i);try{for(h.s();!(d=h.n()).done;){var v=Lt.resolveFieldData(f,d.value);if(this.filters[o](v,a,s)){u.push(f);break}}}catch(y){h.e(y)}finally{h.f()}}}catch(y){l.e(y)}finally{l.f()}}return u}},{key:"register",value:function(n,i){this.filters[n]=i}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),e_=function(){var t=function(){function r(){g(this,r),this.messageSource=new xe,this.clearSource=new xe,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return m(r,[{key:"add",value:function(n){n&&this.messageSource.next(n)}},{key:"addAll",value:function(n){n&&n.length&&this.messageSource.next(n)}},{key:"clear",value:function(n){this.clearSource.next(n||null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),U5=function(){var t=function(){function r(){g(this,r),this.clickSource=new xe,this.clickObservable=this.clickSource.asObservable()}return m(r,[{key:"add",value:function(n){n&&this.clickSource.next(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),j5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=At({type:t,selectors:[["p-header"]],ngContentSelectors:tO,decls:1,vars:0,template:function(e,n){1&e&&(ia(),Ri(0))},encapsulation:2}),t}(),Pu=function(){var t=function(){function r(e){g(this,r),this.template=e}return m(r,[{key:"getType",value:function(){return this.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(Jr))},t.\u0275dir=te({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t}(),Md=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}(),Pd=function(){var t=function(){function r(e,n,i){g(this,r),this.el=e,this.zone=n,this.config=i}return m(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){n.create(),n.mouseDownListener=n.onMouseDown.bind(n),n.el.nativeElement.addEventListener("mousedown",n.mouseDownListener)})}},{key:"onMouseDown",value:function(n){var i=this.getInk();if(i&&"none"!==getComputedStyle(i,null).display){if(Q.removeClass(i,"p-ink-active"),!Q.getHeight(i)&&!Q.getWidth(i)){var a=Math.max(Q.getOuterWidth(this.el.nativeElement),Q.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}var o=Q.getOffset(this.el.nativeElement),s=n.pageX-o.left+document.body.scrollTop-Q.getWidth(i)/2,u=n.pageY-o.top+document.body.scrollLeft-Q.getHeight(i)/2;i.style.top=u+"px",i.style.left=s+"px",Q.addClass(i,"p-ink-active")}}},{key:"getInk",value:function(){for(var n=0;n<this.el.nativeElement.children.length;n++)if(-1!==this.el.nativeElement.children[n].className.indexOf("p-ink"))return this.el.nativeElement.children[n];return null}},{key:"resetInk",value:function(){var n=this.getInk();n&&Q.removeClass(n,"p-ink-active")}},{key:"onAnimationEnd",value:function(n){Q.removeClass(n.currentTarget,"p-ink-active")}},{key:"create",value:function(){var n=document.createElement("span");n.className="p-ink",this.el.nativeElement.appendChild(n),this.animationListener=this.onAnimationEnd.bind(this),n.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var n=this.getInk();n&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),n.removeEventListener("animationend",this.animationListener),Q.removeElement(n))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S($e),S(Rc,8))},t.\u0275dir=te({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t}(),xd=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}(),Z5=function(){var t=function(){function r(e){g(this,r),this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}return m(r,[{key:"ngAfterViewInit",value:function(){this._initialStyleClass=this.el.nativeElement.className,Q.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();var n=document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",this.label?n.appendChild(document.createTextNode(this.label)):n.innerHTML="&nbsp;",this.el.nativeElement.appendChild(n),this.initialized=!0}},{key:"getStyleClass",value:function(){var n="p-button p-component";return this.icon&&!this.label&&(n+=" p-button-icon-only"),this.loading&&(n+=" p-disabled p-button-loading",!this.icon&&this.label&&(n+=" p-button-loading-label-only")),n}},{key:"setStyleClass",value:function(){var n=this.getStyleClass();this.el.nativeElement.className=n+" "+this._initialStyleClass}},{key:"createIconEl",value:function(){var n=document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");var i=this.label?"p-button-icon-"+this.iconPos:null;i&&Q.addClass(n,i),Q.addMultipleClasses(n,this.getIconClass());var a=Q.findSingle(this.el.nativeElement,".p-button-label");a?this.el.nativeElement.insertBefore(n,a):this.el.nativeElement.appendChild(n)}},{key:"getIconClass",value:function(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}},{key:"setIconClass",value:function(){var n=Q.findSingle(this.el.nativeElement,".p-button-icon");n?n.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}},{key:"removeIconElement",value:function(){var n=Q.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(n)}},{key:"label",get:function(){return this._label},set:function(n){this._label=n,this.initialized&&(Q.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setIconClass(),this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(n){this._icon=n,this.initialized&&(this.setIconClass(),this.setStyleClass())}},{key:"loading",get:function(){return this._loading},set:function(n){this._loading=n,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}},{key:"ngOnDestroy",value:function(){this.initialized=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt))},t.\u0275dir=te({type:t,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t}(),X5=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir,xd]]}),t}();function Fd(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $5(t)?Number(t):r}function $5(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Mc(t,r,e,n){return ho(e)&&(n=e,e=void 0),n?Mc(t,r,e).pipe(Oe(function(i){return Yn(i)?n.apply(void 0,Y(i)):n(i)})):new Ge(function(i){rO(t,r,function(o){i.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},i,e)})}function rO(t,r,e,n,i){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var o=t;t.addEventListener(r,e,i),a=function(){return o.removeEventListener(r,e,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(r,e),a=function(){return s.off(r,e)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(r,e),a=function(){return u.removeListener(r,e)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)rO(t[l],r,e,n,i)}n.add(a)}var Nd=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a.pending=!1,a}return m(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(s,this.id,a),this}},{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(i.flush.bind(i,this),o)}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&this.delay===o&&!1===this.pending)return a;clearInterval(a)}},{key:"execute",value:function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(i,a);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,a){var o=!1,s=void 0;try{this.work(i)}catch(u){o=!0,s=!!u&&u||new Error(u)}if(o)return this.unsubscribe(),s}},{key:"_unsubscribe",value:function(){var i=this.id,a=this.scheduler,o=a.actions,s=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&o.splice(s,1),null!=i&&(this.id=this.recycleAsyncId(a,i,null)),this.delay=null}}]),e}(function(t){M(e,t);var r=R(e);function e(n,i){return g(this,e),r.call(this)}return m(e,[{key:"schedule",value:function(i){return this}}]),e}(ot)),i6=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return m(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?ke(de(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(function(){return i.flush(null)})))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&o>0||null===o&&this.delay>0)return ke(de(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(cancelAnimationFrame(a),i.scheduled=void 0)}}]),e}(Nd),iO=function(){var t=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;g(this,r),this.SchedulerAction=e,this.now=n}return m(r,[{key:"schedule",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,n).schedule(a,i)}}]),r}();return t.now=function(){return Date.now()},t}(),Ld=function(t){M(e,t);var r=R(e);function e(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iO.now;return g(this,e),(i=r.call(this,n,function(){return e.delegate&&e.delegate!==jt(i)?e.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return m(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(i,a,o):ke(de(e.prototype),"schedule",this).call(this,i,a,o)}},{key:"flush",value:function(i){var a=this.actions;if(this.active)a.push(i);else{var o;this.active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=a.shift());if(this.active=!1,o){for(;i=a.shift();)i.unsubscribe();throw o}}}}]),e}(iO),o6=new(function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"flush",value:function(i){this.active=!0,this.scheduled=void 0;var o,a=this.actions,s=-1,u=a.length;i=i||a.shift();do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this.active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(Ld))(i6),s6=1,u6=function(){return Promise.resolve()}(),Vd={};function aO(t){return t in Vd&&(delete Vd[t],!0)}var oO_setImmediate=function(r){var e=s6++;return Vd[e]=!0,u6.then(function(){return aO(e)&&r()}),e},oO_clearImmediate=function(r){aO(r)},l6=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return m(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?ke(de(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i.scheduled||(i.scheduled=oO_setImmediate(i.flush.bind(i,null))))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==o&&o>0||null===o&&this.delay>0)return ke(de(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(oO_clearImmediate(a),i.scheduled=void 0)}}]),e}(Nd),f6=new(function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"flush",value:function(i){this.active=!0,this.scheduled=void 0;var o,a=this.actions,s=-1,u=a.length;i=i||a.shift();do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this.active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(Ld))(l6);function sO(t){return!!t&&(t instanceof Ge||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var d6=function(){function t(r,e){g(this,t),this.compare=r,this.keySelector=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new p6(e,this.compare,this.keySelector))}}]),t}(),p6=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).keySelector=a,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return m(e,[{key:"compare",value:function(i,a){return i===a}},{key:"_next",value:function(i){var a;try{var o=this.keySelector;a=o?o(i):i}catch(l){return this.destination.error(l)}var s=!1;if(this.hasKey)try{s=(0,this.compare)(this.key,a)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=a,this.destination.next(i))}}]),e}(_t),t_=new Ld(Nd);function g6(t){return function(e){return e.lift(new y6(t))}}var y6=function(){function t(r){g(this,t),this.durationSelector=r}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new m6(e,this.durationSelector))}}]),t}(),m6=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n)).durationSelector=i,a.hasValue=!1,a}return m(e,[{key:"_next",value:function(i){if(this.value=i,this.hasValue=!0,!this.throttled){var a;try{a=(0,this.durationSelector)(i)}catch(u){return this.destination.error(u)}var s=ws(a,new Es(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}},{key:"clearThrottle",value:function(){var i=this.value,a=this.hasValue,o=this.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),a&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),e}(bs);function uO(t){return!Yn(t)&&t-parseFloat(t)+1>=0}function _6(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,n=-1;return uO(r)?n=Number(r)<1?1:Number(r):Cs(r)&&(e=r),Cs(e)||(e=t_),new Ge(function(i){var a=uO(t)?t:+t-e.now();return e.schedule(C6,a,{index:0,period:n,subscriber:i})})}function C6(t){var r=t.index,e=t.period,n=t.subscriber;if(n.next(r),!n.closed){if(-1===e)return n.complete();t.index=r+1,this.schedule(t,e)}}function n_(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_;return g6(function(){return _6(t,r)})}function Ga(t){return function(r){return r.lift(new E6(t))}}var E6=function(){function t(r){g(this,t),this.notifier=r}return m(t,[{key:"call",value:function(e,n){var i=new b6(e),a=ws(this.notifier,new Es(i));return a&&!i.seenValue?(i.add(a),n.subscribe(i)):i}}]),t}(),b6=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this,n)).seenValue=!1,i}return m(e,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(bs),S6=function(){function t(){g(this,t)}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new T6(e))}}]),t}(),T6=function(t){M(e,t);var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this,n)).hasPrev=!1,i}return m(e,[{key:"_next",value:function(i){var a;this.hasPrev?a=[this.prev,i]:this.hasPrev=!0,this.prev=i,a&&this.destination.next(a)}}]),e}(_t),k6=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return m(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a>0?ke(de(e.prototype),"schedule",this).call(this,i,a):(this.delay=a,this.state=i,this.scheduler.flush(this),this)}},{key:"execute",value:function(i,a){return a>0||this.closed?ke(de(e.prototype),"execute",this).call(this,i,a):this._execute(i,a)}},{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0||null===o&&this.delay>0?ke(de(e.prototype),"requestAsyncId",this).call(this,i,a,o):i.flush(this)}}]),e}(Nd),O6=new(function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return e}(Ld))(k6);function Bd(t,r){return new Ge(r?function(e){return r.schedule(A6,0,{error:t,subscriber:e})}:function(e){return e.error(t)})}function A6(t){t.subscriber.error(t.error)}var r_,Pc=function(){var t=function(){function r(e,n,i){g(this,r),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return m(r,[{key:"observe",value:function(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}},{key:"do",value:function(n,i,a){switch(this.kind){case"N":return n&&n(this.value);case"E":return i&&i(this.error);case"C":return a&&a()}}},{key:"accept",value:function(n,i,a){return n&&"function"==typeof n.next?this.observe(n):this.do(n,i,a)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return le(this.value);case"E":return Bd(this.error);case"C":return fd()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(n){return void 0!==n?new r("N",n):r.undefinedValueNotification}},{key:"createError",value:function(n){return new r("E",void 0,n)}},{key:"createComplete",value:function(){return r.completeNotification}}]),r}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),M6=function(t){M(e,t);var r=R(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g(this,e),(a=r.call(this,n)).scheduler=i,a.delay=o,a}return m(e,[{key:"scheduleMessage",value:function(i){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new P6(i,this.destination)))}},{key:"_next",value:function(i){this.scheduleMessage(Pc.createNext(i))}},{key:"_error",value:function(i){this.scheduleMessage(Pc.createError(i)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Pc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(i){i.notification.observe(i.destination),this.unsubscribe()}}]),e}(_t),P6=function t(r,e){g(this,t),this.notification=r,this.destination=e},x6=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return g(this,e),(n=r.call(this)).scheduler=o,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=i<1?1:i,n._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return m(e,[{key:"nextInfiniteTimeWindow",value:function(i){if(!this.isStopped){var a=this._events;a.push(i),a.length>this._bufferSize&&a.shift()}ke(de(e.prototype),"next",this).call(this,i)}},{key:"nextTimeWindow",value:function(i){this.isStopped||(this._events.push(new F6(this._getNow(),i)),this._trimBufferThenGetEvents()),ke(de(e.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){var l,a=this._infiniteTimeWindow,o=a?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,u=o.length;if(this.closed)throw new po;if(this.isStopped||this.hasError?l=ot.EMPTY:(this.observers.push(i),l=new mE(this,i)),s&&i.add(i=new M6(i,s)),a)for(var c=0;c<u&&!i.closed;c++)i.next(o[c]);else for(var f=0;f<u&&!i.closed;f++)i.next(o[f].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),l}},{key:"_getNow",value:function(){return(this.scheduler||O6).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var i=this._getNow(),a=this._bufferSize,o=this._windowTime,s=this._events,u=s.length,l=0;l<u&&!(i-s[l].time<o);)l++;return u>a&&(l=Math.max(l,u-a)),l>0&&s.splice(0,l),s}}]),e}(xe),F6=function t(r,e){g(this,t),this.time=r,this.value=e};try{r_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){r_=!1}var jd,qo,Ud=function(){var t=function r(e){g(this,r),this._platformId=e,this.isBrowser=this._platformId?lm(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return t.\u0275fac=function(e){return new(e||t)(F(Na))},t.\u0275prov=W({factory:function(){return new t(F(Na))},token:t,providedIn:"root"}),t}(),V6=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({}),t}();function Fc(){if("object"!=typeof document||!document)return 0;if(null==jd){var t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";var e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),jd=0,0===t.scrollLeft&&(t.scrollLeft=1,jd=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return jd}"undefined"!=typeof window&&window;var cO=new _e("cdk-dir-doc",{providedIn:"root",factory:function(){return oF(bt)}}),a_=function(){var t=function(){function r(e){if(g(this,r),this.value="ltr",this.change=new me,e){var a=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===a||"rtl"===a?a:"ltr"}}return m(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(cO,8))},t.\u0275prov=W({factory:function(){return new t(F(cO,8))},token:t,providedIn:"root"}),t}(),fO=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({}),t}(),W6=function(t){M(e,function t(){g(this,t)});var r=R(e);function e(n){var i;return g(this,e),(i=r.call(this))._data=n,i}return m(e,[{key:"connect",value:function(){return sO(this._data)?this._data:le(this._data)}},{key:"disconnect",value:function(){}}]),e}(),q6=function(){function t(){g(this,t),this.viewCacheSize=20,this._viewCache=[]}return m(t,[{key:"applyChanges",value:function(e,n,i,a,o){var s=this;e.forEachOperation(function(u,l,c){var f,h;null==u.previousIndex?h=(f=s._insertView(function(){return i(u,l,c)},c,n,a(u)))?1:0:null==c?(s._detachAndCacheView(l,n),h=3):(f=s._moveView(l,c,n,a(u)),h=2),o&&o({context:null==f?void 0:f.context,operation:h,record:u})})}},{key:"detach",value:function(){var n,e=T(this._viewCache);try{for(e.s();!(n=e.n()).done;)n.value.destroy()}catch(a){e.e(a)}finally{e.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,n,i,a){var o=this._insertViewFromCache(n,i);if(!o){var s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}o.context.$implicit=a}},{key:"_detachAndCacheView",value:function(e,n){var i=n.detach(e);this._maybeCacheView(i,n)}},{key:"_moveView",value:function(e,n,i,a){var o=i.get(e);return i.move(o,n),o.context.$implicit=a,o}},{key:"_maybeCacheView",value:function(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var i=n.indexOf(e);-1===i?e.destroy():n.remove(i)}}},{key:"_insertViewFromCache",value:function(e,n){var i=this._viewCache.pop();return i&&n.insert(i,e),i||null}}]),t}(),hO=new _e("_ViewRepeater"),K6=["contentWrapper"],Y6=["*"],dO=new _e("VIRTUAL_SCROLL_STRATEGY"),Z6=function(){function t(r,e,n){g(this,t),this._scrolledIndexChange=new xe,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(e){return e.lift(new d6(void 0,void 0))}),this._viewport=null,this._itemSize=r,this._minBufferPx=e,this._maxBufferPx=n}return m(t,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}},{key:"_updateTotalContentSize",value:function(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),a=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>a){var u=Math.ceil(i/this._itemSize),l=Math.max(0,Math.min(s,a-u));s!=l&&(s=l,o=l*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(a,n.start+u))}var c=o-n.start*this._itemSize;if(c<this._minBufferPx&&0!=n.start){var f=Math.ceil((this._maxBufferPx-c)/this._itemSize);n.start=Math.max(0,n.start-f),n.end=Math.min(a,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{var h=n.end*this._itemSize-(o+i);if(h<this._minBufferPx&&n.end!=a){var d=Math.ceil((this._maxBufferPx-h)/this._itemSize);d>0&&(n.end=Math.min(a,n.end+d),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}}}]),t}();function X6(t){return t._scrollStrategy}var Q6=function(){var t=function(){function r(){g(this,r),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Z6(this.itemSize,this.minBufferPx,this.maxBufferPx)}return m(r,[{key:"itemSize",get:function(){return this._itemSize},set:function(n){this._itemSize=Fd(n)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(n){this._minBufferPx=Fd(n)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(n){this._maxBufferPx=Fd(n)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=te({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Qe([{provide:dO,useFactory:X6,deps:[Xe(function(){return t})]}]),nn]}),t}(),pO=function(){var t=function(){function r(e,n,i){g(this,r),this._ngZone=e,this._platform=n,this._scrolled=new xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return m(r,[{key:"register",value:function(n){var i=this;this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(function(){return i._scrolled.next(n)}))}},{key:"deregister",value:function(n){var i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}},{key:"scrolled",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Ge(function(a){n._globalSubscription||n._addGlobalListener();var o=i>0?n._scrolled.pipe(n_(i)).subscribe(a):n._scrolled.subscribe(a);return n._scrolledCount++,function(){o.unsubscribe(),n._scrolledCount--,n._scrolledCount||n._removeGlobalListener()}}):le()}},{key:"ngOnDestroy",value:function(){var n=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(i,a){return n.deregister(a)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(n,i){var a=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(hn(function(o){return!o||a.indexOf(o)>-1}))}},{key:"getAncestorScrollContainers",value:function(n){var i=this,a=[];return this.scrollContainers.forEach(function(o,s){i._scrollableContainsElement(s,n)&&a.push(s)}),a}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(n,i){var a=function(t){return t instanceof vt?t.nativeElement:t}(i),o=n.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var n=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Mc(n._getWindow().document,"scroll").subscribe(function(){return n._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F($e),F(Ud),F(bt,8))},t.\u0275prov=W({factory:function(){return new t(F($e),F(Ud),F(bt,8))},token:t,providedIn:"root"}),t}(),vO=function(){var t=function(){function r(e,n,i,a){var o=this;g(this,r),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new xe,this._elementScrolled=new Ge(function(s){return o.ngZone.runOutsideAngular(function(){return Mc(o.elementRef.nativeElement,"scroll").pipe(Ga(o._destroyed)).subscribe(s)})})}return m(r,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(n){var i=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),a&&0!=Fc()?(null!=n.left&&(n.right=i.scrollWidth-i.clientWidth-n.left),2==Fc()?n.left=n.right:1==Fc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}},{key:"_applyScrollToOptions",value:function(n){var i=this.elementRef.nativeElement;!function(){if(null==qo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qo=!1;if("scrollBehavior"in document.documentElement.style)qo=!0;else{var t=Element.prototype.scrollTo;qo=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return qo}()?(null!=n.top&&(i.scrollTop=n.top),null!=n.left&&(i.scrollLeft=n.left)):i.scrollTo(n)}},{key:"measureScrollOffset",value:function(n){var i="left",a="right",o=this.elementRef.nativeElement;if("top"==n)return o.scrollTop;if("bottom"==n)return o.scrollHeight-o.clientHeight-o.scrollTop;var s=this.dir&&"rtl"==this.dir.value;return"start"==n?n=s?a:i:"end"==n&&(n=s?i:a),s&&2==Fc()?n==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Fc()?n==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S(pO),S($e),S(a_,8))},t.\u0275dir=te({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t}(),eq=function(){var t=function(){function r(e,n,i){var a=this;g(this,r),this._platform=e,this._change=new xe,this._changeListener=function(o){a._change.next(o)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var o=a._getWindow();o.addEventListener("resize",a._changeListener),o.addEventListener("orientationchange",a._changeListener)}a.change().subscribe(function(){return a._viewportSize=null})})}return m(r,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}},{key:"getViewportRect",value:function(){var n=this.getViewportScrollPosition(),i=this.getViewportSize(),a=i.width,o=i.height;return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+a,height:o,width:a}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=this._document,i=this._getWindow(),a=n.documentElement,o=a.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||n.body.scrollLeft||i.scrollX||a.scrollLeft||0}}},{key:"change",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return n>0?this._change.pipe(n_(n)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(Ud),F($e),F(bt,8))},t.\u0275prov=W({factory:function(){return new t(F(Ud),F($e),F(bt,8))},token:t,providedIn:"root"}),t}(),nq="undefined"!=typeof requestAnimationFrame?o6:f6,o_=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o,s,u,l,c){var f;return g(this,n),(f=e.call(this,i,l,o,u)).elementRef=i,f._changeDetectorRef=a,f._scrollStrategy=s,f._detachedSubject=new xe,f._renderedRangeSubject=new xe,f._orientation="vertical",f._appendOnly=!1,f.scrolledIndexChange=new Ge(function(h){return f._scrollStrategy.scrolledIndexChange.subscribe(function(d){return Promise.resolve().then(function(){return f.ngZone.run(function(){return h.next(d)})})})}),f.renderedRangeStream=f._renderedRangeSubject,f._totalContentSize=0,f._totalContentWidth="",f._totalContentHeight="",f._renderedRange={start:0,end:0},f._dataLength=0,f._viewportSize=0,f._renderedContentOffset=0,f._renderedContentOffsetNeedsRewrite=!1,f._isChangeDetectionPending=!1,f._runAfterChangeDetection=[],f._viewportChanges=ot.EMPTY,f._viewportChanges=c.change().subscribe(function(){f.checkViewportSize()}),f}return m(n,[{key:"orientation",get:function(){return this._orientation},set:function(a){this._orientation!==a&&(this._orientation=a,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(a){this._appendOnly=function(t){return null!=t&&"false"!=="".concat(t)}(a)}},{key:"ngOnInit",value:function(){var a=this;ke(de(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){a._measureViewportSize(),a._scrollStrategy.attach(a),a.elementScrolled().pipe(Cm(null),n_(0,nq)).subscribe(function(){return a._scrollStrategy.onContentScrolled()}),a._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),ke(de(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(a){var o=this;this.ngZone.runOutsideAngular(function(){o._forOf=a,o._forOf.dataStream.pipe(Ga(o._detachedSubject)).subscribe(function(s){var u=s.length;u!==o._dataLength&&(o._dataLength=u,o._scrollStrategy.onDataLengthChanged()),o._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(a){this._totalContentSize!==a&&(this._totalContentSize=a,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(a){var o=this;(function(t,r){return t.start==r.start&&t.end==r.end})(this._renderedRange,a)||(this.appendOnly&&(a={start:0,end:Math.max(this._renderedRange.end,a.end)}),this._renderedRangeSubject.next(this._renderedRange=a),this._markChangeDetectionNeeded(function(){return o._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(a){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",u=this.dir&&"rtl"==this.dir.value,l="horizontal"==this.orientation,c=l?"X":"Y",f=l&&u?-1:1,h="translate".concat(c,"(").concat(Number(f*a),"px)");this._renderedContentOffset=a,"to-end"===s&&(h+=" translate".concat(c,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(function(){o._renderedContentOffsetNeedsRewrite?(o._renderedContentOffset-=o.measureRenderedContentSize(),o._renderedContentOffsetNeedsRewrite=!1,o.setRenderedContentOffset(o._renderedContentOffset)):o._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",s={behavior:o};"horizontal"===this.orientation?s.start=a:s.top=a,this.scrollTo(s)}},{key:"scrollToIndex",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(a,o)}},{key:"measureScrollOffset",value:function(a){return a?ke(de(n.prototype),"measureScrollOffset",this).call(this,a):ke(de(n.prototype),"measureScrollOffset",this).call(this,"horizontal"===this.orientation?"start":"top")}},{key:"measureRenderedContentSize",value:function(){var a=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?a.offsetWidth:a.offsetHeight}},{key:"measureRangeSize",value:function(a){return this._forOf?this._forOf.measureRangeSize(a,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var a=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?a.clientWidth:a.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(a){var o=this;a&&this._runAfterChangeDetection.push(a),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){o._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var a=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return a._changeDetectorRef.markForCheck()});var o=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var u,s=T(o);try{for(s.s();!(u=s.n()).done;)(0,u.value)()}catch(c){s.e(c)}finally{s.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}}]),n}(vO);return t.\u0275fac=function(e){return new(e||t)(S(vt),S($r),S($e),S(dO,8),S(a_,8),S(pO),S(eq))},t.\u0275cmp=At({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){var i;1&e&&ri(K6,7),2&e&&Gt(i=zt())&&(n._contentWrapper=i.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&Oo("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Qe([{provide:vO,useExisting:t}]),pt],ngContentSelectors:Y6,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(ia(),O(0,"div",0,1),Ri(2),A(),kt(3,"div",2)),2&e&&(x(3),yh("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t}();function gO(t,r,e){if(!e.getBoundingClientRect)return 0;var i=e.getBoundingClientRect();return"horizontal"===t?"start"===r?i.left:i.right:"start"===r?i.top:i.bottom}var rq=function(){var t=function(){function r(e,n,i,a,o,s){var u=this;g(this,r),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewRepeater=a,this._viewport=o,this.viewChange=new xe,this._dataSourceChanges=new xe,this.dataStream=this._dataSourceChanges.pipe(Cm(null),function(t){return t.lift(new S6)},ar(function(l){var c=z(l,2);return u._changeDataSource(c[0],c[1])}),function(t,r,e){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:r,refCount:!1,scheduler:e},function(i){return i.lift(function(t){var s,l,r=t.bufferSize,e=void 0===r?Number.POSITIVE_INFINITY:r,n=t.windowTime,i=void 0===n?Number.POSITIVE_INFINITY:n,a=t.refCount,o=t.scheduler,u=0,c=!1,f=!1;return function(d){var p;u++,!s||c?(c=!1,s=new x6(e,i,o),p=s.subscribe(this),l=d.subscribe({next:function(y){s.next(y)},error:function(y){c=!0,s.error(y)},complete:function(){f=!0,l=void 0,s.complete()}})):p=s.subscribe(this),this.add(function(){u--,p.unsubscribe(),l&&!f&&a&&0===u&&(l.unsubscribe(),l=void 0,s=void 0)})}}(n))}}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new xe,this.dataStream.subscribe(function(l){u._data=l,u._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Ga(this._destroyed)).subscribe(function(l){u._renderedRange=l,s.run(function(){return u.viewChange.next(u._renderedRange)}),u._onRenderedDataChange()}),this._viewport.attach(this)}return m(r,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(n){this._cdkVirtualForOf=n,function(t){return t&&"function"==typeof t.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new W6(sO(n)?n:Array.from(n||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(n){var i=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?function(a,o){return n(a+(i._renderedRange?i._renderedRange.start:0),o)}:void 0}},{key:"cdkVirtualForTemplate",set:function(n){n&&(this._needsUpdate=!0,this._template=n)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(n){this._viewRepeater.viewCacheSize=Fd(n)}},{key:"measureRangeSize",value:function(n,i){if(n.start>=n.end)return 0;for(var s,u,a=n.start-this._renderedRange.start,o=n.end-n.start,l=0;l<o;l++){var c=this._viewContainerRef.get(l+a);if(c&&c.rootNodes.length){s=u=c.rootNodes[0];break}}for(var f=o-1;f>-1;f--){var h=this._viewContainerRef.get(f+a);if(h&&h.rootNodes.length){u=h.rootNodes[h.rootNodes.length-1];break}}return s&&u?gO(i,"end",u)-gO(i,"start",s):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var n=this;!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(function(i,a){return n.cdkVirtualForTrackBy?n.cdkVirtualForTrackBy(i,a):a})),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(n,i){return n&&n.disconnect(this),this._needsUpdate=!0,i?i.connect(this):le()}},{key:"_updateContext",value:function(){for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=n,this._updateComputedContextProperties(a.context),a.detectChanges()}}},{key:"_applyChanges",value:function(n){var i=this;this._viewRepeater.applyChanges(n,this._viewContainerRef,function(u,l,c){return i._getEmbeddedViewArgs(u,c)},function(u){return u.item}),n.forEachIdentityChange(function(u){i._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});for(var a=this._data.length,o=this._viewContainerRef.length;o--;){var s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=a,this._updateComputedContextProperties(s.context)}}},{key:"_updateComputedContextProperties",value:function(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}},{key:"_getEmbeddedViewArgs",value:function(n,i){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(br),S(Jr),S(du),S(hO),S(o_,4),S($e))},t.\u0275dir=te({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Qe([{provide:hO,useClass:q6}])]}),t}(),yO=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({}),t}(),mO=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[fO,V6,yO],fO,yO]}),t}(),_O=function t(){g(this,t)},iq=function t(){g(this,t)},da="*";function Nc(t,r){return{type:7,name:t,definitions:r,options:{}}}function Wa(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:r,timings:t}}function CO(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:r}}function Ar(t){return{type:6,styles:t,offset:null}}function s_(t,r,e){return{type:0,name:t,styles:r,options:e}}function pa(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:r,options:e}}function EO(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:t,options:r}}function aq(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function bO(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:t,options:r}}function oq(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:r,options:e}}function wO(t){Promise.resolve(null).then(t)}var Fu=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;wO(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),SO=function(){function t(r){var e=this;g(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;var n=0,i=0,a=0,o=this.players.length;0==o?wO(function(){return e._onFinish()}):this.players.forEach(function(s){s.onDone(function(){++n==o&&e._onFinish()}),s.onDestroy(function(){++i==o&&e._onDestroy()}),s.onStart(function(){++a==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(s,u){return Math.max(s,u.totalTime)},0)}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(n,i){return null===n||i.totalTime>n.totalTime?i:n},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}();function Hd(t,r){return new Ge(function(e){var n=t.length;if(0!==n)for(var i=new Array(n),a=0,o=0,s=function(c){var f=ln(t[c]),h=!1;e.add(f.subscribe({next:function(p){h||(h=!0,o++),i[c]=p},error:function(p){return e.error(p)},complete:function(){(++a===n||!h)&&(o===n&&e.next(r?r.reduce(function(p,v,y){return p[v]=i[y],p},{}):i),e.complete())}}))},u=0;u<n;u++)s(u);else e.complete()})}var TO=function(){var t=function(){function r(e,n){g(this,r),this._renderer=e,this._elementRef=n,this.onChange=function(i){},this.onTouched=function(){}}return m(r,[{key:"setProperty",value:function(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"setDisabledState",value:function(n){this.setProperty("disabled",n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(Qr),S(vt))},t.\u0275dir=te({type:t}),t}(),Ko=function(){var t=function(r){M(n,r);var e=R(n);function n(){return g(this,n),e.apply(this,arguments)}return n}(TO);return t.\u0275fac=function(){var r;return function(n){return(r||(r=gr(t)))(n||t)}}(),t.\u0275dir=te({type:t,features:[pt]}),t}(),or=new _e("NgValueAccessor"),lq={provide:or,useExisting:Xe(function(){return Gd}),multi:!0},fq=new _e("CompositionEventMode"),Gd=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o){var s;return g(this,n),(s=e.call(this,i,a))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function(){var t=xi()?xi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}()),s}return m(n,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),n}(TO);return t.\u0275fac=function(e){return new(e||t)(S(Qr),S(vt),S(fq,8))},t.\u0275dir=te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&ne("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[Qe([lq]),pt]}),t}(),_n=new _e("NgValidators"),Ka=new _e("NgAsyncValidators");function DO(t){return null!=t}function OO(t){var r=Hl(t)?ln(t):t;return gh(r),r}function AO(t){var r={};return t.forEach(function(e){r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function RO(t,r){return r.map(function(e){return e(t)})}function MO(t){return t.map(function(r){return function(t){return!t.validate}(r)?r:function(e){return r.validate(e)}})}function l_(t){return null!=t?function(t){if(!t)return null;var r=t.filter(DO);return 0==r.length?null:function(e){return AO(RO(e,r))}}(MO(t)):null}function c_(t){return null!=t?function(t){if(!t)return null;var r=t.filter(DO);return 0==r.length?null:function(e){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];if(1===r.length){var n=r[0];if(Yn(n))return Hd(n,null);if(Ci(n)&&Object.getPrototypeOf(n)===Object.prototype){var i=Object.keys(n);return Hd(i.map(function(o){return n[o]}),i)}}if("function"==typeof r[r.length-1]){var a=r.pop();return Hd(r=1===r.length&&Yn(r[0])?r[0]:r,null).pipe(Oe(function(o){return a.apply(void 0,Y(o))}))}return Hd(r,null)}(RO(e,r).map(OO)).pipe(Oe(AO))}}(MO(t)):null}function PO(t,r){return null===t?[r]:Array.isArray(t)?[].concat(Y(t),[r]):[t,r]}function f_(t){return t?Array.isArray(t)?t:[t]:[]}function zd(t,r){return Array.isArray(t)?t.includes(r):t===r}function NO(t,r){var e=f_(r);return f_(t).forEach(function(i){zd(e,i)||e.push(i)}),e}function LO(t,r){return f_(r).filter(function(e){return!zd(t,e)})}var VO=function(){var t=function(){function r(){g(this,r),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return m(r,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(n){this._rawValidators=n||[],this._composedValidatorFn=l_(this._rawValidators)}},{key:"_setAsyncValidators",value:function(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=c_(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(n){this._onDestroyCallbacks.push(n)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(n){return n()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(n)}},{key:"hasError",value:function(n,i){return!!this.control&&this.control.hasError(n,i)}},{key:"getError",value:function(n,i){return this.control?this.control.getError(n,i):null}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=te({type:t}),t}(),Mn=function(){var t=function(r){M(n,r);var e=R(n);function n(){return g(this,n),e.apply(this,arguments)}return m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(VO);return t.\u0275fac=function(){var r;return function(n){return(r||(r=gr(t)))(n||t)}}(),t.\u0275dir=te({type:t,features:[pt]}),t}(),va=function(t){M(e,t);var r=R(e);function e(){var n;return g(this,e),(n=r.apply(this,arguments))._parent=null,n.name=null,n.valueAccessor=null,n}return e}(VO),BO=function(){function t(r){g(this,t),this._cd=r}return m(t,[{key:"is",value:function(e){var n,i,a;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[e])}}]),t}(),UO=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return g(this,n),e.call(this,i)}return n}(BO);return t.\u0275fac=function(e){return new(e||t)(S(va,2))},t.\u0275dir=te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&Oo("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[pt]}),t}();function Lc(t,r){(function(t,r){var e=function(t){return t._rawValidators}(t);null!==r.validator?t.setValidators(PO(e,r.validator)):"function"==typeof e&&t.setValidators([e]);var n=function(t){return t._rawAsyncValidators}(t);null!==r.asyncValidator?t.setAsyncValidators(PO(n,r.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);var i=function(){return t.updateValueAndValidity()};Yd(r._rawValidators,i),Yd(r._rawAsyncValidators,i)})(t,r),r.valueAccessor.writeValue(t.value),function(t,r){r.valueAccessor.registerOnChange(function(e){t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jO(t,r)})}(t,r),function(t,r){var e=function(i,a){r.valueAccessor.writeValue(i),a&&r.viewToModelUpdate(i)};t.registerOnChange(e),r._registerOnDestroy(function(){t._unregisterOnChange(e)})}(t,r),function(t,r){r.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jO(t,r),"submit"!==t.updateOn&&t.markAsTouched()})}(t,r),function(t,r){if(r.valueAccessor.setDisabledState){var e=function(i){r.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),r._registerOnDestroy(function(){t._unregisterOnDisabledChange(e)})}}(t,r)}function Yd(t,r){t.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function jO(t,r){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Xd(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var Vc="VALID",Qd="INVALID",Nu="PENDING",Bc="DISABLED";function y_(t){return(__(t)?t.validators:t)||null}function zO(t){return Array.isArray(t)?l_(t):t||null}function m_(t,r){return(__(r)?r.asyncValidators:t)||null}function WO(t){return Array.isArray(t)?c_(t):t||null}function __(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var C_=function(){function t(r,e){g(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=zO(this._rawValidators),this._composedAsyncValidatorFn=WO(this._rawAsyncValidators)}return m(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Vc}},{key:"invalid",get:function(){return this.status===Qd}},{key:"pending",get:function(){return this.status==Nu}},{key:"disabled",get:function(){return this.status===Bc}},{key:"enabled",get:function(){return this.status!==Bc}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=zO(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=WO(e)}},{key:"addValidators",value:function(e){this.setValidators(NO(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(NO(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(LO(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(LO(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return zd(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return zd(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(n){n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(n){n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Nu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(function(i){i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this._forEachChild(function(i){i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===Nu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(n){return n._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Bc:Vc}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var n=this;if(this.asyncValidator){this.status=Nu,this._hasOwnPendingAsyncValidator=!0;var i=OO(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){n._hasOwnPendingAsyncValidator=!1,n.setErrors(a,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}},{key:"get",value:function(e){return function(t,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;var n=t;return r.forEach(function(i){n=n instanceof E_?n.controls.hasOwnProperty(i)?n.controls[i]:null:n instanceof Nq&&n.at(i)||null}),n}(this,e)}},{key:"getError",value:function(e,n){var i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,n){return!!this.getError(e,n)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new me,this.statusChanges=new me}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Bc:this.errors?Qd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nu)?Nu:this._anyControlsHaveStatus(Qd)?Qd:Vc}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(n){return n.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){__(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),$d=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return g(this,e),(n=r.call(this,y_(a),m_(o,a)))._onChange=[],n._applyFormState(i),n._setUpdateStrategy(a),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!!n.asyncValidator}),n}return m(e,[{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(function(s){return s(a.value,!1!==o.emitViewToModelChange)}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){Xd(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){Xd(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),e}(C_),E_=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,y_(i),m_(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return m(e,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),Object.keys(i).forEach(function(s){a._throwIfControlMissing(s),a.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(s){a.controls[s]&&a.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,o){return i[o]=a instanceof $d?a.value:a.getRawValue(),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,o){return!!o._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error("Cannot find form control with name: ".concat(i,"."))}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(o){var s=a.controls[o];s&&i(s,o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,o=Object.keys(this.controls);a<o.length;a++){var s=o[a],u=this.controls[s];if(this.contains(s)&&i(u))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,o,s){return(o.enabled||i.disabled)&&(a[s]=o.value),a})}},{key:"_reduceChildren",value:function(i,a){var o=i;return this._forEachChild(function(s,u){o=a(o,s,u)}),o}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control with name: '".concat(o,"'."))})}}]),e}(C_),Nq=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,y_(i),m_(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return m(e,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),i.forEach(function(s,u){a._throwIfControlMissing(u),a.at(u).setValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(s,u){a.at(u)&&a.at(u).patchValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return i instanceof $d?i.value:i.getRawValue()})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,o){return!!o._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error("Cannot find form control at index ".concat(i))}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,o){i(a,o)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control at index: ".concat(o,"."))})}},{key:"_allControlsDisabled",value:function(){var a,i=T(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(s){i.e(s)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),e}(C_),Uq={provide:va,useExisting:Xe(function(){return Jd})},YO=function(){return Promise.resolve(null)}(),Jd=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o,s){var u;return g(this,n),(u=e.call(this)).control=new $d,u._registered=!1,u.update=new me,u._parent=i,u._setValidators(a),u._setAsyncValidators(o),u.valueAccessor=function(t,r){if(!r)return null;Array.isArray(r);var e=void 0,n=void 0,i=void 0;return r.forEach(function(a){a.constructor===Gd?e=a:function(t){return Object.getPrototypeOf(t.constructor)===Ko}(a)?n=a:i=a}),i||n||e||null}(jt(u),s),u}return m(n,[{key:"ngOnChanges",value:function(a){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in a&&this._updateDisabled(a),function(t,r){if(!t.hasOwnProperty("model"))return!1;var e=t.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(t,r){return[].concat(Y(r.path),[t])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Lc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;YO.then(function(){o.control.setValue(a,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=""===s||s&&"false"!==s;YO.then(function(){u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable()})}}]),n}(va);return t.\u0275fac=function(e){return new(e||t)(S(Mn,9),S(_n,10),S(Ka,10),S(or,10))},t.\u0275dir=te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qe([Uq]),pt,nn]}),t}(),XO=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({}),t}(),dA=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[XO]]}),t}(),hK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[dA]}),t}(),dK=function(){var t=function(){function r(e,n,i){g(this,r),this.el=e,this.zone=n,this.config=i,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}return m(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=n,this.deactivate()}},{key:"ngAfterViewInit",value:function(){var n=this;this.zone.runOutsideAngular(function(){"hover"===n.getOption("tooltipEvent")?(n.mouseEnterListener=n.onMouseEnter.bind(n),n.mouseLeaveListener=n.onMouseLeave.bind(n),n.clickListener=n.onClick.bind(n),n.el.nativeElement.addEventListener("mouseenter",n.mouseEnterListener),n.el.nativeElement.addEventListener("mouseleave",n.mouseLeaveListener),n.el.nativeElement.addEventListener("click",n.clickListener)):"focus"===n.getOption("tooltipEvent")&&(n.focusListener=n.onFocus.bind(n),n.blurListener=n.onBlur.bind(n),n.el.nativeElement.addEventListener("focus",n.focusListener),n.el.nativeElement.addEventListener("blur",n.blurListener))})}},{key:"ngOnChanges",value:function(n){n.tooltipPosition&&this.setOption({tooltipPosition:n.tooltipPosition.currentValue}),n.tooltipEvent&&this.setOption({tooltipEvent:n.tooltipEvent.currentValue}),n.appendTo&&this.setOption({appendTo:n.appendTo.currentValue}),n.positionStyle&&this.setOption({positionStyle:n.positionStyle.currentValue}),n.tooltipStyleClass&&this.setOption({tooltipStyleClass:n.tooltipStyleClass.currentValue}),n.tooltipZIndex&&this.setOption({tooltipZIndex:n.tooltipZIndex.currentValue}),n.escape&&this.setOption({escape:n.escape.currentValue}),n.showDelay&&this.setOption({showDelay:n.showDelay.currentValue}),n.hideDelay&&this.setOption({showDelay:n.hideDelay.currentValue}),n.life&&this.setOption({life:n.life.currentValue}),n.positionTop&&this.setOption({positionTop:n.positionTop.currentValue}),n.positionLeft&&this.setOption({positionLeft:n.positionLeft.currentValue}),n.disabled&&this.setOption({disabled:n.disabled.currentValue}),n.text&&(this.setOption({tooltipLabel:n.text.currentValue}),this.active&&(n.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),n.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),n.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}},{key:"onMouseEnter",value:function(n){!this.container&&!this.showTimeout&&this.activate()}},{key:"onMouseLeave",value:function(n){this.deactivate()}},{key:"onFocus",value:function(n){this.activate()}},{key:"onBlur",value:function(n){this.deactivate()}},{key:"onClick",value:function(n){this.deactivate()}},{key:"activate",value:function(){var n=this;if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(function(){n.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){var i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(function(){n.hide()},i)}}},{key:"deactivate",value:function(){var n=this;this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){n.hide()},this.getOption("hideDelay"))):this.hide()}},{key:"create",value:function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var n=document.createElement("div");n.className="p-tooltip-arrow",this.container.appendChild(n),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Q.appendChild(this.container,this.el.nativeElement):Q.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}},{key:"show",value:function(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Q.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ci.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}},{key:"hide",value:function(){"auto"===this.getOption("tooltipZIndex")&&ci.clear(this.container),this.remove()}},{key:"updateText",value:function(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}},{key:"align",value:function(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}},{key:"getHostOffset",value:function(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){var n=this.el.nativeElement.getBoundingClientRect();return{left:n.left+Q.getWindowScrollLeft(),top:n.top+Q.getWindowScrollTop()}}return{left:0,top:0}}},{key:"alignRight",value:function(){this.preAlign("right");var n=this.getHostOffset(),i=n.left+Q.getOuterWidth(this.el.nativeElement),a=n.top+(Q.getOuterHeight(this.el.nativeElement)-Q.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignLeft",value:function(){this.preAlign("left");var n=this.getHostOffset(),i=n.left-Q.getOuterWidth(this.container),a=n.top+(Q.getOuterHeight(this.el.nativeElement)-Q.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignTop",value:function(){this.preAlign("top");var n=this.getHostOffset(),i=n.left+(Q.getOuterWidth(this.el.nativeElement)-Q.getOuterWidth(this.container))/2,a=n.top-Q.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignBottom",value:function(){this.preAlign("bottom");var n=this.getHostOffset(),i=n.left+(Q.getOuterWidth(this.el.nativeElement)-Q.getOuterWidth(this.container))/2,a=n.top+Q.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"setOption",value:function(n){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),n)}},{key:"getOption",value:function(n){return this._tooltipOptions[n]}},{key:"preAlign",value:function(n){this.container.style.left="-999px",this.container.style.top="-999px";var i="p-tooltip p-component p-tooltip-"+n;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}},{key:"isOutOfBounds",value:function(){var n=this.container.getBoundingClientRect(),i=n.top,a=n.left,o=Q.getOuterWidth(this.container),s=Q.getOuterHeight(this.container),u=Q.getViewport();return a+o>u.width||a<0||i<0||i+s>u.height}},{key:"onWindowResize",value:function(n){this.hide()}},{key:"bindDocumentResizeListener",value:function(){var n=this;this.zone.runOutsideAngular(function(){n.resizeListener=n.onWindowResize.bind(n),window.addEventListener("resize",n.resizeListener)})}},{key:"unbindDocumentResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new $D(this.el.nativeElement,function(){n.container&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindEvents",value:function(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}},{key:"remove",value:function(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Q.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}},{key:"clearShowTimeout",value:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}},{key:"clearHideTimeout",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout()}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.container&&ci.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S($e),S(Rc))},t.\u0275dir=te({type:t,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[nn]}),t}(),pK=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}();function vK(t,r){if(1&t&&(O(0,"span"),tt(1),A()),2&t){var e=B();x(1),nr(e.label||"empty")}}function gK(t,r){1&t&&cn(0)}var pA=function(r){return{height:r}},yK=function(r,e){return{"p-dropdown-item":!0,"p-highlight":r,"p-disabled":e}},A_=function(r){return{$implicit:r}},mK=["container"],_K=["filter"],CK=["in"],EK=["editableInput"];function bK(t,r){if(1&t&&(Kr(0),tt(1),Yr()),2&t){var e=B(2);x(1),nr(e.label||"empty")}}function wK(t,r){1&t&&cn(0)}var SK=function(r){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":r}};function TK(t,r){if(1&t&&(O(0,"span",12),X(1,bK,2,1,"ng-container",13),X(2,wK,1,0,"ng-container",14),A()),2&t){var e=B();P("ngClass",Jt(9,SK,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),at("id",e.labelId),x(1),P("ngIf",!e.selectedItemTemplate),x(1),P("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",Jt(11,A_,e.selectedOption))}}var kK=function(r){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":r}};function IK(t,r){if(1&t&&(O(0,"span",15),tt(1),A()),2&t){var e=B();P("ngClass",Jt(2,kK,null==e.placeholder||0===e.placeholder.length)),x(1),nr(e.placeholder||"empty")}}function DK(t,r){if(1&t){var e=Kt();O(0,"input",16,17),ne("click",function(){return ue(e),B().onEditableInputClick()})("input",function(a){return ue(e),B().onEditableInputChange(a)})("focus",function(a){return ue(e),B().onEditableInputFocus(a)})("blur",function(a){return ue(e),B().onInputBlur(a)}),A()}if(2&t){var n=B();P("disabled",n.disabled),at("maxlength",n.maxlength)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)}}function OK(t,r){if(1&t){var e=Kt();O(0,"i",18),ne("click",function(i){return ue(e),B().clear(i)}),A()}}function AK(t,r){1&t&&cn(0)}function RK(t,r){if(1&t){var e=Kt();O(0,"div",26),O(1,"div",27),ne("click",function(a){return a.stopPropagation()}),O(2,"input",28,29),ne("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return ue(e),B(2).onKeydown(a,!1)})("input",function(a){return ue(e),B(2).onFilterInputChange(a)}),A(),kt(4,"span",30),A(),A()}if(2&t){var n=B(2);x(2),P("value",n.filterValue||""),at("placeholder",n.filterPlaceholder)("aria-label",n.ariaFilterLabel)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId)}}function MK(t,r){if(1&t&&(O(0,"span"),tt(1),A()),2&t){var e=B().$implicit,n=B(3);x(1),nr(n.getOptionGroupLabel(e)||"empty")}}function PK(t,r){1&t&&cn(0)}function xK(t,r){1&t&&cn(0)}var vA=function(r,e){return{$implicit:r,selectedOption:e}};function FK(t,r){if(1&t&&(O(0,"li",32),X(1,MK,2,1,"span",13),X(2,PK,1,0,"ng-container",14),A(),X(3,xK,1,0,"ng-container",14)),2&t){var e=r.$implicit;B(2);var n=ra(8),i=B();x(1),P("ngIf",!i.groupTemplate),x(1),P("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",Jt(5,A_,e)),x(1),P("ngTemplateOutlet",n)("ngTemplateOutletContext",xo(7,vA,i.getOptionGroupChildren(e),i.selectedOption))}}function NK(t,r){if(1&t&&(Kr(0),X(1,FK,4,10,"ng-template",31),Yr()),2&t){var e=B(2);x(1),P("ngForOf",e.optionsToDisplay)}}function LK(t,r){1&t&&cn(0)}function VK(t,r){if(1&t&&(Kr(0),X(1,LK,1,0,"ng-container",14),Yr()),2&t){B();var e=ra(8),n=B();x(1),P("ngTemplateOutlet",e)("ngTemplateOutletContext",xo(2,vA,n.optionsToDisplay,n.selectedOption))}}function BK(t,r){if(1&t){var e=Kt();O(0,"p-dropdownItem",35),ne("onClick",function(s){return ue(e),B(4).onItemClick(s)}),A()}if(2&t){var n=r.$implicit,i=B(2).selectedOption,a=B(2);P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function UK(t,r){if(1&t&&(Kr(0),X(1,BK,1,5,"ng-template",31),Yr()),2&t){var e=B().$implicit;x(1),P("ngForOf",e)}}function jK(t,r){if(1&t){var e=Kt();Kr(0),O(1,"p-dropdownItem",35),ne("onClick",function(s){return ue(e),B(5).onItemClick(s)}),A(),Yr()}if(2&t){var n=r.$implicit,i=B(3).selectedOption,a=B(2);x(1),P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function HK(t,r){if(1&t){var e=Kt();O(0,"cdk-virtual-scroll-viewport",37,38),ne("scrolledIndexChange",function(){return ue(e),B(4).scrollToSelectedVirtualScrollElement()}),X(2,jK,2,5,"ng-container",39),A()}if(2&t){var n=B(2).$implicit,i=B(2);P("ngStyle",Jt(3,pA,i.scrollHeight))("itemSize",i.itemSize),x(2),P("cdkVirtualForOf",n)}}function GK(t,r){if(1&t&&X(0,HK,3,5,"cdk-virtual-scroll-viewport",36),2&t){var e=B(3);P("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function zK(t,r){if(1&t&&(X(0,UK,2,1,"ng-container",33),X(1,GK,1,1,"ng-template",null,34,Ph)),2&t){var e=ra(2);P("ngIf",!B(2).virtualScroll)("ngIfElse",e)}}function WK(t,r){if(1&t&&(Kr(0),tt(1),Yr()),2&t){var e=B(3);x(1),Ln(" ",e.emptyFilterMessageLabel," ")}}function qK(t,r){1&t&&cn(0,null,41)}function KK(t,r){if(1&t&&(O(0,"li",40),X(1,WK,2,1,"ng-container",33),X(2,qK,2,0,"ng-container",20),A()),2&t){var e=B(2);x(1),P("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),x(1),P("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function YK(t,r){if(1&t&&(Kr(0),tt(1),Yr()),2&t){var e=B(3);x(1),Ln(" ",e.emptyMessageLabel," ")}}function ZK(t,r){1&t&&cn(0,null,42)}function XK(t,r){if(1&t&&(O(0,"li",40),X(1,YK,2,1,"ng-container",33),X(2,ZK,2,0,"ng-container",20),A()),2&t){var e=B(2);x(1),P("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),x(1),P("ngTemplateOutlet",e.emptyTemplate)}}function QK(t,r){1&t&&cn(0)}var $K=function(r,e){return{showTransitionParams:r,hideTransitionParams:e}},JK=function(r){return{value:"visible",params:r}},eY=function(r){return{"p-dropdown-virtualscroll":r}};function tY(t,r){if(1&t){var e=Kt();O(0,"div",19),ne("click",function(a){return ue(e),B().onOverlayClick(a)})("@overlayAnimation.start",function(a){return ue(e),B().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return ue(e),B().onOverlayAnimationEnd(a)}),X(1,AK,1,0,"ng-container",20),X(2,RK,5,4,"div",21),O(3,"div",22),O(4,"ul",23),X(5,NK,2,1,"ng-container",13),X(6,VK,2,5,"ng-container",13),X(7,zK,3,2,"ng-template",null,24,Ph),X(9,KK,3,3,"li",25),X(10,XK,3,3,"li",25),A(),A(),X(11,QK,1,0,"ng-container",20),A()}if(2&t){var n=B();fn(n.panelStyleClass),P("ngClass","p-dropdown-panel p-component")("@overlayAnimation",Jt(18,JK,xo(15,$K,n.showTransitionOptions,n.hideTransitionOptions)))("ngStyle",n.panelStyle),x(1),P("ngTemplateOutlet",n.headerTemplate),x(1),P("ngIf",n.filter),x(1),yh("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),x(1),P("ngClass",Jt(20,eY,n.virtualScroll)),x(1),P("ngIf",n.group),x(1),P("ngIf",!n.group),x(3),P("ngIf",n.filterValue&&n.isEmpty()),x(1),P("ngIf",!n.filterValue&&n.isEmpty()),x(1),P("ngTemplateOutlet",n.footerTemplate)}}var nY=function(r,e,n,i){return{"p-dropdown p-component":!0,"p-disabled":r,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":i}},rY={provide:or,useExisting:Xe(function(){return gA}),multi:!0},iY=function(){var t=function(){function r(){g(this,r),this.onClick=new me}return m(r,[{key:"onOptionClick",value:function(n){this.onClick.emit({originalEvent:n,option:this.option})}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=At({type:t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(O(0,"li",0),ne("click",function(a){return n.onOptionClick(a)}),X(1,vK,2,1,"span",1),X(2,gK,1,0,"ng-container",2),A()),2&e&&(P("ngStyle",Jt(8,pA,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",xo(10,yK,n.selected,n.disabled)),at("aria-label",n.label)("aria-selected",n.selected),x(1),P("ngIf",!n.template),x(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Jt(13,A_,n.option)))},directives:[Pd,Fi,Ir,Bn,Ua],encapsulation:2}),t}(),gA=function(){var t=function(){function r(e,n,i,a,o,s,u){g(this,r),this.el=e,this.renderer=n,this.cd=i,this.zone=a,this.filterService=o,this.config=s,this.overlayService=u,this.scrollHeight="200px",this.appendTo="body",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new me,this.onFilter=new me,this.onFocus=new me,this.onBlur=new me,this.onClick=new me,this.onShow=new me,this.onHide=new me,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0,this.id=eO()}return m(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){n&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=n,this.cd.destroyed||this.cd.detectChanges()}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"item":n.itemTemplate=i.template;break;case"selectedItem":n.selectedItemTemplate=i.template;break;case"header":n.headerTemplate=i.template;break;case"footer":n.footerTemplate=i.template;break;case"emptyfilter":n.emptyFilterTemplate=i.template;break;case"empty":n.emptyTemplate=i.template;break;case"group":n.groupTemplate=i.template;break;default:n.itemTemplate=i.template}})}},{key:"ngOnInit",value:function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label"}},{key:"options",get:function(){return this._options},set:function(n){this._options=n,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}},{key:"filterValue",get:function(){return this._filterValue},set:function(n){this._filterValue=n,this.activateFilter()}},{key:"ngAfterViewInit",value:function(){this.editable&&this.updateEditableLabel()}},{key:"label",get:function(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(nO.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(nO.EMPTY_FILTER_MESSAGE)}},{key:"filled",get:function(){return this.value||null!=this.value||null!=this.value}},{key:"updateEditableLabel",value:function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}},{key:"getOptionLabel",value:function(n){return this.optionLabel?Lt.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}},{key:"getOptionValue",value:function(n){return this.optionValue?Lt.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}},{key:"isOptionDisabled",value:function(n){return this.optionDisabled?Lt.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}},{key:"getOptionGroupLabel",value:function(n){return this.optionGroupLabel?Lt.resolveFieldData(n,this.optionGroupLabel):null!=n.label?n.label:n}},{key:"getOptionGroupChildren",value:function(n){return this.optionGroupChildren?Lt.resolveFieldData(n,this.optionGroupChildren):n.items}},{key:"onItemClick",value:function(n){var i=this,a=n.option;this.isOptionDisabled(a)||(this.selectItem(n,a),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){i.hide()},150)}},{key:"selectItem",value:function(n,i){var a=this;this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:n.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(function(){a.viewPortOffsetTop=a.viewPort?a.viewPort.measureScrollOffset():0},1))}},{key:"ngAfterViewChecked",value:function(){var n=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){n.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Q.findSingle(this.overlay,"li.p-highlight")&&Q.scrollInView(this.itemsWrapper,Q.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}},{key:"writeValue",value:function(n){this.filter&&this.resetFilter(),this.value=n,this.updateSelectedOption(n),this.updateEditableLabel(),this.cd.markForCheck()}},{key:"resetFilter",value:function(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}},{key:"updateSelectedOption",value:function(n){this.selectedOption=this.findOption(n,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onMouseclick",value:function(n){this.disabled||this.readonly||this.isInputClick(n)||(this.onClick.emit(n),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}},{key:"onOverlayClick",value:function(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}},{key:"isInputClick",value:function(n){return Q.hasClass(n.target,"p-dropdown-clear-icon")||n.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&n.target.isSameNode(this.editableInputViewChild.nativeElement)}},{key:"isOutsideClicked",value:function(n){return!(this.el.nativeElement.isSameNode(n.target)||this.el.nativeElement.contains(n.target)||this.overlay&&this.overlay.contains(n.target))}},{key:"isEmpty",value:function(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}},{key:"onEditableInputClick",value:function(){this.bindDocumentClickListener()}},{key:"onEditableInputFocus",value:function(n){this.focused=!0,this.hide(),this.onFocus.emit(n)}},{key:"onEditableInputChange",value:function(n){this.value=n.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}},{key:"show",value:function(){this.overlayVisible=!0}},{key:"onOverlayAnimationStart",value:function(n){switch(n.toState){case"visible":if(this.overlay=n.element,this.itemsWrapper=Q.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&ci.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){var a=Q.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&Q.scrollInView(this.itemsWrapper,a)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(n);break;case"void":this.onOverlayHide(),this.onHide.emit(n)}}},{key:"onOverlayAnimationEnd",value:function(n){switch(n.toState){case"void":ci.clear(n.element)}}},{key:"scrollToSelectedVirtualScrollElement",value:function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}},{key:"updateVirtualScrollSelectedIndex",value:function(n){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(n&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Q.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Q.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"hide",value:function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?Q.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Q.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onBlur.emit(n),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"findPrevEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n-1;0<=a;a--){var o=this.optionsToDisplay[a];if(!o.disabled){i=o;break}}if(!i)for(var s=this.optionsToDisplay.length-1;s>=n;s--){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"findNextEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n+1;a<this.optionsToDisplay.length;a++){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=0;s<n;s++){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"onKeydown",value:function(n,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(n.which){case 40:if(!this.overlayVisible&&n.altKey)this.show();else if(this.group){var a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){var o=a.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{var s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,u=this.findNextEnabledOption(s);u&&(this.selectItem(n,u),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 38:if(this.group){var l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==l){var c=l.itemIndex-1;if(c>=0)this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[l.groupIndex])[c]),this.selectedOptionUpdated=!0;else if(c<0){var f=this.optionsToDisplay[l.groupIndex-1];f&&(this.selectItem(n,this.getOptionGroupChildren(f)[this.getOptionGroupChildren(f).length-1]),this.selectedOptionUpdated=!0)}}}else{var h=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,d=this.findPrevEnabledOption(h);d&&(this.selectItem(n,d),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 32:case 32:this.overlayVisible?this.hide():this.show(),n.preventDefault();break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),n.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!n.metaKey&&this.search(n)}}},{key:"search",value:function(n){var i=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var o,a=n.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=a,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+a:a,this.group){var s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(s)}else{var u=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++u)}o&&!this.isOptionDisabled(o)&&(this.selectItem(n,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){i.searchValue=null},250)}},{key:"searchOption",value:function(n){var i;return this.searchValue&&((i=this.searchOptionInRange(n,this.optionsToDisplay.length))||(i=this.searchOptionInRange(0,n))),i}},{key:"searchOptionInRange",value:function(n,i){for(var a=n;a<i;a++){var o=this.optionsToDisplay[a];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}},{key:"searchOptionWithinGroup",value:function(n){if(this.searchValue){for(var a=n.groupIndex;a<this.optionsToDisplay.length;a++)for(var o=n.groupIndex===a?n.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;o++){var s=this.getOptionGroupChildren(this.optionsToDisplay[a])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(var u=0;u<=n.groupIndex;u++)for(var l=0;l<(n.groupIndex===u?n.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[u]).length);l++){var c=this.getOptionGroupChildren(this.optionsToDisplay[u])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}},{key:"findOptionIndex",value:function(n,i){var a=-1;if(i)for(var o=0;o<i.length;o++)if(null==n&&null==this.getOptionValue(i[o])||Lt.equals(n,this.getOptionValue(i[o]),this.dataKey)){a=o;break}return a}},{key:"findOptionGroupIndex",value:function(n,i){var a,o;if(i)for(var s=0;s<i.length&&(a=s,-1===(o=this.findOptionIndex(n,this.getOptionGroupChildren(i[s]))));s++);return-1!==o?{groupIndex:a,itemIndex:o}:-1}},{key:"findOption",value:function(n,i,a){if(this.group&&!a){var o;if(i&&i.length){var u,s=T(i);try{for(s.s();!(u=s.n()).done&&!(o=this.findOption(n,this.getOptionGroupChildren(u.value),!0)););}catch(f){s.e(f)}finally{s.f()}}return o}var c=this.findOptionIndex(n,i);return-1!=c?i[c]:null}},{key:"onFilterInputChange",value:function(n){var i=n.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:n,filter:this._filterValue})}},{key:"activateFilter",value:function(){var n=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){var o,i=[],a=T(this.options);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.filterService.filter(this.getOptionGroupChildren(s),n,this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&i.push(Object.assign(Object.assign({},s),ie({},this.optionGroupChildren,u)))}}catch(l){a.e(l)}finally{a.f()}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,n,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}},{key:"applyFocus",value:function(){this.editable?Q.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Q.findSingle(this.el.nativeElement,"input[readonly]").focus()}},{key:"focus",value:function(){this.applyFocus()}},{key:"bindDocumentClickListener",value:function(){var n=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(a){n.isOutsideClicked(a)&&(n.hide(),n.unbindDocumentClickListener()),n.cd.markForCheck()}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible&&!Q.isTouchDevice()&&this.hide()}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new $D(this.containerViewChild.nativeElement,function(i){n.overlayVisible&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"clear",value:function(n){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel()}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&ci.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S(Qr),S($r),S($e),S(B5),S(Rc),S(U5))},t.\u0275cmp=At({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,n,i){var a;1&e&&ii(i,Pu,4),2&e&&Gt(a=zt())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&(ri(mK,5),ri(_K,5),ri(CK,5),ri(o_,5),ri(EK,5)),2&e&&(Gt(i=zt())&&(n.containerViewChild=i.first),Gt(i=zt())&&(n.filterViewChild=i.first),Gt(i=zt())&&(n.accessibleViewChild=i.first),Gt(i=zt())&&(n.viewPort=i.first),Gt(i=zt())&&(n.editableInputViewChild=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,n){2&e&&Oo("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[Qe([rY])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,n){1&e&&(O(0,"div",0,1),ne("click",function(a){return n.onMouseclick(a)}),O(2,"div",2),O(3,"input",3,4),ne("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),A(),A(),X(5,TK,3,13,"span",5),X(6,IK,2,4,"span",6),X(7,DK,2,4,"input",7),X(8,OK,1,0,"i",8),O(9,"div",9),kt(10,"span",10),A(),X(11,tY,12,22,"div",11),A()),2&e&&(fn(n.styleClass),P("ngClass",tc(19,nY,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),x(3),P("disabled",n.disabled),at("id",n.inputId)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId),x(2),P("ngIf",!n.editable&&null!=n.label),x(1),P("ngIf",!n.editable&&null==n.label),x(1),P("ngIf",n.editable),x(1),P("ngIf",null!=n.value&&n.showClear&&!n.disabled),x(1),at("aria-expanded",n.overlayVisible),x(1),P("ngClass",n.dropdownIcon),x(1),P("ngIf",n.overlayVisible))},directives:[Ir,Fi,Bn,dK,Ua,rd,iY,o_,Q6,rq],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[Nc("overlayAnimation",[pa(":enter",[Ar({opacity:0,transform:"scaleY(0.8)"}),Wa("{{showTransitionParams}}")]),pa(":leave",[Wa("{{hideTransitionParams}}",Ar({opacity:0}))])])]},changeDetection:0}),t}(),aY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir,Md,mO,pK,xd],Md,mO]}),t}();function oY(t,r){if(1&t&&(O(0,"div"),tt(1," Avst\xe5nd: "),O(2,"span",8),tt(3),A(),A()),2&t){var e=B(2);x(3),Ln("",e.message.distance," km")}}function sY(t,r){if(1&t){var e=Kt();O(0,"div",9),O(1,"div",10),ne("click",function(){ue(e);var i=B(2);return i.onClickMessage(i.message)}),O(2,"span"),tt(3,"Karta"),A(),kt(4,"i",11),A(),A()}}function uY(t,r){if(1&t&&(O(0,"div",1),O(1,"div"),tt(2),A(),O(3,"div",2),tt(4),A(),O(5,"div",3),O(6,"div",4),O(7,"div"),O(8,"b"),tt(9),A(),A(),X(10,oY,4,1,"div",5),O(11,"div"),tt(12," Publicerad: "),O(13,"span",6),tt(14),function(t,r){var n,e=We(),i=t+20;e.firstCreatePass?(n=function(t,r){if(r)for(var e=r.length-1;e>=0;e--){var n=r[e];if(t===n.name)return n}throw new vo("302","The pipe '".concat(t,"' could not be found!"))}(r,e.pipeRegistry),e.data[i]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n.onDestroy)):n=e.data[i];var a=n.factory||(n.factory=Co(n.type)),o=ka(S);try{var s=Gf(!1),u=a();Gf(s),function(t,r,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),r[e]=n}(e,L(),i,u)}finally{ka(o)}}(15,"date"),A(),A(),A(),X(16,sY,5,0,"div",7),A(),O(17,"div"),tt(18),A(),O(19,"div"),tt(20),A(),A()),2&t){var e=B();x(1),fn(e.getStyleClassForPriority(e.message.priority)),x(1),Ln(" ",e.message.priorityName," "),x(2),Ln(" ",e.message.categoryName," "),x(5),Yg("",e.message.title," (",e.message.subCategory,")"),x(1),P("ngIf",e.message.distance),x(4),nr(BT(15,12,e.message.createdDate,"d MMM HH:mm")),x(2),P("ngIf",e.showMapLink),x(2),Ln(" ",e.message.exactLocation," "),x(2),Ln(" ",e.message.description," ")}}var yA=function(){function t(r){this.broker=r,this.showMapLink=!1}return t.prototype.ngOnInit=function(){},t.prototype.onClickMessage=function(r){var n=[];n.push({lat:r.latitude,lng:r.longitude,info:r.priorityName+": "+r.title+" ("+r.subCategory+")",id:r.id}),this.broker.sendMessage(new Rd(n,this.userPos,r.title+" ("+r.subCategory+")",r.description))},t.prototype.getStyleClassForPriority=function(r){var e="priority-ctn";switch(r){case 1:e+=" prio-highest";break;case 2:e+=" prio-higher";break;case 3:e+=" prio-high";break;default:e+=" prio-info"}return e},t.\u0275fac=function(e){return new(e||t)(S(Wo))},t.\u0275cmp=At({type:t,selectors:[["app-info-card"]],inputs:{message:"message",showMapLink:"showMapLink",userPos:"userPos"},decls:1,vars:1,consts:[["class","msg-ctn",4,"ngIf"],[1,"msg-ctn"],[1,"category"],[1,"p-grid"],[1,"p-col"],[4,"ngIf"],[1,"date-info"],["class","p-col-4",4,"ngIf"],[1,"dist-info"],[1,"p-col-4"],[1,"open-button",3,"click"],[1,"pi","pi-globe","map-icon"]],template:function(e,n){1&e&&X(0,uY,21,15,"div",0),2&e&&P("ngIf",n.message)},directives:[Bn],pipes:[cI],styles:[".msg-ctn[_ngcontent-%COMP%]{border:solid 2px gray;border-radius:.25rem;padding:10px;margin:20px 10px}.category[_ngcontent-%COMP%]{float:right;font-size:smaller;margin-top:-10px;margin-right:-5px;font-weight:bold;color:gray}.priority-ctn[_ngcontent-%COMP%]{border-radius:.25rem;font-weight:900;text-transform:uppercase;font-size:.75rem;line-height:14px;color:#fff;padding:.25rem;display:inline-block}.prio-highest[_ngcontent-%COMP%]{background-color:red}.prio-higher[_ngcontent-%COMP%]{background-color:#f20}.prio-high[_ngcontent-%COMP%]{background-color:#f60}.prio-info[_ngcontent-%COMP%]{background-color:#06f}.dist-info[_ngcontent-%COMP%]{color:gray}.date-info[_ngcontent-%COMP%]{color:gray}.open-button[_ngcontent-%COMP%]{border:1px;padding:5px 5px 5px 10px;border-style:solid;border-color:gray;border-radius:10px;float:right;font-weight:bold;font-size:.7em;color:gray}.map-icon[_ngcontent-%COMP%]{font-size:1rem;padding-left:2px;vertical-align:middle}"]}),t}();function lY(t,r){if(1&t&&(O(0,"span",9),tt(1),A()),2&t){var e=B();x(1),Ln(" ",e.header," ")}}function cY(t,r){1&t&&cn(0)}function fY(t,r){1&t&&Ri(0,1,["*ngIf","hasHeaderFacet"])}function hY(t,r){1&t&&cn(0)}function dY(t,r){if(1&t&&(Kr(0),X(1,hY,1,0,"ng-container",5),Yr()),2&t){var e=B();x(1),P("ngTemplateOutlet",e.contentTemplate)}}var pY=["*",[["p-header"]]],vY=function(r){return{"p-accordion-tab-active":r}},gY=function(r,e){return{"p-highlight":r,"p-disabled":e}},mA=function(r){return{transitionParams:r}},yY=function(r){return{value:"visible",params:r}},mY=function(r){return{value:"hidden",params:r}},_Y=["*","p-header"],CY=["*"],EY=0,_A=function(){var t=function(){function r(e,n){g(this,r),this.changeDetector=n,this.cache=!0,this.selectedChange=new me,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-".concat(EY++),this.accordion=e}return m(r,[{key:"selected",get:function(){return this._selected},set:function(n){this._selected=n,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"content":n.contentTemplate=i.template;break;case"header":n.headerTemplate=i.template;break;default:n.contentTemplate=i.template}})}},{key:"toggle",value:function(n){if(this.disabled)return!1;var i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:n,index:i});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:n,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),n.preventDefault()}},{key:"findTabIndex",value:function(){for(var n=-1,i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){n=i;break}return n}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(n){(32===n.which||13===n.which)&&(this.toggle(n),n.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(Xe(function(){return CA})),S($r))},t.\u0275cmp=At({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,n,i){var a;1&e&&(ii(i,j5,4),ii(i,Pu,4)),2&e&&(Gt(a=zt())&&(n.headerFacet=a),Gt(a=zt())&&(n.templates=a))},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:_Y,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,n){1&e&&(ia(pY),O(0,"div",0),O(1,"div",1),O(2,"a",2),ne("click",function(a){return n.toggle(a)})("keydown",function(a){return n.onKeydown(a)}),kt(3,"span",3),X(4,lY,2,1,"span",4),X(5,cY,1,0,"ng-container",5),X(6,fY,1,0,"ng-content",6),A(),A(),O(7,"div",7),O(8,"div",8),Ri(9),X(10,dY,2,1,"ng-container",6),A(),A(),A()),2&e&&(P("ngClass",Jt(15,vY,n.selected)),x(1),P("ngClass",xo(17,gY,n.selected,n.disabled)),x(1),at("tabindex",n.disabled?null:0)("id",n.id)("aria-controls",n.id+"-content")("aria-expanded",n.selected),x(1),P("ngClass",n.selected?n.accordion.collapseIcon:n.accordion.expandIcon),x(1),P("ngIf",!n.hasHeaderFacet),x(1),P("ngTemplateOutlet",n.headerTemplate),x(1),P("ngIf",n.hasHeaderFacet),x(1),P("@tabContent",n.selected?Jt(22,yY,Jt(20,mA,n.transitionOptions)):Jt(26,mY,Jt(24,mA,n.transitionOptions))),at("id",n.id+"-content")("aria-hidden",!n.selected)("aria-labelledby",n.id),x(3),P("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},directives:[Ir,Bn,Ua],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[Nc("tabContent",[s_("hidden",Ar({height:"0",overflow:"hidden"})),s_("visible",Ar({height:"*"})),pa("visible <=> hidden",[Ar({overflow:"hidden"}),Wa("{{transitionParams}}")]),pa("void => *",Wa(0))])]},changeDetection:0}),t}(),CA=function(){var t=function(){function r(e,n){g(this,r),this.el=e,this.changeDetector=n,this.onClose=new me,this.onOpen=new me,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new me,this.tabs=[]}return m(r,[{key:"ngAfterContentInit",value:function(){var n=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(i){n.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var n=0;n<this.tabs.length;n++){var i=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;i!==this.tabs[n].selected&&(this.tabs[n].selected=i,this.tabs[n].selectedChange.emit(i),this.tabs[n].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var n=this,i=this.multiple?[]:null;this.tabs.forEach(function(a,o){if(a.selected){if(!n.multiple)return void(i=o);i.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(i)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S($r))},t.\u0275cmp=At({type:t,selectors:[["p-accordion"]],contentQueries:function(e,n,i){var a;1&e&&ii(i,_A,4),2&e&&Gt(a=zt())&&(n.tabList=a)},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:CY,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,n){1&e&&(ia(),O(0,"div",0),Ri(1),A()),2&e&&(fn(n.styleClass),P("ngClass","p-accordion p-component")("ngStyle",n.style))},directives:[Ir,Fi],encapsulation:2,changeDetection:0}),t}(),bY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir],Md]}),t}(),wY=function(){var t=function(){function r(e,n){g(this,r),this.el=e,this.ngModel=n}return m(r,[{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(n){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S(Jd,8))},t.\u0275dir=te({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,n){1&e&&ne("input",function(a){return n.onInput(a)}),2&e&&Oo("p-filled",n.filled)}}),t}(),SY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}(),TY=["rb"],kY=function(r,e,n){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":r,"p-disabled":e,"p-radiobutton-label-focus":n}};function IY(t,r){if(1&t){var e=Kt();O(0,"label",4),ne("click",function(o){return ue(e),B().select(o)}),tt(1),A()}if(2&t){var n=B(),i=ra(3);fn(n.labelStyleClass),P("ngClass",Fo(5,kY,i.checked,n.disabled,n.focused)),at("for",n.inputId),x(1),nr(n.label)}}var DY=function(r,e,n){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":r,"p-radiobutton-disabled":e,"p-radiobutton-focused":n}},OY=function(r,e,n){return{"p-radiobutton-box":!0,"p-highlight":r,"p-disabled":e,"p-focus":n}},AY={provide:or,useExisting:Xe(function(){return EA}),multi:!0},RY=function(){var t=function(){function r(){g(this,r),this.accessors=[]}return m(r,[{key:"add",value:function(n,i){this.accessors.push([n,i])}},{key:"remove",value:function(n){this.accessors=this.accessors.filter(function(i){return i[1]!==n})}},{key:"select",value:function(n){var i=this;this.accessors.forEach(function(a){i.isSameGroup(a,n)&&a[1]!==n&&a[1].writeValue(n.value)})}},{key:"isSameGroup",value:function(n,i){return!!n[0].control&&n[0].control.root===i.control.control.root&&n[1].name===i.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),EA=function(){var t=function(){function r(e,n,i){g(this,r),this.cd=e,this.injector=n,this.registry=i,this.onClick=new me,this.onFocus=new me,this.onBlur=new me,this.onModelChange=function(){},this.onModelTouched=function(){}}return m(r,[{key:"ngOnInit",value:function(){this.control=this.injector.get(va),this.checkName(),this.registry.add(this.control,this)}},{key:"handleClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&(this.select(n),a&&i.focus())}},{key:"select",value:function(n){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(n))}},{key:"writeValue",value:function(n){this.checked=n==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onModelTouched(),this.onBlur.emit(n)}},{key:"onChange",value:function(n){this.select(n)}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this.registry.remove(this)}},{key:"checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"throwNameError",value:function(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S($r),S(dt),S(RY))},t.\u0275cmp=At({type:t,selectors:[["p-radioButton"]],viewQuery:function(e,n){var i;1&e&&ri(TY,5),2&e&&Gt(i=zt())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Qe([AY])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,n){if(1&e){var i=Kt();O(0,"div",0),O(1,"div",1),O(2,"input",2,3),ne("change",function(o){return n.onChange(o)})("focus",function(o){return n.onInputFocus(o)})("blur",function(o){return n.onInputBlur(o)}),A(),A(),O(4,"div",4),ne("click",function(o){ue(i);var s=ra(3);return n.handleClick(o,s,!0)}),kt(5,"span",5),A(),A(),X(6,IY,2,9,"label",6)}2&e&&(fn(n.styleClass),P("ngStyle",n.style)("ngClass",Fo(15,DY,n.checked,n.disabled,n.focused)),x(2),P("checked",n.checked)("disabled",n.disabled),at("id",n.inputId)("name",n.name)("value",n.value)("tabindex",n.tabindex)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),x(2),P("ngClass",Fo(19,OY,n.checked,n.disabled,n.focused)),x(2),P("ngIf",n.label))},directives:[Fi,Ir,Bn],encapsulation:2,changeDetection:0}),t}(),MY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}(),PY=["cb"],xY=function(r,e,n){return{"p-checkbox-label":!0,"p-checkbox-label-active":r,"p-disabled":e,"p-checkbox-label-focus":n}};function FY(t,r){if(1&t){var e=Kt();O(0,"label",7),ne("click",function(a){ue(e);var o=B(),s=ra(3);return o.onClick(a,s,!0)}),tt(1),A()}if(2&t){var n=B();fn(n.labelStyleClass),P("ngClass",Fo(5,xY,n.checked(),n.disabled,n.focused)),at("for",n.inputId),x(1),nr(n.label)}}var NY=function(r,e,n){return{"p-checkbox p-component":!0,"p-checkbox-checked":r,"p-checkbox-disabled":e,"p-checkbox-focused":n}},LY=function(r,e,n){return{"p-highlight":r,"p-disabled":e,"p-focus":n}},VY={provide:or,useExisting:Xe(function(){return bA}),multi:!0},bA=function(){var t=function(){function r(e){g(this,r),this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new me,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1}return m(r,[{key:"onClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(n),a&&i.focus())}},{key:"updateModel",value:function(n){var a,i=this;this.binary?(a=this.checked()?this.falseValue:this.trueValue,this.model=a,this.onModelChange(a)):(a=this.checked()?this.model.filter(function(o){return!Lt.equals(o,i.value)}):this.model?[].concat(Y(this.model),[this.value]):[this.value],this.onModelChange(a),this.model=a,this.formControl&&this.formControl.setValue(a)),this.onChange.emit({checked:a,originalEvent:n})}},{key:"handleChange",value:function(n){this.readonly||this.updateModel(n)}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1,this.onModelTouched()}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"writeValue",value:function(n){this.model=n,this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"checked",value:function(){return this.binary?this.model===this.trueValue:Lt.contains(this.value,this.model)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S($r))},t.\u0275cmp=At({type:t,selectors:[["p-checkbox"]],viewQuery:function(e,n){var i;1&e&&ri(PY,5),2&e&&Gt(i=zt())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[Qe([VY])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(1&e){var i=Kt();O(0,"div",0),O(1,"div",1),O(2,"input",2,3),ne("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(o){return n.handleChange(o)}),A(),A(),O(4,"div",4),ne("click",function(o){ue(i);var s=ra(3);return n.onClick(o,s,!0)}),kt(5,"span",5),A(),A(),X(6,FY,2,9,"label",6)}2&e&&(fn(n.styleClass),P("ngStyle",n.style)("ngClass",Fo(18,NY,n.checked(),n.disabled,n.focused)),x(2),P("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),at("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),x(2),P("ngClass",Fo(22,LY,n.checked(),n.disabled,n.focused)),x(1),P("ngClass",n.checked()?n.checkboxIcon:null),x(1),P("ngIf",n.label))},directives:[Fi,Ir,Bn],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}"],encapsulation:2,changeDetection:0}),t}(),BY=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}();function UY(t,r){1&t&&kt(0,"div",16)}function jY(t,r){if(1&t&&kt(0,"app-info-card",19),2&t){var e=B().$implicit,n=B(2);P("message",e)("showMapLink",!0)("userPos",n.position)}}function HY(t,r){if(1&t&&(O(0,"div"),X(1,jY,1,3,"app-info-card",18),A()),2&t){var e=r.$implicit,n=B(2);x(1),P("ngIf",n.matchesKeyword(e)&&n.matchesFilter(e))}}function GY(t,r){if(1&t&&(O(0,"div"),X(1,HY,2,1,"div",17),A()),2&t){var e=B();x(1),P("ngForOf",e.messages)}}function zY(t,r){if(1&t){var e=Kt();O(0,"div",20),O(1,"p-accordion"),O(2,"p-accordionTab",21),O(3,"div",22),O(4,"div",23),kt(5,"i",24),O(6,"input",25),ne("ngModelChange",function(a){return ue(e),B().keyword=a}),A(),A(),O(7,"span",26),O(8,"button",27),ne("click",function(){return ue(e),B().onClear()}),A(),A(),A(),O(9,"div",28),O(10,"div",29),O(11,"div",30),tt(12," Sortering "),A(),O(13,"div",31),O(14,"p-radioButton",32),ne("onClick",function(){return ue(e),B().onSortOrderChanged()})("ngModelChange",function(a){return ue(e),B().sortOrder=a}),A(),A(),O(15,"div",31),O(16,"p-radioButton",33),ne("onClick",function(){return ue(e),B().onSortOrderChanged()})("ngModelChange",function(a){return ue(e),B().sortOrder=a}),A(),A(),O(17,"div",31),O(18,"p-radioButton",34),ne("onClick",function(){return ue(e),B().onSortOrderChanged()})("ngModelChange",function(a){return ue(e),B().sortOrder=a}),A(),A(),A(),O(19,"div",29),O(20,"div",30),tt(21," Filtrering "),A(),O(22,"div",35),O(23,"p-checkbox",36),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().settings.showTodayOnly=a}),A(),A(),O(24,"div",35),O(25,"p-checkbox",37),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().settings.showTrafficIncidentsOnly=a}),A(),A(),O(26,"div",35),O(27,"p-checkbox",38),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().settings.includeSubcategoryRoadwork=a}),A(),A(),O(28,"div",35),O(29,"p-checkbox",39),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().settings.showPublicTransportOnly=a}),A(),A(),O(30,"div",35),O(31,"p-checkbox",40),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().settings.showRoadTrafficOnly=a}),A(),A(),O(32,"div",35),O(33,"p-checkbox",41),ne("onChange",function(){return ue(e),B().onCheckChanged()})("ngModelChange",function(a){return ue(e),B().showOnlyWithinRadius=a}),A(),A(),A(),A(),A(),A(),A()}if(2&t){var n=B();x(6),P("ngModel",n.keyword),x(2),P("disabled",n.isLoading),x(6),P("ngModel",n.sortOrder),x(2),P("ngModel",n.sortOrder),x(2),P("ngModel",n.sortOrder)("disabled",!n.position.lat),x(5),P("ngModel",n.settings.showTodayOnly),x(2),P("ngModel",n.settings.showTrafficIncidentsOnly),x(2),P("ngModel",n.settings.includeSubcategoryRoadwork),x(2),P("ngModel",n.settings.showPublicTransportOnly),x(2),P("ngModel",n.settings.showRoadTrafficOnly),x(2),P("ngModel",n.showOnlyWithinRadius)("disabled",!n.position.lat)}}var ep=function(t){return t.highestPriority="1",t.leastDistance="2",t.latestDate="3",t}({}),qY=[{path:"**",component:function(){function t(r,e,n,i){this.broker=r,this.service=e,this.logger=n,this.localStorageService=i,this.settings={showTodayOnly:!1,showRoadTrafficOnly:!1,showPublicTransportOnly:!1,showTrafficIncidentsOnly:!1,includeSubcategoryRoadwork:!1},this.sortOrder=ep.highestPriority,this.AppSettingsKey="srtrafficsettings",this.radiusKm=100,this.isLoading=!1,this.showOnlyWithinRadius=!1,this.position={lng:void 0,lat:void 0,info:void 0,id:void 0},this.keyword="",this.geolocationAvailable=!1}return t.prototype.ngOnInit=function(){return Hn(this,void 0,void 0,function(){var r;return Gn(this,function(e){switch(e.label){case 0:return this.geolocationAvailable="geolocation"in navigator,(r=this.localStorageService.get(this.AppSettingsKey))?this.settings=r:this.logger.logInfo("No previous settings found"),[4,this.fillTrafficAreaDropDown()];case 1:return e.sent(),[2]}})})},t.prototype.onFetchPosition=function(){return Hn(this,void 0,void 0,function(){var e=this;return Gn(this,function(n){switch(n.label){case 0:return n.trys.push([0,1,,3]),navigator.geolocation.getCurrentPosition(function(i){return Hn(e,void 0,void 0,function(){var a;return Gn(this,function(o){switch(o.label){case 0:return this.allTrafficAreas?[3,2]:[4,this.fillTrafficAreaDropDown()];case 1:o.sent(),o.label=2;case 2:return this.position.lat=i.coords.latitude,this.position.lng=i.coords.longitude,a=this,[4,this.service.fetchClosestTrafficAreaForPosition(this.position)];case 3:return a.trafficArea=o.sent(),this.selectedArea=this.trafficArea.trafficdepartmentunitid,[4,this.fetchMessages()];case 4:return o.sent(),[2]}})})},function(i){e.broker.sendMessage(new Ru(i.message))}),[3,3];case 1:return n.sent(),this.broker.sendMessage(new Ru("Geolocation is not available")),this.selectedArea=0,[4,this.fetchMessages()];case 2:return n.sent(),[3,3];case 3:return[2]}})})},t.prototype.onShowUserOnMap=function(){this.broker.sendMessage(new Rd([],this.position,"Din position"))},t.prototype.onShowAllPositionsOnMap=function(){var e,r=this;if(this.messages){var n=[];if(this.messages.filter(function(a){return r.matchesKeyword(a)&&r.matchesFilter(a)}).forEach(function(a){n.push({lat:a.latitude,lng:a.longitude,info:a.priorityName+": "+a.title+" ("+a.subCategory+")",id:a.id})}),0!=n.length){var i=(null===(e=this.trafficArea)||void 0===e?void 0:e.name)?"Trafikomr\xe5de: "+this.trafficArea.name:"Hela Sverige";this.broker.sendMessage(new Rd(n,this.position,i))}}},t.prototype.matchesKeyword=function(r){if(!this.keyword||this.keyword.length<2)return!0;var e=new RegExp(this.keyword,"gi");return!!(r.title.match(e)||r.description.match(e)||r.exactLocation.match(e)||r.priorityName.match(e)||r.categoryName.match(e))},t.prototype.onAreaChanged=function(r){return Hn(this,void 0,void 0,function(){return Gn(this,function(e){switch(e.label){case 0:return this.keyword="",0!=r.value?[3,2]:(this.trafficArea=null,[4,this.fetchMessages()]);case 1:return e.sent(),[3,4];case 2:return this.trafficArea=this.getAreaFromId(r.value),[4,this.fetchMessages()];case 3:e.sent(),e.label=4;case 4:return[2]}})})},t.prototype.onRefresh=function(){return Hn(this,void 0,void 0,function(){return Gn(this,function(r){switch(r.label){case 0:return[4,this.fetchMessages()];case 1:return r.sent(),[2]}})})},t.prototype.onSortOrderChanged=function(){this.sortMessages()},t.prototype.numFilteredMessagesInfo=function(){var r=this;if(!this.messages||this.messages.length<1)return"";var e=this.messages.filter(function(a){return r.matchesFilter(a)&&r.matchesKeyword(a)}).length;return 1===e?"1 meddelande":(0===e?"Inga":""+e)+" meddelanden"},t.prototype.onClear=function(){this.keyword=""},t.prototype.matchesFilter=function(r){if(r.category===Jm.\u00d6vrigt||r.category!==Jm.V\u00e4gtrafik&&this.settings.showRoadTrafficOnly||r.subCategory!==XD.TrafikOlycka&&this.settings.showTrafficIncidentsOnly||r.subCategory===XD.V\u00e4garbete&&!this.settings.includeSubcategoryRoadwork)return!1;var e=(new Date).getDate();return!(r.createdDate.getDate()!==e&&this.settings.showTodayOnly||this.settings.showPublicTransportOnly&&r.category!==Jm.Kollektivtrafik)&&!(this.showOnlyWithinRadius&&this.position&&this.position.lat&&this.position.lng&&ND(this.position.lat,this.position.lng,r.latitude,r.longitude)>this.radiusKm)},t.prototype.hasMessagesToDisplay=function(){var r=this;return!(!this.messages||this.messages.length<1)&&this.messages.filter(function(n){return r.matchesFilter(n)&&r.matchesKeyword(n)}).length>0},t.prototype.onCheckChanged=function(){this.localStorageService.set(this.AppSettingsKey,this.settings)},t.prototype.fillTrafficAreaDropDown=function(){return Hn(this,void 0,void 0,function(){var r,e,n;return Gn(this,function(i){switch(i.label){case 0:return r=this,[4,this.service.fetchAllTrafficAreas()];case 1:return r.allTrafficAreas=i.sent(),this.areaOptions=[],this.areaOptions.push({label:"Hela Sverige",value:0}),e=this.allTrafficAreas.map(function(a){return{label:a.name,value:a.trafficdepartmentunitid}}),(n=this.areaOptions).push.apply(n,function(t,r,e){if(e||2===arguments.length)for(var a,n=0,i=r.length;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||r)}([],function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,o,n=e.call(t),a=[];try{for(;(void 0===r||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}(e))),[2]}})})},t.prototype.getAreaFromId=function(r){return this.allTrafficAreas.find(function(n){return n.trafficdepartmentunitid===r})},t.prototype.fetchMessages=function(){var r;return Hn(this,void 0,void 0,function(){var e,n,i;return Gn(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,6,7]),this.isLoading=!0,this.messages=[],(null===(r=this.trafficArea)||void 0===r?void 0:r.name)?(e=this,[4,this.service.fetchAllTrafficMessagesForArea(this.trafficArea.name,this.position)]):[3,2];case 1:return e.messages=a.sent(),[3,4];case 2:return n=this,[4,this.service.fetchAllTrafficMessages(this.position)];case 3:n.messages=a.sent(),a.label=4;case 4:return this.sortMessages(),[3,7];case 5:return i=a.sent(),this.logger.logError(i),[2];case 6:return this.isLoading=!1,[7];case 7:return[2]}})})},t.prototype.sortMessages=function(){switch(this.sortOrder){case ep.leastDistance:this.messages.sort(function(r,e){return r.distance-e.distance||e.createdDate.getTime()-r.createdDate.getTime()});break;case ep.highestPriority:this.messages.sort(function(r,e){return r.priority-e.priority||e.createdDate.getTime()-r.createdDate.getTime()});break;case ep.latestDate:this.messages.sort(function(r,e){return e.createdDate.getTime()-r.createdDate.getTime()})}},t.\u0275fac=function(e){return new(e||t)(S(Wo),S(QD),S(Ac),S(L5))},t.\u0275cmp=At({type:t,selectors:[["app-messages"]],decls:19,vars:10,consts:[[1,"outer"],[1,"headline"],[1,"controls-container"],[1,"p-grid","thegrid"],[1,"p-col-12","p-md-6","p-lg-4"],["pButton","","icon","pi pi-compass","iconPos","right","label","H\xe4mta ditt n\xe4rmaste omr\xe5de",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-12","p-md-6","p-lg-4","center","area-dd"],["placeholder","V\xe4lj omr\xe5de",3,"disabled","ngModel","options","onChange","ngModelChange"],[1,"p-col-12","p-md-12","p-lg-4"],["pButton","","icon","pi pi-refresh","iconPos","right","label","H\xe4mta nya meddelanden",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-6","p-lg-6","center","num-msg-ctn"],[1,"p-col-6","p-lg-6"],["pButton","","icon","pi pi-globe","iconPos","right","label","Visa alla p\xe5 kartan",1,"sr-button-wide",3,"disabled","click"],["class","p-col-12 p-lg-12",4,"ngIf","ngIfElse"],[4,"ngIf"],["sortfilt",""],[1,"p-col-12","p-lg-12"],[4,"ngFor","ngForOf"],[3,"message","showMapLink","userPos",4,"ngIf"],[3,"message","showMapLink","userPos"],[1,"sortfilt-ctn"],["header","Sortering & filtrering"],[1,"search-ctn"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","S\xf6k",3,"ngModel","ngModelChange"],[1,"clear-btn"],["pButton","","iconPos","right","label","T\xf6m",3,"disabled","click"],["styleClass","sortfilt-content",1,"p-grid"],[1,"p-col-6"],[1,"sort-filt-label"],[1,"p-field-radiobutton"],["value","1","label","H\xf6gst prioritet",3,"ngModel","onClick","ngModelChange"],["value","3","label","Senaste",3,"ngModel","onClick","ngModelChange"],["value","2","label","N\xe4rmast",3,"ngModel","disabled","onClick","ngModelChange"],[1,"p-field-checkbox"],["binary","true","label","Publicerad idag",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast olyckor",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa v\xe4garbeten",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast kollektivtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa endast v\xe4gtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Inom 100km radie",3,"ngModel","disabled","onChange","ngModelChange"]],template:function(e,n){if(1&e&&(O(0,"div",0),O(1,"div",1),tt(2,"Trafikinformation fr\xe5n SR"),A(),O(3,"div",2),O(4,"div",3),O(5,"div",4),O(6,"button",5),ne("click",function(){return n.onFetchPosition()}),A(),A(),O(7,"div",6),O(8,"p-dropdown",7),ne("onChange",function(o){return n.onAreaChanged(o)})("ngModelChange",function(o){return n.selectedArea=o}),A(),A(),O(9,"div",8),O(10,"button",9),ne("click",function(){return n.onRefresh()}),A(),A(),O(11,"div",10),tt(12),A(),O(13,"div",11),O(14,"button",12),ne("click",function(){return n.onShowAllPositionsOnMap()}),A(),A(),X(15,UY,1,0,"div",13),A(),A(),X(16,GY,2,1,"div",14),A(),X(17,zY,34,13,"ng-template",null,15,Ph)),2&e){var i=ra(18);x(6),P("disabled",n.isLoading||!n.geolocationAvailable),x(2),P("disabled",n.isLoading)("ngModel",n.selectedArea)("options",n.areaOptions),x(2),P("disabled",void 0===n.selectedArea),x(2),Ln(" ",n.numFilteredMessagesInfo()," "),x(2),P("disabled",n.isLoading||!n.hasMessagesToDisplay()),x(1),P("ngIf",!n.messages||0===n.messages.length)("ngIfElse",i),x(1),P("ngIf",n.messages)}},directives:[Z5,gA,UO,Jd,Bn,rd,yA,CA,_A,Gd,wY,EA,bA],styles:[".headline[_ngcontent-%COMP%]{margin:10px auto;max-width:300px;font-weight:bolder;font-size:1.5em;color:#7e7e7e}.controls-container[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:0}@media only screen and (min-width: 800px){.controls-container[_ngcontent-%COMP%]{max-width:800px}}.showmap-ctn[_ngcontent-%COMP%]{margin-top:10px;width:400px}.sort-filt-label[_ngcontent-%COMP%]{font-weight:bold;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]  .sortfilt-ctn{width:100%;margin:auto auto auto 4px}.refresh-btn[_ngcontent-%COMP%]{margin-left:20px;font-size:2em;color:#7e7e7e}.thegrid[_ngcontent-%COMP%]{align-items:center}.clear-btn[_ngcontent-%COMP%]{border-radius:10px;width:20px}.num-msg-ctn[_ngcontent-%COMP%]{margin-left:16px;margin-right:-16px}.area-dd[_ngcontent-%COMP%]{padding-right:10px;padding-left:6px}.outer[_ngcontent-%COMP%]{margin-right:8px}"]}),t}()}],KY=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[OD.forRoot(qY,{relativeLinkResolution:"legacy"})],OD]}),t}(),YY=function(t){function r(e){var n=t.call(this)||this;return n.info=e,n}return Ic(r,t),Object.defineProperty(r.prototype,"Type",{get:function(){return"SuccessInfoMessage"},enumerable:!1,configurable:!0}),r}(Ad),ZY={},XY={},QY=function(){function t(){this.translations={en:ZY,sv:XY}}return Object.defineProperty(t.prototype,"defaultLangCode",{set:function(r){this.fallBackLangCode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentLocale",{set:function(r){this.localeToUse=r,this.currLangCode=this.localeToUse.slice(0,2)},enumerable:!1,configurable:!0}),t.prototype.translate=function(r){var e;return this.translations[this.currLangCode]&&this.translations[this.currLangCode][r]&&""!==(e=this.translations[this.currLangCode][r])?e:this.translations[this.fallBackLangCode]&&this.translations[this.fallBackLangCode][r]?""===(e=this.translations[this.fallBackLangCode][r])?r:e:r},t.prototype.translateWithArgs=function(r,e){var n=this.translate(r);return e?this.replace(n,e):n},t.prototype.replace=function(r,e){void 0===r&&(r=""),void 0===e&&(e="");var n=r;return[].concat(e).forEach(function(a,o){a=a.replace(/\$/g,"$$$$"),n=n.replace("{".concat(o)+"}",a)}),n},t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),wA=function(t){function r(e){var n=t.call(this)||this;return n.id=e,n}return Ic(r,t),Object.defineProperty(r.prototype,"Type",{get:function(){return"ShowInfoSidebarMessage"},enumerable:!1,configurable:!0}),r}(Ad),$Y=function(){return function(){}}(),SA=function(){function t(){this.mapInput$=new Dr(null)}return t.prototype.addNewMapInput=function(r){this.mapInput=r,this.mapInput$.next(this.mapInput)},t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function JY(t,r){if(1&t){var e=Kt();O(0,"button",7),ne("click",function(a){return ue(e),B(2).close(a)})("keydown.enter",function(a){return ue(e),B(2).close(a)}),kt(1,"span",8),A()}2&t&&at("aria-label",B(2).ariaCloseLabel)}function e7(t,r){1&t&&cn(0)}var t7=function(r,e,n,i,a,o){return{"p-sidebar":!0,"p-sidebar-active":r,"p-sidebar-left":e,"p-sidebar-right":n,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":o}},n7=function(r,e){return{transform:r,transition:e}},r7=function(r){return{value:"visible",params:r}};function i7(t,r){if(1&t){var e=Kt();O(0,"div",1,2),ne("@panelState.start",function(a){return ue(e),B().onAnimationStart(a)})("@panelState.done",function(a){return ue(e),B().onAnimationEnd(a)}),O(2,"div",3),X(3,JY,2,1,"button",4),A(),O(4,"div",5),Ri(5),X(6,e7,1,0,"ng-container",6),A(),A()}if(2&t){var n=B();fn(n.styleClass),P("ngClass",function(t,r,e,n,i,a,o,s,u){var l=kn()+t,c=L(),f=Er(c,l,e,n,i,a);return Do(c,l+4,o,s)||f?Ai(c,l+6,u?r.call(u,e,n,i,a,o,s):r(e,n,i,a,o,s)):function(t,r){return t[r]}(c,l+6)}(8,t7,n.visible,"left"===n.position&&!n.fullScreen,"right"===n.position&&!n.fullScreen,"top"===n.position&&!n.fullScreen,"bottom"===n.position&&!n.fullScreen,n.fullScreen))("@panelState",Jt(18,r7,xo(15,n7,n.transformOptions,n.transitionOptions)))("ngStyle",n.style),at("aria-modal",n.modal),x(3),P("ngIf",n.showCloseIcon),x(3),P("ngTemplateOutlet",n.contentTemplate)}}var a7=["*"],o7=EO([Ar({transform:"{{transform}}",opacity:0}),Wa("{{transition}}")]),s7=EO([Wa("{{transition}}",Ar({transform:"{{transform}}",opacity:0}))]),TA=function(){var t=function(){function r(e,n,i,a){g(this,r),this.el=e,this.renderer=n,this.cd=i,this.config=a,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new me,this.onHide=new me,this.visibleChange=new me,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}return m(r,[{key:"ngAfterViewInit",value:function(){this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"content":default:n.contentTemplate=i.template}})}},{key:"visible",get:function(){return this._visible},set:function(n){this._visible=n}},{key:"position",get:function(){return this._position},set:function(n){switch(this._position=n,n){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}},{key:"fullScreen",get:function(){return this._fullScreen},set:function(n){this._fullScreen=n,n&&(this.transformOptions="none")}},{key:"show",value:function(){this.autoZIndex&&ci.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({})}},{key:"hide",value:function(){this.onHide.emit({}),this.modal&&this.disableModality()}},{key:"close",value:function(n){this.hide(),this.visibleChange.emit(!1),n.preventDefault()}},{key:"enableModality",value:function(){var n=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),Q.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(i){n.dismissible&&n.close(i)})),document.body.appendChild(this.mask),this.blockScroll&&Q.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(Q.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyModal",value:function(){this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll&&Q.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}},{key:"onAnimationStart",value:function(n){switch(n.toState){case"visible":this.container=n.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener()}}},{key:"onAnimationEnd",value:function(n){switch(n.toState){case"void":this.hide(),ci.clear(this.container),this.unbindGlobalListeners()}}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Q.appendChild(this.container,this.appendTo))}},{key:"bindDocumentEscapeListener",value:function(){var n=this;this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",function(a){27==a.which&&parseInt(n.container.style.zIndex)===Q.zindex+n.baseZIndex&&n.close(a)})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindGlobalListeners",value:function(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener(),this.unbindAnimationEndListener()}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"ngOnDestroy",value:function(){this.initialized=!1,this.visible&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ci.clear(this.container),this.container=null,this.unbindGlobalListeners()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(vt),S(Qr),S($r),S(Rc))},t.\u0275cmp=At({type:t,selectors:[["p-sidebar"]],contentQueries:function(e,n,i){var a;1&e&&ii(i,Pu,4),2&e&&Gt(a=zt())&&(n.templates=a)},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:a7,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(ia(),X(0,i7,7,20,"div",0)),2&e&&P("ngIf",n.visible)},directives:[Bn,Ir,Fi,Ua,Pd],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center;justify-content:flex-end}.p-sidebar-icon{display:flex;align-items:center;justify-content:center}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-bottom.p-sidebar-sm,.p-sidebar-top.p-sidebar-sm{height:10rem}.p-sidebar-bottom.p-sidebar-md,.p-sidebar-top.p-sidebar-md{height:20rem}.p-sidebar-bottom.p-sidebar-lg,.p-sidebar-top.p-sidebar-lg{height:30rem}@media screen and (max-width:64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}"],encapsulation:2,data:{animation:[Nc("panelState",[pa("void => visible",[bO(o7)]),pa("visible => void",[bO(s7)])])]},changeDetection:0}),t}(),u7=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir,xd]]}),t}();function l7(t,r){if(1&t){var e=Kt();O(0,"p-sidebar",1),ne("visibleChange",function(a){return ue(e),B().isVisible=a}),O(1,"div",2),O(2,"i",3),ne("click",function(){return ue(e),B().close()}),A(),A(),kt(3,"app-info-card",4),A()}if(2&t){var n=B();P("visible",n.isVisible)("showCloseIcon",!1),x(3),P("message",n.trafficMessage)}}var c7=function(){function t(r,e){this.broker=r,this.service=e,this.unsubscribe$=new xe,this.isVisible=!1}return t.prototype.ngOnInit=function(){var r=this;this.broker.getMessage().pipe(Ga(this.unsubscribe$),hn(function(e){return e instanceof wA})).subscribe(function(e){r.trafficMessage=r.service.getCachedMessageFromId(e.id),r.trafficMessage&&(r.isVisible=!0)})},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.close=function(){this.isVisible=!1},t.\u0275fac=function(e){return new(e||t)(S(Wo),S(QD))},t.\u0275cmp=At({type:t,selectors:[["app-info-sidebar"]],decls:1,vars:1,consts:[["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-down","close-button","clickable",3,"click"],[3,"message"]],template:function(e,n){1&e&&X(0,l7,4,3,"p-sidebar",0),2&e&&P("ngIf",!0)},directives:[Bn,TA,yA],encapsulation:2}),t}(),ga=function(){function t(r){this.type=r,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),R_=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Xo(t,r){return t>r?1:t<r?-1:0}function M_(t,r){return t.indexOf(r)>=0}function P_(t,r,e){var n=t.length;if(t[0]<=r)return 0;if(r<=t[n-1])return n-1;var i=void 0;if(e>0){for(i=1;i<n;++i)if(t[i]<r)return i-1}else if(e<0){for(i=1;i<n;++i)if(t[i]<=r)return i}else for(i=1;i<n;++i){if(t[i]==r)return i;if(t[i]<r)return t[i-1]-r<r-t[i]?i-1:i}return n-1}function d7(t,r,e){for(;r<e;){var n=t[r];t[r]=t[e],t[e]=n,++r,--e}}function tp(t,r){for(var e=Array.isArray(r)?r:[r],n=e.length,i=0;i<n;i++)t[t.length]=e[i]}function jc(t,r){var e=t.length;if(e!==r.length)return!1;for(var n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}function Ya(){return!0}function Hc(){return!1}function Qo(){}var Cn="function"==typeof Object.assign?Object.assign:function(t,r){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,i=arguments.length;n<i;++n){var a=arguments[n];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e};function Lu(t){for(var r in t)delete t[r]}var kA="function"==typeof Object.values?Object.values:function(t){var r=[];for(var e in t)r.push(t[e]);return r};function Gc(t){var r;for(r in t)return!1;return!r}var g7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vu=function(t){function r(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return g7(r,t),r.prototype.addEventListener=function(e,n){if(e&&n){var i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);-1===a.indexOf(n)&&a.push(n)}},r.prototype.dispatchEvent=function(e){var n="string"==typeof e?new ga(e):e,i=n.type;n.target||(n.target=this.eventTarget_||this);var o,a=this.listeners_&&this.listeners_[i];if(a){var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,u[i]=0),++s[i];for(var l=0,c=a.length;l<c;++l)if(!1===(o="handleEvent"in a[l]?a[l].handleEvent(n):a[l].call(this,n))||n.propagationStopped){o=!1;break}if(--s[i],0===s[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,Qo);delete s[i]}return o}},r.prototype.disposeInternal=function(){this.listeners_&&Lu(this.listeners_)},r.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},r.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},r.prototype.removeEventListener=function(e,n){var i=this.listeners_&&this.listeners_[e];if(i){var a=i.indexOf(n);-1!==a&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=Qo,++this.pendingRemovals_[e]):(i.splice(a,1),0===i.length&&delete this.listeners_[e]))}},r}(R_);function it(t,r,e,n,i){if(n&&n!==t&&(e=e.bind(n)),i){var a=e;e=function(){t.removeEventListener(r,e),a.apply(this,arguments)}}var o={target:t,type:r,listener:e};return t.addEventListener(r,e),o}function np(t,r,e,n){return it(t,r,e,n,!0)}function It(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Lu(t))}var m7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IA=function(t){function r(){var e=t.call(this)||this;return e.revision_=0,e}return m7(r,t),r.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},r.prototype.getRevision=function(){return this.revision_},r.prototype.on=function(e,n){if(Array.isArray(e)){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=it(this,e[o],n);return a}return it(this,e,n)},r.prototype.once=function(e,n){var i;if(Array.isArray(e)){var a=e.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=np(this,e[o],n)}else i=np(this,e,n);return n.ol_key=i,i},r.prototype.un=function(e,n){var i=n.ol_key;if(i)!function(t){if(Array.isArray(t))for(var r=0,e=t.length;r<e;++r)It(t[r]);else It(t)}(i);else if(Array.isArray(e))for(var a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],n);else this.removeEventListener(e,n)},r}(Vu);function Pe(){return function(){throw new Error("Unimplemented abstract method.")}()}var E7=0;function Ne(t){return t.ol_uid||(t.ol_uid=String(++E7))}var DA=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OA=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.key=n,a.oldValue=i,a}return DA(r,t),r}(ga),b7=function(t){function r(e){var n=t.call(this)||this;return Ne(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return DA(r,t),r.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},r.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},r.prototype.getProperties=function(){return this.values_&&Cn({},this.values_)||{}},r.prototype.hasProperties=function(){return!!this.values_},r.prototype.notify=function(e,n){var i;i=Vi(e),this.dispatchEvent(new OA(i,e,n)),this.dispatchEvent(new OA(i="propertychange",e,n))},r.prototype.set=function(e,n,i){var a=this.values_||(this.values_={});if(i)a[e]=n;else{var o=a[e];a[e]=n,o!==n&&this.notify(e,o)}},r.prototype.setProperties=function(e,n){for(var i in e)this.set(i,e[i],n)},r.prototype.applyProperties=function(e){!e.values_||Cn(this.values_||(this.values_={}),e.values_)},r.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],Gc(this.values_)&&(this.values_=null),n||this.notify(e,i)}},r}(IA),F_={};function Vi(t){return F_.hasOwnProperty(t)?F_[t]:F_[t]="change:"+t}var Bi=b7,Bu="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",w7=-1!==Bu.indexOf("firefox"),S7=(-1!==Bu.indexOf("safari")&&Bu.indexOf("chrom"),-1!==Bu.indexOf("webkit")&&-1==Bu.indexOf("edge")),T7=-1!==Bu.indexOf("macintosh"),ip="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,ap="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,AA="undefined"!=typeof Image&&Image.prototype.decode,RA=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,r),window.removeEventListener("_",null,r)}catch(e){}return t}();function zn(t,r,e){var n=e&&e.length?e.shift():ap?new OffscreenCanvas(t||300,r||300):document.createElement("canvas");return t&&(n.width=t),r&&(n.height=r),n.getContext("2d")}function MA(t,r){var e=r.parentNode;e&&e.replaceChild(t,r)}function N_(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var D7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),L_=function(t){function r(e){var n=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return D7(r,t),r.prototype.disposeInternal=function(){N_(this.element),t.prototype.disposeInternal.call(this)},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(e){this.map_&&N_(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)It(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Qo&&this.listenerKeys.push(it(e,"postrender",this.render,this)),e.render())},r.prototype.render=function(e){},r.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},r}(Bi),op="ol-hidden",sp="ol-unselectable",V_="ol-control",PA="ol-collapsed",A7=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),xA=["style","variant","weight","size","lineHeight","family"],FA=function(r){var e=r.match(A7);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,a=xA.length;i<a;++i){var o=e[i+1];void 0!==o&&(n[xA[i]]=o)}return n.families=n.family.split(/,\s?/),n},R7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NA=function(t){function r(e){var n=this,a="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,a)||this).code=e,n.name="AssertionError",n.message=a,n}return R7(r,t),r}(Error);function Le(t,r){if(!t)throw new NA(r)}function rn(t,r,e){return Math.min(Math.max(t,r),e)}var P7="cosh"in Math?Math.cosh:function(e){var n=Math.exp(e);return(n+1/n)/2},x7="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function F7(t,r,e,n,i,a){var o=i-e,s=a-n;if(0!==o||0!==s){var u=((t-e)*o+(r-n)*s)/(o*o+s*s);u>1?(e=i,n=a):u>0&&(e+=o*u,n+=s*u)}return Uu(t,r,e,n)}function Uu(t,r,e,n){var i=e-t,a=n-r;return i*i+a*a}function up(t){return t*Math.PI/180}function ju(t,r){var e=t%r;return e*r<0?e+r:e}function $o(t,r,e){return t+e*(r-t)}var L7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LA=function(t){function r(e){var n=t.call(this)||this,i=Cn({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,Le("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return L7(r,t),r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=rn(Math.round(100*this.getOpacity())/100,0,1),n.sourceState=this.getSourceState(),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i?i:!1===n.managed?1/0:0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},r.prototype.getLayersArray=function(e){return Pe()},r.prototype.getLayerStatesArray=function(e){return Pe()},r.prototype.getExtent=function(){return this.get("extent")},r.prototype.getMaxResolution=function(){return this.get("maxResolution")},r.prototype.getMinResolution=function(){return this.get("minResolution")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.getOpacity=function(){return this.get("opacity")},r.prototype.getSourceState=function(){return Pe()},r.prototype.getVisible=function(){return this.get("visible")},r.prototype.getZIndex=function(){return this.get("zIndex")},r.prototype.setExtent=function(e){this.set("extent",e)},r.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},r.prototype.setMinResolution=function(e){this.set("minResolution",e)},r.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},r.prototype.setMinZoom=function(e){this.set("minZoom",e)},r.prototype.setOpacity=function(e){Le("number"==typeof e,64),this.set("opacity",e)},r.prototype.setVisible=function(e){this.set("visible",e)},r.prototype.setZIndex=function(e){this.set("zIndex",e)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},r}(Bi),B7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function lp(t,r){if(!t.visible)return!1;var e=r.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var n=r.zoom;return n>t.minZoom&&n<=t.maxZoom}var VA=function(t){function r(e){var n=this,i=Cn({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Vi("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return B7(r,t),r.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},r.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},r.prototype.getSource=function(){return this.get("source")||null},r.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(It(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=it(e,"change",this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},r.prototype.render=function(e,n){var i=this.getRenderer();if(i.prepareFrame(e))return i.renderFrame(e,n)},r.prototype.setMap=function(e){this.mapPrecomposeKey_&&(It(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(It(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=it(e,"precompose",function(n){var a=n.frameState.layerStatesArray,o=this.getLayerState(!1);Le(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=it(this,"change",e.render,e),this.changed())},r.prototype.setSource=function(e){this.set("source",e)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},r}(LA),j7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BA=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:a+"-collpase";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u,n.collapseLabel_.className=l):n.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(f),h.addEventListener("click",n.handleClick_.bind(n),!1);var p=n.element;return p.className=a+" "+sp+" "+V_+(n.collapsed_&&n.collapsible_?" "+PA:"")+(n.collapsible_?"":" ol-uncollapsible"),p.appendChild(n.ulElement_),p.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return j7(r,t),r.prototype.collectSourceAttributions_=function(e){for(var n={},i=[],a=!0,o=e.layerStatesArray,s=0,u=o.length;s<u;++s){var l=o[s];if(lp(l,e.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var h=f(e);if(h)if(a=a&&!1!==c.getAttributionsCollapsible(),Array.isArray(h))for(var d=0,p=h.length;d<p;++d)h[d]in n||(i.push(h[d]),n[h[d]]=!0);else h in n||(i.push(h),n[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},r.prototype.updateElement_=function(e){if(e){var n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!jc(n,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var a=0,o=n.length;a<o;++a){var s=document.createElement("li");s.innerHTML=n[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},r.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(PA),this.collapsed_?MA(this.collapseLabel_,this.label_):MA(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(e){this.updateElement_(e.frameState)},r}(L_),UA=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cp=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.element=n,a.index=i,a}return UA(r,t),r}(ga),Rr=function(t){function r(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var o=0,s=i.array_.length;o<s;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return UA(r,t),r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(e){for(var n=0,i=e.length;n<i;++n)this.push(e[n]);return this},r.prototype.forEach=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)e(n[i],i,n)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(e){return this.array_[e]},r.prototype.getLength=function(){return this.get("length")},r.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new cp("add",n,e))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},r.prototype.remove=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)if(n[i]===e)return this.removeAt(i)},r.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new cp("remove",n,e)),n},r.prototype.setAt=function(e,n){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(n,e);var a=this.array_[e];this.array_[e]=n,this.dispatchEvent(new cp("remove",a,e)),this.dispatchEvent(new cp("add",n,e))}else{for(var o=i;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,n)}},r.prototype.updateLength_=function(){this.set("length",this.array_.length)},r.prototype.assertUnique_=function(e,n){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==n)throw new NA(58)},r}(Bi);function HA(t){return Math.pow(t,3)}function Hu(t){return 1-HA(1-t)}function B_(t){return 3*t*t-2*t*t*t}function z7(t){return t}var W7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),K7=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=a+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener("click",n.handleClick_.bind(n),!1);var f=n.element;return f.className=a+" "+sp+" "+V_,f.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(op),n}return W7(r,t),r.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var n=this.getMap().getView();if(n){var i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:Hu}):n.setRotation(0))}},r.prototype.render=function(e){var n=e.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(op);o||0!==i?o&&0!==i&&this.element.classList.remove(op):this.element.classList.add(op)}this.label_.style.transform=a}this.rotation_=i}},r}(L_),Y7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X7=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener("click",n.handleClick_.bind(n,-o),!1);var y=n.element;return y.className=a+" "+sp+" "+V_,y.appendChild(d),y.appendChild(p),n.duration_=void 0!==i.duration?i.duration:250,n}return Y7(r,t),r.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},r.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var a=i.getZoom();if(void 0!==a){var o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Hu})):i.setZoom(o)}}},r}(L_);function GA(t){var r=t||{},e=new Rr;return(void 0===r.zoom||r.zoom)&&e.push(new X7(r.zoomOptions)),(void 0===r.rotate||r.rotate)&&e.push(new K7(r.rotateOptions)),(void 0===r.attribution||r.attribution)&&e.push(new BA(r.attributionOptions)),e}var Q7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zA=function(t){function r(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Vi(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return Q7(r,t),r.prototype.clone=function(){var e=new r(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(It(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=it(e,"change",this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},r.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:(Le("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}(e):void 0,this.changed()},r.prototype.setId=function(e){this.id_=e,this.changed()},r.prototype.setGeometryName=function(e){this.removeEventListener(Vi(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Vi(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(Bi),zc={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ya={};ya[zc.DEGREES]=2*Math.PI*6370997/360,ya[zc.FEET]=.3048,ya[zc.METERS]=1,ya[zc.USFEET]=1200/3937;var Za=zc;function Mt(t,r){var e=r[0],n=r[1];return r[0]=t[0]*e+t[2]*n+t[4],r[1]=t[1]*e+t[3]*n+t[5],r}function Ui(t,r,e,n,i,a,o,s){var u=Math.sin(a),l=Math.cos(a);return t[0]=n*l,t[1]=i*u,t[2]=-n*u,t[3]=i*l,t[4]=o*n*l-s*n*u+r,t[5]=o*i*u+s*i*l+e,t}function fp(t,r){var e=function(t){return t[0]*t[3]-t[1]*t[2]}(r);Le(0!==e,32);var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5];return t[0]=o/e,t[1]=-i/e,t[2]=-a/e,t[3]=n/e,t[4]=(a*u-o*s)/e,t[5]=-(n*u-i*s)/e,t}function hp(t){return"matrix("+t.join(", ")+")"}new Array(6);function WA(t){for(var r=[1/0,1/0,-1/0,-1/0],e=0,n=t.length;e<n;++e)Wu(r,t[e]);return r}function H_(t,r,e){return e?(e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]+r,e[3]=t[3]+r,e):[t[0]-r,t[1]-r,t[2]+r,t[3]+r]}function qA(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t.slice()}function KA(t,r,e){var n,i;return(n=r<t[0]?t[0]-r:t[2]<r?r-t[2]:0)*n+(i=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*i}function dp(t,r){return YA(t,r[0],r[1])}function Gu(t,r){return t[0]<=r[0]&&r[2]<=t[2]&&t[1]<=r[1]&&r[3]<=t[3]}function YA(t,r,e){return t[0]<=r&&r<=t[2]&&t[1]<=e&&e<=t[3]}function G_(t,r){var o=r[0],s=r[1],u=0;return o<t[0]?u|=16:o>t[2]&&(u|=4),s<t[1]?u|=8:s>t[3]&&(u|=2),0===u&&(u=1),u}function Hi(t,r,e,n,i){return i?(i[0]=t,i[1]=r,i[2]=e,i[3]=n,i):[t,r,e,n]}function zu(t){return Hi(1/0,1/0,-1/0,-1/0,t)}function Kc(t,r){return t[0]==r[0]&&t[2]==r[2]&&t[1]==r[1]&&t[3]==r[3]}function Wu(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function XA(t,r,e,n,i){for(;e<n;e+=i)lZ(t,r[e],r[e+1]);return t}function lZ(t,r,e){t[0]=Math.min(t[0],r),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],r),t[3]=Math.max(t[3],e)}function QA(t,r){var e;return!!((e=r(qu(t)))||(e=r(Yc(t)),e)||(e=r(Zu(t)),e)||(e=r(Xa(t)),e))&&e}function pp(t){var r=0;return z_(t)||(r=Pt(t)*hi(t)),r}function qu(t){return[t[0],t[1]]}function Yc(t){return[t[2],t[1]]}function Ku(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function cZ(t,r){var e;return"bottom-left"===r?e=qu(t):"bottom-right"===r?e=Yc(t):"top-left"===r?e=Xa(t):"top-right"===r?e=Zu(t):Le(!1,13),e}function $A(t,r,e,n,i){var a=r*n[0]/2,o=r*n[1]/2,s=Math.cos(e),u=Math.sin(e),l=a*s,c=a*u,f=o*s,h=o*u,d=t[0],p=t[1],v=d-l+h,y=d-l-h,C=d+l-h,_=d+l+h,E=p-c-f,b=p-c+f,w=p+c+f,I=p+c-f;return Hi(Math.min(v,y,C,_),Math.min(E,b,w,I),Math.max(v,y,C,_),Math.max(E,b,w,I),i)}function hi(t){return t[3]-t[1]}function Yu(t,r,e){var n=e||[1/0,1/0,-1/0,-1/0];return sr(t,r)?(n[0]=t[0]>r[0]?t[0]:r[0],n[1]=t[1]>r[1]?t[1]:r[1],n[2]=t[2]<r[2]?t[2]:r[2],n[3]=t[3]<r[3]?t[3]:r[3]):zu(n),n}function Xa(t){return[t[0],t[3]]}function Zu(t){return[t[2],t[3]]}function Pt(t){return t[2]-t[0]}function sr(t,r){return t[0]<=r[2]&&t[2]>=r[0]&&t[1]<=r[3]&&t[3]>=r[1]}function z_(t){return t[2]<t[0]||t[3]<t[1]}var JA=function(){function t(r){this.code_=r.code,this.units_=r.units,this.extent_=void 0!==r.extent?r.extent:null,this.worldExtent_=void 0!==r.worldExtent?r.worldExtent:null,this.axisOrientation_=void 0!==r.axisOrientation?r.axisOrientation:"enu",this.global_=void 0!==r.global&&r.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ya[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!(!r||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},t.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!(!this.global_||!r)},t.prototype.setWorldExtent=function(r){this.worldExtent_=r},t.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),yZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zc=6378137,Xu=Math.PI*Zc,mZ=[-Xu,-Xu,Xu,Xu],_Z=[-180,-85,180,85],vp=Zc*Math.log(Math.tan(Math.PI/2)),Xc=function(t){function r(e){return t.call(this,{code:e,units:Za.METERS,extent:mZ,global:!0,worldExtent:_Z,getPointResolution:function(i,a){return i/P7(a[1]/Zc)}})||this}return yZ(r,t),r}(JA),eR=[new Xc("EPSG:3857"),new Xc("EPSG:102100"),new Xc("EPSG:102113"),new Xc("EPSG:900913"),new Xc("http://www.opengis.net/gml/srs/epsg.xml#3857")];var bZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tR=[-180,-90,180,90],SZ=6378137*Math.PI/180,Qc=function(t){function r(e,n){return t.call(this,{code:e,units:Za.DEGREES,extent:tR,axisOrientation:n,global:!0,metersPerUnit:SZ,worldExtent:tR})||this}return bZ(r,t),r}(JA),nR=[new Qc("CRS:84"),new Qc("EPSG:4326","neu"),new Qc("urn:ogc:def:crs:OGC:1.3:CRS84"),new Qc("urn:ogc:def:crs:OGC:2:84"),new Qc("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],gp={},di={};function yp(t,r,e){var n=t.getCode(),i=r.getCode();n in di||(di[n]={}),di[n][i]=e}function W_(t,r,e){var n=e||6371008.8,i=up(t[1]),a=up(r[1]),o=(a-i)/2,s=up(r[0]-t[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function K_(t,r,e){var n;if(void 0!==r){for(var i=0,a=t.length;i<a;++i)r[i]=t[i];n=r}else n=t.slice();return n}function rR(t,r,e){if(void 0!==r&&t!==r){for(var n=0,i=t.length;n<i;++n)r[n]=t[n];t=r}return t}function AZ(t){(function(t,r){gp[t]=r})(t.getCode(),t),yp(t,t,K_)}function Wn(t){return"string"==typeof t?function(t){return gp[t]||gp[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function iR(t,r,e,n){var i,a=(t=Wn(t)).getPointResolutionFunc();if(a)i=a(r,e),n&&n!==t.getUnits()&&(o=t.getMetersPerUnit())&&(i=i*o/ya[n]);else{var s=t.getUnits();if(s==Za.DEGREES&&!n||n==Za.DEGREES)i=r;else{var o,u=Jc(t,Wn("EPSG:4326"));if(u===rR&&s!==Za.DEGREES)i=r*t.getMetersPerUnit();else{var l=[e[0]-r/2,e[1],e[0]+r/2,e[1],e[0],e[1]-r/2,e[0],e[1]+r/2];i=(W_((l=u(l,l,2)).slice(0,2),l.slice(2,4))+W_(l.slice(4,6),l.slice(6,8)))/2}void 0!==(o=n?ya[n]:t.getMetersPerUnit())&&(i/=o)}}return i}function aR(t){(function(t){t.forEach(AZ)})(t),t.forEach(function(r){t.forEach(function(e){r!==e&&yp(r,e,K_)})})}function Y_(t,r){return t?"string"==typeof t?Wn(t):t:Wn(r)}function $c(t,r){return tf(t,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function Qu(t,r){if(t===r)return!0;var e=t.getUnits()===r.getUnits();return(t.getCode()===r.getCode()||Jc(t,r)===K_)&&e}function Jc(t,r){var i=function(t,r){var e;return t in di&&r in di[t]&&(e=di[t][r]),e}(t.getCode(),r.getCode());return i||(i=rR),i}function ef(t,r){return Jc(Wn(t),Wn(r))}function tf(t,r,e){return ef(r,e)(t,void 0,t.length)}var pi=null;function uR(){return pi}function Z_(t,r){return t}function ma(t,r){return t}function X_(t,r){return t}function ts(t,r){return t}function ns(t,r,e,n,i,a){for(var o=a||[],s=0,u=r;u<e;u+=n){var l=t[u],c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return a&&o.length!=s&&(o.length=s),o}function lR(t,r,e,n,i,a,o){for(var s=o||[],u=Math.cos(i),l=Math.sin(i),c=a[0],f=a[1],h=0,d=r;d<e;d+=n){var p=t[d]-c,v=t[d+1]-f;s[h++]=c+p*u-v*l,s[h++]=f+p*l+v*u;for(var y=d+2;y<d+n;++y)s[h++]=t[y]}return o&&s.length!=h&&(s.length=h),s}aR(eR),aR(nR),function(t,r,e,n){t.forEach(function(i){r.forEach(function(a){yp(i,a,e),yp(a,i,n)})})}(nR,eR,function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i){a[o]=Xu*t[o]/180;var s=Zc*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>vp?s=vp:s<-vp&&(s=-vp),a[o+1]=s}return a},function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i)a[o]=180*t[o]/Xu,a[o+1]=360*Math.atan(Math.exp(t[o+1]/Zc))/Math.PI-90;return a});var LZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cR=[1,0,0,1,0,0],BZ=function(t){function r(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(t){var e,n,i,r=!1;return function(){var a=Array.prototype.slice.call(arguments);return(!r||this!==i||!jc(a,n))&&(r=!0,i=this,n=a,e=t.apply(this,arguments)),e}}(function(n,i,a){if(!a)return this.getSimplifiedGeometry(i);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(i)}),e}return LZ(r,t),r.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},r.prototype.clone=function(){return Pe()},r.prototype.closestPointXY=function(e,n,i,a){return Pe()},r.prototype.containsXY=function(e,n){var i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n},r.prototype.getClosestPoint=function(e,n){var i=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},r.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},r.prototype.computeExtent=function(e){return Pe()},r.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&zu(n),this.extentRevision_=this.getRevision()}return function(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t}(this.extent_,e)},r.prototype.rotate=function(e,n){Pe()},r.prototype.scale=function(e,n,i){Pe()},r.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},r.prototype.getSimplifiedGeometry=function(e){return Pe()},r.prototype.getType=function(){return Pe()},r.prototype.applyTransform=function(e){Pe()},r.prototype.intersectsExtent=function(e){return Pe()},r.prototype.translate=function(e,n){Pe()},r.prototype.transform=function(e,n){var i=Wn(e),a=i.getUnits()==Za.TILE_PIXELS?function(o,s,u){var l=i.getExtent(),c=i.getWorldExtent(),f=hi(c)/hi(l);return Ui(cR,c[0],c[3],f,-f,0,0,0),ns(o,0,o.length,u,cR,s),ef(i,n)(o,s,u)}:ef(i,n);return this.applyTransform(a),this},r}(Bi),UZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function fR(t){var r;return"XY"==t?r=2:"XYZ"==t||"XYM"==t?r=3:"XYZM"==t&&(r=4),r}var Q_=function(t){function r(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return UZ(r,t),r.prototype.computeExtent=function(e){return function(t,r,e,n,i){return XA(zu(i),t,0,e,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},r.prototype.getCoordinates=function(){return Pe()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},r.prototype.getSimplifiedGeometryInternal=function(e){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(e,n){this.stride=fR(e),this.layout=e,this.flatCoordinates=n},r.prototype.setCoordinates=function(e,n){Pe()},r.prototype.setLayout=function(e,n,i){var a;if(e)a=fR(e);else{for(var o=0;o<i;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}e=function(t){var r;return 2==t?r="XY":3==t?r="XYZ":4==t&&(r="XYZM"),r}(a=n.length)}this.layout=e,this.stride=a},r.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();lR(i,0,i.length,a,e,n,i),this.changed()}},r.prototype.scale=function(e,n,i){var a=n;void 0===a&&(a=e);var o=i;o||(o=Ku(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(function(t,r,e,n,i,a,o,s){for(var u=s||[],l=o[0],c=o[1],f=0,h=0;h<e;h+=n){var p=t[h+1]-c;u[f++]=l+i*(t[h]-l),u[f++]=c+a*p;for(var v=h+2;v<h+n;++v)u[f++]=t[v]}s&&u.length!=f&&(u.length=f)})(s,0,s.length,u,e,a,o,s),this.changed()}},r.prototype.translate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();(function(t,r,e,n,i,a,o){for(var s=o||[],u=0,l=0;l<e;l+=n){s[u++]=t[l]+i,s[u++]=t[l+1]+a;for(var c=l+2;c<l+n;++c)s[u++]=t[c]}o&&s.length!=u&&(s.length=u)})(i,0,i.length,a,e,n,i),this.changed()}},r}(BZ);function hR(t,r,e,n){for(var i=0,a=e.length;i<a;++i)for(var o=e[i],s=0;s<n;++s)t[r++]=o[s];return r}var WZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$_=function(t){function r(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return WZ(r,t),r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){var o=this.flatCoordinates,s=Uu(e,n,o[0],o[1]);if(s<a){for(var u=this.stride,l=0;l<u;++l)i[l]=o[l];return i.length=u,s}return a},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(e){return function(t,r){var e=t[0],n=t[1];return Hi(e,n,e,n,r)}(this.flatCoordinates,e)},r.prototype.getType=function(){return"Point"},r.prototype.intersectsExtent=function(e){return YA(e,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,r,e,n){for(var i=0,a=e.length;i<a;++i)t[r++]=e[i];return r}(this.flatCoordinates,0,e),this.changed()},r}(Q_),KZ=wn(8782),pR=wn.n(KZ);function Mr(t,r){return Array.isArray(t)?t:(void 0===r?r=[t,t]:(r[0]=t,r[1]=t),r)}var vR=function(){function t(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=Mr(r.scale),this.displacement_=r.displacement}return t.prototype.clone=function(){var r=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Pe()},t.prototype.getImage=function(r){return Pe()},t.prototype.getHitDetectionImage=function(){return Pe()},t.prototype.getPixelRatio=function(r){return 1},t.prototype.getImageState=function(){return Pe()},t.prototype.getImageSize=function(){return Pe()},t.prototype.getHitDetectionImageSize=function(){return Pe()},t.prototype.getOrigin=function(){return Pe()},t.prototype.getSize=function(){return Pe()},t.prototype.setOpacity=function(r){this.opacity_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Mr(r)},t.prototype.listenImageChange=function(r){Pe()},t.prototype.load=function(){Pe()},t.prototype.unlistenImageChange=function(r){Pe()},t}(),gR=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,yR=/^([a-z]*)$|^hsla?\(.*\)$/i;function mR(t){return"string"==typeof t?t:bR(t)}var r,e,QZ=(r={},e=0,function(n){var i;if(r.hasOwnProperty(n))i=r[n];else{if(e>=1024){var a=0;for(var o in r)0==(3&a++)&&(delete r[o],--e)}i=function(t){var r,e,n,i,a;if(yR.exec(t)&&(t=function(t){var r=document.createElement("div");if(r.style.color=t,""!==r.style.color){document.body.appendChild(r);var e=getComputedStyle(r).color;return document.body.removeChild(r),e}return""}(t)),gR.exec(t)){var s,o=t.length-1;s=o<=4?1:2;var u=4===o||8===o;r=parseInt(t.substr(1+0*s,s),16),e=parseInt(t.substr(1+1*s,s),16),n=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(r=(r<<4)+r,e=(e<<4)+e,n=(n<<4)+n,u&&(i=(i<<4)+i)),a=[r,e,n,i/255]}else 0==t.indexOf("rgba(")?ER(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),ER(a)):Le(!1,14);return a}(n),r[n]=i,++e}return i});function CR(t){return Array.isArray(t)?t:QZ(t)}function ER(t){return t[0]=rn(t[0]+.5|0,0,255),t[1]=rn(t[1]+.5|0,0,255),t[2]=rn(t[2]+.5|0,0,255),t[3]=rn(t[3],0,1),t}function bR(t){var r=t[0];r!=(0|r)&&(r=r+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+r+","+e+","+n+","+(void 0===t[3]?1:t[3])+")"}function Gi(t){return Array.isArray(t)?bR(t):t}var wR="10px sans-serif",_a="#000",$u="round",Cp=[],Ju="round",rf="#000",af="center",bp="middle",rs=[0,0,0,0],Ca=new Bi;(new Vu).setSize=function(){console.warn("labelCache is deprecated.")};var J_,el=null,eC={},eX=function(){var a,o,r="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function s(l,c,f){for(var h=!0,d=0;d<n;++d){var p=e[d];if(o=wp(l+" "+c+" "+r+p,i),f!=p){var v=wp(l+" "+c+" "+r+f+","+p,i);h=h&&v!=o}}return!!h}function u(){for(var l=!0,c=Ca.getKeys(),f=0,h=c.length;f<h;++f){var d=c[f];Ca.get(d)<100&&(s.apply(this,d.split("\n"))?(Lu(eC),el=null,J_=void 0,Ca.set(d,100)):(Ca.set(d,Ca.get(d)+1,!0),l=!1))}l&&(clearInterval(a),a=void 0)}return function(l){var c=FA(l);if(c)for(var f=c.families,h=0,d=f.length;h<d;++h){var p=f[h],v=c.style+"\n"+c.weight+"\n"+p;void 0===Ca.get(v)&&(Ca.set(v,100,!0),s(c.style,c.weight,p)||(Ca.set(v,0,!0),void 0===a&&(a=setInterval(u,32))))}}}(),tX=function(){var t;return function(r){var e=eC[r];if(null==e){if(ap){var n=FA(r),i=SR(r,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=r,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);eC[r]=e}return e}}();function SR(t,r){return el||(el=zn(1,1)),t!=J_&&(el.font=t,J_=el.font),el.measureText(r)}function wp(t,r){return SR(t,r).width}function TR(t,r,e){if(r in e)return e[r];var n=wp(t,r);return e[r]=n,n}function kR(t,r,e,n){0!==r&&(t.translate(e,n),t.rotate(r),t.translate(-e,-n))}var Sp=null,oX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uX=function(t){function r(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return oX(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_},r.prototype.getImage=function(e){if(!this.canvas_[e||1]){var n=this.createRenderOptions(),i=zn(n.size*e||1,n.size*e||1);this.draw_(n,i,0,0,e||1),this.canvas_[e||1]=i.canvas}return this.canvas_[e||1]},r.prototype.getPixelRatio=function(e){return e},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return 2},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(e){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(e){},r.prototype.createRenderOptions=function(){var s,e=$u,n=Ju,i=0,a=null,o=0,u=0;return this.stroke_&&(null===(s=this.stroke_.getColor())&&(s=rf),s=Gi(s),void 0===(u=this.stroke_.getWidth())&&(u=1),a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=Ju),void 0===(e=this.stroke_.getLineCap())&&(e=$u),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:s,strokeWidth:u,size:2*(this.radius_+u)+1,lineCap:e,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:i}},r.prototype.render=function(){var e=this.createRenderOptions(),n=zn(e.size,e.size);this.draw_(e,n,0,0,1),this.canvas_={},this.canvas_[1]=n.canvas;var i=n.canvas.width,a=i,o=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[a,a]},r.prototype.draw_=function(e,n,i,a,o){var s,u,l;n.setTransform(o,0,0,o,0,0),n.translate(i,a),n.beginPath();var c=this.points_;if(c===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var f=void 0!==this.radius2_?this.radius2_:this.radius_;for(f!==this.radius_&&(c*=2),s=0;s<=c;s++)u=2*s*Math.PI/c-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=s%2==0?this.radius_:f)*Math.cos(u),e.size/2+l*Math.sin(u))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=_a),n.fillStyle=Gi(h),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke()),n.closePath()},r.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var n=this.fill_.getColor(),i=0;if("string"==typeof n&&(n=CR(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i){var a=zn(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a,0,0)}}},r.prototype.drawHitDetectionCanvas_=function(e,n,i,a){n.translate(i,a),n.beginPath();var o=this.points_;if(o===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;s!==this.radius_&&(o*=2);var u=void 0,l=void 0,c=void 0;for(u=0;u<=o;u++)c=2*u*Math.PI/o-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=u%2==0?this.radius_:s)*Math.cos(c),e.size/2+l*Math.sin(c))}n.fillStyle=_a,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.stroke()),n.closePath()},r}(vR),lX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IR=function(t){function r(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return lX(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.setRadius=function(e){this.radius_=e,this.render()},r}(uX),tl=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(r){this.color_=r},t}(),Tp=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(r){this.color_=r},t.prototype.setLineCap=function(r){this.lineCap_=r},t.prototype.setLineDash=function(r){this.lineDash_=r},t.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},t.prototype.setLineJoin=function(r){this.lineJoin_=r},t.prototype.setMiterLimit=function(r){this.miterLimit_=r},t.prototype.setWidth=function(r){this.width_=r},t}(),nl=function(){function t(r){var e=r||{};this.geometry_=null,this.geometryFunction_=DR,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var r=this.getGeometry();return r&&"object"==typeof r&&(r=r.clone()),new t({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(r){this.renderer_=r},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(r){this.fill_=r},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(r){this.text_=r},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(r){"function"==typeof r?this.geometryFunction_=r:"string"==typeof r?this.geometryFunction_=function(e){return e.get(r)}:r?void 0!==r&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=DR,this.geometry_=r},t.prototype.setZIndex=function(r){this.zIndex_=r},t}(),tC=null;function pX(t,r){if(!tC){var e=new tl({color:"rgba(255,255,255,0.4)"}),n=new Tp({color:"#3399CC",width:1.25});tC=[new nl({image:new IR({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return tC}function DR(t){return t.getGeometry()}var OR=nl,gX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mX=function(t){function r(e){var n=this,i=e||{},a=Cn({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(n=t.call(this,a)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return gX(r,t),r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get("renderOrder")},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new(pR())(9)),this.getRenderer().renderDeclutter(e)},r.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},r.prototype.setStyle=function(e){this.style_=void 0!==e?e:pX,this.styleFunction_=null===e?void 0:function(t){var r,e;"function"==typeof t?r=t:(Array.isArray(t)?e=t:(Le("function"==typeof t.getZIndex,41),e=[t]),r=function(){return e});return r}(this.style_),this.changed()},r}(VA),sf={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},kp=[sf.FILL],Qa=[sf.STROKE],is=[sf.BEGIN_PATH],RR=[sf.CLOSE_PATH],Se=sf,MR=function(){function t(){}return t.prototype.drawCustom=function(r,e,n){},t.prototype.drawGeometry=function(r){},t.prototype.setStyle=function(r){},t.prototype.drawCircle=function(r,e){},t.prototype.drawFeature=function(r,e){},t.prototype.drawGeometryCollection=function(r,e){},t.prototype.drawLineString=function(r,e){},t.prototype.drawMultiLineString=function(r,e){},t.prototype.drawMultiPoint=function(r,e){},t.prototype.drawMultiPolygon=function(r,e){},t.prototype.drawPoint=function(r,e){},t.prototype.drawPolygon=function(r,e){},t.prototype.drawText=function(r,e){},t.prototype.setFillStrokeStyle=function(r,e){},t.prototype.setImageStyle=function(r,e){},t.prototype.setTextStyle=function(r,e){},t}();function Ip(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=r;s<e;s+=n)a[o++]=t.slice(s,s+n);return a.length=o,a}function nC(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Ip(t,r,l,n,a[o]),r=l}return a.length=o,a}function CX(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=nC(t,r,l,n,a[o]),r=l[l.length-1]}return a.length=o,a}var EX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uf=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return EX(r,t),r.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return 1==n?e:e.map(function(i){return i*n})},r.prototype.appendFlatPointCoordinates=function(e,n){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,u=0,l=e.length;u<l;u+=n)a[0]=e[u],a[1]=e[u+1],dp(i,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},r.prototype.appendFlatLineCoordinates=function(e,n,i,a,o,s){var u=this.coordinates,l=u.length,c=this.getBufferedMaxExtent();s&&(n+=a);var v,y,C,f=e[n],h=e[n+1],d=this.tmpCoordinate_,p=!0;for(v=n+a;v<i;v+=a)d[0]=e[v],d[1]=e[v+1],(C=G_(c,d))!==y?(p&&(u[l++]=f,u[l++]=h,p=!1),u[l++]=d[0],u[l++]=d[1]):1===C?(u[l++]=d[0],u[l++]=d[1],p=!1):p=!0,f=d[0],h=d[1],y=C;return(o&&p||v===n+a)&&(u[l++]=f,u[l++]=h),l},r.prototype.drawCustomCoordinates_=function(e,n,i,a,o){for(var s=0,u=i.length;s<u;++s){var l=i[s],c=this.appendFlatLineCoordinates(e,n,l,a,!1,!1);o.push(c),n=l}return n},r.prototype.drawCustom=function(e,n,i){this.beginGeometry(e,n);var u,l,c,f,h,a=e.getType(),o=e.getStride(),s=this.coordinates.length;if("MultiPolygon"==a){u=e.getOrientedFlatCoordinates(),f=[];var d=e.getEndss();h=0;for(var p=0,v=d.length;p<v;++p){var y=[];h=this.drawCustomCoordinates_(u,h,d[p],o,y),f.push(y)}this.instructions.push([Se.CUSTOM,s,f,e,i,CX])}else"Polygon"==a||"MultiLineString"==a?(c=[],u="Polygon"==a?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(u,0,e.getEnds(),o,c),this.instructions.push([Se.CUSTOM,s,c,e,i,nC])):"LineString"==a||"Circle"==a?(u=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Se.CUSTOM,s,l,e,i,Ip])):"MultiPoint"==a?(u=e.getFlatCoordinates(),(l=this.appendFlatPointCoordinates(u,o))>s&&this.instructions.push([Se.CUSTOM,s,l,e,i,Ip])):"Point"==a&&(u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),this.instructions.push([Se.CUSTOM,s,l=this.coordinates.length,e,i]));this.endGeometry(n)},r.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[Se.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Se.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,a,o,i=e.length,s=-1;for(n=0;n<i;++n)(o=(a=e[n])[0])==Se.END_GEOMETRY?s=n:o==Se.BEGIN_GEOMETRY&&(a[2]=n,d7(this.hitDetectionInstructions,s,n),s=-1)},r.prototype.setFillStrokeStyle=function(e,n){var i=this.state;if(e){var a=e.getColor();i.fillStyle=Gi(a||_a)}else i.fillStyle=void 0;if(n){var o=n.getColor();i.strokeStyle=Gi(o||rf);var s=n.getLineCap();i.lineCap=void 0!==s?s:$u;var u=n.getLineDash();i.lineDash=u?u.slice():Cp;var l=n.getLineDashOffset();i.lineDashOffset=l||0;var c=n.getLineJoin();i.lineJoin=void 0!==c?c:Ju;var f=n.getWidth();i.lineWidth=void 0!==f?f:1;var h=n.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(e){var n=e.fillStyle,i=[Se.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},r.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},r.prototype.createStroke=function(e){return[Se.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(e,n){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(e,n){var i=e.strokeStyle,a=e.lineCap,o=e.lineDash,s=e.lineDashOffset,u=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!jc(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=u||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=u,e.currentLineWidth=l,e.currentMiterLimit=c)},r.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Se.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},r.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=qA(this.maxExtent),this.maxLineWidth>0)&&H_(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},r}(MR),wX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TX=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return wX(r,t),r.prototype.drawPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Se.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Se.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.drawMultiPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Se.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Se.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},r.prototype.setImageStyle=function(e,n){var i=e.getAnchor(),a=e.getSize(),o=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),u=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=n},r}(uf),kX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DX=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return kX(r,t),r.prototype.drawFlatCoordinates_=function(e,n,i,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,i,a,!1,!1),u=[Se.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i},r.prototype.drawLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Se.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],is);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(Qa),this.endGeometry(n)}},r.prototype.drawMultiLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Se.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],is);for(var s=e.getEnds(),u=e.getFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push(Qa),this.endGeometry(n)}},r.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Qa),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},r.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Qa),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(is)},r}(uf);function as(t,r){return r*Math.round(t/r)}function RX(t,r,e,n,i,a,o){if(r==e)return o;var l,c,s=as(t[r],i),u=as(t[r+1],i);r+=n,a[o++]=s,a[o++]=u;do{if(l=as(t[r],i),c=as(t[r+1],i),(r+=n)==e)return a[o++]=l,a[o++]=c,o}while(l==s&&c==u);for(;r<e;){var f=as(t[r],i),h=as(t[r+1],i);if(r+=n,f!=l||h!=c){var d=l-s,p=c-u,v=f-s,y=h-u;if(d*y==p*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(p<0&&y<p||p==y||p>0&&y>p)){l=f,c=h;continue}a[o++]=l,a[o++]=c,s=l,u=c,l=f,c=h}}return a[o++]=l,a[o++]=c,o}var MX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xR=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return MX(r,t),r.prototype.drawFlatCoordinatess_=function(e,n,i,a){var o=this.state,s=void 0!==o.fillStyle,u=void 0!==o.strokeStyle,l=i.length;this.instructions.push(is),this.hitDetectionInstructions.push(is);for(var c=0;c<l;++c){var f=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,f,a,!0,!u),p=[Se.MOVE_TO_LINE_TO,h,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),u&&(this.instructions.push(RR),this.hitDetectionInstructions.push(RR)),n=f}return s&&(this.instructions.push(kp),this.hitDetectionInstructions.push(kp)),u&&(this.instructions.push(Qa),this.hitDetectionInstructions.push(Qa)),n},r.prototype.drawCircle=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Se.SET_FILL_STYLE,_a]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Se.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),u=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var c=[Se.CIRCLE,l];this.instructions.push(is,c),this.hitDetectionInstructions.push(is,c),void 0!==i.fillStyle&&(this.instructions.push(kp),this.hitDetectionInstructions.push(kp)),void 0!==i.strokeStyle&&(this.instructions.push(Qa),this.hitDetectionInstructions.push(Qa)),this.endGeometry(n)}},r.prototype.drawPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Se.SET_FILL_STYLE,_a]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Se.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),u=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(n)}},r.prototype.drawMultiPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Se.SET_FILL_STYLE,_a]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Se.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),u=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(n)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,a=n.length;i<a;++i)n[i]=as(n[i],e);return t.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},r}(uf);function xX(t,r,e,n,i){var f,h,d,p,v,y,C,_,E,a=e,o=e,s=0,u=0,l=e;for(f=e;f<n;f+=i){var b=r[f],w=r[f+1];void 0!==p&&(_=b-p,E=w-v,d=Math.sqrt(_*_+E*E),void 0!==y&&(u+=h,Math.acos((y*_+C*E)/(h*d))>t&&(u>s&&(s=u,a=l,o=f),u=0,l=f-i)),h=d,y=_,C=E),p=b,v=w}return(u+=d)>s?[l,f]:[a,o]}var FX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dp={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},VX={Circle:xR,Default:uf,Image:TX,LineString:DX,Polygon:xR,Text:function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return FX(r,t),r.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},r.prototype.drawText=function(e,n){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var s=this.coordinates,u=s.length,l=e.getType(),c=null,f=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){var D=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),f=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||D.push(c[2]/this.resolution),f=3;break;case"MultiPolygon":var N=e.getFlatInteriorPoints();for(c=[],p=0,v=N.length;p<v;p+=3)o.overflow||D.push(N[p+2]/this.resolution),c.push(N[p],N[p+1]);if(0===c.length)return;f=2}if((I=this.appendFlatPointCoordinates(c,f))===u)return;this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var V=o.padding;if(V!=rs&&(o.scale[0]<0||o.scale[1]<0)){var G=o.padding[0],j=o.padding[1],K=o.padding[2],ae=o.padding[3];o.scale[0]<0&&(j=-j,ae=-ae),o.scale[1]<0&&(G=-G,K=-K),V=[G,j,K,ae]}var ce=this.pixelRatio;this.instructions.push([Se.DRAW_IMAGE,u,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,V==rs?rs:V.map(function(fe){return fe*ce}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,D]);var $=1/ce;this.hitDetectionInstructions.push([Se.DRAW_IMAGE,u,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[$,$],NaN,this.declutterImageWithText_,V,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,D]),this.endGeometry(n)}else{if(!sr(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),"LineString"==l)h=[c.length];else if("MultiLineString"==l)h=e.getEnds();else if("Polygon"==l)h=e.getEnds().slice(0,1);else if("MultiPolygon"==l){var d=e.getEndss();h=[];for(var p=0,v=d.length;p<v;++p)h.push(d[p][0])}this.beginGeometry(e,n);for(var y=o.textAlign,C=0,_=void 0,E=0,b=h.length;E<b;++E){if(null==y){var w=xX(o.maxAngle,c,C,h[E],f);C=w[0],_=w[1]}else _=h[E];for(p=C;p<_;p+=f)s.push(c[p],c[p+1]);var I;C=h[E],this.drawChars_(u,I=s.length),u=I}this.endGeometry(n)}}},r.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||af,textBaseline:n.textBaseline||bp,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(e,n){var i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=Dp[a.textBaseline],f=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Se.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,l,f,o,d*l,h,s,1]),this.hitDetectionInstructions.push([Se.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,1,f,o,d,h,s,1/l])},r.prototype.setTextStyle=function(e,n){var i,a,o;if(e){var s=e.getFill();s?((a=this.textFillState_)||(this.textFillState_=a={}),a.fillStyle=Gi(s.getColor()||_a)):this.textFillState_=a=null;var u=e.getStroke();if(u){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var l=u.getLineDash(),c=u.getLineDashOffset(),f=u.getWidth(),h=u.getMiterLimit();o.lineCap=u.getLineCap()||$u,o.lineDash=l?l.slice():Cp,o.lineDashOffset=void 0===c?0:c,o.lineJoin=u.getLineJoin()||Ju,o.lineWidth=void 0===f?1:f,o.miterLimit=void 0===h?10:h,o.strokeStyle=Gi(u.getColor()||rf)}else this.textStrokeState_=o=null;i=this.textState_;var d=e.getFont()||wR;eX(d);var p=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||bp,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||rs,i.scale=void 0===p?[1,1]:p;var v=e.getOffsetX(),y=e.getOffsetY(),C=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===v?0:v,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==C&&C,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Ne(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Ne(a.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},r}(uf)},NR=function(){function t(r,e,n,i){this.tolerance_=r,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var r={};for(var e in this.buildersByZIndex_){r[e]=r[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var a=n[i].finish();r[e][i]=a}}return r},t.prototype.getBuilder=function(r,e){var n=void 0!==r?r.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var a=i[e];return void 0===a&&(a=new(0,VX[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=a),a},t}(),UX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HX=function(t){function r(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return UX(r,t),r.prototype.getFeatures=function(e){return Pe()},r.prototype.prepareFrame=function(e){return Pe()},r.prototype.renderFrame=function(e,n){return Pe()},r.prototype.loadedTileCallback=function(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(e,n,i){return function(a,o){var s=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(n,a,o,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){},r.prototype.getDataAtPixel=function(e,n,i){return Pe()},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(e){var n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n},r.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},r}(IA),GX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LR=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=a,o}return GX(r,t),r}(ga),WX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VR=function(t){function r(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return WX(r,t),r.prototype.useContainer=function(e,n,i){var o,s,a=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===a&&(u=e.firstElementChild)instanceof HTMLCanvasElement&&(s=u.getContext("2d")),!s||0!==s.canvas.width&&s.canvas.style.transform!==n?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=s,this.containerReused=!0),!this.container){(o=document.createElement("div")).className=a;var u,l=o.style;l.position="absolute",l.width="100%",l.height="100%",s=zn(),o.appendChild(u=s.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=o,this.context=s}},r.prototype.clip=function(e,n,i){var a=n.pixelRatio,o=n.size[0]*a/2,s=n.size[1]*a/2,u=n.viewState.rotation,l=Xa(i),c=Zu(i),f=Yc(i),h=qu(i);Mt(n.coordinateToPixelTransform,l),Mt(n.coordinateToPixelTransform,c),Mt(n.coordinateToPixelTransform,f),Mt(n.coordinateToPixelTransform,h),e.save(),kR(e,-u,o,s),e.beginPath(),e.moveTo(l[0]*a,l[1]*a),e.lineTo(c[0]*a,c[1]*a),e.lineTo(f[0]*a,f[1]*a),e.lineTo(h[0]*a,h[1]*a),e.clip(),kR(e,u,o,s)},r.prototype.clipUnrotated=function(e,n,i){var a=Xa(i),o=Zu(i),s=Yc(i),u=qu(i);Mt(n.coordinateToPixelTransform,a),Mt(n.coordinateToPixelTransform,o),Mt(n.coordinateToPixelTransform,s),Mt(n.coordinateToPixelTransform,u);var l=this.inversePixelTransform;Mt(l,a),Mt(l,o),Mt(l,s),Mt(l,u),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()},r.prototype.dispatchRenderEvent_=function(e,n,i){var a=this.getLayer();if(a.hasListener(e)){var o=new LR(e,this.inversePixelTransform,i,n);a.dispatchEvent(o)}},r.prototype.preRender=function(e,n){this.dispatchRenderEvent_("prerender",e,n)},r.prototype.postRender=function(e,n){this.dispatchRenderEvent_("postrender",e,n)},r.prototype.getRenderTransform=function(e,n,i,a,o,s,u){var f=a/n;return Ui(this.tempTransform,o/2,s/2,f,-f,-i,-e[0]+u,-e[1])},r.prototype.getDataAtPixel=function(e,n,i){var c,a=Mt(this.inversePixelTransform,e.slice()),o=this.context,u=this.getLayer().getExtent();if(u&&!dp(u,Mt(n.pixelToCoordinateTransform,e.slice())))return null;try{var f=Math.round(a[0]),h=Math.round(a[1]),d=document.createElement("canvas"),p=d.getContext("2d");d.width=1,d.height=1,p.clearRect(0,0,1,1),p.drawImage(o.canvas,f,h,1,1,0,0,1,1),c=p.getImageData(0,0,1,1).data}catch(v){return"SecurityError"===v.name?new Uint8Array:c}return 0===c[3]?null:c},r}(HX);function KX(t,r,e,n,i,a,o,s,u,l,c,f){var h=t[r],d=t[r+1],p=0,v=0,y=0,C=0;function _(){p=h,v=d,h=t[r+=n],d=t[r+1],C+=y,y=Math.sqrt((h-p)*(h-p)+(d-v)*(d-v))}do{_()}while(r<e-n&&C+y<a);for(var E=(a-C)/y,b=$o(p,h,E),w=$o(v,d,E),I=r-n,D=C,N=a+s*u(l,i,c);r<e-n&&C+y<N;)_();var j,V=$o(p,h,E=(N-C)/y),G=$o(v,d,E);if(f){var K=[b,w,V,G];lR(K,0,4,2,f,K,K),j=K[0]>K[2]}else j=b>V;var ae=Math.PI,ce=[],$=I+n===r;if(y=0,C=D,h=t[r=I],d=t[r+1],$){_();var ve=Math.atan2(d-v,h-p);return j&&(ve+=ve>0?-ae:ae),ce[0]=[fe=(V+b)/2,Ve=(G+w)/2,(N-a)/2,ve,i],ce}for(var ut,Ee=0,Je=i.length;Ee<Je;){_();var U=Math.atan2(d-v,h-p);if(j&&(U+=U>0?-ae:ae),void 0!==ut){var Vt=U-ut;if(Vt+=Vt>ae?-2*ae:Vt<-ae?2*ae:0,Math.abs(Vt)>o)return null}ut=U;for(var Te=Ee,Be=0;Ee<Je;++Ee){var St=s*u(l,i[j?Je-Ee-1:Ee],c);if(r+n<e&&C+y<a+Be+St/2)break;Be+=St}if(Ee!==Te){var Bt=j?i.substring(Je-Te,Je-Ee):i.substring(Te,Ee),fe=$o(p,h,E=(a+Be/2-C)/y),Ve=$o(v,d,E);ce.push([fe,Ve,Be/2,U,Bt]),a+=Be}}return ce}function BR(t,r,e,n){for(var i=t[r],a=t[r+1],o=0,s=r+n;s<e;s+=n){var u=t[s],l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a)),i=u,a=l}return o}var rl=[1/0,1/0,-1/0,-1/0],$a=[],Ea=[],ba=[],Ja=[];function UR(t){return t[3].declutterBox}var YX=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function jR(t,r){return("start"===r||"end"===r)&&!YX.test(t)&&(r="start"===r?"left":"right"),Dp[r]}var XX=function(){function t(r,e,n,i,a){this.overlaps=n,this.pixelRatio=e,this.resolution=r,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=a,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(r,e,n,i){var a=r+e+n+i;if(this.labels_[a])return this.labels_[a];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,u=this.textStates[e],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=jR(r,u.textAlign||af),h=i&&o.lineWidth?o.lineWidth:0,d=r.split("\n"),p=d.length,v=[],y=function(t,r,e){for(var n=r.length,i=0,a=0;a<n;++a){var o=wp(t,r[a]);i=Math.max(i,o),e.push(o)}return i}(u.font,d,v),C=tX(u.font),E=y+h,b=[],w=(E+2)*c[0],I=(C*p+h)*c[1],D={width:w<0?Math.floor(w):Math.ceil(w),height:I<0?Math.floor(I):Math.ceil(I),contextInstructions:b};(1!=c[0]||1!=c[1])&&b.push("scale",c),b.push("font",u.font),i&&(b.push("strokeStyle",o.strokeStyle),b.push("lineWidth",h),b.push("lineCap",o.lineCap),b.push("lineJoin",o.lineJoin),b.push("miterLimit",o.miterLimit),(ap?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(b.push("setLineDash",[o.lineDash]),b.push("lineDashOffset",o.lineDashOffset))),n&&b.push("fillStyle",s.fillStyle),b.push("textBaseline","middle"),b.push("textAlign","center");var j,V=.5-f,G=f*E+V*h;if(i)for(j=0;j<p;++j)b.push("strokeText",[d[j],G+V*v[j],.5*(h+C)+j*C]);if(n)for(j=0;j<p;++j)b.push("fillText",[d[j],G+V*v[j],.5*(h+C)+j*C]);return this.labels_[a]=D,D},t.prototype.replayTextBackground_=function(r,e,n,i,a,o,s){r.beginPath(),r.moveTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,i),r.lineTo.apply(r,a),r.lineTo.apply(r,e),o&&(this.alignFill_=o[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(r,e,n,i,a,o,s,u,l,c,f,h,d,p,v,y){var V,C=n-(s*=h[0]),_=i-(u*=h[1]),E=a+l>r?r-l:a,b=o+c>e?e-c:o,w=p[3]+E*h[0]+p[1],I=p[0]+b*h[1]+p[2],D=C-p[3],N=_-p[0];return(v||0!==f)&&($a[0]=D,Ja[0]=D,$a[1]=N,Ea[1]=N,Ea[0]=D+w,ba[0]=Ea[0],ba[1]=N+I,Ja[1]=ba[1]),0!==f?(Mt(V=Ui([1,0,0,1,0,0],n,i,1,1,f,-n,-i),$a),Mt(V,Ea),Mt(V,ba),Mt(V,Ja),Hi(Math.min($a[0],Ea[0],ba[0],Ja[0]),Math.min($a[1],Ea[1],ba[1],Ja[1]),Math.max($a[0],Ea[0],ba[0],Ja[0]),Math.max($a[1],Ea[1],ba[1],Ja[1]),rl)):Hi(Math.min(D,D+w),Math.min(N,N+I),Math.max(D,D+w),Math.max(N,N+I),rl),d&&(C=Math.round(C),_=Math.round(_)),{drawImageX:C,drawImageY:_,drawImageW:E,drawImageH:b,originX:l,originY:c,declutterBox:{minX:rl[0],minY:rl[1],maxX:rl[2],maxY:rl[3],value:y},canvasTransform:V,scale:h}},t.prototype.replayImageOrLabel_=function(r,e,n,i,a,o,s){var l=i.declutterBox,c=r.canvas,f=s?s[2]*i.scale[0]/2:0;return l.minX-f<=c.width/e&&l.maxX+f>=0&&l.minY-f<=c.height/e&&l.maxY+f>=0&&(!(!o&&!s)&&this.replayTextBackground_(r,$a,Ea,ba,Ja,o,s),function(t,r,e,n,i,a,o,s,u,l,c){t.save(),1!==e&&(t.globalAlpha*=e),r&&t.setTransform.apply(t,r),n.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,r){for(var e=t.contextInstructions,n=0,i=e.length;n<i;n+=2)Array.isArray(e[n+1])?r[e[n]].apply(r,e[n+1]):r[e[n]]=e[n+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(n,i,a,o,s,0,0,o,s)):t.drawImage(n,i,a,o,s,u,l,o*c[0],s*c[1]),t.restore()}(r,i.canvasTransform,a,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(r){if(this.alignFill_){var e=Mt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;r.save(),r.translate(e[0]%n,e[1]%n),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},t.prototype.setStrokeStyle_=function(r,e){r.strokeStyle=e[1],r.lineWidth=e[2],r.lineCap=e[3],r.lineJoin=e[4],r.miterLimit=e[5],r.setLineDash&&(r.lineDashOffset=e[7],r.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(r,e,n,i){var a=this.textStates[e],o=this.createLabel(r,e,i,n),s=this.strokeStates[n],u=this.pixelRatio,l=jR(r,a.textAlign||af),c=Dp[a.textBaseline||bp],f=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/u-2*a.scale[0])+2*(.5-l)*f,anchorY:c*o.height/u+2*(.5-c)*f}},t.prototype.execute_=function(r,e,n,i,a,o,s,u){var l;this.pixelCoordinates_&&jc(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=ns(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function(t,r){t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5]}(this.renderedTransform_,n));for(var d,p,v,y,C,_,E,b,w,I,D,N,Ve,ut,Ee,Je,c=0,f=i.length,h=0,V=0,G=0,j=null,K=null,ae=this.coordinateCache_,ce=this.viewRotation_,$=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,ve={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ce},fe=this.instructions!=i||this.overlaps?0:200;c<f;){var U=i[c];switch(U[0]){case Se.BEGIN_GEOMETRY:Je=U[3],(Ve=U[1]).getGeometry()?void 0===s||sr(s,Je.getExtent())?++c:c=U[2]+1:c=U[2];break;case Se.BEGIN_PATH:V>fe&&(this.fill_(r),V=0),G>fe&&(r.stroke(),G=0),!V&&!G&&(r.beginPath(),y=NaN,C=NaN),++c;break;case Se.CIRCLE:var Te=l[h=U[1]],Be=l[h+1],Bt=l[h+2]-Te,sn=l[h+3]-Be,Ki=Math.sqrt(Bt*Bt+sn*sn);r.moveTo(Te+Ki,Be),r.arc(Te,Be,Ki,0,2*Math.PI,!0),++c;break;case Se.CLOSE_PATH:r.closePath(),++c;break;case Se.CUSTOM:h=U[1],d=U[2];var ds=U[4],Z=6==U.length?U[5]:void 0;ve.geometry=U[3],ve.feature=Ve,c in ae||(ae[c]=[]);var oe=ae[c];Z?Z(l,h,d,2,oe):(oe[0]=l[h],oe[1]=l[h+1],oe.length=2),ds(oe,ve),++c;break;case Se.DRAW_IMAGE:h=U[1],d=U[2],p=U[4],v=U[5];var he=U[6],Dt=U[7],fr=U[8],vi=U[9],Yi=U[10],Ut=U[11],ao=U[12],un=U[13],bn=U[14];if(!(b=U[3])&&U.length>=19){var gi=this.drawLabelWithPointPlacement_(w=U[18],I=U[19],D=U[20],N=U[21]);U[3]=b=gi.label,U[4]=p=(gi.anchorX-U[22])*this.pixelRatio,U[5]=v=(gi.anchorY-U[23])*this.pixelRatio,U[6]=he=b.height,U[13]=un=b.width}var vf=void 0;U.length>24&&(vf=U[24]);var so=void 0,Sa=void 0,ps=void 0;U.length>16?(so=U[15],Sa=U[16],ps=U[17]):(so=rs,Sa=!1,ps=!1),Yi&&$?Ut+=ce:!Yi&&!$&&(Ut-=ce);for(var sl=0;h<d;h+=2)if(!(vf&&vf[sl++]<un/this.pixelRatio)){var _i=[r,e,b,mi=this.calculateImageOrLabelDimensions_(b.width,b.height,l[h],l[h+1],un,he,p,v,fr,vi,Ut,ao,a,so,Sa||ps,Ve),Dt,Sa?j:null,ps?K:null],ev=void 0,lE=void 0;if(u&&bn){if(!bn[h]){bn[h]=_i;continue}if(ev=bn[h],delete bn[h],lE=UR(ev),u.collides(lE))continue}u&&u.collides(mi.declutterBox)||(ev&&(u&&u.insert(lE),this.replayImageOrLabel_.apply(this,ev)),u&&u.insert(mi.declutterBox),this.replayImageOrLabel_.apply(this,_i))}++c;break;case Se.DRAW_CHARS:var QM=U[1],$M=U[2],cE=U[3],ane=U[4];N=U[5];var one=U[6],JM=U[7],eP=U[8];D=U[9];var fE=U[10];w=U[11];var tP=[U[13],U[13]],hE=this.textStates[I=U[12]],gf=hE.font,yf=[hE.scale[0]*JM,hE.scale[1]*JM],mf=void 0;gf in this.widths_?mf=this.widths_[gf]:this.widths_[gf]=mf={};var nP=BR(l,QM,$M,2),rP=Math.abs(yf[0])*TR(gf,w,mf);if(ane||rP<=nP){var _f=KX(l,QM,$M,2,w,(nP-rP)*Dp[this.textStates[I].textAlign],one,Math.abs(yf[0]),TR,gf,mf,$?0:this.viewRotation_);e:if(_f){var Cf=[],uo=void 0,tv=void 0,Kn=void 0,Nr=void 0;if(D)for(uo=0,tv=_f.length;uo<tv;++uo){Kn=this.createLabel((Nr=_f[uo])[4],I,"",D);var mi=this.calculateImageOrLabelDimensions_(Kn.width,Kn.height,Nr[0],Nr[1],Kn.width,Kn.height,p=Nr[2]+(yf[0]<0?-fE:fE),v=cE*Kn.height+2*(.5-cE)*fE*yf[1]/yf[0]-eP,0,0,Nr[3],tP,!1,rs,!1,Ve);if(u&&u.collides(mi.declutterBox))break e;Cf.push([r,e,Kn,mi,1,null,null])}if(N)for(uo=0,tv=_f.length;uo<tv;++uo){if(Kn=this.createLabel((Nr=_f[uo])[4],I,N,""),mi=this.calculateImageOrLabelDimensions_(Kn.width,Kn.height,Nr[0],Nr[1],Kn.width,Kn.height,p=Nr[2],v=cE*Kn.height-eP,0,0,Nr[3],tP,!1,rs,!1,Ve),u&&u.collides(mi.declutterBox))break e;Cf.push([r,e,Kn,mi,1,null,null])}u&&u.load(Cf.map(UR));for(var dE=0,lne=Cf.length;dE<lne;++dE)this.replayImageOrLabel_.apply(this,Cf[dE])}}++c;break;case Se.END_GEOMETRY:if(void 0!==o){var iP=o(Ve=U[1],Je);if(iP)return iP}++c;break;case Se.FILL:fe?V++:this.fill_(r),++c;break;case Se.MOVE_TO_LINE_TO:for(d=U[2],E=(Ee=l[(h=U[1])+1])+.5|0,((_=(ut=l[h])+.5|0)!==y||E!==C)&&(r.moveTo(ut,Ee),y=_,C=E),h+=2;h<d;h+=2)_=(ut=l[h])+.5|0,E=(Ee=l[h+1])+.5|0,(h==d-2||_!==y||E!==C)&&(r.lineTo(ut,Ee),y=_,C=E);++c;break;case Se.SET_FILL_STYLE:j=U,this.alignFill_=U[2],V&&(this.fill_(r),V=0,G&&(r.stroke(),G=0)),r.fillStyle=U[1],++c;break;case Se.SET_STROKE_STYLE:K=U,G&&(r.stroke(),G=0),this.setStrokeStyle_(r,U),++c;break;case Se.STROKE:fe?G++:r.stroke(),++c;break;default:++c}}V&&this.fill_(r),G&&r.stroke()},t.prototype.execute=function(r,e,n,i,a,o){this.viewRotation_=i,this.execute_(r,e,n,this.instructions,a,void 0,void 0,o)},t.prototype.executeHitDetection=function(r,e,n,i,a){return this.viewRotation_=n,this.execute_(r,1,e,this.hitDetectionInstructions,!0,i,a)},t}(),iC=["Polygon","Circle","LineString","Image","Text","Default"],QX=function(){function t(r,e,n,i,a,o){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return t.prototype.clip=function(r,e){var n=this.getClipCoords(e);r.beginPath(),r.moveTo(n[0],n[1]),r.lineTo(n[2],n[3]),r.lineTo(n[4],n[5]),r.lineTo(n[6],n[7]),r.clip()},t.prototype.createExecutors_=function(r){for(var e in r){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=r[e],a=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i)n[o]=new XX(this.resolution_,this.pixelRatio_,this.overlaps_,i[o],a)}},t.prototype.hasExecutors=function(r){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,a=r.length;i<a;++i)if(r[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(r,e,n,i,a,o){var s=2*(i=Math.round(i))+1,u=Ui(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-r[0],-r[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=zn(s,s));var f,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Wu(f=[1/0,1/0,-1/0,-1/0],r),H_(f,e*(this.renderBuffer_+i),f));var d,h=function(t){if(void 0!==aC[t])return aC[t];for(var r=2*t+1,e=t*t,n=new Array(e+1),i=0;i<=t;++i)for(var a=0;a<=t;++a){var o=i*i+a*a;if(o>e)break;var s=n[o];s||(n[o]=s=[]),s.push(4*((t+i)*r+(t+a))+3),i>0&&s.push(4*((t-i)*r+(t+a))+3),a>0&&(s.push(4*((t+i)*r+(t-a))+3),i>0&&s.push(4*((t-i)*r+(t-a))+3))}for(var u=[],l=(i=0,n.length);i<l;++i)n[i]&&u.push.apply(u,n[i]);return aC[t]=u,u}(i);function p(I,D){for(var N=c.getImageData(0,0,s,s).data,V=0,G=h.length;V<G;V++)if(N[h[V]]>0){if(!o||"Image"!==d&&"Text"!==d||-1!==o.indexOf(I)){var j=(h[V]-3)/4,K=i-j%s,ae=i-(j/s|0),ce=a(I,D,K*K+ae*ae);if(ce)return ce}c.clearRect(0,0,s,s);break}}var y,C,_,E,b,v=Object.keys(this.executorsByZIndex_).map(Number);for(v.sort(Xo),y=v.length-1;y>=0;--y){var w=v[y].toString();for(_=this.executorsByZIndex_[w],C=iC.length-1;C>=0;--C)if(void 0!==(E=_[d=iC[C]])&&(b=E.executeHitDetection(c,u,n,p,f)))return b}},t.prototype.getClipCoords=function(r){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],a=e[2],o=e[3],s=[n,i,n,o,a,o,a,i];return ns(s,0,8,2,r,s),s},t.prototype.isEmpty=function(){return Gc(this.executorsByZIndex_)},t.prototype.execute=function(r,e,n,i,a,o,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(Xo),this.maxExtent_&&(r.save(),this.clip(r,n));var c,f,h,d,p,v,l=o||iC;for(s&&u.reverse(),c=0,f=u.length;c<f;++c){var y=u[c].toString();for(p=this.executorsByZIndex_[y],h=0,d=l.length;h<d;++h)void 0!==(v=p[l[h]])&&v.execute(r,e,n,i,a,s)}this.maxExtent_&&r.restore()},t}(),aC={},HR=QX,JX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t9=function(t){function r(e,n,i,a,o,s,u){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=a,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=u,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return JX(r,t),r.prototype.drawImages_=function(e,n,i,a){if(this.image_){var o=ns(e,n,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var f=0,h=o.length;f<h;f+=2){var d=o[f]-this.imageAnchorX_,p=o[f+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var v=d+this.imageAnchorX_,y=p+this.imageAnchorY_;Ui(u,v,y,1,1,c,-v,-y),s.setTransform.apply(s,u),s.translate(v,y),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},r.prototype.drawText_=function(e,n,i,a){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=ns(e,n,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);n<i;n+=a){var l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var f=Ui(this.tmpLocalTransform_,l,c,1,1,u,-l,-c);s.setTransform.apply(s,f),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},r.prototype.moveToLineTo_=function(e,n,i,a,o){var s=this.context_,u=ns(e,n,i,a,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var l=u.length;o&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(u[c],u[c+1]);return o&&s.closePath(),i},r.prototype.drawRings_=function(e,n,i,a){for(var o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(e,n,i[o],a,!0);return n},r.prototype.drawCircle=function(e){if(sr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=function(t,r,e){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return ns(n,0,n.length,i,r,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(i*i+a*a),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},r.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},r.prototype.setTransform=function(e){this.transform_=e},r.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},r.prototype.drawFeature=function(e,n){var i=n.getGeometryFunction()(e);!i||!sr(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),i=0,a=n.length;i<a;++i)this.drawGeometry(n[i])},r.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),sr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},r.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(sr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=e.getFlatCoordinates(),o=0,s=e.getEnds(),u=e.getStride();i.beginPath();for(var l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(a,o,s[l],u,!1);i.stroke()}if(""!==this.text_){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},r.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),sr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),sr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getOrientedFlatCoordinates(),a=0,o=e.getEndss(),s=e.getStride();n.beginPath();for(var u=0,l=o.length;u<l;++u)a=this.drawRings_(i,a,o[u],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},r.prototype.setContextFillState_=function(e){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},r.prototype.setContextStrokeState_=function(e){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(jc(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},r.prototype.setContextTextState_=function(e){var n=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:af;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=a&&(i.textAlign=a,n.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=a,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},r.prototype.setFillStrokeStyle=function(e,n){if(e){var i=e.getColor();this.fillState_={fillStyle:Gi(i||_a)}}else this.fillState_=null;if(n){var a=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),u=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:$u,lineDash:s||Cp,lineDashOffset:u||0,lineJoin:void 0!==l?l:Ju,lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==f?f:10,strokeStyle:Gi(a||rf)}}else this.strokeState_=null},r.prototype.setImageStyle=function(e){if(e){var n=e.getSize();if(n){var i=e.getAnchor(),a=e.getImage(1),o=e.getOrigin(),s=e.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=n[1],this.image_=a,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=n[0]}else this.image_=null}else this.image_=null},r.prototype.setTextStyle=function(e){if(e){var n=e.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:Gi(i||_a)}}else this.textFillState_=null;var a=e.getStroke();if(a){var o=a.getColor(),s=a.getLineCap(),u=a.getLineDash(),l=a.getLineDashOffset(),c=a.getLineJoin(),f=a.getWidth(),h=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:$u,lineDash:u||Cp,lineDashOffset:l||0,lineJoin:void 0!==c?c:Ju,lineWidth:void 0!==f?f:1,miterLimit:void 0!==h?h:10,strokeStyle:Gi(o||rf)}}else this.textStrokeState_=null;var d=e.getFont(),p=e.getOffsetX(),v=e.getOffsetY(),y=e.getRotateWithView(),C=e.getRotation(),_=e.getScaleArray(),E=e.getText(),b=e.getTextAlign(),w=e.getTextBaseline();this.textState_={font:void 0!==d?d:wR,textAlign:void 0!==b?b:af,textBaseline:void 0!==w?w:bp},this.text_=void 0!==E?E:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==v?this.pixelRatio_*v:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==C?C:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},r}(MR);function GR(t,r,e){return r+":"+t+":"+(e?mR(e):"null")}var Op=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var e in this.cache_)0==(3&r++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(r,e,n){var i=GR(r,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(r,e,n,i){var a=GR(r,e,n);this.cache_[a]=i,++this.cacheSize_},t.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},t}()),r9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),a9=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=a,o}return r9(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Pe()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Pe()},r}(Vu),o9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function oC(t,r,e){var n=t;if(n.src&&AA){var i=n.decode(),a=!0;return i.then(function(){a&&r()}).catch(function(u){a&&("EncodingError"===u.name&&"Invalid image type."===u.message?r():e())}),function(){a=!1}}var s=[np(n,"load",r),np(n,"error",e)];return function(){s.forEach(It)}}!function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,i,0)||this;return u.src_=a,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=0,u.imageLoadFunction_=s,u}o9(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=hi(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=oC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(e){this.image_=e},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(a9);var s9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lf=null,u9=function(t){function r(e,n,i,a,o,s){var u=t.call(this)||this;return u.hitDetectionImage_=null,u.image_=e||new Image,null!==a&&(u.image_.crossOrigin=a),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=o,u.size_=i,u.src_=n,u}return s9(r,t),r.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){lf||(lf=zn(1,1)),lf.drawImage(this.image_,0,0);try{lf.getImageData(0,0,1,1),this.tainted_=!1}catch(e){lf=null,this.tainted_=!0}}return!0===this.tainted_},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},r.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},r.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=zn(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=oC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var i=n.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=mR(this.color_),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,n.width,n.height),o=a.data,s=this.color_[0]/255,u=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],f=0,h=o.length;f<h;f+=4)o[f]*=s,o[f+1]*=u,o[f+2]*=l,o[f+3]*=c;i.putImageData(a,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Vu),c9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sC=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,f=i.src;Le(!(void 0!==f&&l),4),Le(!l||l&&c,5),(void 0===f||0===f.length)&&l&&(f=l.src||Ne(l)),Le(void 0!==f&&f.length>0,6);var h=void 0!==i.src?0:2;return n.color_=void 0!==i.color?CR(i.color):null,n.iconImage_=function(t,r,e,n,i,a){var o=Op.get(r,n,a);return o||(o=new u9(t,r,e,n,i,a),Op.set(r,n,a,o)),o}(l,f,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return c9(r,t),r.prototype.clone=function(){var e=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=n[0]),"fraction"==this.anchorYUnits_&&(e[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+n[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},r.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(e){return this.iconImage_.getImage(e)},r.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_,n=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var i=this.getSize(),a=this.iconImage_.getSize();if(!i||!a)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=a[0]-i[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=a[1]-i[1]-e[1])}return e[0]+=n[0],e[1]+=n[1],this.origin_=e,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},r}(vR),zR={Point:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(r,n)}if(o&&o.getText()){var l=t.getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},LineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},Polygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},MultiPoint:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(r,n)}if(o&&o.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},MultiLineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},MultiPolygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(o||a){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},GeometryCollection:function(t,r,e,n,i){var o,s,a=r.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,zR[a[o].getType()])(t,a[o],e,n,i)},Circle:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}}};function v9(t,r){return parseInt(Ne(t),10)-parseInt(Ne(r),10)}function uC(t,r){return.5*t/r}function WR(t,r,e,n,i,a,o){var s=!1,u=e.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,r,e,n,i,a){var o=e.getGeometryFunction()(r);if(o){var s=o.simplifyTransformed(n,i);e.getRenderer()?qR(t,s,e,r):(0,zR[s.getType()])(t,s,e,r,a)}}(t,r,e,n,a,o),s}function qR(t,r,e,n){if("GeometryCollection"!=r.getType())t.getBuilder(e.getZIndex(),"Default").drawCustom(r,n,e.getRenderer());else for(var i=r.getGeometries(),a=0,o=i.length;a<o;++a)qR(t,i[a],e,n)}function lC(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function cC(t,r){var e=Math.cos(r),n=Math.sin(r),a=t[1]*e+t[0]*n;return t[0]=t[0]*e-t[1]*n,t[1]=a,t}function ZR(t,r){if(r.canWrapX()){var e=Pt(r.getExtent()),n=function(t,r,e){var n=r.getExtent(),i=0;if(r.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var a=e||Pt(n);i=Math.floor((t[0]-n[0])/a)}return i}(t,r,e);n&&(t[0]-=n*e)}return t}var M9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x9=function(t){function r(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return M9(r,t),r.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},r.prototype.renderWorlds=function(e,n,i){var a=n.extent,o=n.viewState,s=o.center,u=o.resolution,l=o.projection,c=o.rotation,f=l.getExtent(),h=this.getLayer().getSource(),d=n.pixelRatio,p=n.viewHints,v=!(p[0]||p[1]),y=this.context,C=Math.round(n.size[0]*d),_=Math.round(n.size[1]*d),E=h.getWrapX()&&l.canWrapX(),b=E?Pt(f):null,w=E?Math.ceil((a[2]-f[2])/b)+1:1,I=E?Math.floor((a[0]-f[0])/b):0;do{var D=this.getRenderTransform(s,u,c,d,C,_,I*b);e.execute(y,1,D,c,v,void 0,i)}while(++I<w)},r.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},r.prototype.renderFrame=function(e,n){var i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];(function(t,r,e){!function(t,r,e,n,i,a,o){t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=o}(t,r,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),fp(this.inversePixelTransform,this.pixelTransform);var o=hp(this.pixelTransform);this.useContainer(n,o,a.opacity);var s=this.context,u=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&u.width>0&&(u.width=0),this.container;var f=Math.round(e.size[0]*i),h=Math.round(e.size[1]*i);u.width!=f||u.height!=h?(u.width=f,u.height=h,u.style.transform!==o&&(u.style.transform=o)):this.containerReused||s.clearRect(0,0,f,h),this.preRender(s,e);var d=e.viewState,v=!1;if(a.extent&&this.clipping){var y=ts(a.extent);(v=!Gu(y,e.extent)&&sr(y,e.extent))&&this.clipUnrotated(s,e,y)}this.renderWorlds(l,e),v&&s.restore(),this.postRender(s,e);var C=a.opacity,_=this.container;return C!==parseFloat(_.style.opacity)&&(_.style.opacity=1===C?"":String(C)),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Mt(this.pixelTransform,i);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.renderedExtent_,c=this.getLayer(),f=[],h=i[0]/2,d=i[1]/2;f.push(this.getRenderTransform(a,o,s,.5,h,d,0).slice());var p=c.getSource(),v=u.getExtent();if(p.getWrapX()&&u.canWrapX()&&!Gu(v,l)){for(var y=l[0],C=Pt(v),_=0;y<v[0];)--_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),y+=C;for(_=0,y=l[2];y>v[2];)++_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),y-=C}this.hitDetectionImageData_=function(t,r,e,n,i,a,o){var l=zn(t[0]/2,t[1]/2);l.imageSmoothingEnabled=!1;for(var c=l.canvas,f=new t9(l,.5,i,null,o),h=e.length,d=Math.floor(16777215/h),p={},v=1;v<=h;++v){var y=e[v-1],C=y.getStyleFunction()||n;if(n){var _=C(y,a);if(_){Array.isArray(_)||(_=[_]);for(var b="#"+("000000"+(v*d).toString(16)).slice(-6),w=0,I=_.length;w<I;++w){var D=_[w],N=D.clone(),V=N.getFill();V&&V.setColor(b);var G=N.getStroke();G&&G.setColor(b),N.setText(void 0);var j=D.getImage();if(j){var K=j.getImageSize();if(!K)continue;var ae=document.createElement("canvas");ae.width=K[0],ae.height=K[1];var ce=ae.getContext("2d",{alpha:!1});ce.fillStyle=b;var $=ce.canvas;ce.fillRect(0,0,$.width,$.height),zn(K?K[0]:$.width,K?K[1]:$.height).drawImage($,0,0),N.setImage(new sC({img:$,imgSize:K,anchor:j.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:j.getOrigin(),size:j.getSize(),opacity:j.getOpacity(),scale:j.getScale(),rotation:j.getRotation(),rotateWithView:j.getRotateWithView()}))}var ut=Number(N.getZIndex());(Ee=p[ut])||(p[ut]=Ee={},Ee.Polygon=[],Ee.Circle=[],Ee.LineString=[],Ee.Point=[]);var Je=N.getGeometryFunction()(y);Je&&sr(i,Je.getExtent())&&Ee[Je.getType().replace("Multi","")].push(Je,N)}}}}for(var U=Object.keys(p).map(Number).sort(Xo),Vt=(v=0,U.length);v<Vt;++v){var Ee=p[U[v]];for(var Te in Ee){var Be=Ee[Te];for(w=0,I=Be.length;w<I;w+=2){f.setStyle(Be[w+1]);for(var Wt=0,St=r.length;Wt<St;++Wt)f.setTransform(r[Wt]),f.drawGeometry(Be[w])}}}return l.getImageData(0,0,c.width,c.height)}(i,f,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}n(function(t,r,e){var n=[];if(e){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*e.width),u=e.data[i+2]+256*(e.data[i+1]+256*e.data[i]),l=Math.floor(16777215/r.length);u&&u%l==0&&n.push(r[u/l-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){var s=this;if(this.replayGroup_){var d,u=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),f={},h=function(y,C,_){var E=Ne(y),b=f[E];if(b){if(!0!==b&&_<b.distanceSq){if(0===_)return f[E]=!0,o.splice(o.lastIndexOf(b),1),a(y,c,C);b.geometry=C,b.distanceSq=_}}else{if(0===_)return f[E]=!0,a(y,c,C);o.push(f[E]={feature:y,layer:c,geometry:C,distanceSq:_,callback:a})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(v){return d=v.forEachFeatureAtCoordinate(e,u,l,i,h,v===s.declutterExecutorGroup?n.declutterTree.all().map(function(y){return y.value}):null)}),d}},r.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},r.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(e){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var a=e.viewHints[0],o=e.viewHints[1],s=n.getUpdateWhileAnimating(),u=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,f=c.projection,h=c.resolution,d=e.pixelRatio,p=n.getRevision(),v=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=v9);var C=c.center.slice(),_=H_(l,v*h),E=[_.slice()],b=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!Gu(b,e.extent)){var w=Pt(b),I=Math.max(Pt(_)/2,w);_[0]=b[0]-I,_[2]=b[2]+I,ZR(C,f);var D=function(t,r){var e=r.getExtent(),n=Ku(t);if(r.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var i=Pt(e),o=Math.floor((n[0]-e[0])/i)*i;t[0]-=o,t[2]-=o}return t}(E[0],f);D[0]<b[0]&&D[2]<b[2]?E.push([D[0]+w,D[1],D[2]+w,D[3]]):D[0]>b[0]&&D[2]>b[2]&&E.push([D[0]-w,D[1],D[2]-w,D[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==y&&Gu(this.renderedExtent_,_))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var V,N=new NR(uC(h,d),_,h,d);this.getLayer().getDeclutter()&&(V=new NR(uC(h,d),_,h,d));var j,G=uR();if(G){for(var K=0,ae=E.length;K<ae;++K)i.loadFeatures(X_(E[K]),h,G);j=Jc(G,f)}else for(K=0,ae=E.length;K<ae;++K)i.loadFeatures(E[K],h,f);var ce=function(t,r){var e=uC(t,r);return e*e}(h,d),$=function(Ee){var Je,U=Ee.getStyleFunction()||n.getStyleFunction();if(U&&(Je=U(Ee,h)),Je){var Vt=this.renderFeature(Ee,ce,Je,N,j,V);this.dirty_=this.dirty_||Vt}}.bind(this),ve=X_(_),fe=i.getFeaturesInExtent(ve);for(y&&fe.sort(y),K=0,ae=fe.length;K<ae;++K)$(fe[K]);this.renderedFeatures_=fe;var Ve=N.finish(),ut=new HR(_,h,d,i.getOverlaps(),Ve,n.getRenderBuffer());return V&&(this.declutterExecutorGroup=new HR(_,h,d,i.getOverlaps(),V.finish(),n.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=y,this.renderedExtent_=_,this.renderedCenter_=C,this.renderedProjection_=f,this.replayGroup_=ut,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(e,n,i,a,o,s){if(!i)return!1;var u=!1;if(Array.isArray(i))for(var l=0,c=i.length;l<c;++l)u=WR(a,e,i[l],n,this.boundHandleStyleImageChange_,o,s)||u;else u=WR(a,e,i,n,this.boundHandleStyleImageChange_,o,s);return u},r}(VR),F9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XR=function(t){function r(e){return t.call(this,e)||this}return F9(r,t),r.prototype.createRenderer=function(){return new x9(this)},r}(mX),L9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B9=function(t){function r(e){var n=this,i=e||{},a=Cn({},i);return delete a.preload,delete a.useInterimTilesOnError,(n=t.call(this,a)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return L9(r,t),r.prototype.getPreload=function(){return this.get("preload")},r.prototype.setPreload=function(e){this.set("preload",e)},r.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},r.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},r}(VA),QR=function(){function t(r,e,n,i){this.minX=r,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(r){return this.containsXY(r[1],r[2])},t.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},t.prototype.containsXY=function(r,e){return this.minX<=r&&r<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},t.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},t}();function fC(t,r,e,n,i){return void 0!==i?(i.minX=t,i.maxX=r,i.minY=e,i.maxY=n,i):new QR(t,r,e,n)}var $R=QR,U9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),j9=function(t){function r(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new $R(0,0,0,0),n}return U9(r,t),r.prototype.isDrawableTile=function(e){var n=this.getLayer(),i=e.getState(),a=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!a},r.prototype.getTile=function(e,n,i,a){var o=a.pixelRatio,s=a.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,s);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},r.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},r.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(e,n){var i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,s=a.resolution,u=a.center,l=a.rotation,c=e.pixelRatio,f=this.getLayer(),h=f.getSource(),d=h.getRevision(),p=h.getTileGridForProjection(o),v=p.getZForResolution(s,h.zDirection),y=p.getResolution(v),C=e.extent,_=i.extent&&ts(i.extent);_&&(C=Yu(C,ts(i.extent)));var E=h.getTilePixelRatio(c),b=Math.round(e.size[0]*E),w=Math.round(e.size[1]*E);if(l){var I=Math.round(Math.sqrt(b*b+w*w));b=I,w=I}var D=y*b/2/E,N=y*w/2/E,V=[u[0]-D,u[1]-N,u[0]+D,u[1]+N],G=p.getTileRangeForExtentAndZ(C,v),j={};j[v]={};var K=this.createLoadedTileFinder(h,o,j),ae=this.tmpExtent,ce=this.tmpTileRange_;this.newTiles_=!1;for(var $=G.minX;$<=G.maxX;++$)for(var ve=G.minY;ve<=G.maxY;++ve){var fe=this.getTile(v,$,ve,e);if(this.isDrawableTile(fe)){var Ve=Ne(this);if(2==fe.getState()){j[v][fe.tileCoord.toString()]=fe;var ut=fe.inTransition(Ve);!this.newTiles_&&(ut||-1===this.renderedTiles.indexOf(fe))&&(this.newTiles_=!0)}if(1===fe.getAlpha(Ve,e.time))continue}var Ee=p.getTileCoordChildTileRange(fe.tileCoord,ce,ae),Je=!1;Ee&&(Je=K(v+1,Ee)),Je||p.forEachTileCoordParentTileRange(fe.tileCoord,K,ce,ae)}var U=y/s;Ui(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,l,-b/2,-w/2);var Vt=function(t){return ap?hp(t):(Sp||(Sp=zn(1,1).canvas),Sp.style.transform=hp(t),Sp.style.transform)}(this.pixelTransform);this.useContainer(n,Vt,i.opacity);var Te=this.context,Be=Te.canvas;fp(this.inversePixelTransform,this.pixelTransform),Ui(this.tempTransform,b/2,w/2,U,U,0,-b/2,-w/2),Be.width!=b||Be.height!=w?(Be.width=b,Be.height=w):this.containerReused||Te.clearRect(0,0,b,w),_&&this.clipUnrotated(Te,e,_),Cn(Te,h.getContextOptions()),this.preRender(Te,e),this.renderedTiles.length=0;var St,Bt,sn,Wt=Object.keys(j).map(Number);Wt.sort(Xo),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(St=[],Bt=[]):Wt=Wt.reverse();for(var Ki=Wt.length-1;Ki>=0;--Ki){var qn=Wt[Ki],ds=h.getTilePixelSize(qn,c,o),oe=p.getResolution(qn)/y,he=ds[0]*oe*U,Dt=ds[1]*oe*U,fr=p.getTileCoordForCoordAndZ(Xa(V),qn),vi=p.getTileCoordExtent(fr),Yi=Mt(this.tempTransform,[E*(vi[0]-V[0])/y,E*(V[3]-vi[3])/y]),Ut=E*h.getGutterForProjection(o),ao=j[qn];for(var un in ao){var bn=(fe=ao[un]).tileCoord,gi=Yi[0]-(fr[1]-bn[1])*he,yi=Math.round(gi+he),oo=Yi[1]-(fr[2]-bn[2])*Dt,vf=Math.round(oo+Dt),so=yi-($=Math.round(gi)),Sa=vf-(ve=Math.round(oo)),ps=v===qn;if(!(ut=ps&&1!==fe.getAlpha(Ne(this),e.time)))if(St){Te.save(),sn=[$,ve,$+so,ve,$+so,ve+Sa,$,ve+Sa];for(var sl=0,mi=St.length;sl<mi;++sl)if(v!==qn&&qn<Bt[sl]){var _i=St[sl];Te.beginPath(),Te.moveTo(sn[0],sn[1]),Te.lineTo(sn[2],sn[3]),Te.lineTo(sn[4],sn[5]),Te.lineTo(sn[6],sn[7]),Te.moveTo(_i[6],_i[7]),Te.lineTo(_i[4],_i[5]),Te.lineTo(_i[2],_i[3]),Te.lineTo(_i[0],_i[1]),Te.clip()}St.push(sn),Bt.push(qn)}else Te.clearRect($,ve,so,Sa);this.drawTileImage(fe,e,$,ve,so,Sa,Ut,ps,i.opacity),St&&!ut&&Te.restore(),this.renderedTiles.push(fe),this.updateUsedTiles(e.usedTiles,h,fe)}}return this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!Kc(this.renderedExtent_,V),this.renderedExtent_=V,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,h,p,c,o,C,v,f.getPreload()),this.scheduleExpireCache(e,h),this.postRender(Te,e),i.extent&&Te.restore(),Vt!==Be.style.transform&&(Be.style.transform=Vt),this.container},r.prototype.drawTileImage=function(e,n,i,a,o,s,u,l,c){var f=this.getTileImage(e);if(f){var h=Ne(this),d=l?e.getAlpha(h,n.time):1,p=c*d,v=p!==this.context.globalAlpha;v&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,a,o,s),v&&this.context.restore(),1!==d?n.animate=!0:l&&e.endTransition(h)}},r.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},r.prototype.getTileImage=function(e){return e.getImage()},r.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var i=function(a,o,s){var u=Ne(a);u in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,n);e.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(e,n,i){var a=Ne(n);a in e||(e[a]={}),e[a][i.getKey()]=!0},r.prototype.manageTilePyramid=function(e,n,i,a,o,s,u,l,c){var f=Ne(n);f in e.wantedTiles||(e.wantedTiles[f]={});var y,C,_,E,b,w,h=e.wantedTiles[f],d=e.tileQueue,v=0;for(w=i.getMinZoom();w<=u;++w)for(C=i.getTileRangeForExtentAndZ(s,w,C),_=i.getResolution(w),E=C.minX;E<=C.maxX;++E)for(b=C.minY;b<=C.maxY;++b)u-w<=l?(++v,0==(y=n.getTile(w,E,b,a,o)).getState()&&(h[y.getKey()]=!0,d.isKeyQueued(y.getKey())||d.enqueue([y,f,i.getTileCoordCenter(y.tileCoord),_])),void 0!==c&&c(y)):n.useTile(w,E,b,o);n.updateCacheSize(v,o)},r}(VR),H9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),z9=function(t){function r(e){return t.call(this,e)||this}return H9(r,t),r.prototype.createRenderer=function(){return new j9(this)},r}(B9),W9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function K9(t,r){Op.expire()}var Y9=function(t){function r(e){var n=t.call(this)||this;return n.map_=e,n}return W9(r,t),r.prototype.dispatchRenderEvent=function(e,n){Pe()},r.prototype.calculateMatrices2D=function(e){var n=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;Ui(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),fp(a,i)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o,s,u,l){var c,f=n.viewState;function h($,ve,fe,Ve){return o.call(s,ve,$?fe:null,Ve)}var d=f.projection,p=ZR(e.slice(),d),v=[[0,0]];if(d.canWrapX()&&a){var C=Pt(d.getExtent());v.push([-C,0],[C,0])}for(var _=n.layerStatesArray,E=_.length,b=[],w=[],I=0;I<v.length;I++)for(var D=E-1;D>=0;--D){var N=_[D],V=N.layer;if(V.hasRenderer()&&lp(N,f)&&u.call(l,V)){var G=V.getRenderer(),j=V.getSource();if(G&&j){var K=j.getWrapX()?p:e,ae=h.bind(null,N.managed);w[0]=K[0]+v[I][0],w[1]=K[1]+v[I][1],c=G.forEachFeatureAtCoordinate(w,n,i,ae,b)}if(c)return c}}if(0!==b.length){var ce=1/b.length;return b.forEach(function($,ve){return $.distanceSq+=ve*ce}),b.sort(function($,ve){return $.distanceSq-ve.distanceSq}),b.some(function($){return c=$.callback($.feature,$.layer,$.geometry)}),c}},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){return Pe()},r.prototype.hasFeatureAtCoordinate=function(e,n,i,a,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,a,Ya,this,o,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(e){Pe()},r.prototype.scheduleExpireIconCache=function(e){Op.canExpireCache()&&e.postRenderFunctions.push(K9)},r}(R_),Z9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Q9=function(t){function r(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=it(Ca,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=sp+" ol-layers";var a=e.getViewport();return a.insertBefore(n.element_,a.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Z9(r,t),r.prototype.dispatchRenderEvent=function(e,n){var i=this.getMap();if(i.hasListener(e)){var a=new LR(e,void 0,n);i.dispatchEvent(a)}},r.prototype.disposeInternal=function(){It(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(h,d){return h.zIndex-d.zIndex}),i=e.viewState;this.children_.length=0;for(var a=[],o=null,s=0,u=n.length;s<u;++s){var l=n[s];if(e.layerIndex=s,lp(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in c&&a.push(c))}}for(s=a.length-1;s>=0;--s)a[s].renderDeclutter(e);(function(t,r){for(var e=t.childNodes,n=0;;++n){var i=e[n],a=r[n];if(!i&&!a)break;if(i!==a){if(!i){t.appendChild(a);continue}if(!a){t.removeChild(i),--n;continue}t.insertBefore(a,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){for(var s=n.viewState,u=n.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],h=f.layer;if(h.hasRenderer()&&lp(f,s)&&o(h)){var p=h.getRenderer().getDataAtPixel(e,n,i);if(p){var v=a(h,p);if(v)return v}}}},r}(Y9),$9=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eQ=function(t){function r(e){var n=this,i=e||{},a=Cn({},i);delete a.layers;var o=i.layers;return(n=t.call(this,a)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Vi("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new Rr(o.slice(),{unique:!0}):Le("function"==typeof o.getArray,43):o=new Rr(void 0,{unique:!0}),n.setLayers(o),n}return $9(r,t),r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(It),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(it(e,"add",this.handleLayersAdd_,this),it(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(It);Lu(this.listenerKeys_);for(var i=e.getArray(),a=0,o=i.length;a<o;a++){var s=i[a];this.listenerKeys_[Ne(s)]=[it(s,"propertychange",this.handleLayerChange_,this),it(s,"change",this.handleLayerChange_,this)]}this.changed()},r.prototype.handleLayersAdd_=function(e){var n=e.element;this.listenerKeys_[Ne(n)]=[it(n,"propertychange",this.handleLayerChange_,this),it(n,"change",this.handleLayerChange_,this)],this.changed()},r.prototype.handleLayersRemove_=function(e){var i=Ne(e.element);this.listenerKeys_[i].forEach(It),delete this.listenerKeys_[i],this.changed()},r.prototype.getLayers=function(){return this.get("layers")},r.prototype.setLayers=function(e){this.set("layers",e)},r.prototype.getLayersArray=function(e){var n=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},r.prototype.getLayerStatesArray=function(e){var n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});for(var a=this.getLayerState(),o=i,s=n.length;o<s;o++){var u=n[o];u.opacity*=a.opacity,u.visible=u.visible&&a.visible,u.maxResolution=Math.min(u.maxResolution,a.maxResolution),u.minResolution=Math.max(u.minResolution,a.minResolution),u.minZoom=Math.max(u.minZoom,a.minZoom),u.maxZoom=Math.min(u.maxZoom,a.maxZoom),void 0!==a.extent&&(u.extent=void 0!==u.extent?Yu(u.extent,a.extent):a.extent)}return n},r.prototype.getSourceState=function(){return"ready"},r}(LA),tQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rp=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.map=n,a.frameState=void 0!==i?i:null,a}return tQ(r,t),r}(ga),rQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),to=function(t){function r(e,n,i,a,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return rQ(r,t),Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},r}(Rp),ct={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},aQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sQ=function(t){function r(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*ip:ip,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=it(a,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=it(a,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!RA&&{passive:!1}),i}return aQ(r,t),r.prototype.emulateClick_=function(e){var n=new to(ct.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new to(ct.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new to(ct.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(e){var n=e;n.type==ct.POINTERUP||n.type==ct.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==ct.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new to(ct.POINTERUP,this.map_,e);this.dispatchEvent(n),this.emulateClicks_&&!n.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(It),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(e){return 0===e.button},r.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var n=new to(ct.POINTERDOWN,this.map_,e);if(this.dispatchEvent(n),this.down_=e,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(it(i,ct.POINTERMOVE,this.handlePointerMove_,this),it(i,ct.POINTERUP,this.handlePointerUp_,this),it(this.element_,ct.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(it(this.element_.getRootNode(),ct.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var n=new to(ct.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}},r.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new to(e.type,this.map_,e,n))},r.prototype.handleTouchMove_=function(e){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&e.preventDefault()},r.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(It(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(It(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(It),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},r}(Vu),Mp=1/0,lQ=function(){function t(r,e){this.priorityFunction_=r,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Lu(this.queuedElements_)},t.prototype.dequeue=function(){var r=this.elements_,e=this.priorities_,n=r[0];1==r.length?(r.length=0,e.length=0):(r[0]=r.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(r){Le(!(this.keyFunction_(r)in this.queuedElements_),31);var e=this.priorityFunction_(r);return e!=Mp&&(this.elements_.push(r),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(r){return 2*r+1},t.prototype.getRightChildIndex_=function(r){return 2*r+2},t.prototype.getParentIndex_=function(r){return r-1>>1},t.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(r){return r in this.queuedElements_},t.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},t.prototype.siftUp_=function(r){for(var e=this.elements_,n=this.priorities_,i=e.length,a=e[r],o=n[r],s=r;r<i>>1;){var u=this.getLeftChildIndex_(r),l=this.getRightChildIndex_(r),c=l<i&&n[l]<n[u]?l:u;e[r]=e[c],n[r]=n[c],r=c}e[r]=a,n[r]=o,this.siftDown_(s,r)},t.prototype.siftDown_=function(r,e){for(var n=this.elements_,i=this.priorities_,a=n[e],o=i[e];e>r;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=a,i[e]=o},t.prototype.reprioritize=function(){var o,s,u,r=this.priorityFunction_,e=this.elements_,n=this.priorities_,i=0,a=e.length;for(s=0;s<a;++s)(u=r(o=e[s]))==Mp?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=u,e[i++]=o);e.length=i,n.length=i,this.heapify_()},t}(),cQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hQ=function(t){function r(e,n){var i=t.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return cQ(r,t),r.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(e){var n=e.target,i=n.getState();if(n.hifi&&2===i||3===i||4===i){n.removeEventListener("change",this.boundHandleTileChange_);var a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(e,n){for(var o,s,i=0;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=(o=this.dequeue()[0]).getKey(),0===o.getState()&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())},r}(lQ);function e1(t,r,e){return function(n,i,a,o,s){if(n){var u=r?0:a[0]*i,l=r?0:a[1]*i,c=s?s[0]:0,f=s?s[1]:0,h=t[0]+u/2+c,d=t[2]-u/2+c,p=t[1]+l/2+f,v=t[3]-l/2+f;h>d&&(d=h=(d+h)/2),p>v&&(v=p=(v+p)/2);var y=rn(n[0],h,d),C=rn(n[1],p,v),_=30*i;return o&&e&&(y+=-_*Math.log(1+Math.max(0,h-n[0])/_)+_*Math.log(1+Math.max(0,n[0]-d)/_),C+=-_*Math.log(1+Math.max(0,p-n[1])/_)+_*Math.log(1+Math.max(0,n[1]-v)/_)),[y,C]}}}function vQ(t){return t}function vC(t,r,e,n){var i=Pt(r)/e[0],a=hi(r)/e[1];return n?Math.min(t,Math.max(i,a)):Math.min(t,Math.min(i,a))}function gC(t,r,e){var n=Math.min(t,r);return n*=Math.log(1+50*Math.max(0,t/r-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),rn(n,e/2,2*r)}function t1(t,r,e,n,i){return function(a,o,s,u){if(void 0!==a){var l=n?vC(t,n,s,i):t;return(void 0===e||e)&&u?gC(a,l,r):rn(a,r,l)}}}function yC(t){if(void 0!==t)return 0}function n1(t){if(void 0!==t)return t}function r1(t,r,e,n,i,a,o){var f,s=t[r],u=t[r+1],l=t[e]-s,c=t[e+1]-u;if(0===l&&0===c)f=r;else{var h=((i-s)*l+(a-u)*c)/(l*l+c*c);if(h>1)f=e;else{if(h>0){for(var d=0;d<n;++d)o[d]=$o(t[r+d],t[e+d],h);return void(o.length=n)}f=r}}for(d=0;d<n;++d)o[d]=t[f+d];o.length=n}function i1(t,r,e,n,i){var a=t[r],o=t[r+1];for(r+=n;r<e;r+=n){var s=t[r],u=t[r+1],l=Uu(a,o,s,u);l>i&&(i=l),a=s,o=u}return i}function o1(t,r,e,n,i,a,o,s,u,l,c){if(r==e)return l;var f,h;if(0===i){if((h=Uu(o,s,t[r],t[r+1]))<l){for(f=0;f<n;++f)u[f]=t[r+f];return u.length=n,h}return l}for(var d=c||[NaN,NaN],p=r+n;p<e;)if(r1(t,p-n,p,n,o,s,d),(h=Uu(o,s,d[0],d[1]))<l){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n,p+=n}else p+=n*Math.max((Math.sqrt(h)-Math.sqrt(l))/i|0,1);if(a&&(r1(t,e-n,r,n,o,s,d),(h=Uu(o,s,d[0],d[1]))<l)){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n}return l}function u1(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=o*s-a*u,a=s,o=u}return i/2}var CQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c1=function(t){function r(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return CQ(r,t),r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(e,n,i,a){return a<KA(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(i1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),o1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.getArea=function(){return u1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Ip(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=function(t,r,e,n,i,a,o){var s=(e-r)/n;if(s<3){for(;r<e;r+=n)a[o++]=t[r],a[o++]=t[r+1];return o}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[r,e-n],c=0;l.length>0;){for(var f=l.pop(),h=l.pop(),d=0,p=t[h],v=t[h+1],y=t[f],C=t[f+1],_=h+n;_<f;_+=n){var w=F7(t[_],t[_+1],p,v,y,C);w>d&&(c=_,d=w)}d>i&&(u[(c-r)/n]=1,h+n<c&&l.push(h,c),c+n<f&&l.push(c,f))}for(_=0;_<s;++_)u[_]&&(a[o++]=t[r+_*n],a[o++]=t[r+_*n+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new r(n,"XY")},r.prototype.getType=function(){return"LinearRing"},r.prototype.intersectsExtent=function(e){return!1},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hR(this.flatCoordinates,0,e,this.stride),this.changed()},r}(Q_);function bQ(t,r,e,n,i){return!QA(i,function(o){return!os(t,r,e,n,o[0],o[1])})}function os(t,r,e,n,i,a){for(var o=0,s=t[e-n],u=t[e-n+1];r<e;r+=n){var l=t[r],c=t[r+1];u<=a?c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0&&o++:c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0&&o--,s=l,u=c}return 0!==o}function mC(t,r,e,n,i,a){if(0===e.length||!os(t,r,e[0],n,i,a))return!1;for(var o=1,s=e.length;o<s;++o)if(os(t,e[o-1],e[o],n,i,a))return!1;return!0}function _C(t,r,e,n,i){var a=XA([1/0,1/0,-1/0,-1/0],t,r,e,n);return!!sr(i,a)&&(!!(Gu(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3])||function(t,r,e,n,i){for(var s,a=[t[r],t[r+1]],o=[];r+n<e;r+=n){if(o[0]=t[r+n],o[1]=t[r+n+1],s=i(a,o))return s;a[0]=o[0],a[1]=o[1]}return!1}(t,r,e,n,function(o,s){return function(t,r,e){var n=!1,i=G_(t,r),a=G_(t,e);if(1===i||1===a)n=!0;else{var o=t[0],s=t[1],u=t[2],l=t[3],h=e[0],d=e[1],p=(d-r[1])/(h-r[0]),v=void 0,y=void 0;!!(2&a)&&!(2&i)&&(n=(v=h-(d-l)/p)>=o&&v<=u),n||!(4&a)||4&i||(n=(y=d-(h-u)*p)>=s&&y<=l),n||!(8&a)||8&i||(n=(v=h-(d-s)/p)>=o&&v<=u),!n&&16&a&&!(16&i)&&(n=(y=d-(h-o)*p)>=s&&y<=l)}return n}(i,o,s)}))}function TQ(t,r,e,n){for(;r<e-n;){for(var i=0;i<n;++i){var a=t[r+i];t[r+i]=t[e-n+i],t[e-n+i]=a}r+=n,e-=n}}function d1(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=(s-a)*(u+o),a=s,o=u}return 0===i?void 0:i>0}function CC(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=d1(t,r,u,n);(0===o?a&&l||!a&&!l:a&&!l||!a&&l)&&TQ(t,r,u,n),r=u}return r}var kQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pp=function(t){function r(e,n,i){var a=t.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&i?(a.setFlatCoordinates(n,e),a.ends_=i):a.setCoordinates(e,n),a}return kQ(r,t),r.prototype.appendLinearRing=function(e){this.flatCoordinates?tp(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){return a<KA(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,r,e,n,i){for(var a=0,o=e.length;a<o;++a){var s=e[a];i=i1(t,r,s,n,i),r=s}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,r,e,n,i,a,o,s,u,l,c){for(var f=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var p=e[h];l=o1(t,r,p,n,i,a,o,s,u,l,f),r=p}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.containsXY=function(e,n){return mC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},r.prototype.getArea=function(){return function(t,r,e,n){for(var i=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=u1(t,r,s,n),r=s}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(e){var n;return void 0!==e?CC(n=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):n=this.flatCoordinates,nC(n,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Ku(this.getExtent());this.flatInteriorPoint_=function(t,r,e,n,i,a,o){for(var s,u,l,c,f,h,d,p=i[a+1],v=[],y=0,C=e.length;y<C;++y){var _=e[y];for(c=t[_-n],h=t[_-n+1],s=r;s<_;s+=n)f=t[s],d=t[s+1],(p<=h&&d<=p||h<=p&&p<=d)&&v.push(l=(p-h)/(d-h)*(f-c)+c),c=f,h=d}var E=NaN,b=-1/0;for(v.sort(Xo),c=v[0],s=1,u=v.length;s<u;++s){f=v[s];var w=Math.abs(f-c);w>b&&mC(t,r,e,n,l=(c+f)/2,p)&&(E=l,b=w),c=f}return isNaN(E)&&(E=i[a]),o?(o.push(E,p,b),o):[E,p,b]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new $_(this.getFlatInteriorPoint(),"XYM")},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new c1(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},r.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,a=[],o=0,s=0,u=i.length;s<u;++s){var l=i[s],c=new c1(n.slice(o,l),e);a.push(c),o=l}return a},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=d1(t,r,u,n);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;r=u}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=CC(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[],i=[];return n.length=function(t,r,e,n,i,a,o,s){for(var u=0,l=e.length;u<l;++u){var c=e[u];o=RX(t,r,c,n,i,a,o),s.push(o),r=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new r(n,"XY",i)},r.prototype.getType=function(){return"Polygon"},r.prototype.intersectsExtent=function(e){return function(t,r,e,n,i){if(!function(t,r,e,n,i){return!!(_C(t,r,e,n,i)||os(t,r,e,n,i[0],i[1])||os(t,r,e,n,i[0],i[3])||os(t,r,e,n,i[2],i[1])||os(t,r,e,n,i[2],i[3]))}(t,r,e[0],n,i))return!1;if(1===e.length)return!0;for(var a=1,o=e.length;a<o;++a)if(bQ(t,e[a-1],e[a],n,i)&&!_C(t,e[a-1],e[a],n,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function(t,r,e,n,i){for(var a=i||[],o=0,s=0,u=e.length;s<u;++s){var l=hR(t,r,e[s],n);a[o++]=l,r=l}return a.length=o,a}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},r}(Q_),IQ=Pp;function v1(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=[r,e,r,i,n,i,n,e,r,e];return new Pp(a,"XY",[a.length])}var OQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function xp(t,r){setTimeout(function(){t(r)},0)}function xQ(t){return!(t.sourceCenter&&t.targetCenter&&!lC(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function bC(t,r,e,n,i){var a=Math.cos(-i),o=Math.sin(-i),s=t[0]*a-t[1]*o,u=t[1]*a+t[0]*o;return[(s+=(r[0]/2-e[0])*n)*a-(u+=(e[1]-r[1]/2)*n)*(o=-o),u*a+s*o]}var g1=function(t){function r(e){var n=t.call(this)||this,i=Cn({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=Y_(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=ma(i.center)),i.extent&&(i.extent=ts(i.extent)),n.applyOptions_(i),n}return OQ(r,t),r.prototype.applyOptions_=function(e){var i=function(t){var r,e,n,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=Y_(t.projection,"EPSG:3857"),d=h.getExtent(),p=t.constrainOnlyCenter,v=t.extent;if(!l&&!v&&h.isGlobal()&&(p=!1,v=d),void 0!==t.resolutions){var y=t.resolutions;e=y[o],n=void 0!==y[s]?y[s]:y[y.length-1],r=t.constrainResolution?function(t,r,e,n){return function(i,a,o,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=e?vC(u,e,o,n):u;if(s)return void 0===r||r?gC(i,c,l):rn(i,l,c);var h=Math.min(c,i),d=Math.floor(P_(t,h,a));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(y,c,!p&&v,f):t1(e,n,c,!p&&v,f)}else{var _=(d?Math.max(Pt(d),hi(d)):360*ya[Za.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),E=_/Math.pow(2,28);void 0!==(e=t.maxResolution)?o=0:e=_/Math.pow(u,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(u,s):_/Math.pow(u,s):E),s=o+Math.floor(Math.log(e/n)/Math.log(u)),n=e/Math.pow(u,s-o),r=t.constrainResolution?function(t,r,e,n,i,a){return function(o,s,u,l){if(void 0!==o){var c=i?vC(r,i,u,a):r,f=void 0!==e?e:0;if(l)return void 0===n||n?gC(o,c,f):rn(o,f,c);var p=Math.ceil(Math.log(r/c)/Math.log(t)-1e-9),v=-s*(.5-1e-9)+.5,y=Math.min(c,o),C=Math.floor(Math.log(r/y)/Math.log(t)+v),_=Math.max(p,C);return rn(r/Math.pow(t,_),f,c)}}}(u,e,n,c,!p&&v,f):t1(e,n,c,!p&&v,f)}return{constraint:r,maxResolution:e,minResolution:n,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=i.minZoom;var a=function(t){if(void 0!==t.extent)return e1(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=Y_(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,e1(n,!1,!1)}return vQ}(e),o=i.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function(t){var r=up(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=r?0:e:void 0}}():!1===e?n1:"number"==typeof e?function(t){var r=2*Math.PI/t;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/r+.5)*r:void 0}}(e):n1}return yC}(e);this.constraints_={center:a,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},r.prototype.getUpdatedOptions_=function(e){var n=Cn({},this.options_);return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Cn({},n,e)},r.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var a=arguments[i];a.center&&((a=Cn({},a)).center=ma(a.center,this.getProjection())),a.anchor&&((a=Cn({},a)).anchor=ma(a.anchor,this.getProjection())),n[i]=a}this.animateInternal.apply(this,n)},r.prototype.animateInternal=function(e){var i,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n),!this.isDef()){var a=arguments[n-1];return a.center&&this.setCenterInternal(a.center),void 0!==a.zoom&&this.setZoom(a.zoom),void 0!==a.rotation&&this.setRotation(a.rotation),void(i&&xp(i,!0))}for(var o=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<n;++f){var h=arguments[f],d={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||B_,callback:i};if(h.center&&(d.sourceCenter=s,d.targetCenter=h.center.slice(),s=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=u,d.targetResolution=this.getResolutionForZoom(h.zoom),u=d.targetResolution):h.resolution&&(d.sourceResolution=u,d.targetResolution=h.resolution,u=d.targetResolution),void 0!==h.rotation){d.sourceRotation=l;var p=ju(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+p,l=d.targetRotation}xQ(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[0]>0},r.prototype.getInteracting=function(){return this.hints_[1]>0},r.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,n=0,i=this.animations_.length;n<i;++n){var a=this.animations_[n];if(a[0].callback&&xp(a[0].callback,!1),!e)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e},r.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],o=!0,s=0,u=a.length;s<u;++s){var l=a[s];if(!l.complete){var f=l.duration>0?(e-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):o=!1;var h=l.easing(f);if(l.sourceCenter){var d=l.sourceCenter[0],p=l.sourceCenter[1];this.targetCenter_=[d+h*(l.targetCenter[0]-d),p+h*(l.targetCenter[1]-p)]}if(l.sourceResolution&&l.targetResolution){var E=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var b=this.getViewportSize_(this.getRotation()),w=this.constraints_.resolution(E,0,b,!0);this.targetCenter_=this.calculateCenterZoom(w,l.anchor)}this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var I=1===h?ju(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var D=this.constraints_.rotation(I,!0);this.targetCenter_=this.calculateCenterRotate(D,l.anchor)}this.targetRotation_=I}if(this.applyTargetState_(!0),n=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var N=a[0].callback;N&&xp(N,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(e,n){var i,a=this.getCenterInternal();return void 0!==a&&(cC(i=[a[0]-n[0],a[1]-n[1]],e-this.getRotation()),function(t,r){t[0]+=+r[0],t[1]+=+r[1]}(i,n)),i},r.prototype.calculateCenterZoom=function(e,n){var i,a=this.getCenterInternal(),o=this.getResolution();return void 0!==a&&void 0!==o&&(i=[n[0]-e*(n[0]-a[0])/o,n[1]-e*(n[1]-a[1])/o]),i},r.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var i=n[0],a=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return n},r.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Z_(e,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get("center")},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},r.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},r.prototype.calculateExtent=function(e){return X_(this.calculateExtentInternal(e),this.getProjection())},r.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSize_(),i=this.getCenterInternal();Le(i,1);var a=this.getResolution();Le(void 0!==a,2);var o=this.getRotation();return Le(void 0!==o,3),$A(i,a,o,n)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},r.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get("resolution")},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(ts(e,this.getProjection()),n)},r.prototype.getResolutionForExtentInternal=function(e,n){var i=n||this.getViewportSize_(),a=Pt(e)/i[0],o=hi(e)/i[1];return Math.max(a,o)},r.prototype.getResolutionForValueFunction=function(e){var n=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/Math.log(n);return function(s){return i/Math.pow(n,s*o)}},r.prototype.getRotation=function(){return this.get("rotation")},r.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/n;return function(s){return Math.log(i/s)/n/o}},r.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),i=this.padding;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},r.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),o=this.padding;if(o){var s=this.getViewportSizeMinusPadding_();a=bC(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:a.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var e,n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e},r.prototype.getZoomForResolution=function(e){var i,a,n=this.minZoom_||0;if(this.resolutions_){var o=P_(this.resolutions_,e,1);n=o,i=this.resolutions_[o],a=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(i/e)/Math.log(a)},r.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=rn(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],rn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},r.prototype.fit=function(e,n){var i;if(Le(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Le(!z_(e),25),i=v1(a=ts(e,this.getProjection()));else if("Circle"===e.getType()){var a;(i=v1(a=ts(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),Ku(a))}else{var o=uR();i=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(i,n)},r.prototype.fitInternal=function(e,n){var i=n||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var u,o=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=e.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),h=Math.sin(-c),d=1/0,p=1/0,v=-1/0,y=-1/0,C=e.getStride(),_=0,E=l.length;_<E;_+=C){var b=l[_]*f-l[_+1]*h,w=l[_]*h+l[_+1]*f;d=Math.min(d,b),p=Math.min(p,w),v=Math.max(v,b),y=Math.max(y,w)}var I=this.getResolutionForExtentInternal([d,p,v,y],[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);I=isNaN(I)?u:Math.max(I,u),I=this.getConstrainedResolution(I,s?0:1);var D=(d+v)/2,N=(p+y)/2,j=this.getConstrainedCenter([(D+=(o[1]-o[3])/2*I)*f-(N+=(o[0]-o[2])/2*I)*(h=-h),N*f+D*h],I),K=i.callback?i.callback:Qo;void 0!==i.duration?this.animateInternal({resolution:I,center:j,duration:i.duration,easing:i.easing},K):(this.targetResolution_=I,this.targetCenter_=j,this.applyTargetState_(!1,!0),xp(K,!0))},r.prototype.centerOn=function(e,n,i){this.centerOnInternal(ma(e,this.getProjection()),n,i)},r.prototype.centerOnInternal=function(e,n,i){this.setCenterInternal(bC(e,n,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(e,n,i,a){var o,s=this.padding;if(s&&e){var u=this.getViewportSizeMinusPadding_(-i),l=bC(e,a,[u[0]/2+s[3],u[1]/2+s[0]],n,i);o=[e[0]-l[0],e[1]-l[1]]}return o},r.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},r.prototype.adjustCenter=function(e){var n=Z_(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustResolution=function(e,n){var i=n&&ma(n,this.getProjection());this.adjustResolutionInternal(e,i)},r.prototype.adjustResolutionInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()},r.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},r.prototype.adjustRotation=function(e,n){n&&(n=ma(n,this.getProjection())),this.adjustRotationInternal(e,n)},r.prototype.adjustRotationInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=e,this.applyTargetState_()},r.prototype.setCenter=function(e){this.setCenterInternal(ma(e,this.getProjection()))},r.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},r.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},r.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},r.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},r.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},r.prototype.applyTargetState_=function(e,n){var i=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get("rotation")!==a&&this.set("rotation",a),this.get("resolution")!==s&&this.set("resolution",s),(!this.get("center")||!lC(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(e,n,i){var a=void 0!==e?e:200,o=n||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,o,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,s,u));if(0===a&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===a?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!lC(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:a,easing:Hu,anchor:f}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},r.prototype.endInteraction=function(e,n,i){var a=i&&ma(i,this.getProjection());this.endInteractionInternal(e,n,a)},r.prototype.endInteractionInternal=function(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)},r.prototype.getConstrainedCenter=function(e,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(e,n){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},r.prototype.getConstrainedResolution=function(e,n){var i=n||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,a)},r}(Bi),FQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VQ=function(t){function r(e){var n=t.call(this)||this,i=function(t){var r=null;void 0!==t.keyboardEventTarget&&(r="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,a,o,e={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new eQ({layers:t.layers});return e.layergroup=n,e.target=t.target,e.view=void 0!==t.view?t.view:new g1,void 0!==t.controls&&(Array.isArray(t.controls)?i=new Rr(t.controls.slice()):(Le("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?a=new Rr(t.interactions.slice()):(Le("function"==typeof t.interactions.getArray,48),a=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Rr(t.overlays.slice()):(Le("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Rr,{controls:i,interactions:a,keyboardEventTarget:r,overlays:o,values:e}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ip,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new Rr,n.interactions=i.interactions||new Rr,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new hQ(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Vi("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(Vi("view"),n.handleViewChanged_),n.addEventListener(Vi("size"),n.handleSizeChanged_),n.addEventListener(Vi("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.controls.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener("remove",function(a){var s=a.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],a.element.setMap(null)}.bind(n)),n}return FQ(r,t),r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(e){this.getControls().push(e)},r.prototype.addInteraction=function(e){this.getInteractions().push(e)},r.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},r.prototype.addOverlay=function(e){this.getOverlays().push(e)},r.prototype.addOverlayInternal_=function(e){var n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(e,n,i){if(this.frameState_){var a=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:Ya,null)}},r.prototype.getFeaturesAtPixel=function(e,n){var i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},n),i},r.prototype.forEachLayerAtPixel=function(e,n,i){if(this.frameState_){var a=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==a.hitTolerance?a.hitTolerance:0,n,a.layerFilter||Ya)}},r.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:Ya,null)},r.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},r.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},r.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]},r.prototype.getTarget=function(){return this.get("target")},r.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},r.prototype.getCoordinateFromPixel=function(e){return Z_(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?Mt(n.pixelToCoordinateTransform,e.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get("layergroup")},r.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},r.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var o=e[n].layer.getSource();if(o&&o.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(e){var n=ma(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},r.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?Mt(n.coordinateToPixelTransform,e.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get("size")},r.prototype.getView=function(){return this.get("view")},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},r.prototype.getTilePriority=function(e,n,i,a){return function(t,r,e,n,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][r.getKey()])return Mp;var a=t.viewState.center,o=n[0]-a[0],s=n[1]-a[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i}(this.frameState_,e,n,i,a)},r.prototype.handleBrowserEvent=function(e,n){var a=new to(n||e.type,this,e);this.handleMapBrowserEvent(a)},r.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s="host"in o?o.elementFromPoint(n.clientX,n.clientY):n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},r.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,a=i;if(e){var o=e.viewHints;if(o[0]||o[1]){var s=!AA&&Date.now()-e.time>8;i=s?0:8,a=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}e&&this.hasListener("rendercomplete")&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",e);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,e);u.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var n=0,i=this.keyHandlerKeys_.length;n<i;++n)It(this.keyHandlerKeys_[n]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,N_(this.viewport_)}if(e){for(var a in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new sQ(this,this.moveTolerance_),ct)this.mapBrowserEventHandler_.addEventListener(ct[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!RA&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[it(o,"keydown",this.handleBrowserEvent,this),it(o,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(It(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(It(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=it(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=it(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(It),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[it(e,"propertychange",this.render,this),it(e,"change",this.render,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var a=e[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(e){return this.getControls().remove(e)},r.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},r.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},r.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},r.prototype.renderFrame_=function(e){var n=this,i=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&a&&a.isDef()){var u=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=a.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:$A(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!z_(this.previousExtent_)&&!Kc(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Rp("movestart",this,o)),this.previousExtent_=zu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!Kc(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Rp("moveend",this,s)),qA(s.extent,this.previousExtent_))),this.dispatchEvent(new Rp("postrender",this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},r.prototype.setLayerGroup=function(e){this.set("layergroup",e)},r.prototype.setSize=function(e){this.set("size",e)},r.prototype.setTarget=function(e){this.set("target",e)},r.prototype.setView=function(e){this.set("view",e)},r.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var n=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}},r}(Bi),BQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function wC(t,r,e,n){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+r),o=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:e,duration:void 0!==n?n:250,easing:Hu})}}var il=function(t){function r(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return BQ(r,t),r.prototype.getActive=function(){return this.get("active")},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(e){return!0},r.prototype.setActive=function(e){this.set("active",e)},r.prototype.setMap=function(e){this.map_=e},r}(Bi),HQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zQ=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return HQ(r,t),r.prototype.handleEvent=function(e){var n=!1;if(e.type==ct.DBLCLICK){var i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;wC(e.map.getView(),s,o,this.duration_),i.preventDefault(),n=!0}return!n},r}(il),WQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function SC(t){for(var r=t.length,e=0,n=0,i=0;i<r;i++)e+=t[i].clientX,n+=t[i].clientY;return[e/r,n/r]}var cf=function(t){function r(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return WQ(r,t),r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ct.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ct.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==ct.POINTERDOWN){var a=this.handleDownEvent(e);this.handlingDownUpSequence=a,n=this.stopDown(a)}else e.type==ct.POINTERMOVE&&this.handleMoveEvent(e);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(e){if(function(t){var r=t.type;return r===ct.POINTERDOWN||r===ct.POINTERDRAG||r===ct.POINTERUP}(e)){var n=e.originalEvent,i=n.pointerId.toString();e.type==ct.POINTERUP?delete this.trackedPointers_[i]:(e.type==ct.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=n),this.targetPointers=kA(this.trackedPointers_)}},r}(il);function TC(t){var r=arguments;return function(e){for(var n=!0,i=0,a=r.length;i<a&&(n=n&&r[i](e));++i);return n}}var OC,YQ=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},m1=function(r){return!r.map.getTargetElement().hasAttribute("tabindex")||function(r){return r.target.getTargetElement().contains(document.activeElement)}(r)},XQ=Ya,QQ=function(r){return r.type==ct.CLICK},_1=function(r){var e=r.originalEvent;return 0==e.button&&!(S7&&T7&&e.ctrlKey)},C1=Hc,$Q=function(r){return r.type==ct.SINGLECLICK},E1=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},b1=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},w1=function(r){var n=r.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},kC=function(r){var e=r.originalEvent;return Le(void 0!==e,56),"mouse"==e.pointerType},JQ=function(r){var e=r.originalEvent;return Le(void 0!==e,56),e.isPrimary&&0===e.button},e$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),n$=function(t){function r(e){var n=t.call(this,{stopDown:Hc})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var a=i.condition?i.condition:TC(E1,JQ);return n.condition_=i.onFocusOnly?TC(m1,a):a,n.noKinetic_=!1,n}return e$(r,t),r.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=SC(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();(function(t,r){t[0]*=r,t[1]*=r})(a,s.getResolution()),cC(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(e){var n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),u=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([u[0]-a*Math.cos(o),u[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Hu})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},r}(cf),r$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),a$=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:Hc})||this).condition_=i.condition?i.condition:YQ,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return r$(r,t),r.prototype.handleDragEvent=function(e){if(kC(e)){var n=e.map,i=n.getView();if(i.getConstraints().rotation!==yC){var a=n.getSize(),o=e.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},r.prototype.handleUpEvent=function(e){return!kC(e)||(e.map.getView().endInteraction(this.duration_),!1)},r.prototype.handleDownEvent=function(e){return!(!kC(e)||!_1(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},r}(cf),o$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),u$=function(t){function r(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return o$(r,t),r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],n[0])+i,a.top=Math.min(e[1],n[1])+i,a.width=Math.abs(n[0]-e[0])+i,a.height=Math.abs(n[1]-e[1])+i},r.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,a=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new IQ([a])},r.prototype.getGeometry=function(){return this.geometry_},r}(R_),S1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IC=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.coordinate=n,a.mapBrowserEvent=i,a}return S1(r,t),r}(ga),c$=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.box_=new u$(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:_1,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return S1(r,t),r.prototype.defaultBoxEndCondition=function(e,n,i){var a=i[0]-n[0],o=i[1]-n[1];return a*a+o*o>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new IC("boxdrag",e.coordinate,e))},r.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new IC(n?"boxend":"boxcancel",e.coordinate,e)),!1},r.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new IC("boxstart",e.coordinate,e)),!0)},r.prototype.onBoxEnd=function(e){},r}(cf),f$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d$=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:b1,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return f$(r,t),r.prototype.onBoxEnd=function(e){var n=this.getMap(),i=n.getView(),a=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(a),u=function(t,r){return function(t,r){for(var e=0,n=r.length;e<n;++e)Wu(t,r[e]);return t}(zu(void 0),t)}([n.getPixelFromCoordinateInternal(qu(o)),n.getPixelFromCoordinateInternal(Zu(o))]);(function(t,r){var e=(t[2]-t[0])/2*(r-1),n=(t[3]-t[1])/2*(r-1);t[0]-=e,t[2]+=e,t[1]-=n,t[3]+=n})(s,1/i.getResolutionForExtentInternal(u,a)),o=s}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,a)),f=i.getConstrainedCenter(Ku(o),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:Hu})},r}(c$),p$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g$=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(a){return E1(a)&&w1(a)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return p$(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type){var i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(40==a||37==a||39==a||38==a)){var s=e.map.getView(),u=s.getResolution()*this.pixelDelta_,l=0,c=0;40==a?c=-u:37==a?l=-u:39==a?l=u:c=u;var f=[l,c];cC(f,s.getRotation()),function(t,r,e){var n=t.getCenterInternal();n&&t.animateInternal({duration:void 0!==e?e:250,easing:z7,center:t.getConstrainedCenter([n[0]+r[0],n[1]+r[1]])})}(s,f,this.duration_),i.preventDefault(),n=!0}}return!n},r}(il),y$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_$=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:w1,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return y$(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,a=i.charCode;if(this.condition_(e)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=e.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_;wC(o.getView(),s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},r}(il),E$=function(){function t(r,e,n){this.decay_=r,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(r,e){this.points_.push(r,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<r)return!1;for(var n=e-3;n>0&&this.points_[n+2]>r;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var a=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),b$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S$=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var a=i.condition?i.condition:XQ;return n.condition_=i.onFocusOnly?TC(m1,a):a,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return b$(r,t),r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var o,i=e.map,a=e.originalEvent;if(a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=a.deltaY,w7&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=ip),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;var s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},r.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var i=-rn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),wC(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},r}(il),T$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),I$=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=Hc),(n=t.call(this,a)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return T$(r,t),r.prototype.handleDragEvent=function(e){var n=0,i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=o;var u=e.map,l=u.getView();if(l.getConstraints().rotation!==yC){var c=u.getViewport().getBoundingClientRect(),f=SC(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(n,this.anchor_))}},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(cf),D$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),A$=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=Hc),(n=t.call(this,a)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return D$(r,t),r.prototype.handleDragEvent=function(e){var n=1,i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/u),this.lastDistance_=u;var l=e.map,c=l.getView();1!=n&&(this.lastScaleDelta_=n);var f=l.getViewport().getBoundingClientRect(),h=SC(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),c.adjustResolutionInternal(n,this.anchor_)},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(cf),M$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x$=function(t){function r(e){return(e=Cn({},e)).controls||(e.controls=GA()),e.interactions||(e.interactions=function(t){var r={onFocusOnly:!0}||{},e=new Rr,n=new E$(-.005,.05,100);return(void 0===r.altShiftDragRotate||r.altShiftDragRotate)&&e.push(new a$),(void 0===r.doubleClickZoom||r.doubleClickZoom)&&e.push(new zQ({delta:r.zoomDelta,duration:r.zoomDuration})),(void 0===r.dragPan||r.dragPan)&&e.push(new n$({onFocusOnly:r.onFocusOnly,kinetic:n})),(void 0===r.pinchRotate||r.pinchRotate)&&e.push(new I$),(void 0===r.pinchZoom||r.pinchZoom)&&e.push(new A$({duration:r.zoomDuration})),(void 0===r.keyboard||r.keyboard)&&(e.push(new g$),e.push(new _$({delta:r.zoomDelta,duration:r.zoomDuration}))),(void 0===r.mouseWheelZoom||r.mouseWheelZoom)&&e.push(new S$({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(void 0===r.shiftDragZoom||r.shiftDragZoom)&&e.push(new d$({duration:r.zoomDuration})),e}()),t.call(this,e)||this}return M$(r,t),r.prototype.createRenderer=function(){return new Q9(this)},r}(VQ),F$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),T1=function(t){function r(e,n,i){var a=t.call(this)||this,o=i||{};return a.tileCoord=e,a.state=n,a.interimTile=null,a.hifi=!0,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a}return F$(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},r.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},r.prototype.load=function(){Pe()},r.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=n;var a=n-i+1e3/60;return a>=this.transition_?1:HA(a/this.transition_)},r.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},r.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},r}(Vu),L$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),U$=function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,s)||this;return u.crossOrigin_=a,u.src_=i,u.key=i,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.tileLoadFunction_=o,u}return L$(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function(){var t=zn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},r.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},r.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=oC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(T1),z$=function(){function t(r,e,n,i,a,o){this.sourceProj_=r,this.targetProj_=e;var s={},u=ef(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var b=E[0]+"/"+E[1];return s[b]||(s[b]=u(E)),s[b]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Pt(i)==Pt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Pt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Pt(this.targetProj_.getExtent()):null;var l=Xa(n),c=Zu(n),f=Yc(n),h=qu(n),d=this.transformInv_(l),p=this.transformInv_(c),v=this.transformInv_(f),y=this.transformInv_(h),C=10+(o?Math.max(0,Math.ceil(x7(pp(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,f,h,d,p,v,y,C),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(E,b,w){_=Math.min(_,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-_>this.sourceWorldWidth_/2){var b=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];b[0][0]-_>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-_>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-_>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);var w=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-w<this.sourceWorldWidth_/2&&(E.source=b)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(r,e,n,i,a,o){this.triangles_.push({source:[i,a,o],target:[r,e,n]})},t.prototype.addQuad_=function(r,e,n,i,a,o,s,u,l){var c=WA([a,o,s,u]),f=this.sourceWorldWidth_?Pt(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,p=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=Pt(WA([r,e,n,i]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&f&&(p=f>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||sr(c,this.maxSourceExtent_)){var C=0;if(!(p||isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)p=!0;else if(1!=(C=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=C&&4!=C&&8!=C)return;if(l>0){if(!p){var E=this.transformInv_([(r[0]+n[0])/2,(r[1]+n[1])/2]),b=void 0;b=d?(ju(a[0],h)+ju(s[0],h))/2-ju(E[0],h):(a[0]+s[0])/2-E[0];var I=(a[1]+s[1])/2-E[1];p=b*b+I*I>this.errorThresholdSquared_}if(p){if(Math.abs(r[0]-n[0])<=Math.abs(r[1]-n[1])){var N=[(e[0]+n[0])/2,(e[1]+n[1])/2],V=this.transformInv_(N),G=[(i[0]+r[0])/2,(i[1]+r[1])/2],j=this.transformInv_(G);this.addQuad_(r,e,N,G,a,o,V,j,l-1),this.addQuad_(G,N,n,i,j,V,s,u,l-1)}else{var K=[(r[0]+e[0])/2,(r[1]+e[1])/2],ae=this.transformInv_(K),ce=[(n[0]+i[0])/2,(n[1]+i[1])/2],$=this.transformInv_(ce);this.addQuad_(r,K,ce,i,a,ae,$,u,l-1),this.addQuad_(K,e,n,ce,ae,o,s,$,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&C)&&this.addTriangle_(r,n,i,a,s,u),0==(14&C)&&this.addTriangle_(r,n,e,a,s,o),C&&(0==(13&C)&&this.addTriangle_(e,i,r,o,u,a),0==(7&C)&&this.addTriangle_(e,i,n,o,u,s))}},t.prototype.calculateSourceExtent=function(){var r=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var a=e.source;Wu(r,a[0]),Wu(r,a[1]),Wu(r,a[2])}),r},t.prototype.getTriangles=function(){return this.triangles_},t}(),I1={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function D1(t,r,e,n,i){t.beginPath(),t.moveTo(0,0),t.lineTo(r,e),t.lineTo(n,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(r,n)+1,Math.max(e,i)),t.restore()}function AC(t,r){return Math.abs(t[4*r]-210)>2||Math.abs(t[4*r+3]-191.25)>2}function O1(t,r,e,n){var i=tf(e,r,t),a=iR(r,n,e),o=r.getMetersPerUnit();void 0!==o&&(a*=o);var s=t.getMetersPerUnit();void 0!==s&&(a/=s);var u=t.getExtent();if(!u||dp(u,i)){var l=iR(t,a,i)/a;isFinite(l)&&l>0&&(a/=l)}return a}var Y$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X$=function(t){function r(e,n,i,a,o,s,u,l,c,f,h,d){var p=t.call(this,o,0)||this;p.renderEdges_=void 0!==h&&h,p.contextOptions_=d,p.pixelRatio_=u,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=a,p.wrappedTileCoord_=s||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var v=a.getTileCoordExtent(p.wrappedTileCoord_),y=p.targetTileGrid_.getExtent(),C=p.sourceTileGrid_.getExtent(),_=y?Yu(v,y):v;if(0===pp(_))return p.state=4,p;var E=e.getExtent();E&&(C=C?Yu(C,E):E);var b=a.getResolution(p.wrappedTileCoord_[0]),w=function(t,r,e,n){var i=Ku(e),a=O1(t,r,i,n);return(!isFinite(a)||a<=0)&&QA(e,function(o){return a=O1(t,r,o,n),isFinite(a)&&a>0}),a}(e,i,_,b);if(!isFinite(w)||w<=0)return p.state=4,p;if(p.triangulation_=new z$(e,i,_,C,w*(void 0!==f?f:.5),b),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=n.getZForResolution(w);var D=p.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(D[1]=rn(D[1],C[1],C[3]),D[3]=rn(D[3],C[1],C[3])):D=Yu(D,C)),pp(D)){for(var N=n.getTileRangeForExtentAndZ(D,p.sourceZ_),V=N.minX;V<=N.maxX;V++)for(var G=N.minY;G<=N.maxY;G++){var j=c(p.sourceZ_,V,G,u);j&&p.sourceTiles_.push(j)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return Y$(r,t),r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,f,h){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),a="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(n),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,r,e,n,i,a,o,s,u,l,c,f){var h=zn(Math.round(e*t),Math.round(e*r));if(Cn(h,f),0===u.length)return h.canvas;function d(b){return Math.round(b*e)/e}h.scale(e,e),h.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(b,w,I){!function(t,r){r[0]<t[0]&&(t[0]=r[0]),r[2]>t[2]&&(t[2]=r[2]),r[1]<t[1]&&(t[1]=r[1]),r[3]>t[3]&&(t[3]=r[3])}(p,b.extent)});var v=Pt(p),y=hi(p),C=zn(Math.round(e*v/n),Math.round(e*y/n));Cn(C,f);var _=e/n;u.forEach(function(b,w,I){var D=b.extent[0]-p[0],N=-(b.extent[3]-p[3]),V=Pt(b.extent),G=hi(b.extent);b.image.width>0&&b.image.height>0&&C.drawImage(b.image,l,l,b.image.width-2*l,b.image.height-2*l,D*_,N*_,V*_,G*_)});var E=Xa(o);return s.getTriangles().forEach(function(b,w,I){var D=b.source,N=b.target,V=D[0][0],G=D[0][1],j=D[1][0],K=D[1][1],ae=D[2][0],ce=D[2][1],$=d((N[0][0]-E[0])/a),ve=d(-(N[0][1]-E[1])/a),fe=d((N[1][0]-E[0])/a),Ve=d(-(N[1][1]-E[1])/a),ut=d((N[2][0]-E[0])/a),Ee=d(-(N[2][1]-E[1])/a),Je=V,U=G;V=0,G=0;var Te=function(t){for(var r=t.length,e=0;e<r;e++){for(var n=e,i=Math.abs(t[e][e]),a=e+1;a<r;a++){var o=Math.abs(t[a][e]);o>i&&(i=o,n=a)}if(0===i)return null;var s=t[n];t[n]=t[e],t[e]=s;for(var u=e+1;u<r;u++)for(var l=-t[u][e]/t[e][e],c=e;c<r+1;c++)e==c?t[u][c]=0:t[u][c]+=l*t[e][c]}for(var f=new Array(r),h=r-1;h>=0;h--){f[h]=t[h][r]/t[h][h];for(var d=h-1;d>=0;d--)t[d][r]-=t[d][h]*f[h]}return f}([[j-=Je,K-=U,0,0,fe-$],[ae-=Je,ce-=U,0,0,ut-$],[0,0,j,K,Ve-ve],[0,0,ae,ce,Ee-ve]]);if(Te){if(h.save(),h.beginPath(),function(){if(void 0===OC){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",D1(t,4,5,4,0),D1(t,4,5,0,5);var r=t.getImageData(0,0,3,3).data;OC=AC(r,0)||AC(r,4)||AC(r,8)}return OC}()||f===I1){h.moveTo(fe,Ve);for(var Wt=$-fe,St=ve-Ve,Bt=0;Bt<4;Bt++)h.lineTo(fe+d((Bt+1)*Wt/4),Ve+d(Bt*St/3)),3!=Bt&&h.lineTo(fe+d((Bt+1)*Wt/4),Ve+d((Bt+1)*St/3));h.lineTo(ut,Ee)}else h.moveTo(fe,Ve),h.lineTo($,ve),h.lineTo(ut,Ee);h.clip(),h.transform(Te[0],Te[2],Te[1],Te[3],$,ve),h.translate(p[0]-Je,p[3]-U),h.scale(n/e,-n/e),h.drawImage(C.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(b,w,I){var D=b.target,N=(D[0][0]-E[0])/a,V=-(D[0][1]-E[1])/a,G=(D[1][0]-E[0])/a,j=-(D[1][1]-E[1])/a,K=(D[2][0]-E[0])/a,ae=-(D[2][1]-E[1])/a;h.beginPath(),h.moveTo(G,j),h.lineTo(N,V),h.lineTo(K,ae),h.closePath(),h.stroke()}),h.restore()),h.canvas}(a,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},r.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,a){var o=n.getState();if(0==o||1==o){e++;var s=it(n,"change",function(u){var l=n.getState();(2==l||3==l||4==l)&&(It(s),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(n,i,a){0==n.getState()&&n.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(It),this.sourcesListenerKeys_=null},r}(T1),$$=function(){function t(r){this.highWaterMark=void 0!==r?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},t.prototype.forEach=function(r){for(var e=this.oldest_;e;)r(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(r,e){var n=this.entries_[r];return Le(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(r){var e=this.entries_[r];return Le(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[r],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.key_;return r},t.prototype.getValues=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.value_;return r},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},t.prototype.replace=function(r,e){this.get(r),this.entries_[r].value_=e},t.prototype.set=function(r,e){Le(!(r in this.entries_),16);var n={key_:r,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[r]=n,++this.count_},t.prototype.setSize=function(r){this.highWaterMark=r},t}();function A1(t,r,e,n){return void 0!==n?(n[0]=t,n[1]=r,n[2]=e,n):[t,r,e]}function Np(t,r,e){return t+"/"+r+"/"+e}function R1(t){return Np(t[0],t[1],t[2])}var nJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M1=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return nJ(r,t),r.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},r.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var i=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(R1(a.tileCoord)),a.release())}.bind(this))}},r}($$),iJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function P1(t){return t?Array.isArray(t)?function(r){return t}:"function"==typeof t?t:function(r){return[t]}:null}var x1=function(t){function r(e){var n=t.call(this)||this;return n.projection_=Wn(e.projection),n.attributions_=P1(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return iJ(r,t),r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolutions=function(){return Pe()},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getContextOptions=function(){},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(e){this.attributions_=P1(e),this.changed()},r.prototype.setState=function(e){this.state_=e,this.changed()},r}(Bi),oJ=[0,0,0],F1=function(){function t(r){var e;if(this.minZoom=void 0!==r.minZoom?r.minZoom:0,this.resolutions_=r.resolutions,Le(function(t,r,e){var n=function(o,s){return s-o}||Xo;return t.every(function(i,a){if(0===a)return!0;var o=n(t[a-1],i);return!(o>0||0===o)})}(this.resolutions_),17),!r.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==r.origin?r.origin:null,this.origins_=null,void 0!==r.origins&&(this.origins_=r.origins,Le(this.origins_.length==this.resolutions_.length,20));var a=r.extent;void 0!==a&&!this.origin_&&!this.origins_&&(this.origin_=Xa(a)),Le(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==r.tileSizes&&(this.tileSizes_=r.tileSizes,Le(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==r.tileSize?r.tileSize:this.tileSizes_?null:256,Le(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==r.sizes?this.fullTileRanges_=r.sizes.map(function(o,s){var u=new $R(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var l=this.getTileRangeForExtentAndZ(a,s);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(r,e,n){for(var i=this.getTileRangeForExtentAndZ(r,e),a=i.minX,o=i.maxX;a<=o;++a)for(var s=i.minY,u=i.maxY;s<=u;++s)n([e,a,s])},t.prototype.forEachTileCoordParentTileRange=function(r,e,n,i){var o,s,u=null,l=r[0]-1;for(2===this.zoomFactor_?(o=r[1],s=r[2]):u=this.getTileCoordExtent(r,i);l>=this.minZoom;){if(e(l,2===this.zoomFactor_?fC(o=Math.floor(o/2),o,s=Math.floor(s/2),s,n):this.getTileRangeForExtentAndZ(u,l,n)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},t.prototype.getResolution=function(r){return this.resolutions_[r]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(r,e,n){if(r[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*r[1],a=2*r[2];return fC(i,i+1,a,a+1,e)}var o=this.getTileCoordExtent(r,n);return this.getTileRangeForExtentAndZ(o,r[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(r,e,n){var i=this.getOrigin(r),a=this.getResolution(r),o=Mr(this.getTileSize(r),this.tmpSize_);return Hi(i[0]+e.minX*o[0]*a,i[1]+e.minY*o[1]*a,i[0]+(e.maxX+1)*o[0]*a,i[1]+(e.maxY+1)*o[1]*a,n)},t.prototype.getTileRangeForExtentAndZ=function(r,e,n){var i=oJ;this.getTileCoordForXYAndZ_(r[0],r[3],e,!1,i);var a=i[1],o=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],e,!0,i),fC(a,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(r){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),i=Mr(this.getTileSize(r[0]),this.tmpSize_);return[e[0]+(r[1]+.5)*i[0]*n,e[1]-(r[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(r,e){var n=this.getOrigin(r[0]),i=this.getResolution(r[0]),a=Mr(this.getTileSize(r[0]),this.tmpSize_),o=n[0]+r[1]*a[0]*i,s=n[1]-(r[2]+1)*a[1]*i;return Hi(o,s,o+a[0]*i,s+a[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(r,e,n){return this.getTileCoordForXYAndResolution_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(r,e,n,i,a){var o=this.getZForResolution(n),s=n/this.getResolution(o),u=this.getOrigin(o),l=Mr(this.getTileSize(o),this.tmpSize_),f=i?.5:0,h=Math.floor((r-u[0])/n+(i?.5:0)),d=Math.floor((u[1]-e)/n+f),p=s*h/l[0],v=s*d/l[1];return i?(p=Math.ceil(p)-1,v=Math.ceil(v)-1):(p=Math.floor(p),v=Math.floor(v)),A1(o,p,v,a)},t.prototype.getTileCoordForXYAndZ_=function(r,e,n,i,a){var o=this.getOrigin(n),s=this.getResolution(n),u=Mr(this.getTileSize(n),this.tmpSize_),c=i?.5:0,f=Math.floor((r-o[0])/s+(i?.5:0)),h=Math.floor((o[1]-e)/s+c),d=f/u[0],p=h/u[1];return i?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),A1(n,d,p,a)},t.prototype.getTileCoordForCoordAndZ=function(r,e,n){return this.getTileCoordForXYAndZ_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},t.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},t.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},t.prototype.getZForResolution=function(r,e){return rn(P_(this.resolutions_,r,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(r){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=n},t}();function N1(t){var r=t.getDefaultTileGrid();return r||(r=function(t,r,e,n){return function(t,r,e,n){var a=L1(t,undefined,e);return new F1({extent:t,origin:cZ(t,"top-left"),resolutions:a,tileSize:e})}(MC(t),0,void 0)}(t),t.setDefaultTileGrid(r)),r}function L1(t,r,e,n){for(var i=void 0!==r?r:42,a=hi(t),o=Pt(t),s=Mr(void 0!==e?e:256),u=n>0?n:Math.max(o/s[0],a/s[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function MC(t){var r=(t=Wn(t)).getExtent();if(!r){var e=180*ya[Za.DEGREES]/t.getMetersPerUnit();r=Hi(-e,-e,e,e)}return r}var V1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hJ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var a=e.tileGrid;return a&&Mr(a.getTileSize(a.getMinZoom()),[256,256]),n.tileCache=new M1(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return V1(r,t),r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);i&&i.expireCache(n)},r.prototype.forEachLoadedTile=function(e,n,i,a){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,l,c,s=!0,f=i.minX;f<=i.maxX;++f)for(var h=i.minY;h<=i.maxY;++h)l=Np(n,f,h),c=!1,o.containsKey(l)&&(c=2===(u=o.get(l)).getState())&&(c=!1!==a(u)),c||(s=!1);return s},r.prototype.getGutterForProjection=function(e){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},r.prototype.getOpaque=function(e){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(e,n,i,a,o){return Pe()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:N1(e)},r.prototype.getTileCacheForProjection=function(e){return Le(Qu(this.getProjection(),e),68),this.tileCache},r.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(e,n,i){var a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=Mr(a.getTileSize(e),this.tmpSize);return 1==o?s:function(t,r,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*r+.5|0,e[1]=t[1]*r+.5|0,e}(s,o,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(e,n){var i=void 0!==n?n:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function(t,r,e){var n=r[0],i=t.getTileCoordCenter(r),a=MC(e);if(dp(a,i))return r;var o=Pt(a),s=Math.ceil((a[0]-i[0])/o);return i[0]+=o*s,t.getTileCoordForCoordAndZ(i,n)}(a,e,i)),function(t,r){var e=t[0],n=t[1],i=t[2];if(r.getMinZoom()>e||e>r.getMaxZoom())return!1;var a=r.getFullTileRange(e);return!a||a.containsXY(n,i)}(e,a)?e:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(e,n){var i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)},r.prototype.useTile=function(e,n,i,a){},r}(x1),dJ=function(t){function r(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return V1(r,t),r}(ga),pJ=hJ;function vJ(t,r){var e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return t.replace(e,o[0].toString()).replace(n,o[1].toString()).replace(i,o[2].toString()).replace(a,function(){var c=r.getFullTileRange(o[0]);return Le(c,55),(c.getHeight()-o[2]-1).toString()})}}var _J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EJ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===r.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return _J(r,t),r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(e){var o,n=e.target,i=Ne(n),a=n.getState();1==a?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==a?"tileloaderror":2==a?"tileloadend":void 0),null!=o&&this.dispatchEvent(new dJ(o,n))},r.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},r.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==n?this.setKey(n):this.changed()},r.prototype.setUrl=function(e){var n=function(t){var r=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var n=e[1].charCodeAt(0),i=e[2].charCodeAt(0),a=void 0;for(a=n;a<=i;++a)r.push(t.replace(e[0],String.fromCharCode(a)));return r}if(e=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(e[2],10),s=parseInt(e[1],10);s<=o;s++)r.push(t.replace(e[0],s.toString()));return r}return r.push(t),r}(e);this.urls=n,this.setUrls(n)},r.prototype.setUrls=function(e){this.urls=e;var n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i)n[i]=vJ(t[i],r);return function(t){return 1===t.length?t[0]:function(r,e,n){if(r){var a=ju(function(t){return(t[1]<<t[0])+t[2]}(r),t.length);return t[a](r,e,n)}}}(n)}(e,this.tileGrid),n):this.setKey(n)},r.prototype.tileUrlFunction=function(e,n,i){},r.prototype.useTile=function(e,n,i){var a=Np(e,n,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},r}(pJ),bJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function SJ(t,r){t.getImage().src=r}var TJ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:SJ,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:U$,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?I1:void 0,n.renderReprojectionEdges_=!1,n}return bJ(r,t),r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);for(var a in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==i?n:{})}},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Qu(this.getProjection(),e)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},r.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Qu(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},r.prototype.getTileGridForProjection=function(e){var n=this.getProjection();if(this.tileGrid&&(!n||Qu(n,e)))return this.tileGrid;var i=Ne(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=N1(e)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();if(!n||Qu(n,e))return this.tileCache;var i=Ne(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new M1(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(e,n,i,a,o,s){var u=[e,n,i],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,a,o):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener("change",this.handleTileChange.bind(this)),f},r.prototype.getTile=function(e,n,i,a,o){var s=this.getProjection();if(!s||!o||Qu(s,o))return this.getTileInternal(e,n,i,a,s||o);var u=this.getTileCacheForProjection(o),l=[e,n,i],c=void 0,f=R1(l);u.containsKey(f)&&(c=u.get(f));var h=this.getKey();if(c&&c.key==h)return c;var d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(l,o),y=new X$(s,d,o,p,l,v,this.getTilePixelRatio(a),this.getGutter(),function(C,_,E,b){return this.getTileInternal(C,_,E,b,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return y.key=h,c?(y.interimTile=c,y.refreshInterimChain(),u.replace(f,y)):u.set(f,y),y},r.prototype.getTileInternal=function(e,n,i,a,o){var s=null,u=Np(e,n,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((s=this.tileCache.get(u)).key!=l){var c=s;(s=this.createTile_(e,n,i,a,o,l)).interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(u,s)}}else s=this.createTile_(e,n,i,a,o,l),this.tileCache.set(u,s);return s},r.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var n in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},r.prototype.setTileGridForProjection=function(e,n){var i=Wn(e);if(i){var a=Ne(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}},r}(EJ),kJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DJ=function(t){function r(e){var i=e||{},a=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var r=t||{},e=r.extent||Wn("EPSG:3857").getExtent(),n={extent:e,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:L1(e,r.maxZoom,r.tileSize,r.maxResolution)};return new F1(n)}({extent:MC(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return kJ(r,t),r}(TJ),OJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MJ=function(t){function r(e){var i=e||{};return t.call(this,{attributions:void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:void 0!==i.crossOrigin?i.crossOrigin:"anonymous",imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:i.wrapX})||this}return OJ(r,t),r}(DJ),B1=function(){function t(r){this.rbush_=new(pR())(r),this.items_={}}return t.prototype.insert=function(r,e){var n={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:e};this.rbush_.insert(n),this.items_[Ne(e)]=n},t.prototype.load=function(r,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=r[i],s=e[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=u,this.items_[Ne(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(r){var e=Ne(r),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(r,e){var n=this.items_[Ne(e)];Kc([n.minX,n.minY,n.maxX,n.maxY],r)||(this.remove(e),this.insert(r,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},t.prototype.getInExtent=function(r){return this.rbush_.search({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}).map(function(i){return i.value})},t.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},t.prototype.forEachInExtent=function(r,e){return this.forEach_(this.getInExtent(r),e)},t.prototype.forEach_=function(r,e){for(var n,i=0,a=r.length;i<a;i++)if(n=e(r[i]))return n;return n},t.prototype.isEmpty=function(){return Gc(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(r){var e=this.rbush_.toJSON();return Hi(e.minX,e.minY,e.maxX,e.maxY,r)},t.prototype.concat=function(r){for(var e in this.rbush_.load(r.rbush_.all()),r.items_)this.items_[e]=r.items_[e]},t}();function xJ(t,r){return[[-1/0,-1/0,1/0,1/0]]}function j1(t,r){return function(e,n,i,a,o){var s=this;!function(t,r,e,n,i,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(e,n,i):t,!0),"arraybuffer"==r.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var l=r.getType(),c=void 0;"json"==l||"text"==l?c=s.responseText:"xml"==l?(c=s.responseXML)||(c=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(c=s.response),c?a(r.readFeatures(c,{extent:e,featureProjection:i}),r.readProjection(c)):o()}else o()},s.onerror=o,s.send()}(t,r,e,n,i,function(u,l){void 0!==a&&a(u),s.addFeatures(u)},o||Qo)}}var H1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),no=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.feature=n,a.features=i,a}return H1(r,t),r}(ga),G1=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Qo,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Le(n.format_,7),n.loader_=j1(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:xJ;var o,s,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new B1:null,n.loadedExtentsRtree_=new B1,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?s=i.features:i.features&&(s=(o=i.features).getArray()),!a&&void 0===o&&(o=new Rr(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==o&&n.bindFeaturesCollection_(o),n}return H1(r,t),r.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},r.prototype.addFeatureInternal=function(e){var n=Ne(e);if(this.addToIndex_(n,e)){this.setupChangeEvents_(n,e);var i=e.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new no("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},r.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[it(n,"change",this.handleFeatureChange_,this),it(n,"propertychange",this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(e,n){var i=!0,a=n.getId();return void 0!==a&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=n),i&&(Le(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),i},r.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},r.prototype.addFeaturesInternal=function(e){for(var n=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=Ne(u=e[o]);this.addToIndex_(l,u)&&i.push(u)}o=0;for(var c=i.length;o<c;o++){var u;l=Ne(u=i[o]),this.setupChangeEvents_(l,u);var f=u.getGeometry();if(f){var h=f.getExtent();n.push(h),a.push(u)}else this.nullGeometryFeatures_[l]=u}this.featuresRtree_&&this.featuresRtree_.load(n,a),o=0;for(var d=i.length;o<d;o++)this.dispatchEvent(new no("addfeature",i[o]))},r.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener("addfeature",function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener("removefeature",function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener("add",function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),e.addEventListener("remove",function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=e},r.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(It);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var a in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new no("clear");this.dispatchEvent(o),this.changed()},r.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureAtCoordinateDirect=function(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(a){if(a.getGeometry().intersectsCoordinate(e))return n(a)})},r.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},r.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var o=n(i);if(o)return o}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Gc(this.nullGeometryFeatures_)||tp(e,kA(this.nullGeometryFeatures_))),e},r.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n},r.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},r.prototype.getClosestFeatureToCoordinate=function(e,n){var i=e[0],a=e[1],o=null,s=[NaN,NaN],u=1/0,l=[-1/0,-1/0,1/0,1/0],c=n||Ya;return this.featuresRtree_.forEachInExtent(l,function(f){if(c(f)){var h=f.getGeometry(),d=u;if((u=h.closestPointXY(i,a,s,u))<d){o=f;var p=Math.sqrt(u);l[0]=i-p,l[1]=a-p,l[2]=i+p,l[3]=a+p}}}),o},r.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},r.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return void 0!==n?n:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(e){var n=e.target,i=Ne(n),a=n.getGeometry();if(a){var o=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);var s=n.getId();if(void 0!==s){var u=s.toString();this.idIndex_[u]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[u]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new no("changefeature",n))},r.prototype.hasFeature=function(e){var n=e.getId();return void 0!==n?n in this.idIndex_:Ne(e)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Gc(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(e,n,i){var a=this.loadedExtentsRtree_,o=this.strategy_(e,n);this.loading=!1;for(var s=function(h,d){var p=o[h];a.forEachInExtent(p,function(y){return Gu(y.extent,p)})||(u.dispatchEvent(new no("featuresloadstart")),u.loader_.call(u,p,n,i,function(y){this.dispatchEvent(new no("featuresloadend",void 0,y))}.bind(u),function(){this.dispatchEvent(new no("featuresloaderror"))}.bind(u)),a.insert(p,{extent:p.slice()}),u.loading=u.loader_!==Qo)},u=this,l=0,c=o.length;l<c;++l)s(l)},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(e){var i,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(a){if(Kc(a.extent,e))return i=a,!0}),i&&n.remove(i)},r.prototype.removeFeature=function(e){var n=Ne(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},r.prototype.removeFeatureInternal=function(e){var n=Ne(e);this.featureChangeKeys_[n].forEach(It),delete this.featureChangeKeys_[n];var i=e.getId();void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new no("removefeature",e))},r.prototype.removeFromIdIndex_=function(e){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}return n},r.prototype.setLoader=function(e){this.loader_=e},r.prototype.setUrl=function(e){Le(this.format_,7),this.setLoader(j1(e,this.format_))},r}(x1),z1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VJ=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.selected=n,o.deselected=i,o.mapBrowserEvent=a,o}return z1(r,t),r}(ga),Lp={},jJ=function(t){function r(e){var a,n=t.call(this)||this,i=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=i.condition?i.condition:$Q,n.addCondition_=i.addCondition?i.addCondition:C1,n.removeCondition_=i.removeCondition?i.removeCondition:C1,n.toggleCondition_=i.toggleCondition?i.toggleCondition:b1,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:Ya,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.style_=void 0!==i.style?i.style:function(){var t=function(){var t={},r=[255,255,255,1],e=[0,153,255,1];return t.Polygon=[new nl({fill:new tl({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new nl({stroke:new Tp({color:r,width:5})}),new nl({stroke:new Tp({color:e,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new nl({image:new IR({radius:6,fill:new tl({color:e}),stroke:new Tp({color:r,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}();return tp(t.Polygon,t.LineString),tp(t.GeometryCollection,t.LineString),function(r){return r.getGeometry()?t[r.getGeometry().getType()]:null}}(),n.features_=i.features||new Rr,i.layers)if("function"==typeof i.layers)a=i.layers;else{var o=i.layers;a=function(u){return M_(o,u)}}else a=Ya;return n.layerFilter_=a,n.featureLayerAssociation_={},n}return z1(r,t),r.prototype.addFeatureLayerAssociation_=function(e,n){this.featureLayerAssociation_[Ne(e)]=n},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(e){return this.featureLayerAssociation_[Ne(e)]},r.prototype.setHitTolerance=function(e){this.hitTolerance_=e},r.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},r.prototype.addFeature_=function(e){this.style_&&this.applySelectedStyle_(e.element)},r.prototype.removeFeature_=function(e){this.style_&&this.restorePreviousStyle_(e.element)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(e){var n=Ne(e);n in Lp||(Lp[n]=e.getStyle()),e.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(e){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var a=n[i];if(a!==this&&a instanceof r&&a.getStyle()&&-1!==a.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(a.getStyle())}var o=Ne(e);e.setStyle(Lp[o]),delete Lp[o]},r.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Ne(e)]},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var n=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!n&&!i&&!a,s=e.map,u=this.getFeatures(),l=[],c=[];if(o){Lu(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(v,y){if(this.filter_(v,y))return c.push(v),this.addFeatureLayerAssociation_(v,y),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=u.getLength()-1;f>=0;--f){var h=u.item(f),d=c.indexOf(h);d>-1?c.splice(d,1):(u.remove(h),l.push(h))}0!==c.length&&u.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,function(v,y){if(this.filter_(v,y))return!n&&!a||M_(u.getArray(),v)?(i||a)&&M_(u.getArray(),v)&&(l.push(v),this.removeFeatureLayerAssociation_(v)):(c.push(v),this.addFeatureLayerAssociation_(v,y)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=l.length-1;p>=0;--p)u.remove(l[p]);u.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new VJ("select",c,l,e)),!0},r}(il),zJ=function(){function t(r){var e=r||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Mr(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new tl({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var r=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(r){this.overflow_=r},t.prototype.setFont=function(r){this.font_=r},t.prototype.setMaxAngle=function(r){this.maxAngle_=r},t.prototype.setOffsetX=function(r){this.offsetX_=r},t.prototype.setOffsetY=function(r){this.offsetY_=r},t.prototype.setPlacement=function(r){this.placement_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setFill=function(r){this.fill_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Mr(void 0!==r?r:1)},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.setText=function(r){this.text_=r},t.prototype.setTextAlign=function(r){this.textAlign_=r},t.prototype.setTextBaseline=function(r){this.textBaseline_=r},t.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},t.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},t.prototype.setPadding=function(r){this.padding_=r},t}();function PC(t,r){if(t){var e=t.getProperties(),i=r?"assets/marker_blue.png":"assets/marker.png";t.setStyle(new OR({text:new zJ({text:e.info&&r?e.info:"",font:"bold 13px sans-serif",backgroundFill:new tl({color:"#ffffff"}),offsetY:-50,fill:new tl({color:"#555588"})}),image:new sC({src:i,imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.7})}))}}var YJ=function(){function t(r){this.mapDataService=r,this.markers=[],this.unsubscribe$=new xe,this.onMarkerClicked=new me}return t.prototype.ngAfterViewInit=function(){var r=this;this.map||this.initilizeMap(),this.mapDataService.mapInput$.pipe(Ga(this.unsubscribe$)).subscribe(function(e){e&&r.setupMap(e)})},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.setupMap=function(r){this.positions=r.markerPosisitons,this.userPos=r.userPos;var e=this.map.getView();this.positions.length>0?e.setCenter($c([this.positions[0].lng,this.positions[0].lat])):this.userPos&&this.userPos.lat&&this.userPos.lng&&e.setCenter($c([this.userPos.lng,this.userPos.lat])),e.setZoom(this.positions.length<2?t.ZoomLevelSingleMarker:t.ZoomLevelSeveralMarkers),this.updateMarkers(this.positions,!0),this.updateUserMarker(this.userPos)},t.prototype.updateUserMarker=function(r){this.userPos=r,this.userMarker.setGeometry(null),r&&(this.userMarker.setGeometry(new $_($c([r.lng,r.lat]))),function(t){!t||t.setStyle(new OR({image:new sC({src:"assets/user.png",imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.5})}))}(this.userMarker))},t.prototype.updateMarkers=function(r,e){for(var n=0;n<t.MaxNumMarkers;n++)this.markers[n].setGeometry(null);if(this.positions=r,r)for(n=0;n<Math.min(r.length,t.MaxNumMarkers);n++){var i=r[n],a=this.markers[n];a.setId(i.id),a.setGeometry(new $_($c([i.lng,i.lat]))),a.setProperties({info:i.info}),PC(a,!1)}},t.prototype.initilizeMap=function(){var r=this;this.markers=[];for(var e=0;e<t.MaxNumMarkers;e++)this.markers.push(new zA({}));this.userMarker=new zA;var n=new BA({target:"attribution"}),i=new XR({source:new G1({features:this.markers})});this.map=new x$({controls:GA({attribution:!1}).extend([n]),target:"map",layers:[new z9({source:new MJ}),i,new XR({source:new G1({features:[this.userMarker]})})],view:new g1({center:$c([0,0]),zoom:t.ZoomLevelSingleMarker})}),function(t,r,e,n){var i=new jJ({style:null,condition:QQ,toggleCondition:function(){return!0},layers:[r]});t.addInteraction(i),i.on("select",function(a){!function(t){!t||t.forEach(function(r){PC(r,!1)})}(e);var o=null;if(a.selected&&a.selected.length>0?o=a.selected:a.deselected&&a.deselected.length>0&&(o=a.deselected),o){var s=o[0];PC(s,!0),n(s.getId())}})}(this.map,i,this.markers,function(a){return r.onMarkerClicked.emit(a)})},t.MaxNumMarkers=200,t.ZoomLevelSingleMarker=13,t.ZoomLevelSeveralMarkers=6,t.\u0275fac=function(e){return new(e||t)(S(SA))},t.\u0275cmp=At({type:t,selectors:[["app-map"]],outputs:{onMarkerClicked:"onMarkerClicked"},decls:2,vars:0,consts:[["id","attribution"],["id","map",1,"map"]],template:function(e,n){1&e&&(kt(0,"div",0),kt(1,"div",1))},styles:["#map[_ngcontent-%COMP%]{height:90vh;width:100%}[_nghost-%COMP%]  .ol-zoom-in, [_nghost-%COMP%]  .ol-zoom-out, [_nghost-%COMP%]  .ol-rotate-reset{width:1.8em;height:1.8em;font-size:1.5em;font-weight:bold;opacity:.8;margin:5px;padding:0;border:2;border-radius:0;background-color:#d3d3d3}[_nghost-%COMP%]  .ol-zoom{max-width:60px}[_nghost-%COMP%]  .ol-hidden{display:none}[_nghost-%COMP%]  .ol-attribution>button{display:none}[_nghost-%COMP%]  .ol-attribution ul{list-style-type:none;padding:0;margin:0}[_nghost-%COMP%]  .ol-attribution{font-size:.7em;padding-bottom:5px}[_nghost-%COMP%]  .ol-compass{margin-left:-3px}"]}),t}();function ZJ(t,r){if(1&t){var e=Kt();O(0,"p-sidebar",1),ne("visibleChange",function(a){return ue(e),B().isVisible=a}),O(1,"div",2),O(2,"i",3),ne("click",function(){return ue(e),B().close()}),A(),tt(3),A(),O(4,"div"),O(5,"div"),tt(6),A(),A(),kt(7,"hr"),O(8,"app-map",4),ne("onMarkerClicked",function(a){return ue(e),B().onMapMarkerClicked(a)}),A(),A()}if(2&t){var n=B();P("visible",n.isVisible)("showCloseIcon",!1),x(3),Ln(" ",n.title," "),x(3),Ln(" ",n.details," ")}}var XJ=function(){function t(r,e){this.broker=r,this.mapDataService=e,this.unsubscribe$=new xe,this.isVisible=!1}return t.prototype.ngOnInit=function(){var r=this;this.broker.getMessage().pipe(Ga(this.unsubscribe$),hn(function(e){return e instanceof Rd})).subscribe(function(e){var n=new $Y;n.markerPosisitons=e.positions,n.userPos=e.userPos,r.title=e.title,r.details=e.details,r.isVisible=!0,r.mapDataService.addNewMapInput(n)})},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.close=function(){this.isVisible=!1},t.prototype.onMapMarkerClicked=function(r){this.broker.sendMessage(new wA(r))},t.\u0275fac=function(e){return new(e||t)(S(Wo),S(SA))},t.\u0275cmp=At({type:t,selectors:[["app-map-sidebar"]],decls:2,vars:1,consts:[["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-left","close-button","clickable",3,"click"],[3,"onMarkerClicked"]],template:function(e,n){1&e&&(X(0,ZJ,9,4,"p-sidebar",0),kt(1,"app-info-sidebar")),2&e&&P("ngIf",n.isVisible)},directives:[Bn,c7,TA,YJ],encapsulation:2}),t}(),W1=["container"],QJ=function(r,e,n,i){return{"pi-info-circle":r,"pi-exclamation-triangle":e,"pi-times-circle":n,"pi-check":i}};function $J(t,r){if(1&t&&(Kr(0),kt(1,"span",6),O(2,"div",7),O(3,"div",8),tt(4),A(),O(5,"div",9),tt(6),A(),A(),Yr()),2&t){var e=B();x(1),fn("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),P("ngClass",tc(5,QJ,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),x(3),nr(e.message.summary),x(2),nr(e.message.detail)}}function JJ(t,r){1&t&&cn(0)}function eee(t,r){if(1&t){var e=Kt();O(0,"button",10),ne("click",function(i){return ue(e),B().onCloseIconClick(i)})("keydown.enter",function(i){return ue(e),B().onCloseIconClick(i)}),kt(1,"span",11),A()}}var tee=function(r){return[r,"p-toast-message"]},nee=function(r,e,n,i){return{showTransformParams:r,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:i}},ree=function(r){return{value:"visible",params:r}},iee=function(r){return{$implicit:r}};function aee(t,r){if(1&t){var e=Kt();O(0,"p-toastItem",3),ne("onClose",function(s){return ue(e),B().onMessageClose(s)})("@toastAnimation.start",function(s){return ue(e),B().onAnimationStart(s)}),A()}if(2&t){var n=r.$implicit,i=r.index,a=B();P("message",n)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}var oee=function(){var t=function(){function r(e){g(this,r),this.zone=e,this.onClose=new me}return m(r,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var n=this;this.message.sticky||this.zone.runOutsideAngular(function(){n.timeout=setTimeout(function(){n.onClose.emit({index:n.index,message:n.message})},n.message.life||3e3)})}},{key:"clearTimeout",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)})},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S($e))},t.\u0275cmp=At({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,n){var i;1&e&&ri(W1,5),2&e&&Gt(i=zt())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(O(0,"div",0,1),ne("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),O(2,"div",2),X(3,$J,7,10,"ng-container",3),X(4,JJ,1,0,"ng-container",4),X(5,eee,2,0,"button",5),A(),A()),2&e&&(fn(n.message.styleClass),P("ngClass",Jt(10,tee,"p-toast-message-"+n.message.severity))("@messageState",Jt(17,ree,tc(12,nee,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),at("id",n.message.id),x(2),P("ngClass",n.message.contentStyleClass),x(1),P("ngIf",!n.template),x(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Jt(19,iee,n.message)),x(1),P("ngIf",!1!==n.message.closable))},directives:[Ir,Bn,Ua,Pd],encapsulation:2,data:{animation:[Nc("messageState",[s_("visible",Ar({transform:"translateY(0)",opacity:1})),pa("void => *",[Ar({transform:"{{showTransformParams}}",opacity:0}),Wa("{{showTransitionParams}}")]),pa("* => void",[Wa("{{hideTransitionParams}}",Ar({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t}(),see=function(){var t=function(){function r(e,n,i){g(this,r),this.messageService=e,this.cd=n,this.config=i,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new me,this.id=eO()}return m(r,[{key:"ngOnInit",value:function(){var n=this;this.messageSubscription=this.messageService.messageObserver.subscribe(function(i){if(i)if(i instanceof Array){var a=i.filter(function(o){return n.canAdd(o)});n.add(a)}else n.canAdd(i)&&n.add([i])}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(i){i?n.key===i&&(n.messages=null):n.messages=null,n.cd.markForCheck()})}},{key:"ngAfterViewInit",value:function(){this.autoZIndex&&ci.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}},{key:"add",value:function(n){this.messages=this.messages?[].concat(Y(this.messages),Y(n)):Y(n),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(Y(this.messagesArchieve),Y(n)):Y(n)),this.cd.markForCheck()}},{key:"canAdd",value:function(n){var i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i}},{key:"containsMessage",value:function(n,i){return!!n&&null!=n.find(function(a){return a.summary===i.summary&&a.detail==i.detail&&a.severity===i.severity})}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"message":default:n.template=i.template}})}},{key:"onMessageClose",value:function(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}},{key:"onAnimationStart",value:function(n){"void"===n.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Q.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}},{key:"createStyle",value:function(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);var n="";for(var i in this.breakpoints){var a="";for(var o in this.breakpoints[i])a+=o+":"+this.breakpoints[i][o]+" !important;";n+="\n                    @media screen and (max-width: ".concat(i,") {\n                        .p-toast[").concat(this.id,"] {\n                           ").concat(a,"\n                        }\n                    }\n                ")}this.styleElement.innerHTML=n}}},{key:"destroyStyle",value:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ci.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(S(e_),S($r),S(Rc))},t.\u0275cmp=At({type:t,selectors:[["p-toast"]],contentQueries:function(e,n,i){var a;1&e&&ii(i,Pu,4),2&e&&Gt(a=zt())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&ri(W1,5),2&e&&Gt(i=zt())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,n){1&e&&(O(0,"div",0,1),X(2,aee,1,8,"p-toastItem",2),A()),2&e&&(fn(n.styleClass),P("ngClass","p-toast p-component p-toast-"+n.position)("ngStyle",n.style),x(2),P("ngForOf",n.messages))},directives:[Ir,Fi,rd,oee],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[Nc("toastAnimation",[pa(":enter, :leave",[oq("@*",aq())])])]},changeDetection:0}),t}(),uee=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir,xd],Md]}),t}(),lee=function(){function t(r,e,n){this.broker=r,this.primeNGmessageService=e,this.translationService=n,this.title="sr-traffic",this.isLoading=!1,this.unsubscribe$=new xe}return t.prototype.ngOnInit=function(){return Hn(this,void 0,void 0,function(){var r,e=this;return Gn(this,function(n){switch(n.label){case 0:return this.translationService.defaultLangCode="en",this.translationService.currentLocale=navigator.language,(r=this.broker.getMessage()).pipe(Ga(this.unsubscribe$),hn(function(i){return i instanceof YY})).subscribe(function(i){e.primeNGmessageService.add({severity:"success",summary:"",detail:i.info})}),r.pipe(Ga(this.unsubscribe$),hn(function(i){return i instanceof Ru})).subscribe(function(i){e.primeNGmessageService.add({severity:"error",summary:"",detail:i.errorMessage})}),[4,this.fetchBaseData()];case 1:return n.sent(),[2]}})})},t.prototype.fetchBaseData=function(){return Hn(this,void 0,void 0,function(){return Gn(this,function(r){try{this.isLoading=!0}finally{this.isLoading=!1}return[2]})})},t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.\u0275fac=function(e){return new(e||t)(S(Wo),S(e_),S(QY))},t.\u0275cmp=At({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","top-center"]],template:function(e,n){1&e&&(O(0,"div"),kt(1,"app-map-sidebar"),A(),O(2,"div"),kt(3,"router-outlet"),A(),kt(4,"p-toast",0))},directives:[XJ,jm,see],styles:[".content[_ngcontent-%COMP%]{padding-top:210px}.header[_ngcontent-%COMP%]{overflow:hidden;position:fixed;top:-8px;width:calc(100% - 16px);z-index:1000;margin-left:0;background-color:#fff;opacity:1;max-height:230px;min-height:230px}[_nghost-%COMP%]     .p-toast.p-component.p-toast-top-center{max-width:300px}"]}),t}(),vee=function(){var t=function r(){g(this,r)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({imports:[[ir]]}),t}();function q1(){return"undefined"!=typeof window&&void 0!==window.document}function xC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ro(t){switch(t.length){case 0:return new Fu;case 1:return t[0];default:return new SO(t)}}function K1(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(n.forEach(function(f){var h=f.offset,d=h==u,p=d&&l||{};Object.keys(f).forEach(function(v){var y=v,C=f[v];if("offset"!==v)switch(y=r.normalizePropertyName(y,o),C){case"!":C=i[v];break;case da:C=a[v];break;default:C=r.normalizeStyleValue(v,y,C,o)}p[y]=C}),d||s.push(p),l=p,u=h}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function FC(t,r,e,n){switch(r){case"start":t.onStart(function(){return n(e&&NC(e,"start",t))});break;case"done":t.onDone(function(){return n(e&&NC(e,"done",t))});break;case"destroy":t.onDestroy(function(){return n(e&&NC(e,"destroy",t))})}}function NC(t,r,e){var n=e.totalTime,a=LC(t.element,t.triggerName,t.fromState,t.toState,r||t.phaseName,null==n?t.totalTime:n,!!e.disabled),o=t._data;return null!=o&&(a._data=o),a}function LC(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:r,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function lr(t,r,e){var n;return t instanceof Map?(n=t.get(r))||t.set(r,n=e):(n=t[r])||(n=t[r]=e),n}function Y1(t){var r=t.indexOf(":");return[t.substring(1,r),t.substr(r+1)]}var VC=function(r,e){return!1},BC=function(r,e){return!1},Z1=function(r,e,n){return[]},X1=xC();(X1||"undefined"!=typeof Element)&&(VC=q1()?function(r,e){for(;e&&e!==document.documentElement;){if(e===r)return!0;e=e.parentNode||e.host}return!1}:function(r,e){return r.contains(e)},BC=function(){if(X1||Element.prototype.matches)return function(e,n){return e.matches(n)};var t=Element.prototype,r=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return r?function(e,n){return r.apply(e,[n])}:BC}(),Z1=function(r,e,n){var i=[];if(n)for(var a=r.querySelectorAll(e),o=0;o<a.length;o++)i.push(a[o]);else{var s=r.querySelector(e);s&&i.push(s)}return i});var us=null,Q1=!1;function UC(t){us||(us=("undefined"!=typeof document?document.body:null)||{},Q1=!!us.style&&"WebkitAppearance"in us.style);var r=!0;return us.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(r=t in us.style)&&Q1&&(r="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in us.style),r}var jC=BC,HC=VC,GC=Z1;function $1(t){var r={};return Object.keys(t).forEach(function(e){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[n]=t[e]}),r}var J1=function(){var t=function(){function r(){g(this,r)}return m(r,[{key:"validateStyleProperty",value:function(n){return UC(n)}},{key:"matchesElement",value:function(n,i){return jC(n,i)}},{key:"containsElement",value:function(n,i){return HC(n,i)}},{key:"query",value:function(n,i,a){return GC(n,i,a)}},{key:"computeStyle",value:function(n,i,a){return a||""}},{key:"animate",value:function(n,i,a,o,s){return new Fu(a,o)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),zC=function(){var t=function r(){g(this,r)};return t.NOOP=new J1,t}(),tM="ng-enter",WC="ng-leave",Vp="ng-trigger",Bp=".ng-trigger",nM="ng-animating",qC=".ng-animating";function ls(t){if("number"==typeof t)return t;var r=t.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:KC(parseFloat(r[1]),r[2])}function KC(t,r){switch(r){case"s":return 1e3*t;default:return t}}function Up(t,r,e){return t.hasOwnProperty("duration")?t:function(t,r,e){var i,a=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return r.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=KC(parseFloat(s[1]),s[2]);var u=s[3];null!=u&&(a=KC(parseFloat(u),s[4]));var l=s[5];l&&(o=l)}else i=t;if(!e){var c=!1,f=r.length;i<0&&(r.push("Duration values below 0 are not allowed for this animation step."),c=!0),a<0&&(r.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&r.splice(f,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:a,easing:o}}(t,r,e)}function al(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function io(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)for(var n in t)e[n]=t[n];else al(t,e);return e}function rM(t,r,e){return e?r+":"+e+";":""}function iM(t){for(var r="",e=0;e<t.style.length;e++){var n=t.style.item(e);r+=rM(0,n,t.style.getPropertyValue(n))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=rM(0,wee(i),t.style[i]));t.setAttribute("style",r)}function qi(t,r,e){t.style&&(Object.keys(r).forEach(function(n){var i=ZC(n);e&&!e.hasOwnProperty(n)&&(e[n]=t.style[i]),t.style[i]=r[n]}),xC()&&iM(t))}function cs(t,r){t.style&&(Object.keys(r).forEach(function(e){var n=ZC(e);t.style[n]=""}),xC()&&iM(t))}function hf(t){return Array.isArray(t)?1==t.length?t[0]:CO(t):t}var YC=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function aM(t){var r=[];if("string"==typeof t){for(var e;e=YC.exec(t);)r.push(e[1]);YC.lastIndex=0}return r}function jp(t,r,e){var n=t.toString(),i=n.replace(YC,function(a,o){var s=r[o];return r.hasOwnProperty(o)||(e.push("Please provide a value for the animation param ".concat(o)),s=""),s.toString()});return i==n?t:i}function Hp(t){for(var r=[],e=t.next();!e.done;)r.push(e.value),e=t.next();return r}var bee=/-+([a-z0-9])/g;function ZC(t){return t.replace(bee,function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function wee(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oM(t,r){return 0===t||0===r}function sM(t,r,e){var n=Object.keys(e);if(n.length&&r.length){var i=r[0],a=[];if(n.forEach(function(u){i.hasOwnProperty(u)||a.push(u),i[u]=e[u]}),a.length)for(var o=function(){var l=r[s];a.forEach(function(c){l[c]=XC(t,c)})},s=1;s<r.length;s++)o()}return r}function cr(t,r,e){switch(r.type){case 7:return t.visitTrigger(r,e);case 0:return t.visitState(r,e);case 1:return t.visitTransition(r,e);case 2:return t.visitSequence(r,e);case 3:return t.visitGroup(r,e);case 4:return t.visitAnimate(r,e);case 5:return t.visitKeyframes(r,e);case 6:return t.visitStyle(r,e);case 8:return t.visitReference(r,e);case 9:return t.visitAnimateChild(r,e);case 10:return t.visitAnimateRef(r,e);case 11:return t.visitQuery(r,e);case 12:return t.visitStagger(r,e);default:throw new Error("Unable to resolve animation metadata node #".concat(r.type))}}function XC(t,r){return window.getComputedStyle(t)[r]}function See(t,r){var e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(n){return function(t,r,e){if(":"==t[0]){var n=function(t,r){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,n){return parseFloat(n)>parseFloat(e)};case":decrement":return function(e,n){return parseFloat(n)<parseFloat(e)};default:return r.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,e);if("function"==typeof n)return void r.push(n);t=n}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push('The provided transition expression "'.concat(t,'" is not supported')),r;var a=i[1],o=i[2],s=i[3];r.push(uM(a,s)),"<"==o[0]&&!("*"==a&&"*"==s)&&r.push(uM(s,a))}(n,e,r)}):e.push(t),e}var zp=new Set(["true","1"]),Wp=new Set(["false","0"]);function uM(t,r){var e=zp.has(t)||Wp.has(t),n=zp.has(r)||Wp.has(r);return function(i,a){var o="*"==t||t==i,s="*"==r||r==a;return!o&&e&&"boolean"==typeof i&&(o=i?zp.has(t):Wp.has(t)),!s&&n&&"boolean"==typeof a&&(s=a?zp.has(r):Wp.has(r)),o&&s}}var Iee=new RegExp("s*".concat(":self","s*,?"),"g");function cM(t,r,e){return new Dee(t).build(r,e)}var Dee=function(){function t(r){g(this,t),this._driver=r}return m(t,[{key:"build",value:function(e,n){var i=new Ree(n);return this._resetContextStyleTimingState(i),cr(this,hf(e),i)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,n){var i=this,a=n.queryCount=0,o=n.depCount=0,s=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(l){if(i._resetContextStyleTimingState(n),0==l.type){var c=l,f=c.name;f.toString().split(/\s*,\s*/).forEach(function(d){c.name=d,s.push(i.visitState(c,n))}),c.name=f}else if(1==l.type){var h=i.visitTransition(l,n);a+=h.queryCount,o+=h.depCount,u.push(h)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:u,queryCount:a,depCount:o,options:null}}},{key:"visitState",value:function(e,n){var i=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var o=new Set,s=a||{};if(i.styles.forEach(function(l){if(qp(l)){var c=l;Object.keys(c).forEach(function(f){aM(c[f]).forEach(function(h){s.hasOwnProperty(h)||o.add(h)})})}}),o.size){var u=Hp(o.values());n.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(u.join(", ")))}}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,n){n.queryCount=0,n.depCount=0;var i=cr(this,hf(e.animation),n);return{type:1,matchers:See(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:fs(e.options)}}},{key:"visitSequence",value:function(e,n){var i=this;return{type:2,steps:e.steps.map(function(a){return cr(i,a,n)}),options:fs(e.options)}}},{key:"visitGroup",value:function(e,n){var i=this,a=n.currentTime,o=0,s=e.steps.map(function(u){n.currentTime=a;var l=cr(i,u,n);return o=Math.max(o,n.currentTime),l});return n.currentTime=o,{type:3,steps:s,options:fs(e.options)}}},{key:"visitAnimate",value:function(e,n){var i=function(t,r){var e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return QC(Up(t,r).duration,0,"");var i=t;if(i.split(/\s+/).some(function(s){return"{"==s.charAt(0)&&"{"==s.charAt(1)})){var o=QC(0,0,"");return o.dynamic=!0,o.strValue=i,o}return QC((e=e||Up(i,r)).duration,e.delay,e.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;var a,o=e.styles?e.styles:Ar({});if(5==o.type)a=this.visitKeyframes(o,n);else{var s=e.styles,u=!1;if(!s){u=!0;var l={};i.easing&&(l.easing=i.easing),s=Ar(l)}n.currentTime+=i.duration+i.delay;var c=this.visitStyle(s,n);c.isEmptyStep=u,a=c}return n.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,n){var i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}},{key:"_makeStyleAst",value:function(e,n){var i=[];Array.isArray(e.styles)?e.styles.forEach(function(s){"string"==typeof s?s==da?i.push(s):n.errors.push("The provided style string value ".concat(s," is not allowed.")):i.push(s)}):i.push(e.styles);var a=!1,o=null;return i.forEach(function(s){if(qp(s)){var u=s,l=u.easing;if(l&&(o=l,delete u.easing),!a)for(var c in u)if(u[c].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}},{key:"_validateStyleAst",value:function(e,n){var i=this,a=n.currentAnimateTimings,o=n.currentTime,s=n.currentTime;a&&s>0&&(s-=a.duration+a.delay),e.styles.forEach(function(u){"string"!=typeof u&&Object.keys(u).forEach(function(l){if(i._driver.validateStyleProperty(l)){var c=n.collectedStyles[n.currentQuerySelector],f=c[l],h=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(n.errors.push('The CSS property "'.concat(l,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(s,'ms" and "').concat(o,'ms"')),h=!1),s=f.startTime),h&&(c[l]={startTime:s,endTime:o}),n.options&&function(t,r,e){var n=r.params||{},i=aM(t);i.length&&i.forEach(function(a){n.hasOwnProperty(a)||e.push("Unable to resolve the local animation param ".concat(a," in the given list of values"))})}(u[l],n.options,n.errors)}else n.errors.push('The provided animation property "'.concat(l,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,n){var i=this,a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),a;var s=0,u=[],l=!1,c=!1,f=0,h=e.steps.map(function(E){var b=i._makeStyleAst(E,n),w=null!=b.offset?b.offset:function(t){if("string"==typeof t)return null;var r=null;if(Array.isArray(t))t.forEach(function(n){if(qp(n)&&n.hasOwnProperty("offset")){var i=n;r=parseFloat(i.offset),delete i.offset}});else if(qp(t)&&t.hasOwnProperty("offset")){var e=t;r=parseFloat(e.offset),delete e.offset}return r}(b.styles),I=0;return null!=w&&(s++,I=b.offset=w),c=c||I<0||I>1,l=l||I<f,f=I,u.push(I),b});c&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&n.errors.push("Please ensure that all keyframe offsets are in order");var d=e.steps.length,p=0;s>0&&s<d?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(p=1/(d-1));var v=d-1,y=n.currentTime,C=n.currentAnimateTimings,_=C.duration;return h.forEach(function(E,b){var w=p>0?b==v?1:p*b:u[b],I=w*_;n.currentTime=y+C.delay+I,C.duration=I,i._validateStyleAst(E,n),E.offset=w,a.styles.push(E)}),a}},{key:"visitReference",value:function(e,n){return{type:8,animation:cr(this,hf(e.animation),n),options:fs(e.options)}}},{key:"visitAnimateChild",value:function(e,n){return n.depCount++,{type:9,options:fs(e.options)}}},{key:"visitAnimateRef",value:function(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:fs(e.options)}}},{key:"visitQuery",value:function(e,n){var i=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;var s=z(function(t){var r=!!t.split(/\s*,\s*/).find(function(e){return":self"==e});return r&&(t=t.replace(Iee,"")),[t=t.replace(/@\*/g,Bp).replace(/@\w+/g,function(e){return Bp+"-"+e.substr(1)}).replace(/:animating/g,qC),r]}(e.selector),2),u=s[0],l=s[1];n.currentQuerySelector=i.length?i+" "+u:u,lr(n.collectedStyles,n.currentQuerySelector,{});var c=cr(this,hf(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:fs(e.options)}}},{key:"visitStagger",value:function(e,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Up(e.timings,n.errors,!0);return{type:12,animation:cr(this,hf(e.animation),n),timings:i,options:null}}}]),t}(),Ree=function t(r){g(this,t),this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function qp(t){return!Array.isArray(t)&&"object"==typeof t}function fs(t){return t?(t=al(t)).params&&(t.params=function(t){return t?al(t):null}(t.params)):t={},t}function QC(t,r,e){return{duration:t,delay:r,easing:e}}function $C(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:r,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var JC=function(){function t(){g(this,t),this._map=new Map}return m(t,[{key:"consume",value:function(e){var n=this._map.get(e);return n?this._map.delete(e):n=[],n}},{key:"append",value:function(e,n){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,Y(n))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Nee=new RegExp(":enter","g"),Vee=new RegExp(":leave","g");function hM(t,r,e,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Bee).buildKeyframes(t,r,e,n,i,a,o,s,u,l)}var Bee=function(){function t(){g(this,t)}return m(t,[{key:"buildKeyframes",value:function(e,n,i,a,o,s,u,l,c){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new JC;var h=new Uee(e,n,c,a,o,f,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),cr(this,i,h);var d=h.timelines.filter(function(v){return v.containsAnimation()});if(d.length&&Object.keys(u).length){var p=d[d.length-1];p.allowOnlyTimelineStyles()||p.setStyles([u],null,h.errors,l)}return d.length?d.map(function(v){return v.buildKeyframes()}):[$C(n,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,n){}},{key:"visitState",value:function(e,n){}},{key:"visitTransition",value:function(e,n){}},{key:"visitAnimateChild",value:function(e,n){var i=n.subInstructions.consume(n.element);if(i){var a=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,a,a.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}},{key:"visitAnimateRef",value:function(e,n){var i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}},{key:"_visitSubInstructions",value:function(e,n,i){var o=n.currentTimeline.currentTime,s=null!=i.duration?ls(i.duration):null,u=null!=i.delay?ls(i.delay):null;return 0!==s&&e.forEach(function(l){var c=n.appendInstructionToTimeline(l,s,u);o=Math.max(o,c.duration+c.delay)}),o}},{key:"visitReference",value:function(e,n){n.updateOptions(e.options,!0),cr(this,e.animation,n),n.previousNode=e}},{key:"visitSequence",value:function(e,n){var i=this,a=n.subContextCount,o=n,s=e.options;if(s&&(s.params||s.delay)&&((o=n.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Kp);var u=ls(s.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(function(l){return cr(i,l,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),n.previousNode=e}},{key:"visitGroup",value:function(e,n){var i=this,a=[],o=n.currentTimeline.currentTime,s=e.options&&e.options.delay?ls(e.options.delay):0;e.steps.forEach(function(u){var l=n.createSubContext(e.options);s&&l.delayNextStep(s),cr(i,u,l),o=Math.max(o,l.currentTimeline.currentTime),a.push(l.currentTimeline)}),a.forEach(function(u){return n.currentTimeline.mergeTimelineCollectedStyles(u)}),n.transformIntoNewTimeline(o),n.previousNode=e}},{key:"_visitTiming",value:function(e,n){if(e.dynamic){var i=e.strValue;return Up(n.params?jp(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,n){var i=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}},{key:"visitStyle",value:function(e,n){var i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}},{key:"visitKeyframes",value:function(e,n){var i=n.currentAnimateTimings,a=n.currentTimeline.duration,o=i.duration,u=n.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(function(l){u.forwardTime((l.offset||0)*o),u.setStyles(l.styles,l.easing,n.errors,n.options),u.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(u),n.transformIntoNewTimeline(a+o),n.previousNode=e}},{key:"visitQuery",value:function(e,n){var i=this,a=n.currentTimeline.currentTime,o=e.options||{},s=o.delay?ls(o.delay):0;s&&(6===n.previousNode.type||0==a&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Kp);var u=a,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=l.length;var c=null;l.forEach(function(f,h){n.currentQueryIndex=h;var d=n.createSubContext(e.options,f);s&&d.delayNextStep(s),f===n.element&&(c=d.currentTimeline),cr(i,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}},{key:"visitStagger",value:function(e,n){var i=n.parentContext,a=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),u=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=u-l;break;case"full":l=i.currentStaggerTime}var f=n.currentTimeline;l&&f.delayNextStep(l);var h=f.currentTime;cr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=a.currentTime-h+(a.startTime-i.currentTimeline.startTime)}}]),t}(),Kp={},Uee=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this._driver=r,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new dM(this._driver,e,0),s.push(this.currentTimeline)}return m(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,n){var i=this;if(e){var a=e,o=this.options;null!=a.duration&&(o.duration=ls(a.duration)),null!=a.delay&&(o.delay=ls(a.delay));var s=a.params;if(s){var u=o.params;u||(u=this.options.params={}),Object.keys(s).forEach(function(l){(!n||!u.hasOwnProperty(l))&&(u[l]=jp(s[l],u,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var n=this.options.params;if(n){var i=e.params={};Object.keys(n).forEach(function(a){i[a]=n[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,o=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Kp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,n,i){var a={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new jee(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(o),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,n,i,a,o,s){var u=[];if(a&&u.push(this.element),e.length>0){e=(e=e.replace(Nee,"."+this._enterClassName)).replace(Vee,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),u.push.apply(u,Y(c))}return!o&&0==u.length&&s.push('`query("'.concat(n,'")` returned zero elements. (Use `query("').concat(n,'", { optional: true })` if you wish to allow this.)')),u}}]),t}(),dM=function(){function t(r,e,n,i){g(this,t),this._driver=r,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return m(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,n){this._localTimelineStyles[e]=n,this._globalTimelineStyles[e]=n,this._styleSummary[e]={time:this.currentTime,value:n}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var n=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(i){n._backFill[i]=n._globalTimelineStyles[i]||da,n._currentKeyframe[i]=da}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,n,i,a){var o=this;n&&(this._previousKeyframe.easing=n);var s=a&&a.params||{},u=function(t,r){var n,e={};return t.forEach(function(i){"*"===i?(n=n||Object.keys(r)).forEach(function(a){e[a]=da}):io(i,!1,e)}),e}(e,this._globalTimelineStyles);Object.keys(u).forEach(function(l){var c=jp(u[l],s,i);o._pendingStyles[l]=c,o._localTimelineStyles.hasOwnProperty(l)||(o._backFill[l]=o._globalTimelineStyles.hasOwnProperty(l)?o._globalTimelineStyles[l]:da),o._updateStyle(l,c)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(function(a){e._currentKeyframe[a]=n[a]}),Object.keys(this._localTimelineStyles).forEach(function(a){e._currentKeyframe.hasOwnProperty(a)||(e._currentKeyframe[a]=e._localTimelineStyles[a])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(n){var i=e._localTimelineStyles[n];e._pendingStyles[n]=i,e._updateStyle(n,i)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var n in this._currentKeyframe)e.push(n);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var n=this;Object.keys(e._styleSummary).forEach(function(i){var a=n._styleSummary[i],o=e._styleSummary[i];(!a||o.time>a.time)&&n._updateStyle(i,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var n=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(f,h){var d=io(f,!0);Object.keys(d).forEach(function(p){var v=d[p];"!"==v?n.add(p):v==da&&i.add(p)}),a||(d.offset=h/e.duration),o.push(d)});var s=n.size?Hp(n.values()):[],u=i.size?Hp(i.values()):[];if(a){var l=o[0],c=al(l);l.offset=0,c.offset=1,o=[l,c]}return $C(this.element,o,s,u,this.duration,this.startTime,this.easing,!1)}}]),t}(),jee=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return g(this,e),(l=r.call(this,n,i,u.delay)).keyframes=a,l.preStyleProps=o,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return m(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var i=this.keyframes,a=this.timings,o=a.delay,s=a.duration,u=a.easing;if(this._stretchStartingKeyframe&&o){var l=[],c=s+o,f=o/c,h=io(i[0],!1);h.offset=0,l.push(h);var d=io(i[0],!1);d.offset=pM(f),l.push(d);for(var p=i.length-1,v=1;v<=p;v++){var y=io(i[v],!1);y.offset=pM((o+y.offset*s)/c),l.push(y)}s=c,o=0,u="",i=l}return $C(this.element,i,this.preStyleProps,this.postStyleProps,s,o,u,!0)}}]),e}(dM);function pM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.pow(10,r-1);return Math.round(t*e)/e}var eE=function t(){g(this,t)},Gee=function(t){M(e,t);var r=R(e);function e(){return g(this,e),r.apply(this,arguments)}return m(e,[{key:"normalizePropertyName",value:function(i,a){return ZC(i)}},{key:"normalizeStyleValue",value:function(i,a,o,s){var u="",l=o.toString().trim();if(Wee[a]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{var c=o.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push("Please provide a CSS unit value for ".concat(i,":").concat(o))}return l+u}}]),e}(eE),Wee=function(){return function(t){var r={};return t.forEach(function(e){return r[e]=!0}),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function vM(t,r,e,n,i,a,o,s,u,l,c,f,h){return{type:0,element:t,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:f,errors:h}}var tE={},gM=function(){function t(r,e,n){g(this,t),this._triggerName=r,this.ast=e,this._stateStyles=n}return m(t,[{key:"match",value:function(e,n,i,a){return function(t,r,e,n,i){return t.some(function(a){return a(r,e,n,i)})}(this.ast.matchers,e,n,i,a)}},{key:"buildStyles",value:function(e,n,i){var a=this._stateStyles["*"],o=this._stateStyles[e],s=a?a.buildStyles(n,i):{};return o?o.buildStyles(n,i):s}},{key:"build",value:function(e,n,i,a,o,s,u,l,c,f){var h=[],d=this.ast.options&&this.ast.options.params||tE,v=this.buildStyles(i,u&&u.params||tE,h),y=l&&l.params||tE,C=this.buildStyles(a,y,h),_=new Set,E=new Map,b=new Map,w="void"===a,I={params:Object.assign(Object.assign({},d),y)},D=f?[]:hM(e,n,this.ast.animation,o,s,v,C,I,c,h),N=0;if(D.forEach(function(G){N=Math.max(G.duration+G.delay,N)}),h.length)return vM(n,this._triggerName,i,a,w,v,C,[],[],E,b,N,h);D.forEach(function(G){var j=G.element,K=lr(E,j,{});G.preStyleProps.forEach(function(ce){return K[ce]=!0});var ae=lr(b,j,{});G.postStyleProps.forEach(function(ce){return ae[ce]=!0}),j!==n&&_.add(j)});var V=Hp(_.values());return vM(n,this._triggerName,i,a,w,v,C,D,V,E,b,N)}}]),t}(),Yee=function(){function t(r,e,n){g(this,t),this.styles=r,this.defaultParams=e,this.normalizer=n}return m(t,[{key:"buildStyles",value:function(e,n){var i=this,a={},o=al(this.defaultParams);return Object.keys(e).forEach(function(s){var u=e[s];null!=u&&(o[s]=u)}),this.styles.styles.forEach(function(s){if("string"!=typeof s){var u=s;Object.keys(u).forEach(function(l){var c=u[l];c.length>1&&(c=jp(c,o,n));var f=i.normalizer.normalizePropertyName(l,n);c=i.normalizer.normalizeStyleValue(l,f,c,n),a[f]=c})}}),a}}]),t}(),Xee=function(){function t(r,e,n){var i=this;g(this,t),this.name=r,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(function(a){i.states[a.name]=new Yee(a.style,a.options&&a.options.params||{},n)}),yM(this.states,"true","1"),yM(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new gM(r,a,i.states))}),this.fallbackTransition=function(t,r,e){return new gM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(o,s){return!0}],options:null,queryCount:0,depCount:0},r)}(r,this.states)}return m(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,n,i,a){return this.transitionFactories.find(function(s){return s.match(e,n,i,a)})||null}},{key:"matchStyles",value:function(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}]),t}();function yM(t,r,e){t.hasOwnProperty(r)?t.hasOwnProperty(e)||(t[e]=t[r]):t.hasOwnProperty(e)&&(t[r]=t[e])}var $ee=new JC,Jee=function(){function t(r,e,n){g(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return m(t,[{key:"register",value:function(e,n){var i=[],a=cM(this._driver,n,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: ".concat(i.join("\n")));this._animations[e]=a}},{key:"_buildPlayer",value:function(e,n,i){var a=e.element,o=K1(this._driver,this._normalizer,a,e.keyframes,n,i);return this._driver.animate(a,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,n){var u,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],l=new Map;if(s?(u=hM(this._driver,n,s,tM,WC,{},{},a,$ee,o)).forEach(function(h){var d=lr(l,h.element,{});h.postStyleProps.forEach(function(p){return d[p]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),u=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));l.forEach(function(h,d){Object.keys(h).forEach(function(p){h[p]=i._driver.computeStyle(d,p,da)})});var c=u.map(function(h){var d=l.get(h.element);return i._buildPlayer(h,{},d)}),f=ro(c);return this._playersById[e]=f,f.onDestroy(function(){return i.destroy(e)}),this.players.push(f),f}},{key:"destroy",value:function(e){var n=this._getPlayer(e);n.destroy(),delete this._playersById[e];var i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var n=this._playersById[e];if(!n)throw new Error("Unable to find the timeline player referenced by ".concat(e));return n}},{key:"listen",value:function(e,n,i,a){var o=LC(n,"","","");return FC(this._getPlayer(e),i,o,a),function(){}}},{key:"command",value:function(e,n,i,a){if("register"!=i)if("create"!=i){var s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,n,a[0]||{});else this.register(e,a[0])}}]),t}(),mM="ng-animate-queued",_M="ng-animate-disabled",CM=".ng-animate-disabled",tte="ng-star-inserted",rte=[],EM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ite={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed",nE=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g(this,t),this.namespaceId=e;var n=r&&r.hasOwnProperty("value"),i=n?r.value:r;if(this.value=ute(i),n){var a=al(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return m(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var n=e.params;if(n){var i=this.options.params;Object.keys(n).forEach(function(a){null==i[a]&&(i[a]=n[a])})}}}]),t}(),df="void",rE=new nE(df),ate=function(){function t(r,e,n){g(this,t),this.id=r,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Fr(e,this._hostClassName)}return m(t,[{key:"listen",value:function(e,n,i,a){var o=this;if(!this._triggers.hasOwnProperty(n))throw new Error('Unable to listen on the animation trigger event "'.concat(i,'" because the animation trigger "').concat(n,"\" doesn't exist!"));if(null==i||0==i.length)throw new Error('Unable to listen on the animation trigger "'.concat(n,'" because the provided event is undefined!'));if(!function(t){return"start"==t||"done"==t}(i))throw new Error('The provided animation trigger event "'.concat(i,'" for the animation trigger "').concat(n,'" is not supported!'));var s=lr(this._elementListeners,e,[]),u={name:n,phase:i,callback:a};s.push(u);var l=lr(this._engine.statesByElement,e,{});return l.hasOwnProperty(n)||(Fr(e,Vp),Fr(e,Vp+"-"+n),l[n]=rE),function(){o._engine.afterFlush(function(){var c=s.indexOf(u);c>=0&&s.splice(c,1),o._triggers[n]||delete l[n]})}}},{key:"register",value:function(e,n){return!this._triggers[e]&&(this._triggers[e]=n,!0)}},{key:"_getTrigger",value:function(e){var n=this._triggers[e];if(!n)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return n}},{key:"trigger",value:function(e,n,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(n),u=new iE(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Fr(e,Vp),Fr(e,Vp+"-"+n),this._engine.statesByElement.set(e,l={}));var c=l[n],f=new nE(i,this.id),h=i&&i.hasOwnProperty("value");!h&&c&&f.absorbOptions(c.options),l[n]=f,c||(c=rE);var d=f.value===df;if(d||c.value!==f.value){var C=lr(this._engine.playersByElement,e,[]);C.forEach(function(b){b.namespaceId==a.id&&b.triggerName==n&&b.queued&&b.destroy()});var _=s.matchTransition(c.value,f.value,e,f.params),E=!1;if(!_){if(!o)return;_=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:f,player:u,isFallbackTransition:E}),E||(Fr(e,mM),u.onStart(function(){ol(e,mM)})),u.onDone(function(){var b=a.players.indexOf(u);b>=0&&a.players.splice(b,1);var w=a._engine.playersByElement.get(e);if(w){var I=w.indexOf(u);I>=0&&w.splice(I,1)}}),this.players.push(u),C.push(u),u}if(!hte(c.params,f.params)){var p=[],v=s.matchStyles(c.value,c.params,p),y=s.matchStyles(f.value,f.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){cs(e,v),qi(e,y)})}}},{key:"deregister",value:function(e){var n=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(i,a){delete i[e]}),this._elementListeners.forEach(function(i,a){n._elementListeners.set(a,i.filter(function(o){return o.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var n=this._engine.playersByElement.get(e);n&&(n.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var i=this,a=this._engine.driver.query(e,Bp,!0);a.forEach(function(o){if(!o[xr]){var s=i._engine.fetchNamespacesByElement(o);s.size?s.forEach(function(u){return u.triggerLeaveAnimation(o,n,!1,!0)}):i.clearElementCache(o)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(o){return i.clearElementCache(o)})})}},{key:"triggerLeaveAnimation",value:function(e,n,i,a){var o=this,s=this._engine.statesByElement.get(e);if(s){var u=[];if(Object.keys(s).forEach(function(l){if(o._triggers[l]){var c=o.trigger(e,l,df,a);c&&u.push(c)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,n),i&&ro(u).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var n=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var o=new Set;i.forEach(function(s){var u=s.name;if(!o.has(u)){o.add(u);var c=n._triggers[u].fallbackTransition,f=a[u]||rE,h=new nE(df),d=new iE(n.id,u,e);n._engine.totalQueuedPlayers++,n._queue.push({element:e,triggerName:u,transition:c,fromState:f,toState:h,player:d,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,n){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),!this.triggerLeaveAnimation(e,n,!0)){var o=!1;if(a.totalAnimations){var s=a.players.length?a.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else for(var u=e;u=u.parentNode;)if(a.statesByElement.get(u)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)a.markElementAsRemoved(this.id,e,!1,n);else{var c=e[xr];(!c||c===EM)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,n))}}}},{key:"insertNode",value:function(e,n){Fr(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var n=this,i=[];return this._queue.forEach(function(a){var o=a.player;if(!o.destroyed){var s=a.element,u=n._elementListeners.get(s);u&&u.forEach(function(l){if(l.name==a.triggerName){var c=LC(s,a.triggerName,a.fromState.value,a.toState.value);c._data=e,FC(a.player,l.phase,c,l.callback)}}),o.markedForDestroy?n._engine.afterFlush(function(){o.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,o){var s=a.transition.ast.depCount,u=o.transition.ast.depCount;return 0==s||0==u?s-u:n._engine.driver.containsElement(a.element,o.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(n){return n.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var n=!1;return this._elementListeners.has(e)&&(n=!0),!!this._queue.find(function(i){return i.element===e})||n}}]),t}(),ote=function(){function t(r,e,n){g(this,t),this.bodyNode=r,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(i,a){}}return m(t,[{key:"_onRemovalComplete",value:function(e,n){this.onRemovalComplete(e,n)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(n){n.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,n){var i=new ate(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,n){var i=this._namespaceList.length-1;if(i>=0){for(var a=!1,o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,n)){this._namespaceList.splice(o+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(n,e),e}},{key:"register",value:function(e,n){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}},{key:"registerTrigger",value:function(e,n,i){var a=this._namespaceLookup[e];a&&a.register(n,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,n){var i=this;if(e){var a=this._fetchNamespace(e);this.afterFlush(function(){i.namespacesByHostElement.delete(a.hostElement),delete i._namespaceLookup[e];var o=i._namespaceList.indexOf(a);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return a.destroy(n)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var n=new Set,i=this.statesByElement.get(e);if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=i[a[o]].namespaceId;if(s){var u=this._fetchNamespace(s);u&&n.add(u)}}return n}},{key:"trigger",value:function(e,n,i,a){if(Yp(n)){var o=this._fetchNamespace(e);if(o)return o.trigger(n,i,a),!0}return!1}},{key:"insertNode",value:function(e,n,i,a){if(Yp(n)){var o=n[xr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){var u=this._fetchNamespace(e);u&&u.insertNode(n,i)}a&&this.collectEnterElement(n)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,_M)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ol(e,_M))}},{key:"removeNode",value:function(e,n,i,a){if(Yp(n)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,a):this.markElementAsRemoved(e,n,!1,a),i){var s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,a)}}else this._onRemovalComplete(n,a)}},{key:"markElementAsRemoved",value:function(e,n,i,a){this.collectedLeaveElements.push(n),n[xr]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}},{key:"listen",value:function(e,n,i,a,o){return Yp(n)?this._fetchNamespace(e).listen(n,i,a,o):function(){}}},{key:"_buildInstruction",value:function(e,n,i,a,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,n,o)}},{key:"destroyInnerAnimations",value:function(e){var n=this,i=this.driver.query(e,Bp,!0);i.forEach(function(a){return n.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,qC,!0)).forEach(function(a){return n.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var n=this.playersByElement.get(e);n&&n.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var n=this.playersByQueriedElement.get(e);n&&n.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(n){if(e.players.length)return ro(e.players).onDone(function(){return n()});n()})}},{key:"processLeaveNode",value:function(e){var n=this,i=e[xr];if(i&&i.setForRemoval){if(e[xr]=EM,i.namespaceId){this.destroyInnerAnimations(e);var a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}this.driver.matchesElement(e,CM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,CM,!0).forEach(function(o){n.markElementAsDisabled(o,!1)})}},{key:"flush",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(h,d){return e._balanceNamespaceList(h,d)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++){var o=this.collectedEnterElements[a];Fr(o,tte)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var s=[];try{i=this._flushAnimations(s,n)}finally{for(var u=0;u<s.length;u++)s[u]()}}else for(var l=0;l<this.collectedLeaveElements.length;l++){var c=this.collectedLeaveElements[l];this.processLeaveNode(c)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(h){return h()}),this._flushFns=[],this._whenQuietFns.length){var f=this._whenQuietFns;this._whenQuietFns=[],i.length?ro(i).onDone(function(){f.forEach(function(h){return h()})}):f.forEach(function(h){return h()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,n){var i=this,a=new JC,o=[],s=new Map,u=[],l=new Map,c=new Map,f=new Map,h=new Set;this.disabledNodes.forEach(function(Z){h.add(Z);for(var oe=i.driver.query(Z,".ng-animate-queued",!0),he=0;he<oe.length;he++)h.add(oe[he])});var d=this.bodyNode,p=Array.from(this.statesByElement.keys()),v=SM(p,this.collectedEnterElements),y=new Map,C=0;v.forEach(function(Z,oe){var he=tM+C++;y.set(oe,he),Z.forEach(function(Dt){return Fr(Dt,he)})});for(var _=[],E=new Set,b=new Set,w=0;w<this.collectedLeaveElements.length;w++){var I=this.collectedLeaveElements[w],D=I[xr];D&&D.setForRemoval&&(_.push(I),E.add(I),D.hasAnimation?this.driver.query(I,".ng-star-inserted",!0).forEach(function(Z){return E.add(Z)}):b.add(I))}var N=new Map,V=SM(p,Array.from(E));V.forEach(function(Z,oe){var he=WC+C++;N.set(oe,he),Z.forEach(function(Dt){return Fr(Dt,he)})}),e.push(function(){v.forEach(function(Z,oe){var he=y.get(oe);Z.forEach(function(Dt){return ol(Dt,he)})}),V.forEach(function(Z,oe){var he=N.get(oe);Z.forEach(function(Dt){return ol(Dt,he)})}),_.forEach(function(Z){i.processLeaveNode(Z)})});for(var G=[],j=[],K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(n).forEach(function(Z){var oe=Z.player,he=Z.element;if(G.push(oe),i.collectedEnterElements.length){var Dt=he[xr];if(Dt&&Dt.setForMove)return void oe.destroy()}var fr=!d||!i.driver.containsElement(d,he),vi=N.get(he),Yi=y.get(he),Ut=i._buildInstruction(Z,a,Yi,vi,fr);if(Ut.errors&&Ut.errors.length)j.push(Ut);else{if(fr)return oe.onStart(function(){return cs(he,Ut.fromStyles)}),oe.onDestroy(function(){return qi(he,Ut.toStyles)}),void o.push(oe);if(Z.isFallbackTransition)return oe.onStart(function(){return cs(he,Ut.fromStyles)}),oe.onDestroy(function(){return qi(he,Ut.toStyles)}),void o.push(oe);Ut.timelines.forEach(function(un){return un.stretchStartingKeyframe=!0}),a.append(he,Ut.timelines),u.push({instruction:Ut,player:oe,element:he}),Ut.queriedElements.forEach(function(un){return lr(l,un,[]).push(oe)}),Ut.preStyleProps.forEach(function(un,bn){var gi=Object.keys(un);if(gi.length){var yi=c.get(bn);yi||c.set(bn,yi=new Set),gi.forEach(function(oo){return yi.add(oo)})}}),Ut.postStyleProps.forEach(function(un,bn){var gi=Object.keys(un),yi=f.get(bn);yi||f.set(bn,yi=new Set),gi.forEach(function(oo){return yi.add(oo)})})}});if(j.length){var ce=[];j.forEach(function(Z){ce.push("@".concat(Z.triggerName," has failed due to:\n")),Z.errors.forEach(function(oe){return ce.push("- ".concat(oe,"\n"))})}),G.forEach(function(Z){return Z.destroy()}),this.reportError(ce)}var $=new Map,ve=new Map;u.forEach(function(Z){var oe=Z.element;a.has(oe)&&(ve.set(oe,oe),i._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,$))}),o.forEach(function(Z){var oe=Z.element;i._getPreviousPlayers(oe,!1,Z.namespaceId,Z.triggerName,null).forEach(function(Dt){lr($,oe,[]).push(Dt),Dt.destroy()})});var fe=_.filter(function(Z){return kM(Z,c,f)}),Ve=new Map;wM(Ve,this.driver,b,f,da).forEach(function(Z){kM(Z,c,f)&&fe.push(Z)});var Ee=new Map;v.forEach(function(Z,oe){wM(Ee,i.driver,new Set(Z),c,"!")}),fe.forEach(function(Z){var oe=Ve.get(Z),he=Ee.get(Z);Ve.set(Z,Object.assign(Object.assign({},oe),he))});var Je=[],U=[],Vt={};u.forEach(function(Z){var oe=Z.element,he=Z.player,Dt=Z.instruction;if(a.has(oe)){if(h.has(oe))return he.onDestroy(function(){return qi(oe,Dt.toStyles)}),he.disabled=!0,he.overrideTotalTime(Dt.totalTime),void o.push(he);var fr=Vt;if(ve.size>1){for(var vi=oe,Yi=[];vi=vi.parentNode;){var Ut=ve.get(vi);if(Ut){fr=Ut;break}Yi.push(vi)}Yi.forEach(function(bn){return ve.set(bn,fr)})}var ao=i._buildAnimation(he.namespaceId,Dt,$,s,Ee,Ve);if(he.setRealPlayer(ao),fr===Vt)Je.push(he);else{var un=i.playersByElement.get(fr);un&&un.length&&(he.parentPlayer=ro(un)),o.push(he)}}else cs(oe,Dt.fromStyles),he.onDestroy(function(){return qi(oe,Dt.toStyles)}),U.push(he),h.has(oe)&&o.push(he)}),U.forEach(function(Z){var oe=s.get(Z.element);if(oe&&oe.length){var he=ro(oe);Z.setRealPlayer(he)}}),o.forEach(function(Z){Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(var Te=0;Te<_.length;Te++){var Be=_[Te],Wt=Be[xr];if(ol(Be,WC),!Wt||!Wt.hasAnimation){var St=[];if(l.size){var Bt=l.get(Be);Bt&&Bt.length&&St.push.apply(St,Y(Bt));for(var sn=this.driver.query(Be,qC,!0),Ki=0;Ki<sn.length;Ki++){var qn=l.get(sn[Ki]);qn&&qn.length&&St.push.apply(St,Y(qn))}}var ds=St.filter(function(Z){return!Z.destroyed});ds.length?cte(this,Be,ds):this.processLeaveNode(Be)}}return _.length=0,Je.forEach(function(Z){i.players.push(Z),Z.onDone(function(){Z.destroy();var oe=i.players.indexOf(Z);i.players.splice(oe,1)}),Z.play()}),Je}},{key:"elementContainsData",value:function(e,n){var i=!1,a=n[xr];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,n,i,a,o){var s=[];if(n){var u=this.playersByQueriedElement.get(e);u&&(s=u)}else{var l=this.playersByElement.get(e);if(l){var c=!o||o==df;l.forEach(function(f){f.queued||!c&&f.triggerName!=a||s.push(f)})}}return(i||a)&&(s=s.filter(function(f){return!(i&&i!=f.namespaceId||a&&a!=f.triggerName)})),s}},{key:"_beforeAnimationBuild",value:function(e,n,i){var f,a=this,s=n.element,u=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName,c=T(n.timelines);try{var h=function(){var v=f.value.element,y=v!==s,C=lr(i,v,[]);a._getPreviousPlayers(v,y,u,l,n.toState).forEach(function(E){var b=E.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),E.destroy(),C.push(E)})};for(c.s();!(f=c.n()).done;)h()}catch(d){c.e(d)}finally{c.f()}cs(s,n.fromStyles)}},{key:"_buildAnimation",value:function(e,n,i,a,o,s){var u=this,l=n.triggerName,c=n.element,f=[],h=new Set,d=new Set,p=n.timelines.map(function(y){var C=y.element;h.add(C);var _=C[xr];if(_&&_.removedBeforeQueried)return new Fu(y.duration,y.delay);var E=C!==c,b=function(t){var r=[];return TM(t,r),r}((i.get(C)||rte).map(function(G){return G.getRealPlayer()})).filter(function(G){return!!G.element&&G.element===C}),w=o.get(C),I=s.get(C),D=K1(u.driver,u._normalizer,C,y.keyframes,w,I),N=u._buildPlayer(y,D,b);if(y.subTimeline&&a&&d.add(C),E){var V=new iE(e,l,C);V.setRealPlayer(N),f.push(V)}return N});f.forEach(function(y){lr(u.playersByQueriedElement,y.element,[]).push(y),y.onDone(function(){return function(t,r,e){var n;if(t instanceof Map){if(n=t.get(r)){if(n.length){var i=n.indexOf(e);n.splice(i,1)}0==n.length&&t.delete(r)}}else if(n=t[r]){if(n.length){var a=n.indexOf(e);n.splice(a,1)}0==n.length&&delete t[r]}return n}(u.playersByQueriedElement,y.element,y)})}),h.forEach(function(y){return Fr(y,nM)});var v=ro(p);return v.onDestroy(function(){h.forEach(function(y){return ol(y,nM)}),qi(c,n.toStyles)}),d.forEach(function(y){lr(a,y,[]).push(v)}),v}},{key:"_buildPlayer",value:function(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Fu(e.duration,e.delay)}}]),t}(),iE=function(){function t(r,e,n){g(this,t),this.namespaceId=r,this.triggerName=e,this.element=n,this._player=new Fu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return m(t,[{key:"setRealPlayer",value:function(e){var n=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(i){n._queuedCallbacks[i].forEach(function(a){return FC(e,i,void 0,a)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var n=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return n.finish()}),e.onDestroy(function(){return n.destroy()})}},{key:"_queueEvent",value:function(e,n){lr(this._queuedCallbacks,e,[]).push(n)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var n=this._player;n.triggerCallback&&n.triggerCallback(e)}}]),t}();function ute(t){return null!=t?t:null}function Yp(t){return t&&1===t.nodeType}function bM(t,r){var e=t.style.display;return t.style.display=null!=r?r:"none",e}function wM(t,r,e,n,i){var a=[];e.forEach(function(u){return a.push(bM(u))});var o=[];n.forEach(function(u,l){var c={};u.forEach(function(f){var h=c[f]=r.computeStyle(l,f,i);(!h||0==h.length)&&(l[xr]=ite,o.push(l))}),t.set(l,c)});var s=0;return e.forEach(function(u){return bM(u,a[s++])}),o}function SM(t,r){var e=new Map;if(t.forEach(function(s){return e.set(s,[])}),0==r.length)return e;var i=new Set(r),a=new Map;function o(s){if(!s)return 1;var u=a.get(s);if(u)return u;var l=s.parentNode;return u=e.has(l)?l:i.has(l)?1:o(l),a.set(s,u),u}return r.forEach(function(s){var u=o(s);1!==u&&e.get(u).push(s)}),e}var Zp="$$classes";function Fr(t,r){if(t.classList)t.classList.add(r);else{var e=t[Zp];e||(e=t[Zp]={}),e[r]=!0}}function ol(t,r){if(t.classList)t.classList.remove(r);else{var e=t[Zp];e&&delete e[r]}}function cte(t,r,e){ro(e).onDone(function(){return t.processLeaveNode(r)})}function TM(t,r){for(var e=0;e<t.length;e++){var n=t[e];n instanceof SO?TM(n.players,r):r.push(n)}}function hte(t,r){var e=Object.keys(t),n=Object.keys(r);if(e.length!=n.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!r.hasOwnProperty(a)||t[a]!==r[a])return!1}return!0}function kM(t,r,e){var n=e.get(t);if(!n)return!1;var i=r.get(t);return i?n.forEach(function(a){return i.add(a)}):r.set(t,n),e.delete(t),!0}var Xp=function(){function t(r,e,n){var i=this;g(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=function(a,o){},this._transitionEngine=new ote(r,e,n),this._timelineEngine=new Jee(r,e,n),this._transitionEngine.onRemovalComplete=function(a,o){return i.onRemovalComplete(a,o)}}return m(t,[{key:"registerTrigger",value:function(e,n,i,a,o){var s=e+"-"+a,u=this._triggerCache[s];if(!u){var l=[],c=cM(this._driver,o,l);if(l.length)throw new Error('The animation trigger "'.concat(a,'" has failed to build due to the following errors:\n - ').concat(l.join("\n - ")));u=function(t,r,e){return new Xee(t,r,e)}(a,c,this._normalizer),this._triggerCache[s]=u}this._transitionEngine.registerTrigger(n,a,u)}},{key:"register",value:function(e,n){this._transitionEngine.register(e,n)}},{key:"destroy",value:function(e,n){this._transitionEngine.destroy(e,n)}},{key:"onInsert",value:function(e,n,i,a){this._transitionEngine.insertNode(e,n,i,a)}},{key:"onRemove",value:function(e,n,i,a){this._transitionEngine.removeNode(e,n,a||!1,i)}},{key:"disableAnimations",value:function(e,n){this._transitionEngine.markElementAsDisabled(e,n)}},{key:"process",value:function(e,n,i,a){if("@"==i.charAt(0)){var s=z(Y1(i),2);this._timelineEngine.command(s[0],n,s[1],a)}else this._transitionEngine.trigger(e,n,i,a)}},{key:"listen",value:function(e,n,i,a,o){if("@"==i.charAt(0)){var u=z(Y1(i),2);return this._timelineEngine.listen(u[0],n,u[1],o)}return this._transitionEngine.listen(e,n,i,a,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function IM(t,r){var e=null,n=null;return Array.isArray(r)&&r.length?(e=aE(r[0]),r.length>1&&(n=aE(r[r.length-1]))):r&&(e=aE(r)),e||n?new dte(t,e,n):null}var dte=function(){var t=function(){function r(e,n,i){g(this,r),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a={}),this._initialStyles=a}return m(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&qi(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(qi(this._element,this._initialStyles),this._endStyles&&(qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(cs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cs(this._element,this._endStyles),this._endStyles=null),qi(this._element,this._initialStyles),this._state=3)}}]),r}();return t.initialStylesByElement=new WeakMap,t}();function aE(t){for(var r=null,e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];pte(i)&&((r=r||{})[i]=t[i])}return r}function pte(t){return"display"===t||"position"===t}var DM="animation",OM="animationend",yte=function(){function t(r,e,n,i,a,o,s){var u=this;g(this,t),this._element=r,this._name=e,this._duration=n,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(l){return u._handleCallback(l)}}return m(t,[{key:"apply",value:function(){(function(t,r){var e=sE(t,"").trim();e.length&&(function(t,r){for(var e=0,n=0;n<t.length;n++)","===t.charAt(n)&&e++;return e}(e)+1,r="".concat(e,", ").concat(r)),Qp(t,"",r)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),MM(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){AM(this._element,this._name,"paused")}},{key:"resume",value:function(){AM(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var n=RM(this._element,this._name);this._position=e*this._duration,Qp(this._element,"Delay","-".concat(this._position,"ms"),n)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var n=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),MM(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,r){var n=sE(t,"").split(","),i=oE(n,r);i>=0&&(n.splice(i,1),Qp(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function AM(t,r,e){Qp(t,"PlayState",e,RM(t,r))}function RM(t,r){var e=sE(t,"");return e.indexOf(",")>0?oE(e.split(","),r):oE([e],r)}function oE(t,r){for(var e=0;e<t.length;e++)if(t[e].indexOf(r)>=0)return e;return-1}function MM(t,r,e){e?t.removeEventListener(OM,r):t.addEventListener(OM,r)}function Qp(t,r,e,n){var i=DM+r;if(null!=n){var a=t.style[i];if(a.length){var o=a.split(",");o[n]=e,e=o.join(",")}}t.style[i]=e}function sE(t,r){return t.style[DM+r]||""}var PM=function(){function t(r,e,n,i,a,o,s,u){g(this,t),this.element=r,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return m(t,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new yte(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var n={};if(this.hasStarted()){var i=this._state>=3;Object.keys(this._finalStyles).forEach(function(a){"offset"!=a&&(n[a]=i?e._finalStyles[a]:XC(e.element,a))})}this.currentSnapshot=n}}]),t}(),wte=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this)).element=n,a._startingStyles={},a.__initialized=!1,a._styles=$1(i),a}return m(e,[{key:"init",value:function(){var i=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(a){i._startingStyles[a]=i.element.style[a]}),ke(de(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var i=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(a){return i.element.style.setProperty(a,i._styles[a])}),ke(de(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var i=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(a){var o=i._startingStyles[a];o?i.element.style.setProperty(a,o):i.element.style.removeProperty(a)}),this._startingStyles=null,ke(de(e.prototype),"destroy",this).call(this))}}]),e}(Fu),Ste="gen_css_kf_",FM=function(){function t(){g(this,t),this._count=0}return m(t,[{key:"validateStyleProperty",value:function(e){return UC(e)}},{key:"matchesElement",value:function(e,n){return jC(e,n)}},{key:"containsElement",value:function(e,n){return HC(e,n)}},{key:"query",value:function(e,n,i){return GC(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"buildKeyframeElement",value:function(e,n,i){i=i.map(function(u){return $1(u)});var a="@keyframes ".concat(n," {\n"),o="";i.forEach(function(u){o=" ";var l=parseFloat(u.offset);a+="".concat(o).concat(100*l,"% {\n"),o+=" ",Object.keys(u).forEach(function(c){var f=u[c];switch(c){case"offset":return;case"easing":return void(f&&(a+="".concat(o,"animation-timing-function: ").concat(f,";\n")));default:return void(a+="".concat(o).concat(c,": ").concat(f,";\n"))}}),a+="".concat(o,"}\n")}),a+="}\n";var s=document.createElement("style");return s.textContent=a,s}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=s.filter(function(C){return C instanceof PM}),c={};oM(i,a)&&l.forEach(function(C){var _=C.currentSnapshot;Object.keys(_).forEach(function(E){return c[E]=_[E]})});var f=kte(n=sM(e,n,c));if(0==i)return new wte(e,f);var h="".concat(Ste).concat(this._count++),d=this.buildKeyframeElement(e,h,n),p=Tte(e);p.appendChild(d);var v=IM(e,n),y=new PM(e,n,h,i,a,o,f,v);return y.onDestroy(function(){return Ite(d)}),y}}]),t}();function Tte(t){var r,e=null===(r=t.getRootNode)||void 0===r?void 0:r.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head}function kte(t){var r={};return t&&(Array.isArray(t)?t:[t]).forEach(function(n){Object.keys(n).forEach(function(i){"offset"==i||"easing"==i||(r[i]=n[i])})}),r}function Ite(t){t.parentNode.removeChild(t)}var LM=function(){function t(r,e,n,i){g(this,t),this.element=r,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,n,i){return e.animate(n,i)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(i){"offset"!=i&&(n[i]=e._finished?e._finalKeyframe[i]:XC(e.element,i))}),this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),Dte=function(){function t(){g(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(VM().toString()),this._cssKeyframesDriver=new FM}return m(t,[{key:"validateStyleProperty",value:function(e){return UC(e)}},{key:"matchesElement",value:function(e,n){return jC(e,n)}},{key:"containsElement",value:function(e,n){return HC(e,n)}},{key:"query",value:function(e,n,i){return GC(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6?arguments[6]:void 0,l=!u&&!this._isNativeImpl;if(l)return this._cssKeyframesDriver.animate(e,n,i,a,o,s);var c=0==a?"both":"forwards",f={duration:i,delay:a,fill:c};o&&(f.easing=o);var h={},d=s.filter(function(v){return v instanceof LM});oM(i,a)&&d.forEach(function(v){var y=v.currentSnapshot;Object.keys(y).forEach(function(C){return h[C]=y[C]})});var p=IM(e,n=sM(e,n=n.map(function(v){return io(v,!1)}),h));return new LM(e,n,f,p)}}]),t}();function VM(){return q1()&&Element.prototype.animate||{}}var Ate=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;return g(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=i.createRenderer(a.body,{id:"0",encapsulation:Ur.None,styles:[],data:{animation:[]}}),o}return m(n,[{key:"build",value:function(a){var o=this._nextAnimationId.toString();this._nextAnimationId++;var s=Array.isArray(a)?CO(a):a;return BM(this._renderer,null,o,"register",[s]),new Rte(o,this._renderer)}}]),n}(_O);return t.\u0275fac=function(e){return new(e||t)(F(Ro),F(bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Rte=function(t){M(e,t);var r=R(e);function e(n,i){var a;return g(this,e),(a=r.call(this))._id=n,a._renderer=i,a}return m(e,[{key:"create",value:function(i,a){return new Mte(this._id,i,a||{},this._renderer)}}]),e}(iq),Mte=function(){function t(r,e,n,i){g(this,t),this.id=r,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return m(t,[{key:"_listen",value:function(e,n){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),n)}},{key:"_command",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return BM(this._renderer,this.element,this.id,e,i)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,n;return null!==(n=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==n?n:0}}]),t}();function BM(t,r,e,n,i){return t.setProperty(r,"@@".concat(e,":").concat(n),i)}var UM="@.disabled",Pte=function(){var t=function(){function r(e,n,i){g(this,r),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(a,o){o&&o.parentNode(a)&&o.removeChild(a.parentNode,a)}}return m(r,[{key:"createRenderer",value:function(n,i){var a=this,s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){var u=this._rendererCache.get(s);return u||(u=new jM("",s,this.engine),this._rendererCache.set(s,u)),u}var l=i.id,c=i.id+"-"+this._currentId;return this._currentId++,this.engine.register(c,n),i.data.animation.forEach(function d(p){Array.isArray(p)?p.forEach(d):a.engine.registerTrigger(l,c,n,p.name,p)}),new xte(this,c,s,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var n=this;this.promise.then(function(){n._microtaskId++})}},{key:"scheduleListenerCallback",value:function(n,i,a){var o=this;n>=0&&n<this._microtaskId?this._zone.run(function(){return i(a)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){o._zone.run(function(){o._animationCallbacksBuffer.forEach(function(s){var u=z(s,2);(0,u[0])(u[1])}),o._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}},{key:"end",value:function(){var n=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){n._scheduleCountTask(),n.engine.flush(n._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(Ro),F(Xp),F($e))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),jM=function(){function t(r,e,n){g(this,t),this.namespaceId=r,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(i){return e.destroyNode(i)}:null}return m(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,n){return this.delegate.createElement(e,n)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}},{key:"insertBefore",value:function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,a)}},{key:"removeChild",value:function(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}},{key:"selectRootElement",value:function(e,n){return this.delegate.selectRootElement(e,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,n,i,a){this.delegate.setAttribute(e,n,i,a)}},{key:"removeAttribute",value:function(e,n,i){this.delegate.removeAttribute(e,n,i)}},{key:"addClass",value:function(e,n){this.delegate.addClass(e,n)}},{key:"removeClass",value:function(e,n){this.delegate.removeClass(e,n)}},{key:"setStyle",value:function(e,n,i,a){this.delegate.setStyle(e,n,i,a)}},{key:"removeStyle",value:function(e,n,i){this.delegate.removeStyle(e,n,i)}},{key:"setProperty",value:function(e,n,i){"@"==n.charAt(0)&&n==UM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}},{key:"setValue",value:function(e,n){this.delegate.setValue(e,n)}},{key:"listen",value:function(e,n,i){return this.delegate.listen(e,n,i)}},{key:"disableAnimations",value:function(e,n){this.engine.disableAnimations(e,n)}}]),t}(),xte=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return g(this,e),(s=r.call(this,i,a,o)).factory=n,s.namespaceId=i,s}return m(e,[{key:"setProperty",value:function(i,a,o){"@"==a.charAt(0)?"."==a.charAt(1)&&a==UM?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,a.substr(1),o):this.delegate.setProperty(i,a,o)}},{key:"listen",value:function(i,a,o){var s=this;if("@"==a.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i),l=a.substr(1),c="";if("@"!=l.charAt(0)){var h=z(function(t){var r=t.indexOf(".");return[t.substring(0,r),t.substr(r+1)]}(l),2);l=h[0],c=h[1]}return this.engine.listen(this.namespaceId,u,l,c,function(d){s.factory.scheduleListenerCallback(d._data||-1,o,d)})}return this.delegate.listen(i,a,o)}}]),e}(jM),Lte=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o){return g(this,n),e.call(this,i.body,a,o)}return m(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Xp);return t.\u0275fac=function(e){return new(e||t)(F(bt),F(zC),F(eE))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),HM=new _e("AnimationModuleType"),GM=[{provide:_O,useClass:Ate},{provide:eE,useFactory:function(){return new Gee}},{provide:Xp,useClass:Lte},{provide:Ro,useFactory:function(t,r,e){return new Pte(t,r,e)},deps:[ud,Xp,$e]}],zM=[{provide:zC,useFactory:function(){return"function"==typeof VM()?new Dte:new FM}},{provide:HM,useValue:"BrowserAnimations"}].concat(GM),WM=[{provide:zC,useClass:J1},{provide:HM,useValue:"NoopAnimations"}].concat(GM),jte=function(){var t=function(){function r(){g(this,r)}return m(r,null,[{key:"withConfig",value:function(n){return{ngModule:r,providers:n.disableAnimations?WM:zM}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:zM,imports:[mm]}),t}(),hs=new Ge(ca);function Gte(t){return t instanceof Date&&!isNaN(+t)}function qM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_,e=Gte(t),n=e?+t-r.now():Math.abs(t);return function(i){return i.lift(new zte(n,r))}}var zte=function(){function t(r,e){g(this,t),this.delay=r,this.scheduler=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new Wte(e,this.delay,this.scheduler))}}]),t}(),Wte=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).delay=i,o.scheduler=a,o.queue=[],o.active=!1,o.errored=!1,o}return m(e,[{key:"_schedule",value:function(i){this.active=!0,this.destination.add(i.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}},{key:"scheduleNotification",value:function(i){if(!0!==this.errored){var a=this.scheduler,o=new qte(a.now()+this.delay,i);this.queue.push(o),!1===this.active&&this._schedule(a)}}},{key:"_next",value:function(i){this.scheduleNotification(Pc.createNext(i))}},{key:"_error",value:function(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Pc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(i){for(var a=i.source,o=a.queue,s=i.scheduler,u=i.destination;o.length>0&&o[0].time-s.now()<=0;)o.shift().notification.observe(u);if(o.length>0){var l=Math.max(0,o[0].time-s.now());this.schedule(i,l)}else this.unsubscribe(),a.active=!1}}]),e}(_t),qte=function t(r,e){g(this,t),this.time=r,this.notification=e},pf="Service workers are disabled or not supported by this browser",Jp=function(){function t(r){if(g(this,t),this.serviceWorker=r,r){var n=Mc(r,"controllerchange").pipe(Oe(function(){return r.controller})),a=cd(hd(function(){return le(r.controller)}),n);this.worker=a.pipe(hn(function(c){return!!c})),this.registration=this.worker.pipe(ar(function(){return r.getRegistration()}));var l=Mc(r,"message").pipe(Oe(function(c){return c.data})).pipe(hn(function(c){return c&&c.type})).pipe(lv(new xe));l.connect(),this.events=l}else this.worker=this.events=this.registration=hd(function(){return Bd(new Error("Service workers are disabled or not supported by this browser"))})}return m(t,[{key:"postMessage",value:function(e,n){return this.worker.pipe(la(1),Un(function(i){i.postMessage(Object.assign({action:e},n))})).toPromise().then(function(){})}},{key:"postMessageWithStatus",value:function(e,n,i){var a=this.waitForStatus(i),o=this.postMessage(e,n);return Promise.all([a,o]).then(function(){})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(hn(function(a){return a.type===e}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(la(1))}},{key:"waitForStatus",value:function(e){return this.eventsOfType("STATUS").pipe(hn(function(n){return n.nonce===e}),la(1),Oe(function(n){if(!n.status)throw new Error(n.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),Yte=function(){var t=function(){function r(e){if(g(this,r),this.sw=e,this.subscriptionChanges=new xe,!e.isEnabled)return this.messages=hs,this.notificationClicks=hs,void(this.subscription=hs);this.messages=this.sw.eventsOfType("PUSH").pipe(Oe(function(i){return i.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Oe(function(i){return i.data})),this.pushManager=this.sw.registration.pipe(Oe(function(i){return i.pushManager}));var n=this.pushManager.pipe(ar(function(i){return i.getSubscription()}));this.subscription=sv(n,this.subscriptionChanges)}return m(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(n){var i=this;if(!this.sw.isEnabled)return Promise.reject(new Error(pf));for(var a={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length)),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return a.applicationServerKey=s,this.pushManager.pipe(ar(function(l){return l.subscribe(a)}),la(1)).toPromise().then(function(l){return i.subscriptionChanges.next(l),l})}},{key:"unsubscribe",value:function(){var n=this;return this.sw.isEnabled?this.subscription.pipe(la(1),ar(function(o){if(null===o)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(function(s){if(!s)throw new Error("Unsubscribe failed!");n.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(pf))}},{key:"decodeBase64",value:function(n){return atob(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(Jp))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),Zte=function(){var t=function(){function r(e){if(g(this,r),this.sw=e,!e.isEnabled)return this.available=hs,this.activated=hs,void(this.unrecoverable=hs);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return m(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(pf));var n=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:n},n)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(pf));var n=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:n},n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(F(Jp))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t}(),uE=function t(){g(this,t)},KM=new _e("NGSW_REGISTER_SCRIPT");function Xte(t,r,e,n){return function(){if(lm(n)&&"serviceWorker"in navigator&&!1!==e.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{var u=function(t){return H(t)||De(t)||k(t)||J()}((e.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=le(null);break;case"registerWithDelay":o=YM(+c[0]||0);break;case"registerWhenStable":o=c[0]?sv(ZM(t),YM(+c[0])):ZM(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(e.registrationStrategy))}}t.get($e).runOutsideAngular(function(){return o.pipe(la(1)).subscribe(function(){return navigator.serviceWorker.register(r,{scope:e.scope}).catch(function(h){return console.error("Service worker registration failed with:",h)})})})}}}function YM(t){return le(null).pipe(qM(t))}function ZM(t){return t.get(Lo).isStable.pipe(hn(function(e){return e}))}function Qte(t,r){return new Jp(lm(r)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var $te=function(){var t=function(){function r(){g(this,r)}return m(r,null,[{key:"register",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:r,providers:[{provide:KM,useValue:n},{provide:uE,useValue:i},{provide:Jp,useFactory:Qte,deps:[uE,Na]},{provide:_u,useFactory:Xte,deps:[dt,KM,uE,Na],multi:!0}]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t}),t.\u0275inj=ze({providers:[Yte,Zte]}),t}(),ene=function(){function t(r,e){g(this,t),this.notifier=r,this.source=e}return m(t,[{key:"call",value:function(e,n){return n.subscribe(new tne(e,this.notifier,this.source))}}]),t}(),tne=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return g(this,e),(o=r.call(this,n)).notifier=i,o.source=a,o}return m(e,[{key:"error",value:function(i){if(!this.isStopped){var a=this.errors,o=this.retries,s=this.retriesSubscription;if(o)this.errors=void 0,this.retriesSubscription=void 0;else{a=new xe;try{o=(0,this.notifier)(a)}catch(l){return ke(de(e.prototype),"error",this).call(this,l)}s=ws(o,new Es(this))}this._unsubscribeAndRecycle(),this.errors=a,this.retries=o,this.retriesSubscription=s,a.next(i)}}},{key:"_unsubscribe",value:function(){var i=this.errors,a=this.retriesSubscription;i&&(i.unsubscribe(),this.errors=void 0),a&&(a.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}},{key:"notifyNext",value:function(){var i=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)}}]),e}(bs);var rne=function(){function t(r,e){this.messageService=r,this.logging=e}return t.prototype.intercept=function(r,e){var n=this;return e.handle(r).pipe(function(t,r){var e=r;return function(n){return n.pipe(function(t){return function(r){return r.lift(new ene(t,r))}}(function(i){return i.pipe(qM(t),en(function(a){return e-- >0?le(a):Bd("Network problem, try again.")}))}))}}(1e3,3),ja(function(i){return n.handleError(i,n.messageService)}))},t.prototype.handleError=function(r,e){return r&&"string"==typeof r?(this.logging.logError("err: "+r),e.sendMessage(new Ru(r))):r&&(0===r.status?(this.logging.logError("Connection error."),e.sendMessage(new Ru("Connection error."))):(this.logging.logError("An error has occurred."),e.sendMessage(new Ru("An error has occurred.")))),Bd(r)},t.\u0275prov=W({token:t,factory:t.\u0275fac=function(e){return new(e||t)(F(Wo),F(Ac))},providedIn:"root"}),t}(),ine=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Ke({type:t,bootstrap:[lee]}),t.\u0275inj=ze({providers:[e_,Ac,{provide:Zm,useClass:rne,multi:!0,deps:[Wo,Ac]}],imports:[[mm,KY,N5,vee,jte,u7,uee,X5,aY,hK,SY,BY,MY,bY,$te.register("ngsw-worker.js",{enabled:true})]]}),t}();(function(){if(yk)throw new Error("Cannot enable prod mode after platform setup.");gk=!1})(),kW().bootstrapModule(ine).catch(function(t){return console.error(t)})}},function(lo){lo(lo.s=4859)}]);