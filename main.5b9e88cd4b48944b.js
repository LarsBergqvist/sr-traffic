(self.webpackChunksr_traffic=self.webpackChunksr_traffic||[]).push([[179],{421:function(ta,ki,mt){"use strict";function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $e(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=Ve(t)););return t}function Me(){return Me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(r,e,n){var i=$e(r,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Me.apply(this,arguments)}function ir(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,r,e){return r&&ir(t.prototype,r),e&&ir(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ei(t,r){return(ei=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(t,r)}function A(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ei(t,r)}function na(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ma(t,r){if(r&&("object"===kr(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return xt(t)}function O(t){var r=na();return function(){var i,n=Ve(t);if(r){var a=Ve(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ma(this,i)}}function ti(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function D(t,r){if(t){if("string"==typeof t)return ti(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ti(t,r)}}function b(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=D(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=e.return&&e.return()}finally{if(o)throw s}}}}function H(t){if(Array.isArray(t))return t}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(t,r){return H(t)||function te(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,s,n=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(n.push(o.value),!r||n.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw s}}return n}}(t,r)||D(t,r)||ne()}function ie(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Ce(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function K(t){return function Ue(t){if(Array.isArray(t))return ti(t)}(t)||Ce(t)||D(t)||function Ot(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,r,e){return(rt=na()?Reflect.construct:function(i,a,o){var s=[null];s.push.apply(s,a);var l=new(Function.bind.apply(i,s));return o&&ei(l,o.prototype),l}).apply(null,arguments)}function yt(t){var r="function"==typeof Map?new Map:void 0;return yt=function(n){if(null===n||!function ni(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return rt(n,arguments,Ve(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ei(i,n)},yt(t)}function be(t){return"function"==typeof t}function ar(t){var e=t(function(i){Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Y=ar(function(t){return function(e){t(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(n,i){return"".concat(i+1,") ").concat(n.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e}});function F(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var t,V=function(){function t(r){m(this,t),this.initialTeardown=r,this.closed=!1,this._parentage=null,this._teardowns=null}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n)){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(h){i.e(h)}finally{i.f()}}else n.remove(this);var s=this.initialTeardown;if(be(s))try{s()}catch(h){e=h instanceof Y?h.errors:[h]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=b(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;try{xe(f)}catch(h){e=null!=e?e:[],h instanceof Y?e=[].concat(K(e),K(h.errors)):e.push(h)}}}catch(h){l.e(h)}finally{l.f()}}if(e)throw new Y(e)}}},{key:"add",value:function(e){var n;if(e&&e!==this)if(this.closed)xe(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}},{key:"_hasParent",value:function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)}},{key:"_addParent",value:function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}},{key:"_removeParent",value:function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&F(n,e)}},{key:"remove",value:function(e){var n=this._teardowns;n&&F(n,e),e instanceof t&&e._removeParent(this)}}]),t}();V.EMPTY=((t=new V).closed=!0,t);var $=V.EMPTY;function Be(t){return t instanceof V||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function xe(t){be(t)?t():t.unsubscribe()}var un={setTimeout:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=un.delegate;return((null==t?void 0:t.setTimeout)||setTimeout).apply(void 0,arguments)}),clearTimeout:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=un.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(t)}),delegate:void 0};function kn(t){un.setTimeout(function(){throw t})}function Zt(){}var Ra=jd("C",void 0,void 0);function jd(t,r,e){return{kind:t,value:r,error:e}}function Lc(t){t()}var Gd=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).isStopped=!1,n?(i.destination=n,Be(n)&&n.add(xt(i))):i.destination=GM,i}return g(e,[{key:"next",value:function(i){this.isStopped?qd(function ra(t){return jd("N",t,void 0)}(i),this):this._next(i)}},{key:"error",value:function(i){this.isStopped?qd(function fo(t){return jd("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped?qd(Ra,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Me(Ve(e.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){try{this.destination.error(i)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(i,a,o){return new zd(i,a,o)}}]),e}(V),zd=function(t){A(e,t);var r=O(e);function e(n,i,a){var o,s;if(m(this,e),o=r.call(this),be(n))s=n;else if(n){var u;s=n.next,i=n.error,a=n.complete,xt(o),u=n,s=null==s?void 0:s.bind(u),i=null==i?void 0:i.bind(u),a=null==a?void 0:a.bind(u)}return o.destination={next:s?Wd(s,xt(o)):Zt,error:Wd(null!=i?i:F_,xt(o)),complete:a?Wd(a,xt(o)):Zt},o}return g(e)}(Gd);function Wd(t,r){return function(){try{t.apply(void 0,arguments)}catch(e){kn(e)}}}function F_(t){throw t}function qd(t,r){var e=null;e&&un.setTimeout(function(){return e(t,r)})}var GM={closed:!0,next:Zt,error:F_,complete:Zt},Kd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pa(t){return t}function L_(t){return 0===t.length?Pa:1===t.length?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var tt=function(){var t=function(){function r(e){m(this,r),e&&(this._subscribe=e)}return g(r,[{key:"lift",value:function(n){var i=new r;return i.source=this,i.operator=n,i}},{key:"subscribe",value:function(n,i,a){var o=this,s=function WM(t){return t&&t instanceof Gd||function zM(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&Be(t)}(n)?n:new zd(n,i,a);return Lc(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(n){try{return this._subscribe(n)}catch(i){n.error(i)}}},{key:"forEach",value:function(n,i){var a=this;return new(i=N_(i))(function(o,s){var u;u=a.subscribe(function(l){try{n(l)}catch(c){s(c),null==u||u.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}},{key:Kd,value:function(){return this}},{key:"pipe",value:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return L_(i)(this)}},{key:"toPromise",value:function(n){var i=this;return new(n=N_(n))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}]),r}();return t.create=function(r){return new t(r)},t}();function N_(t){var r;return null!==(r=null!=t?t:undefined)&&void 0!==r?r:Promise}var qM=ar(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),it=function(){var t=function(r){A(n,r);var e=O(n);function n(){var i;return m(this,n),(i=e.call(this)).closed=!1,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return g(n,[{key:"lift",value:function(a){var o=new V_(this,this);return o.operator=a,o}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new qM}},{key:"next",value:function(a){var o=this;Lc(function(){if(o._throwIfClosed(),!o.isStopped){var l,u=b(o.observers.slice());try{for(u.s();!(l=u.n()).done;)l.value.next(a)}catch(f){u.e(f)}finally{u.f()}}})}},{key:"error",value:function(a){var o=this;Lc(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=a;for(var s=o.observers;s.length;)s.shift().error(a)}})}},{key:"complete",value:function(){var a=this;Lc(function(){if(a._throwIfClosed(),!a.isStopped){a.isStopped=!0;for(var o=a.observers;o.length;)o.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}},{key:"_trySubscribe",value:function(a){return this._throwIfClosed(),Me(Ve(n.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}},{key:"_innerSubscribe",value:function(a){var u=this.observers;return this.hasError||this.isStopped?$:(u.push(a),new V(function(){return F(u,a)}))}},{key:"_checkFinalizedStatuses",value:function(a){var u=this.isStopped;this.hasError?a.error(this.thrownError):u&&a.complete()}},{key:"asObservable",value:function(){var a=new tt;return a.source=this,a}}]),n}(tt);return t.create=function(r,e){return new V_(r,e)},t}(),V_=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this)).destination=n,a.source=i,a}return g(e,[{key:"next",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===o||o.call(a,i)}},{key:"error",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===o||o.call(a,i)}},{key:"complete",value:function(){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===a||a.call(i)}},{key:"_subscribe",value:function(i){var a,o;return null!==(o=null===(a=this.source)||void 0===a?void 0:a.subscribe(i))&&void 0!==o?o:$}}]),e}(it);function B_(t){return be(null==t?void 0:t.lift)}function Ft(t){return function(r){if(B_(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var Tt=function(t){A(e,t);var r=O(e);function e(n,i,a,o,s){var u,l,c,f;return m(this,e),(f=r.call(this,n)).onFinalize=s,f._next=i?function(h){try{i(h)}catch(d){n.error(d)}}:Me((u=xt(f),Ve(e.prototype)),"_next",u),f._error=o?function(h){try{o(h)}catch(d){n.error(d)}finally{this.unsubscribe()}}:Me((l=xt(f),Ve(e.prototype)),"_error",l),f._complete=a?function(){try{a()}catch(h){n.error(h)}finally{this.unsubscribe()}}:Me((c=xt(f),Ve(e.prototype)),"_complete",c),f}return g(e,[{key:"unsubscribe",value:function(){var i,a=this.closed;Me(Ve(e.prototype),"unsubscribe",this).call(this),!a&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}]),e}(Gd);function je(t,r){return Ft(function(e,n){var i=0;e.subscribe(new Tt(n,function(a){n.next(t.call(r,a,i++))}))})}var KM=mt(757),at=mt.n(KM);function vo(t){return this instanceof vo?(this.v=t,this):new vo(t)}function XM(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=e.apply(t,r||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(d){return new Promise(function(v,p){a.push([h,d,v,p])>1||s(h,d)})})}function s(h,d){try{!function u(h){h.value instanceof vo?Promise.resolve(h.value.v).then(l,c):f(a[0][2],h)}(n[h](d))}catch(v){f(a[0][3],v)}}function l(h){s("next",h)}function c(h){s("throw",h)}function f(h,d){h(d),a.shift(),a.length&&s(a[0][0],a[0][1])}}function QM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=function j_(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(a){e[a]=t[a]&&function(o){return new Promise(function(s,u){!function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=t[a](o)).done,o.value)})}}}var Zd=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function G_(t){return be(null==t?void 0:t.then)}function z_(t){return be(t[Kd])}function W_(t){return Symbol.asyncIterator&&be(null==t?void 0:t[Symbol.asyncIterator])}function q_(t){return new TypeError("You provided ".concat(null!==t&&"object"==typeof t?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var K_=function JM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Y_(t){return be(null==t?void 0:t[K_])}function Z_(t){return XM(this,arguments,at().mark(function r(){var e,n,i;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=t.getReader(),s.prev=1;case 2:return s.next=5,vo(e.read());case 5:if(i=(n=s.sent).value,!n.done){s.next=12;break}return s.next=11,vo(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,vo(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,e.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},r,null,[[1,,18,21]])}))}function X_(t){return be(null==t?void 0:t.getReader)}function or(t){if(t instanceof tt)return t;if(null!=t){if(z_(t))return function e1(t){return new tt(function(r){var e=t[Kd]();if(be(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Zd(t))return function t1(t){return new tt(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}(t);if(G_(t))return function n1(t){return new tt(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,kn)})}(t);if(W_(t))return Q_(t);if(Y_(t))return function r1(t){return new tt(function(r){var n,e=b(t);try{for(e.s();!(n=e.n()).done;)if(r.next(n.value),r.closed)return}catch(a){e.e(a)}finally{e.f()}r.complete()})}(t);if(X_(t))return function a1(t){return Q_(Z_(t))}(t)}throw q_(t)}function Q_(t){return new tt(function(r){(function o1(t,r){var e,n,i,a;return function YM(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function i(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,at().mark(function o(){return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,e=QM(t);case 2:return l.next=4,e.next();case 4:if((n=l.sent).done){l.next=12;break}if(r.next(n.value),!r.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!n||n.done||!(a=e.return)){l.next=22;break}return l.next=22,a.call(e);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:r.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(t,r).catch(function(e){return r.error(e)})})}function ia(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(a),!i)return a}function s1(t,r,e,n,i,a,o,s){var u=[],l=0,c=0,f=!1,h=function(){f&&!u.length&&!l&&r.complete()},d=function(y){return l<n?v(y):u.push(y)},v=function p(y){a&&r.next(y),l++;var C=!1;or(e(y,c++)).subscribe(new Tt(r,function(_){null==i||i(_),a?d(_):r.next(_)},function(){C=!0},void 0,function(){if(C)try{l--;for(var _=function(){var w=u.shift();o?ia(r,o,function(){return p(w)}):p(w)};u.length&&l<n;)_();h()}catch(E){r.error(E)}}))};return t.subscribe(new Tt(r,d,function(){f=!0,h()})),function(){null==s||s()}}function Xt(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return be(r)?Xt(function(n,i){return je(function(a,o){return r(n,a,i,o)})(or(t(n,i)))},e):("number"==typeof r&&(e=r),Ft(function(n,i){return s1(n,i,t,e)}))}function Lu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Xt(Pa,t)}var aa=new tt(function(t){return t.complete()});function $_(t){return t&&be(t.schedule)}function Xd(t){return t[t.length-1]}function J_(t){return be(Xd(t))?t.pop():void 0}function Nu(t){return $_(Xd(t))?t.pop():void 0}function l1(t,r){return"number"==typeof Xd(t)?t.pop():r}function eC(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(e,n){e.subscribe(new Tt(n,function(i){return ia(n,t,function(){return n.next(i)},r)},function(){return ia(n,t,function(){return n.complete()},r)},function(i){return ia(n,t,function(){return n.error(i)},r)}))})}function tC(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ft(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}function nC(t,r){if(!t)throw new Error("Iterable cannot be null");return new tt(function(e){ia(e,r,function(){var n=t[Symbol.asyncIterator]();ia(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function ln(t,r){return r?function p1(t,r){if(null!=t){if(z_(t))return function c1(t,r){return or(t).pipe(tC(r),eC(r))}(t,r);if(Zd(t))return function h1(t,r){return new tt(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,r);if(G_(t))return function f1(t,r){return or(t).pipe(tC(r),eC(r))}(t,r);if(W_(t))return nC(t,r);if(Y_(t))return function d1(t,r){return new tt(function(e){var n;return ia(e,r,function(){n=t[K_](),ia(e,r,function(){var i,a;try{var o=n.next();i=o.value,a=o.done}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),function(){return be(null==n?void 0:n.return)&&n.return()}})}(t,r);if(X_(t))return function v1(t,r){return nC(Z_(t),r)}(t,r)}throw q_(t)}(t,r):or(t)}function Qd(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r),i=l1(r,1/0),a=r;return a.length?1===a.length?or(a[0]):Lu(i)(ln(a,n)):aa}function Ir(t){return t<=0?function(){return aa}:Ft(function(r,e){var n=0;r.subscribe(new Tt(e,function(i){++n<=t&&(e.next(i),t<=n&&e.complete())}))})}function rC(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.connector,e=void 0===r?function(){return new it}:r,n=t.resetOnError,i=void 0===n||n,a=t.resetOnComplete,o=void 0===a||a,s=t.resetOnRefCountZero,u=void 0===s||s;return function(l){var c=null,f=null,h=null,d=0,v=!1,p=!1,y=function(){null==f||f.unsubscribe(),f=null},C=function(){y(),c=h=null,v=p=!1},_=function(){var w=c;C(),null==w||w.unsubscribe()};return Ft(function(E,w){d++,!p&&!v&&y();var S=h=null!=h?h:e();w.add(function(){0==--d&&!p&&!v&&(f=$d(_,u))}),S.subscribe(w),c||(c=new zd({next:function(I){return S.next(I)},error:function(I){p=!0,y(),f=$d(C,i,I),S.error(I)},complete:function(){v=!0,y(),f=$d(C,o),S.complete()}}),ln(E).subscribe(c))})(l)}}function $d(t,r){if(!0===r)return t(),null;if(!1===r)return null;for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return r.apply(void 0,n).pipe(Ir(1)).subscribe(function(){return t()})}function _t(t){for(var r in t)if(t[r]===_t)return r;throw Error("Could not find renamed property on target object.")}function Jd(t,r){for(var e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=r[e])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var r=t.toString();if(null==r)return""+r;var e=r.indexOf("\n");return-1===e?r:r.substring(0,e)}function ev(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}var g1=_t({__forward_ref__:_t});function ot(t){return t.__forward_ref__=ot,t.toString=function(){return ft(this())},t}function Fe(t){return iC(t)?t():t}function iC(t){return"function"==typeof t&&t.hasOwnProperty(g1)&&t.__forward_ref__===ot}var J=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,function tv(t,r){var e="NG0".concat(Math.abs(t));return"".concat(e).concat(r?": "+r:"")}(n,i))).code=n,a}return g(e)}(yt(Error));function De(t){return"string"==typeof t?t:null==t?"":String(t)}function Bn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}function Nc(t,r){var e=r?" in ".concat(r):"";throw new J(-201,"No provider for ".concat(Bn(t)," found").concat(e))}function ur(t,r){null==t&&function Mt(t,r,e,n){throw new Error("ASSERTION ERROR: ".concat(t)+(null==n?"":" [Expected=> ".concat(e," ").concat(n," ").concat(r," <=Actual]")))}(r,t,null,"!=")}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{providers:t.providers||[],imports:t.imports||[]}}function nv(t){return aC(t,Vc)||aC(t,sC)}function aC(t,r){return t.hasOwnProperty(r)?t[r]:null}function oC(t){return t&&(t.hasOwnProperty(rv)||t.hasOwnProperty(S1))?t[rv]:null}var iv,Vc=_t({"\u0275prov":_t}),rv=_t({"\u0275inj":_t}),sC=_t({ngInjectableDef:_t}),S1=_t({ngInjectorDef:_t}),Re=function(){return(Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re}();function b1(){return iv}function xa(t){var r=iv;return iv=t,r}function uC(t,r,e){var n=nv(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Re.Optional?null:void 0!==r?r:void Nc(ft(t),"Injector")}function Fa(t){return{toString:t}.toString()}var ri=function(){return(ri=ri||{})[ri.OnPush=0]="OnPush",ri[ri.Default=1]="Default",ri}(),ii=function(){return function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(ii||(ii={})),ii}(),T1="undefined"!=typeof globalThis&&globalThis,D1="undefined"!=typeof window&&window,k1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,I1="undefined"!=typeof global&&global,vt=T1||I1||D1||k1,is={},Ct=[],Bc=_t({"\u0275cmp":_t}),av=_t({"\u0275dir":_t}),ov=_t({"\u0275pipe":_t}),lC=_t({"\u0275mod":_t}),sa=_t({"\u0275fac":_t}),Vu=_t({__NG_ELEMENT_ID__:_t}),A1=0;function Jt(t){return Fa(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ii.Emulated,id:"c",styles:t.styles||Ct,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,a=t.features,o=t.pipes;return n.id+=A1++,n.inputs=dC(t.inputs,e),n.outputs=dC(t.outputs),a&&a.forEach(function(s){return s(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(cC)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(fC)}:null,n})}function cC(t){return In(t)||function La(t){return t[av]||null}(t)}function fC(t){return function po(t){return t[ov]||null}(t)}var hC={};function ht(t){return Fa(function(){var r={type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(hC[t.id]=t.type),r})}function dC(t,r){if(null==t)return is;var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=n,r&&(r[i]=a)}return e}var le=Jt;function Kn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[Bc]||null}function Ar(t,r){var e=t[lC]||null;if(!e&&!0===r)throw new Error("Type ".concat(ft(t)," does not have '\u0275mod' property."));return e}function Ii(t){return Array.isArray(t)&&"object"==typeof t[1]}function oi(t){return Array.isArray(t)&&!0===t[1]}function lv(t){return 0!=(8&t.flags)}function Gc(t){return 2==(2&t.flags)}function zc(t){return 1==(1&t.flags)}function si(t){return null!==t.template}function F1(t){return 0!=(512&t[2])}function _o(t,r){return t.hasOwnProperty(sa)?t[sa]:null}var V1=function(){function t(r,e,n){m(this,t),this.previousValue=r,this.currentValue=e,this.firstChange=n}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Zn(){return pC}function pC(t){return t.type.prototype.ngOnChanges&&(t.setInput=H1),B1}function B1(){var t=mC(this),r=null==t?void 0:t.current;if(r){var e=t.previous;if(e===is)t.previous=r;else for(var n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function H1(t,r,e,n){var i=mC(t)||function U1(t,r){return t[gC]=r}(t,{previous:is,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[e],u=o[s];a[s]=new V1(u&&u.currentValue,r,o===is),t[n]=r}Zn.ngInherit=!0;var gC="__ngSimpleChanges__";function mC(t){return t[gC]||null}var vv=void 0;function zt(t){return!!t.listen}var yC={createRenderer:function(r,e){return function pv(){return void 0!==vv?vv:"undefined"!=typeof document?document:void 0}()}};function en(t){for(;Array.isArray(t);)t=t[0];return t}function Wc(t,r){return en(r[t])}function Rr(t,r){return en(r[t.index])}function gv(t,r){return t.data[r]}function ls(t,r){return t[r]}function cr(t,r){var e=r[t];return Ii(e)?e:e[0]}function _C(t){return 4==(4&t[2])}function mv(t){return 128==(128&t[2])}function Na(t,r){return null==r?null:t[r]}function CC(t){t[18]=0}function yv(t,r){t[5]+=r;for(var e=t,n=t[3];null!==n&&(1===r&&1===e[5]||-1===r&&0===e[5]);)n[5]+=r,e=n,n=n[3]}var Ee={lFrame:IC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function EC(){return Ee.bindingsEnabled}function P(){return Ee.lFrame.lView}function Je(){return Ee.lFrame.tView}function he(t){return Ee.lFrame.contextLView=t,t[8]}function cn(){for(var t=wC();null!==t&&64===t.type;)t=t.parent;return t}function wC(){return Ee.lFrame.currentTNode}function Ai(t,r){var e=Ee.lFrame;e.currentTNode=t,e.isParent=r}function _v(){return Ee.lFrame.isParent}function Cv(){Ee.lFrame.isParent=!1}function qc(){return Ee.isInCheckNoChangesMode}function Kc(t){Ee.isInCheckNoChangesMode=t}function Hn(){var t=Ee.lFrame,r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function cs(){return Ee.lFrame.bindingIndex++}function la(t){var r=Ee.lFrame,e=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,e}function iR(t,r){var e=Ee.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ev(r)}function Ev(t){Ee.lFrame.currentDirectiveIndex=t}function TC(){return Ee.lFrame.currentQueryIndex}function Sv(t){Ee.lFrame.currentQueryIndex=t}function oR(t){var r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function DC(t,r,e){if(e&Re.SkipSelf){for(var n=r,i=t;!(null!==(n=n.parent)||e&Re.Host||null===(n=oR(i))||(i=i[15],10&n.type)););if(null===n)return!1;r=n,t=i}var a=Ee.lFrame=kC();return a.currentTNode=r,a.lView=t,!0}function Yc(t){var r=kC(),e=t[1];Ee.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function kC(){var t=Ee.lFrame,r=null===t?null:t.child;return null===r?IC(t):r}function IC(t){var r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function AC(){var t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OC=AC;function Zc(){var t=AC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sR(t){var r=Ee.lFrame.contextLView=function uR(t,r){for(;t>0;)r=r[15],t--;return r}(t,Ee.lFrame.contextLView);return r[8]}function Un(){return Ee.lFrame.selectedIndex}function Va(t){Ee.lFrame.selectedIndex=t}function Wt(){var t=Ee.lFrame;return gv(t.tView,t.selectedIndex)}function Xc(t,r){for(var e=r.directiveStart,n=r.directiveEnd;e<n;e++){var a=t.data[e].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),s&&((t.contentHooks||(t.contentHooks=[])).push(e,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function Qc(t,r,e){MC(t,r,3,e)}function $c(t,r,e,n){(3&t[2])===e&&MC(t,r,e,n)}function bv(t,r){var e=t[2];(3&e)===r&&(e&=2047,t[2]=e+=1)}function MC(t,r,e,n){for(var a=null!=n?n:-1,o=r.length-1,s=0,u=void 0!==n?65535&t[18]:0;u<o;u++)if("number"==typeof r[u+1]){if(s=r[u],null!=n&&s>=n)break}else r[u]<0&&(t[18]+=65536),(s<a||-1==a)&&(pR(t,e,r,u),t[18]=(4294901760&t[18])+u+2),u++}function pR(t,r,e,n){var i=e[n]<0,a=e[n+1],s=t[i?-e[n]:e[n]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}var Gu=g(function t(r,e,n){m(this,t),this.factory=r,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n});function Jc(t,r,e){for(var n=zt(t),i=0;i<e.length;){var a=e[i];if("number"==typeof a){if(0!==a)break;i++;var o=e[i++],s=e[i++],u=e[i++];n?t.setAttribute(r,s,u,o):r.setAttributeNS(o,s,u)}else{var l=a,c=e[++i];Dv(l)?n&&t.setProperty(r,l,c):n?t.setAttribute(r,l,c):r.setAttribute(l,c),i++}}return i}function RC(t){return 3===t||4===t||6===t}function Dv(t){return 64===t.charCodeAt(0)}function ef(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else for(var e=-1,n=0;n<r.length;n++){var i=r[n];"number"==typeof i?e=i:0===e||PC(t,e,i,null,-1===e||2===e?r[++n]:null)}return t}function PC(t,r,e,n,i){var a=0,o=t.length;if(-1===r)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===r){o=-1;break}if(s>r){o=a-1;break}}}for(;a<t.length;){var u=t[a];if("number"==typeof u)break;if(u===e){if(null===n)return void(null!==i&&(t[a+1]=i));if(n===t[a+1])return void(t[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(t.splice(o,0,r),a=o+1),t.splice(a++,0,e),null!==n&&t.splice(a++,0,n),null!==i&&t.splice(a++,0,i)}function xC(t){return-1!==t}function fs(t){return 32767&t}function hs(t,r){for(var e=function CR(t){return t>>16}(t),n=r;e>0;)n=n[15],e--;return n}var kv=!0;function tf(t){var r=kv;return kv=t,r}var wR=0;function Wu(t,r){var e=Av(t,r);if(-1!==e)return e;var n=r[1];n.firstCreatePass&&(t.injectorIndex=r.length,Iv(n.data,t),Iv(r,null),Iv(n.blueprint,null));var i=nf(t,r),a=t.injectorIndex;if(xC(i))for(var o=fs(i),s=hs(i,r),u=s[1].data,l=0;l<8;l++)r[a+l]=s[o+l]|u[o+l];return r[a+8]=i,a}function Iv(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Av(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function nf(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var e=0,n=null,i=r;null!==i;){var a=i[1],o=a.type;if(null===(n=2===o?a.declTNode:1===o?i[6]:null))return-1;if(e++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function rf(t,r,e){!function SR(t,r,e){var n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Vu)&&(n=e[Vu]),null==n&&(n=e[Vu]=wR++);var i=255&n;r.data[t+(i>>5)]|=1<<i}(t,r,e)}function NC(t,r,e){if(e&Re.Optional)return t;Nc(r,"NodeInjector")}function VC(t,r,e,n){if(e&Re.Optional&&void 0===n&&(n=null),0==(e&(Re.Self|Re.Host))){var i=t[9],a=xa(void 0);try{return i?i.get(r,n,e&Re.Optional):uC(r,n,e&Re.Optional)}finally{xa(a)}}return NC(n,r,e)}function BC(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Re.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=kR(e);if("function"==typeof a){if(!DC(r,t,n))return n&Re.Host?NC(i,e,n):VC(r,e,n,i);try{var o=a(n);if(null!=o||n&Re.Optional)return o;Nc(e)}finally{OC()}}else if("number"==typeof a){var s=null,u=Av(t,r),l=-1,c=n&Re.Host?r[16][6]:null;for((-1===u||n&Re.SkipSelf)&&(-1!==(l=-1===u?nf(t,r):r[u+8])&&jC(n,!1)?(s=r[1],u=fs(l),r=hs(l,r)):u=-1);-1!==u;){var f=r[1];if(UC(a,u,f.data)){var h=DR(u,r,e,s,n,c);if(h!==HC)return h}-1!==(l=r[u+8])&&jC(n,r[1].data[u+8]===c)&&UC(a,u,r)?(s=f,u=fs(l),r=hs(l,r)):u=-1}}}return VC(r,e,n,i)}var HC={};function TR(){return new ds(cn(),P())}function DR(t,r,e,n,i,a){var o=r[1],s=o.data[t+8],c=af(s,o,e,null==n?Gc(s)&&kv:n!=o&&0!=(3&s.type),i&Re.Host&&a===s);return null!==c?qu(r,o,c,s):HC}function af(t,r,e,n,i){for(var a=t.providerIndexes,o=r.data,s=1048575&a,u=t.directiveStart,c=a>>20,h=i?s+c:t.directiveEnd,d=n?s:s+c;d<h;d++){var v=o[d];if(d<u&&e===v||d>=u&&v.type===e)return d}if(i){var p=o[u];if(p&&si(p)&&p.type===e)return u}return null}function qu(t,r,e,n){var i=t[e],a=r.data;if(function gR(t){return t instanceof Gu}(i)){var o=i;o.resolving&&function m1(t,r){var e=r?". Dependency path: ".concat(r.join(" > ")," > ").concat(t):"";throw new J(-200,"Circular dependency in DI detected for ".concat(t).concat(e))}(Bn(a[e]));var s=tf(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?xa(o.injectImpl):null;DC(t,n,Re.Default);try{i=t[e]=o.factory(void 0,a,t,n),r.firstCreatePass&&e>=n.directiveStart&&function vR(t,r,e){var n=r.type.prototype,a=n.ngOnInit,o=n.ngDoCheck;if(n.ngOnChanges){var s=pC(r);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,a[e],r)}finally{null!==u&&xa(u),tf(s),o.resolving=!1,OC()}}return i}function kR(t){if("string"==typeof t)return t.charCodeAt(0)||0;var r=t.hasOwnProperty(Vu)?t[Vu]:void 0;return"number"==typeof r?r>=0?255&r:TR:r}function UC(t,r,e){return!!(e[r+(t>>5)]&1<<t)}function jC(t,r){return!(t&Re.Self||t&Re.Host&&r)}var ds=function(){function t(r,e){m(this,t),this._tNode=r,this._lView=e}return g(t,[{key:"get",value:function(e,n,i){return BC(this._tNode,this._lView,e,i,n)}}]),t}();function Ov(t){return iC(t)?function(){var r=Ov(Fe(t));return r&&r()}:_o(t)}var ps="__parameters__";function ms(t,r,e){return Fa(function(){var n=function Mv(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(r);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return n.apply(this,o),this;var u=rt(i,o);return l.annotation=u,l;function l(c,f,h){for(var d=c.hasOwnProperty(ps)?c[ps]:Object.defineProperty(c,ps,{value:[]})[ps];d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(u),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var we=function(){function t(r,e){m(this,t),this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=re({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),AR=new we("AnalyzeForEntryComponents");function Pr(t,r){void 0===r&&(r=t);for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)?(r===t&&(r=t.slice(0,e)),Pr(n,r)):r!==t&&r.push(n)}return r}function Oi(t,r){t.forEach(function(e){return Array.isArray(e)?Oi(e,r):r(e)})}function zC(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function of(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Xu(t,r){for(var e=[],n=0;n<t;n++)e.push(r);return e}function fr(t,r,e){var n=ys(t,r);return n>=0?t[1|n]=e:function RR(t,r,e,n){var i=t.length;if(i==r)t.push(e,n);else if(1===i)t.push(n,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>r;)t[i]=t[i-2],i--;t[r]=e,t[r+1]=n}}(t,n=~n,r,e),n}function Pv(t,r){var e=ys(t,r);if(e>=0)return t[1|e]}function ys(t,r){return function KC(t,r,e){for(var n=0,i=t.length>>e;i!==n;){var a=n+(i-n>>1),o=t[a<<e];if(r===o)return a<<e;o>r?i=a:n=a+1}return~(i<<e)}(t,r,1)}var Qu={},Fv="__NG_DI_FLAG__",uf="ngTempTokenPath",HR=/\n/gm,ZC="__source",jR=_t({provide:String,useValue:_t}),$u=void 0;function XC(t){var r=$u;return $u=t,r}function GR(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.Default;if(void 0===$u){var e="";throw new J(203,e)}return null===$u?uC(t,void 0,r):$u.get(t,r&Re.Optional?null:void 0,r)}function z(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.Default;return(b1()||GR)(Fe(t),r)}var zR=z;function Lv(t){for(var r=[],e=0;e<t.length;e++){var n=Fe(t[e]);if(Array.isArray(n)){if(0===n.length)throw new J(900,"");for(var a=void 0,o=Re.Default,s=0;s<n.length;s++){var u=n[s],l=WR(u);"number"==typeof l?-1===l?a=u.token:o|=l:a=u}r.push(z(a,o))}else r.push(z(n))}return r}function Ju(t,r){return t[Fv]=r,t.prototype[Fv]=r,t}function WR(t){return t[Fv]}function qR(t,r,e,n){var i=t[uf];throw r[ZC]&&i.unshift(r[ZC]),t.message=function KR(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=ft(r);if(Array.isArray(r))i=r.map(ft).join(" -> ");else if("object"==typeof r){var a=[];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):ft(s)))}i="{".concat(a.join(", "),"}")}return"".concat(e).concat(n?"("+n+")":"","[").concat(i,"]: ").concat(t.replace(HR,"\n  "))}("\n"+t.message,i,e,n),t.ngTokenPath=i,t[uf]=null,t}var el=Ju(ms("Inject",function(t){return{token:t}}),-1),Mi=Ju(ms("Optional"),8),_s=Ju(ms("SkipSelf"),4),aE=function(){function t(r){m(this,t),this.changingThisBreaksApplicationSecurity=r}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}();function Ha(t){return t instanceof aE?t.changingThisBreaksApplicationSecurity:t}var pE="__ngContext__";function Mn(t,r){t[pE]=r}function qv(t){var r=function al(t){return t[pE]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function Yv(t){return t.ngOriginalError}function jP(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var ws=function(){function t(){m(this,t),this._console=console}return g(t,[{key:"handleError",value:function(e){var n=this._findOriginalError(e),i=function UP(t){return t&&t.ngErrorLogger||jP}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n)}},{key:"_findOriginalError",value:function(e){for(var n=e&&Yv(e);n&&Yv(n);)n=Yv(n);return n||null}}]),t}(),CE=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt)}();function Pi(t){return t instanceof Function?t():t}var hr=function(){return(hr=hr||{})[hr.Important=1]="Important",hr[hr.DashCase=2]="DashCase",hr}();function Xv(t,r){return undefined(t,r)}function ol(t){var r=t[3];return oi(r)?r[3]:r}function Qv(t){return TE(t[13])}function $v(t){return TE(t[4])}function TE(t){for(;null!==t&&!oi(t);)t=t[4];return t}function bs(t,r,e,n,i){if(null!=n){var a,o=!1;oi(n)?a=n:Ii(n)&&(o=!0,n=n[0]);var s=en(n);0===t&&null!==e?null==i?ME(r,e,s):Co(r,e,s,i||null,!0):1===t&&null!==e?Co(r,e,s,i||null,!0):2===t?function VE(t,r,e){var n=vf(t,r);n&&function fx(t,r,e,n){zt(t)?t.removeChild(r,e,n):r.removeChild(e)}(t,n,r,e)}(r,s,o):3===t&&r.destroyNode(s),null!=a&&function vx(t,r,e,n,i){var a=e[7];a!==en(e)&&bs(r,t,n,a,i);for(var s=10;s<e.length;s++){var u=e[s];sl(u[1],u,t,r,n,a)}}(r,t,a,e,i)}}function Jv(t,r){return zt(t)?t.createText(r):t.createTextNode(r)}function ep(t,r,e){if(zt(t))return t.createElement(r,e);var n=null!==e?function W1(t){var r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(e):null;return null===n?t.createElement(r):t.createElementNS(n,r)}function kE(t,r){var e=t[9],n=e.indexOf(r),i=r[3];1024&r[2]&&(r[2]&=-1025,yv(i,-1)),e.splice(n,1)}function tp(t,r){if(!(t.length<=10)){var e=10+r,n=t[e];if(n){var i=n[17];null!==i&&i!==t&&kE(i,n),r>0&&(t[e-1][4]=n[4]);var a=of(t,10+r);!function rx(t,r){sl(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(n[1],n);var o=a[19];null!==o&&o.detachView(a[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}}function IE(t,r){if(!(256&r[2])){var e=r[11];zt(e)&&e.destroyNode&&sl(t,r,e,3,null,null),function ox(t){var r=t[13];if(!r)return np(t[1],t);for(;r;){var e=null;if(Ii(r))e=r[13];else{var n=r[10];n&&(e=n)}if(!e){for(;r&&!r[4]&&r!==t;)Ii(r)&&np(r[1],r),r=r[3];null===r&&(r=t),Ii(r)&&np(r[1],r),e=r&&r[4]}r=e}}(r)}}function np(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function cx(t,r){var e;if(null!=t&&null!=(e=t.destroyHooks))for(var n=0;n<e.length;n+=2){var i=r[e[n]];if(!(i instanceof Gu)){var a=e[n+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(t,r),function lx(t,r){var e=t.cleanup,n=r[7],i=-1;if(null!==e)for(var a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){var o=e[a+1],s="function"==typeof o?o(r):en(r[o]),u=n[i=e[a+2]],l=e[a+3];"boolean"==typeof l?s.removeEventListener(e[a],u,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),a+=2}else{var c=n[i=e[a+1]];e[a].call(c)}if(null!==n){for(var f=i+1;f<n.length;f++)(0,n[f])();r[7]=null}}(t,r),1===r[1].type&&zt(r[11])&&r[11].destroy();var e=r[17];if(null!==e&&oi(r[3])){e!==r[3]&&kE(e,r);var n=r[19];null!==n&&n.detachView(t)}}}function AE(t,r,e){return function OE(t,r,e){for(var n=r;null!==n&&40&n.type;)n=(r=n).parent;if(null===n)return e[0];if(2&n.flags){var i=t.data[n.directiveStart].encapsulation;if(i===ii.None||i===ii.Emulated)return null}return Rr(n,e)}(t,r.parent,e)}function Co(t,r,e,n,i){zt(t)?t.insertBefore(r,e,n,i):r.insertBefore(e,n,i)}function ME(t,r,e){zt(t)?t.appendChild(r,e):r.appendChild(e)}function RE(t,r,e,n,i){null!==n?Co(t,r,e,n,i):ME(t,r,e)}function vf(t,r){return zt(t)?t.parentNode(r):r.parentNode}function PE(t,r,e){return FE(t,r,e)}var FE=function xE(t,r,e){return 40&t.type?Rr(t,e):null};function pf(t,r,e,n){var i=AE(t,n,r),a=r[11],s=PE(n.parent||r[6],n,r);if(null!=i)if(Array.isArray(e))for(var u=0;u<e.length;u++)RE(a,i,e[u],s,!1);else RE(a,i,e,s,!1)}function gf(t,r){if(null!==r){var e=r.type;if(3&e)return Rr(r,t);if(4&e)return ip(-1,t[r.index]);if(8&e){var n=r.child;if(null!==n)return gf(t,n);var i=t[r.index];return oi(i)?ip(-1,i):en(i)}if(32&e)return Xv(r,t)()||en(t[r.index]);var s=NE(t,r);return null!==s?Array.isArray(s)?s[0]:gf(ol(t[16]),s):gf(t,r.next)}return null}function NE(t,r){return null!==r?t[16][6].projection[r.projection]:null}function ip(t,r){var e=10+t+1;if(e<r.length){var n=r[e],i=n[1].firstChild;if(null!==i)return gf(n,i)}return r[7]}function ap(t,r,e,n,i,a,o){for(;null!=e;){var s=n[e.index],u=e.type;if(o&&0===r&&(s&&Mn(en(s),n),e.flags|=4),64!=(64&e.flags))if(8&u)ap(t,r,e.child,n,i,a,!1),bs(r,t,i,s,a);else if(32&u){for(var l=Xv(e,n),c=void 0;c=l();)bs(r,t,i,c,a);bs(r,t,i,s,a)}else 16&u?BE(t,r,n,e,i,a):bs(r,t,i,s,a);e=o?e.projectionNext:e.next}}function sl(t,r,e,n,i,a){ap(e,n,t.firstChild,r,i,a,!1)}function dx(t,r,e){BE(r[11],0,r,e,AE(t,e,r),PE(e.parent||r[6],e,r))}function BE(t,r,e,n,i,a){var o=e[16],u=o[6].projection[n.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)bs(r,t,i,u[l],a);else ap(t,r,u,o[3],i,a,!0)}function HE(t,r,e){zt(t)?t.setAttribute(r,"style",e):r.style.cssText=e}function op(t,r,e){zt(t)?""===e?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e):r.className=e}function UE(t,r,e){for(var n=t.length;;){var i=t.indexOf(r,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var a=r.length;if(i+a===n||t.charCodeAt(i+a)<=32)return i}e=i+1}}var jE="ng-template";function gx(t,r,e){for(var n=0;n<t.length;){var i=t[n++];if(e&&"class"===i){if(-1!==UE((i=t[n]).toLowerCase(),r,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===r)return!0;return!1}}return!1}function GE(t){return 4===t.type&&t.value!==jE}function mx(t,r,e){return r===(4!==t.type||e?t.value:jE)}function yx(t,r,e){for(var n=4,i=t.attrs||[],a=function Ex(t){for(var r=0;r<t.length;r++)if(RC(t[r]))return r;return t.length}(i),o=!1,s=0;s<r.length;s++){var u=r[s];if("number"!=typeof u){if(!o)if(4&n){if(n=2|1&n,""!==u&&!mx(t,u,e)||""===u&&1===r.length){if(ui(n))return!1;o=!0}}else{var l=8&n?u:r[++s];if(8&n&&null!==t.attrs){if(!gx(t.attrs,l,e)){if(ui(n))return!1;o=!0}continue}var f=_x(8&n?"class":u,i,GE(t),e);if(-1===f){if(ui(n))return!1;o=!0;continue}if(""!==l){var h;h=f>a?"":i[f+1].toLowerCase();var d=8&n?h:null;if(d&&-1!==UE(d,l,0)||2&n&&l!==h){if(ui(n))return!1;o=!0}}}}else{if(!o&&!ui(n)&&!ui(u))return!1;if(o&&ui(u))continue;o=!1,n=u|1&n}}return ui(n)||o}function ui(t){return 0==(1&t)}function _x(t,r,e,n){if(null===r)return-1;var i=0;if(n||!e){for(var a=!1;i<r.length;){var o=r[i];if(o===t)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=r[++i];"string"==typeof s;)s=r[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function wx(t,r){var e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){var n=t[e];if("number"==typeof n)return-1;if(n===r)return e;e++}return-1}(r,t)}function zE(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<r.length;n++)if(yx(t,r[n],e))return!0;return!1}function Sx(t,r){e:for(var e=0;e<r.length;e++){var n=r[e];if(t.length===n.length){for(var i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function WE(t,r){return t?":not("+r.trim()+")":r}function bx(t){for(var r=t[0],e=1,n=2,i="",a=!1;e<t.length;){var o=t[e];if("string"==typeof o)if(2&n){var s=t[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!ui(o)&&(r+=WE(a,i),i=""),n=o,a=a||!ui(n);e++}return""!==i&&(r+=WE(a,i)),r}var ke={};function x(t){qE(Je(),P(),Un()+t,qc())}function qE(t,r,e,n){if(!n)if(3==(3&r[2])){var a=t.preOrderCheckHooks;null!==a&&Qc(r,a,e)}else{var o=t.preOrderHooks;null!==o&&$c(r,o,0,e)}Va(e)}function mf(t,r){return t<<17|r<<2}function li(t){return t>>17&32767}function sp(t){return 2|t}function ca(t){return(131068&t)>>2}function up(t,r){return-131069&t|r<<2}function lp(t){return 1|t}function r0(t,r){var e=t.contentQueries;if(null!==e)for(var n=0;n<e.length;n+=2){var a=e[n+1];if(-1!==a){var o=t.data[a];Sv(e[n]),o.contentQueries(2,r[a],a)}}}function ul(t,r,e,n,i,a,o,s,u,l){var c=r.blueprint.slice();return c[0]=i,c[2]=140|n,CC(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=a,c[16]=2==r.type?t[16]:c,c}function Ts(t,r,e,n,i){var a=t.data[r];if(null===a)a=function yp(t,r,e,n,i){var a=wC(),o=_v(),u=t.data[r]=function jx(t,r,e,n,i,a){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,r,n,i);return null===t.firstChild&&(t.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(t,r,e,n,i),function rR(){return Ee.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=n,a.attrs=i;var o=function ju(){var t=Ee.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ai(a,!0),a}function Ds(t,r,e,n){if(0===e)return-1;for(var i=r.length,a=0;a<e;a++)r.push(n),t.blueprint.push(n),t.data.push(null);return i}function ll(t,r,e){Yc(r);try{var n=t.viewQuery;null!==n&&kp(1,n,e);var i=t.template;null!==i&&a0(t,r,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&r0(t,r),t.staticViewQueries&&kp(2,t.viewQuery,e);var a=t.components;null!==a&&function Bx(t,r){for(var e=0;e<r.length;e++)oF(t,r[e])}(r,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{r[2]&=-5,Zc()}}function ks(t,r,e,n){var i=r[2];if(256!=(256&i)){Yc(r);var a=qc();try{CC(r),function SC(t){return Ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&a0(t,r,e,2,n);var o=3==(3&i);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&Qc(r,s,null)}else{var u=t.preOrderHooks;null!==u&&$c(r,u,0,null),bv(r,0)}if(function iF(t){for(var r=Qv(t);null!==r;r=$v(r))if(r[2])for(var e=r[9],n=0;n<e.length;n++){var i=e[n];0==(1024&i[2])&&yv(i[3],1),i[2]|=1024}}(r),function rF(t){for(var r=Qv(t);null!==r;r=$v(r))for(var e=10;e<r.length;e++){var n=r[e],i=n[1];mv(n)&&ks(i,n,i.template,n[8])}}(r),null!==t.contentQueries&&r0(t,r),!a)if(o){var l=t.contentCheckHooks;null!==l&&Qc(r,l)}else{var c=t.contentHooks;null!==c&&$c(r,c,1),bv(r,1)}!function Nx(t,r){var e=t.hostBindingOpCodes;if(null!==e)try{for(var n=0;n<e.length;n++){var i=e[n];if(i<0)Va(~i);else{var a=i,o=e[++n],s=e[++n];iR(o,a),s(2,r[a])}}}finally{Va(-1)}}(t,r);var f=t.components;null!==f&&function Vx(t,r){for(var e=0;e<r.length;e++)aF(t,r[e])}(r,f);var h=t.viewQuery;if(null!==h&&kp(2,h,n),!a)if(o){var d=t.viewCheckHooks;null!==d&&Qc(r,d)}else{var v=t.viewHooks;null!==v&&$c(r,v,2),bv(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,yv(r[3],-1))}finally{Zc()}}}function Hx(t,r,e,n){var i=r[10],a=!qc(),o=_C(r);try{a&&!o&&i.begin&&i.begin(),o&&ll(t,r,n),ks(t,r,e,n)}finally{a&&!o&&i.end&&i.end()}}function a0(t,r,e,n,i){var a=Un(),o=2&n;try{Va(-1),o&&r.length>20&&qE(t,r,20,qc()),e(n,i)}finally{Va(a)}}function o0(t,r,e){if(lv(r))for(var i=r.directiveEnd,a=r.directiveStart;a<i;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}function _p(t,r,e){!EC()||(function Zx(t,r,e,n){var i=e.directiveStart,a=e.directiveEnd;t.firstCreatePass||Wu(e,r),Mn(n,r);for(var o=e.initialInputs,s=i;s<a;s++){var u=t.data[s],l=si(u);l&&eF(r,e,u);var c=qu(r,t,s,e);Mn(c,r),null!==o&&tF(0,s-i,c,u,0,o),l&&(cr(e.index,r)[8]=c)}}(t,r,e,Rr(e,r)),128==(128&e.flags)&&function Xx(t,r,e){var n=e.directiveStart,i=e.directiveEnd,o=e.index,s=function aR(){return Ee.lFrame.currentDirectiveIndex}();try{Va(o);for(var u=n;u<i;u++){var l=t.data[u],c=r[u];Ev(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&v0(l,c)}}finally{Va(-1),Ev(s)}}(t,r,e))}function Cp(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rr,n=r.localNames;if(null!==n)for(var i=r.index+1,a=0;a<n.length;a+=2){var o=n[a+1],s=-1===o?e(r,t):t[o];t[i++]=s}}function s0(t){var r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Cf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Cf(t,r,e,n,i,a,o,s,u,l){var c=20+n,f=c+i,h=function Ux(t,r){for(var e=[],n=0;n<r;n++)e.push(n<t?null:ke);return e}(c,f),d="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:r,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function c0(t,r,e,n){var i=C0(r);null===e?i.push(n):(i.push(e),t.firstCreatePass&&E0(t).push(n,i.length-1))}function f0(t,r,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(r,i):e[n]=[r,i]}return e}function Ep(t,r,e,n){var i=!1;if(EC()){var a=function Qx(t,r,e){var n=t.directiveRegistry,i=null;if(n)for(var a=0;a<n.length;a++){var o=n[a];zE(e,o.selectors,!1)&&(i||(i=[]),rf(Wu(e,r),t,o.type),si(o)?(p0(t,e),i.unshift(o)):i.push(o))}return i}(t,r,e),o=null===n?null:{"":-1};if(null!==a){i=!0,g0(e,t.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=Ds(t,r,a.length,null),h=0;h<a.length;h++){var d=a[h];e.mergedAttrs=ef(e.mergedAttrs,d.hostAttrs),m0(t,e,r,f,d),Jx(f,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);var v=d.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function Gx(t,r){for(var n=r.directiveEnd,i=t.data,a=r.attrs,o=[],s=null,u=null,l=r.directiveStart;l<n;l++){var c=i[l],f=c.inputs,h=null===a||GE(r)?null:nF(f,a);o.push(h),s=f0(f,l,s),u=f0(c.outputs,l,u)}null!==s&&(s.hasOwnProperty("class")&&(r.flags|=16),s.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=o,r.inputs=s,r.outputs=u}(t,e)}o&&function $x(t,r,e){if(r)for(var n=t.localNames=[],i=0;i<r.length;i+=2){var a=e[r[i+1]];if(null==a)throw new J(-301,!1);n.push(r[i],a)}}(e,n,o)}return e.mergedAttrs=ef(e.mergedAttrs,e.attrs),i}function d0(t,r,e,n,i,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~r.index;(function Yx(t){for(var r=t.length;r>0;){var e=t[--r];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(n,i,o)}}function v0(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function p0(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Jx(t,r,e){if(e){if(r.exportAs)for(var n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;si(r)&&(e[""]=t)}}function g0(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function m0(t,r,e,n,i){t.data[n]=i;var a=i.factory||(i.factory=_o(i.type)),o=new Gu(a,si(i),null);t.blueprint[n]=o,e[n]=o,d0(t,r,0,n,Ds(t,e,i.hostVars,ke),i)}function eF(t,r,e){var n=Rr(r,t),i=s0(e),a=t[10],o=Ef(t,ul(t,i,null,e.onPush?64:16,n,r,a,a.createRenderer(n,e),null,null));t[r.index]=o}function xi(t,r,e,n,i,a){var o=Rr(t,r);!function wp(t,r,e,n,i,a,o){if(null==a)zt(t)?t.removeAttribute(r,i,e):r.removeAttribute(i);else{var s=null==o?De(a):o(a,n||"",i);zt(t)?t.setAttribute(r,i,s,e):e?r.setAttributeNS(e,i,s):r.setAttribute(i,s)}}(r[11],o,a,t.value,e,n,i)}function tF(t,r,e,n,i,a){var o=a[r];if(null!==o)for(var s=n.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],f=o[u++];null!==s?n.setInput(e,f,l,c):e[c]=f}}function nF(t,r){for(var e=null,n=0;n<r.length;){var i=r[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],r[n+1])),n+=2}else n+=2;else n+=4}return e}function y0(t,r,e,n){return new Array(t,!0,!1,r,null,0,n,e,null,null)}function aF(t,r){var e=cr(r,t);if(mv(e)){var n=e[1];80&e[2]?ks(n,e,n.template,e[8]):e[5]>0&&Sp(e)}}function Sp(t){for(var r=Qv(t);null!==r;r=$v(r))for(var e=10;e<r.length;e++){var n=r[e];if(1024&n[2]){var i=n[1];ks(i,n,i.template,n[8])}else n[5]>0&&Sp(n)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=cr(o[s],t);mv(u)&&u[5]>0&&Sp(u)}}function oF(t,r){var e=cr(r,t),n=e[1];(function sF(t,r){for(var e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])})(n,e),ll(n,e,e[8])}function Ef(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function bp(t){for(;t;){t[2]|=64;var r=ol(t);if(F1(t)&&!r)return t;t=r}return null}function Dp(t,r,e){var n=r[10];n.begin&&n.begin();try{ks(t,r,t.template,e)}catch(i){throw S0(r,i),i}finally{n.end&&n.end()}}function _0(t){!function Tp(t){for(var r=0;r<t.components.length;r++){var e=t.components[r],n=qv(e),i=n[1];Hx(i,n,i.template,e)}}(t[8])}function kp(t,r,e){Sv(0),r(t,e)}var fF=function(){return Promise.resolve(null)}();function C0(t){return t[7]||(t[7]=[])}function E0(t){return t.cleanup||(t.cleanup=[])}function S0(t,r){var e=t[9],n=e?e.get(ws,null):null;n&&n.handleError(r)}function b0(t,r,e,n,i){for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=r[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,n,s):u[s]=i}}function fa(t,r,e){var n=Wc(r,t);!function DE(t,r,e){zt(t)?t.setValue(r,e):r.textContent=e}(t[11],n,e)}function wf(t,r,e){var n=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==r)for(var o=0;o<r.length;o++){var s=r[o];"number"==typeof s?a=s:1==a?i=ev(i,s):2==a&&(n=ev(n,s+": "+r[++o]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=i:t.classesWithoutHost=i}var Ip=new we("INJECTOR",-1),T0=function(){function t(){m(this,t)}return g(t,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu;if(n===Qu){var i=new Error("NullInjectorError: No provider for ".concat(ft(e),"!"));throw i.name="NullInjectorError",i}return n}}]),t}(),Ap=new we("Set Injector scope."),cl={},vF={},Op=void 0;function D0(){return void 0===Op&&(Op=new T0),Op}function k0(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0,i=I0(t,r,e,n);return i._resolveInjectorDefTypes(),i}function I0(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return new pF(t,e,r||D0(),n)}var pF=function(){function t(r,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,t),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&Oi(e,function(u){return i.processProvider(u,r,e)}),Oi([r],function(u){return i.processInjectorType(u,[],o)}),this.records.set(Ip,Is(void 0,this));var s=this.records.get(Ap);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof r?null:ft(r))}return g(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re.Default;this.assertNotDestroyed();var a=XC(this),o=xa(void 0);try{if(!(i&Re.SkipSelf)){var s=this.records.get(e);if(void 0===s){var u=SF(e)&&nv(e);s=u&&this.injectableDefInScope(u)?Is(Mp(e),cl):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}var l=i&Re.Self?D0():this.parent;return l.get(e,n=i&Re.Optional&&n===Qu?null:n)}catch(f){if("NullInjectorError"===f.name){var c=f[uf]=f[uf]||[];if(c.unshift(ft(e)),a)throw f;return qR(f,e,"R3InjectorError",this.source)}throw f}finally{xa(o),XC(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(n){return e.get(n)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(i,a){return e.push(ft(a))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new J(205,!1)}},{key:"processInjectorType",value:function(e,n,i){var a=this;if(!(e=Fe(e)))return!1;var o=oC(e),s=null==o&&e.ngModule||void 0,u=void 0===s?e:s,f=-1!==i.indexOf(u);if(void 0!==s&&(o=oC(s)),null==o)return!1;if(null!=o.imports&&!f){var h;i.push(u);try{Oi(o.imports,function(_){a.processInjectorType(_,n,i)&&(void 0===h&&(h=[]),h.push(_))})}finally{}if(void 0!==h)for(var d=function(E){var w=h[E],S=w.ngModule,k=w.providers;Oi(k,function(I){return a.processProvider(I,S,k||Ct)})},v=0;v<h.length;v++)d(v)}this.injectorDefTypes.add(u);var p=_o(u)||function(){return new u};this.records.set(u,Is(p,cl));var y=o.providers;if(null!=y&&!f){var C=e;Oi(y,function(_){return a.processProvider(_,C,y)})}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,n,i){var a=As(e=Fe(e))?e:Fe(e&&e.provide),o=function mF(t,r,e){return O0(t)?Is(void 0,t.useValue):Is(A0(t),cl)}(e);if(As(e)||!0!==e.multi)this.records.get(a);else{var s=this.records.get(a);s||((s=Is(void 0,cl,!0)).factory=function(){return Lv(s.multi)},this.records.set(a,s)),a=e,s.multi.push(e)}this.records.set(a,o)}},{key:"hydrate",value:function(e,n){return n.value===cl&&(n.value=vF,n.value=n.factory()),"object"==typeof n.value&&n.value&&function wF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var n=Fe(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}]),t}();function Mp(t){var r=nv(t),e=null!==r?r.factory:_o(t);if(null!==e)return e;if(t instanceof we)throw new J(204,!1);if(t instanceof Function)return function gF(t){var r=t.length;if(r>0)throw Xu(r,"?"),new J(204,!1);var n=function E1(t){var r=t&&(t[Vc]||t[sC]);if(r){var e=function w1(t){if(t.hasOwnProperty("name"))return t.name;var r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(e,'" class.')),r}return null}(t);return null!==n?function(){return n.factory(t)}:function(){return new t}}(t);throw new J(204,!1)}function A0(t,r,e){var n=void 0;if(As(t)){var i=Fe(t);return _o(i)||Mp(i)}if(O0(t))n=function(){return Fe(t.useValue)};else if(function _F(t){return!(!t||!t.useFactory)}(t))n=function(){return t.useFactory.apply(t,K(Lv(t.deps||[])))};else if(function yF(t){return!(!t||!t.useExisting)}(t))n=function(){return z(Fe(t.useExisting))};else{var a=Fe(t&&(t.useClass||t.provide));if(!function EF(t){return!!t.deps}(t))return _o(a)||Mp(a);n=function(){return rt(a,K(Lv(t.deps)))}}return n}function Is(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:r,multi:e?[]:void 0}}function O0(t){return null!==t&&"object"==typeof t&&jR in t}function As(t){return"function"==typeof t}function SF(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}var hn=function(){var t=function(){function r(){m(this,r)}return g(r,null,[{key:"create",value:function(n,i){var a;if(Array.isArray(n))return k0({name:""},i,n,"");var o=null!==(a=n.name)&&void 0!==a?a:"";return k0({name:o},n.parent,n.providers,o)}}]),r}();return t.THROW_IF_NOT_FOUND=Qu,t.NULL=new T0,t.\u0275prov=re({token:t,providedIn:"any",factory:function(){return z(Ip)}}),t.__NG_ELEMENT_ID__=-1,t}();function xF(t,r){Xc(qv(t)[1],cn())}function ut(t){for(var r=function V0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0,n=[t];r;){var i=void 0;if(si(t))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new J(903,"");i=r.\u0275dir}if(i){if(e){n.push(i);var o=t;o.inputs=Pp(t.inputs),o.declaredInputs=Pp(t.declaredInputs),o.outputs=Pp(t.outputs);var s=i.hostBindings;s&&VF(t,s);var u=i.viewQuery,l=i.contentQueries;if(u&&LF(t,u),l&&NF(t,l),Jd(t.inputs,i.inputs),Jd(t.declaredInputs,i.declaredInputs),Jd(t.outputs,i.outputs),si(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var f=i.features;if(f)for(var h=0;h<f.length;h++){var d=f[h];d&&d.ngInherit&&d(t),d===ut&&(e=!1)}}r=Object.getPrototypeOf(r)}!function FF(t){for(var r=0,e=null,n=t.length-1;n>=0;n--){var i=t[n];i.hostVars=r+=i.hostVars,i.hostAttrs=ef(i.hostAttrs,e=ef(e,i.hostAttrs))}}(n)}function Pp(t){return t===is?{}:t===Ct?[]:t}function LF(t,r){var e=t.viewQuery;t.viewQuery=e?function(n,i){r(n,i),e(n,i)}:r}function NF(t,r){var e=t.contentQueries;t.contentQueries=e?function(n,i,a){r(n,i,a),e(n,i,a)}:r}function VF(t,r){var e=t.hostBindings;t.hostBindings=e?function(n,i){r(n,i),e(n,i)}:r}var Sf=null;function Os(){if(!Sf){var t=vt.Symbol;if(t&&t.iterator)Sf=t.iterator;else for(var r=Object.getOwnPropertyNames(Map.prototype),e=0;e<r.length;++e){var n=r[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Sf=n)}}return Sf}function fl(t){return!!xp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Os()in t)}function xp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fi(t,r,e){return t[r]=e}function Rn(t,r,e){return!Object.is(t[r],e)&&(t[r]=e,!0)}function Eo(t,r,e,n){var i=Rn(t,r,e);return Rn(t,r+1,n)||i}function Fr(t,r,e,n,i,a){var o=Eo(t,r,e,n);return Eo(t,r+2,i,a)||o}function kt(t,r,e,n){var i=P();return Rn(i,cs(),r)&&(Je(),xi(Wt(),i,t,r,e,n)),kt}function Ps(t,r,e,n,i,a){var s=Eo(t,function ua(){return Ee.lFrame.bindingIndex}(),e,i);return la(2),s?r+De(e)+n+De(i)+a:ke}function ce(t,r,e,n,i,a,o,s){var u=P(),l=Je(),c=t+20,f=l.firstCreatePass?function WF(t,r,e,n,i,a,o,s,u){var l=r.consts,c=Ts(r,t,4,o||null,Na(l,s));Ep(r,e,c,Na(l,u)),Xc(r,c);var f=c.tViews=Cf(2,c,n,i,a,r.directiveRegistry,r.pipeRegistry,null,r.schemas,l);return null!==r.queries&&(r.queries.template(r,c),f.queries=r.queries.embeddedTView(c)),c}(c,l,u,r,e,n,i,a,o):l.data[c];Ai(f,!1);var h=u[11].createComment("");pf(l,u,h,f),Mn(h,u),Ef(u,u[c]=y0(h,u,h,f)),zc(f)&&_p(l,u,f),null!=o&&Cp(u,f,s)}function ha(t){return ls(function nR(){return Ee.lFrame.contextLView}(),20+t)}function T(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.Default,e=P();if(null===e)return z(t,r);var n=cn();return BC(n,e,Fe(t),r)}function Vp(){throw new Error("invalid")}function M(t,r,e){var n=P();return Rn(n,cs(),r)&&function dr(t,r,e,n,i,a,o,s){var c,u=Rr(r,e),l=r.inputs;!s&&null!=l&&(c=l[n])?(b0(t,e,c,n,i),Gc(r)&&function Wx(t,r){var e=cr(r,t);16&e[2]||(e[2]|=64)}(e,r.index)):3&r.type&&(n=function zx(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=o?o(i,r.value||"",n):i,zt(a)?a.setProperty(u,n,i):Dv(n)||(u.setProperty?u.setProperty(n,i):u[n]=i))}(Je(),Wt(),n,t,r,n[11],e,!1),M}function Bp(t,r,e,n,i){var o=i?"class":"style";b0(t,e,r.inputs[o],o,n)}function U(t,r,e,n){var i=P(),a=Je(),o=20+t,s=i[11],u=i[o]=ep(s,r,function dR(){return Ee.lFrame.currentNamespace}()),l=a.firstCreatePass?function cL(t,r,e,n,i,a,o){var s=r.consts,l=Ts(r,t,2,i,Na(s,a));return Ep(r,e,l,Na(s,o)),null!==l.attrs&&wf(l,l.attrs,!1),null!==l.mergedAttrs&&wf(l,l.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,l),l}(o,a,i,0,r,e,n):a.data[o];Ai(l,!0);var c=l.mergedAttrs;null!==c&&Jc(s,u,c);var f=l.classes;null!==f&&op(s,u,f);var h=l.styles;return null!==h&&HE(s,u,h),64!=(64&l.flags)&&pf(a,i,u,l),0===function Q1(){return Ee.lFrame.elementDepthCount}()&&Mn(u,i),function $1(){Ee.lFrame.elementDepthCount++}(),zc(l)&&(_p(a,i,l),o0(a,l,i)),null!==n&&Cp(i,l),U}function j(){var t=cn();_v()?Cv():Ai(t=t.parent,!1);var r=t;!function J1(){Ee.lFrame.elementDepthCount--}();var e=Je();return e.firstCreatePass&&(Xc(e,t),lv(t)&&e.queries.elementEnd(t)),null!=r.classesWithoutHost&&function yR(t){return 0!=(16&t.flags)}(r)&&Bp(e,r,P(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _R(t){return 0!=(32&t.flags)}(r)&&Bp(e,r,P(),r.stylesWithoutHost,!1),j}function Vt(t,r,e,n){return U(t,r,e,n),j(),Vt}function Lr(t,r,e){var n=P(),i=Je(),a=t+20,o=i.firstCreatePass?function fL(t,r,e,n,i){var a=r.consts,o=Na(a,n),s=Ts(r,t,8,"ng-container",o);return null!==o&&wf(s,o,!0),Ep(r,e,s,Na(a,i)),null!==r.queries&&r.queries.elementStart(r,s),s}(a,i,n,r,e):i.data[a];Ai(o,!0);var s=n[a]=n[11].createComment("");return pf(i,n,s,o),Mn(s,n),zc(o)&&(_p(i,n,o),o0(i,o,n)),null!=e&&Cp(n,o),Lr}function Nr(){var t=cn(),r=Je();return _v()?Cv():Ai(t=t.parent,!1),r.firstCreatePass&&(Xc(r,t),lv(t)&&r.queries.elementEnd(t)),Nr}function jn(t,r,e){return Lr(t,r,e),Nr(),jn}function nn(){return P()}function dl(t){return!!t&&"function"==typeof t.then}var Hp=function aw(t){return!!t&&"function"==typeof t.subscribe};function ue(t,r,e,n){var i=P(),a=Je(),o=cn();return function sw(t,r,e,n,i,a,o,s){var u=zc(n),c=t.firstCreatePass&&E0(t),f=r[8],h=C0(r),d=!0;if(3&n.type||s){var v=Rr(n,r),p=s?s(v):v,y=h.length,C=s?function(se){return s(en(se[n.index]))}:n.index;if(zt(e)){var _=null;if(!s&&u&&(_=function hL(t,r,e,n){var i=t.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===e&&i[a+1]===n){var s=r[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(t,r,i,n.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,d=!1;else{a=Up(n,r,f,a,!1);var w=e.listen(p,i,a);h.push(a,w),c&&c.push(i,C,y,y+1)}}else a=Up(n,r,f,a,!0),p.addEventListener(i,a,o),h.push(a),c&&c.push(i,C,y,o)}else a=Up(n,r,f,a,!1);var k,S=n.outputs;if(d&&null!==S&&(k=S[i])){var I=k.length;if(I)for(var R=0;R<I;R+=2){var de=r[k[R]][k[R+1]].subscribe(a),_e=h.length;h.push(a,de),c&&c.push(i,n.index,_e,-(_e+1))}}}(a,i,i[11],o,t,r,!!e,n),ue}function uw(t,r,e,n){try{return!1!==e(n)}catch(i){return S0(t,i),!1}}function Up(t,r,e,n,i){return function a(o){if(o===Function)return n;var s=2&t.flags?cr(t.index,r):r;0==(32&r[2])&&bp(s);for(var u=uw(r,0,n,o),l=a.__ngNextListenerFn__;l;)u=uw(r,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return sR(t)}function dL(t,r){for(var e=null,n=function Cx(t){var r=t.attrs;if(null!=r){var e=r.indexOf(5);if(0==(1&e))return r[e+1]}return null}(t),i=0;i<r.length;i++){var a=r[i];if("*"!==a){if(null===n?zE(t,a,!0):Sx(n,a))return i}else e=i}return e}function Us(t){var r=P()[16][6];if(!r.projection)for(var n=r.projection=Xu(t?t.length:1,null),i=n.slice(),a=r.child;null!==a;){var o=t?dL(a,t):0;null!==o&&(i[o]?i[o].projectionNext=a:n[o]=a,i[o]=a),a=a.next}}function wo(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,n=P(),i=Je(),a=Ts(i,20+t,16,null,e||null);null===a.projection&&(a.projection=r),Cv(),64!=(64&a.flags)&&dx(i,n,a)}function yw(t,r,e,n,i){for(var a=t[e+1],o=null===r,s=n?li(a):ca(a),u=!1;0!==s&&(!1===u||o);){var c=t[s+1];gL(t[s],r)&&(u=!0,t[s+1]=n?lp(c):sp(c)),s=n?li(c):ca(c)}u&&(t[e+1]=n?sp(a):lp(a))}function gL(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ys(t,r)>=0}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _w(t){return t.substring(dn.key,dn.keyEnd)}function Cw(t,r){var e=dn.textEnd;return e===r?-1:(r=dn.keyEnd=function CL(t,r,e){for(;r<e&&t.charCodeAt(r)>32;)r++;return r}(t,dn.key=r,e),js(t,r,e))}function js(t,r,e){for(;r<e&&t.charCodeAt(r)<=32;)r++;return r}function Tf(t,r,e){return fi(t,r,e,!1),Tf}function So(t,r){return fi(t,r,null,!0),So}function vr(t){!function hi(t,r,e,n){var i=Je(),a=la(2);i.firstUpdatePass&&Dw(i,null,a,n);var o=P();if(e!==ke&&Rn(o,a,e)){var s=i.data[Un()];if(Ow(s,n)&&!Tw(i,a)){var l=n?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=ev(l,e||"")),Bp(i,s,o,e,n)}else!function AL(t,r,e,n,i,a,o,s){i===ke&&(i=Ct);for(var u=0,l=0,c=0<i.length?i[0]:null,f=0<a.length?a[0]:null;null!==c||null!==f;){var h=u<i.length?i[u+1]:void 0,d=l<a.length?a[l+1]:void 0,v=null,p=void 0;c===f?(u+=2,l+=2,h!==d&&(v=f,p=d)):null===f||null!==c&&c<f?(u+=2,v=c):(l+=2,v=f,p=d),null!==v&&Iw(t,r,e,n,v,p,o,s),c=u<i.length?i[u]:null,f=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function IL(t,r,e){if(null==e||""===e)return Ct;var n=[],i=Ha(e);if(Array.isArray(i))for(var a=0;a<i.length;a++)t(n,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&t(n,o,i[o]);else"string"==typeof i&&r(n,i);return n}(t,r,e),n,a)}}(fr,Ni,t,!0)}function Ni(t,r){for(var e=function yL(t){return function ww(t){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=t.length}(t),Cw(t,js(t,0,dn.textEnd))}(r);e>=0;e=Cw(r,e))fr(t,_w(r),!0)}function fi(t,r,e,n){var i=P(),a=Je(),o=la(2);a.firstUpdatePass&&Dw(a,t,o,n),r!==ke&&Rn(i,o,r)&&Iw(a,a.data[Un()],i,i[11],t,i[o+1]=function OL(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ft(Ha(t)))),t}(r,e),n,o)}function Tw(t,r){return r>=t.expandoStartIndex}function Dw(t,r,e,n){var i=t.data;if(null===i[e+1]){var a=i[Un()],o=Tw(t,e);Ow(a,n)&&null===r&&!o&&(r=!1),r=function bL(t,r,e,n){var i=function wv(t){var r=Ee.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t),a=n?r.residualClasses:r.residualStyles;if(null===i)0===(n?r.classBindings:r.styleBindings)&&(e=vl(e=Gp(null,t,r,e,n),r.attrs,n),a=null);else{var s=r.directiveStylingLast;if(-1===s||t[s]!==i)if(e=Gp(i,t,r,e,n),null===a){var l=function TL(t,r,e){var n=e?r.classBindings:r.styleBindings;if(0!==ca(n))return t[li(n)]}(t,r,n);void 0!==l&&Array.isArray(l)&&function DL(t,r,e,n){t[li(e?r.classBindings:r.styleBindings)]=n}(t,r,n,l=vl(l=Gp(null,t,r,l[1],n),r.attrs,n))}else a=function kL(t,r,e){for(var n=void 0,i=r.directiveEnd,a=1+r.directiveStylingLast;a<i;a++)n=vl(n,t[a].hostAttrs,e);return vl(n,r.attrs,e)}(t,r,n)}return void 0!==a&&(n?r.residualClasses=a:r.residualStyles=a),e}(i,a,r,n),function vL(t,r,e,n,i,a){var o=a?r.classBindings:r.styleBindings,s=li(o),u=ca(o);t[n]=e;var c,l=!1;if(Array.isArray(e)?(null===(c=e[1])||ys(e,c)>0)&&(l=!0):c=e,i)if(0!==u){var d=li(t[s+1]);t[n+1]=mf(d,s),0!==d&&(t[d+1]=up(t[d+1],n)),t[s+1]=function kx(t,r){return 131071&t|r<<17}(t[s+1],n)}else t[n+1]=mf(s,0),0!==s&&(t[s+1]=up(t[s+1],n)),s=n;else t[n+1]=mf(u,0),0===s?s=n:t[u+1]=up(t[u+1],n),u=n;l&&(t[n+1]=sp(t[n+1])),yw(t,c,n,!0),yw(t,c,n,!1),function pL(t,r,e,n,i){var a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof r&&ys(a,r)>=0&&(e[n+1]=lp(e[n+1]))}(r,c,t,n,a),o=mf(s,u),a?r.classBindings=o:r.styleBindings=o}(i,a,r,e,o,n)}}function Gp(t,r,e,n,i){var a=null,o=e.directiveEnd,s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<o&&(n=vl(n,(a=r[s]).hostAttrs,i),a!==t);)s++;return null!==t&&(e.directiveStylingLast=s),n}function vl(t,r,e){var n=e?1:2,i=-1;if(null!==r)for(var a=0;a<r.length;a++){var o=r[a];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fr(t,o,!!e||r[++a]))}return void 0===t?null:t}function Iw(t,r,e,n,i,a,o,s){if(3&r.type){var u=t.data,l=u[s+1];Df(function ZE(t){return 1==(1&t)}(l)?Aw(u,r,e,i,ca(l),o):void 0)||(Df(a)||function YE(t){return 2==(2&t)}(l)&&(a=Aw(u,null,e,i,s,o)),function px(t,r,e,n,i){var a=zt(t);if(r)i?a?t.addClass(e,n):e.classList.add(n):a?t.removeClass(e,n):e.classList.remove(n);else{var o=-1===n.indexOf("-")?void 0:hr.DashCase;if(null==i)a?t.removeStyle(e,n,o):e.style.removeProperty(n);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=hr.Important),a?t.setStyle(e,n,i,o):e.style.setProperty(n,i,s?"important":"")}}}(n,o,Wc(Un(),e),i,a))}}function Aw(t,r,e,n,i,a){for(var o=null===r,s=void 0;i>0;){var u=t[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c,h=e[i+1];h===ke&&(h=f?Ct:void 0);var d=f?Pv(h,n):c===n?h:void 0;if(l&&!Df(d)&&(d=Pv(u,n)),Df(d)&&(s=d,o))return s;var v=t[i+1];i=o?li(v):ca(v)}if(null!==r){var p=a?r.residualClasses:r.residualStyles;null!=p&&(s=Pv(p,n))}return s}function Df(t){return void 0!==t}function Ow(t,r){return 0!=(t.flags&(r?16:32))}function pt(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=P(),n=Je(),i=t+20,a=n.firstCreatePass?Ts(n,i,1,r,null):n.data[i],o=e[i]=Jv(e[11],r);pf(n,e,o,a),Ai(a,!1)}function di(t){return Xn("",t,""),di}function Xn(t,r,e){var n=P(),i=function Rs(t,r,e,n){return Rn(t,cs(),e)?r+De(e)+n:ke}(n,t,r,e);return i!==ke&&fa(n,Un(),i),Xn}function zp(t,r,e,n,i){var a=P(),o=Ps(a,t,r,e,n,i);return o!==ke&&fa(a,Un(),o),zp}var bo=void 0,XL=["en",[["a","p"],["AM","PM"],bo],[["AM","PM"],bo,bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bo,"{1} 'at' {0}",bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZL(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Gs={};function Gn(t){var r=function QL(t){return t.toLowerCase().replace(/_/g,"-")}(t),e=Xw(r);if(e)return e;var n=r.split("-")[0];if(e=Xw(n))return e;if("en"===n)return XL;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Xw(t){return t in Gs||(Gs[t]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[t]),Gs[t]}var X=function(){return(X=X||{})[X.LocaleId=0]="LocaleId",X[X.DayPeriodsFormat=1]="DayPeriodsFormat",X[X.DayPeriodsStandalone=2]="DayPeriodsStandalone",X[X.DaysFormat=3]="DaysFormat",X[X.DaysStandalone=4]="DaysStandalone",X[X.MonthsFormat=5]="MonthsFormat",X[X.MonthsStandalone=6]="MonthsStandalone",X[X.Eras=7]="Eras",X[X.FirstDayOfWeek=8]="FirstDayOfWeek",X[X.WeekendRange=9]="WeekendRange",X[X.DateFormat=10]="DateFormat",X[X.TimeFormat=11]="TimeFormat",X[X.DateTimeFormat=12]="DateTimeFormat",X[X.NumberSymbols=13]="NumberSymbols",X[X.NumberFormats=14]="NumberFormats",X[X.CurrencyCode=15]="CurrencyCode",X[X.CurrencySymbol=16]="CurrencySymbol",X[X.CurrencyName=17]="CurrencyName",X[X.Currencies=18]="Currencies",X[X.Directionality=19]="Directionality",X[X.PluralCase=20]="PluralCase",X[X.ExtraData=21]="ExtraData",X}(),kf="en-US";function qN(t,r,e){var n=Je();if(n.firstCreatePass){var i=si(t);Kp(e,n.data,n.blueprint,i,!0),Kp(r,n.data,n.blueprint,i,!1)}}function Kp(t,r,e,n,i){if(t=Fe(t),Array.isArray(t))for(var a=0;a<t.length;a++)Kp(t[a],r,e,n,i);else{var o=Je(),s=P(),u=As(t)?t:Fe(t.provide),l=A0(t),c=cn(),f=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(As(t)||!t.multi){var v=new Gu(l,i,T),p=Zp(u,r,i?f:f+d,h);-1===p?(rf(Wu(c,s),o,u),Yp(o,t,r.length),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(v),s.push(v)):(e[p]=v,s[p]=v)}else{var y=Zp(u,r,f+d,h),C=Zp(u,r,f,f+d),E=C>=0&&e[C];if(i&&!E||!i&&!(y>=0&&e[y])){rf(Wu(c,s),o,u);var w=function ZN(t,r,e,n,i){var a=new Gu(t,e,T);return a.multi=[],a.index=r,a.componentProviders=0,ES(a,i,n&&!e),a}(i?YN:KN,e.length,i,n,l);!i&&E&&(e[C].providerFactory=w),Yp(o,t,r.length,0),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(w),s.push(w)}else Yp(o,t,y>-1?y:C,ES(e[i?C:y],l,!i&&n));!i&&n&&E&&e[C].componentProviders++}}}function Yp(t,r,e,n){var i=As(r),a=function CF(t){return!!t.useClass}(r);if(i||a){var u=(a?Fe(r.useClass):r).prototype.ngOnDestroy;if(u){var l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&r.multi){var c=l.indexOf(e);-1===c?l.push(e,[n,u]):l[c+1].push(n,u)}else l.push(e,u)}}}function ES(t,r,e){return e&&t.componentProviders++,t.multi.push(r)-1}function Zp(t,r,e,n){for(var i=e;i<n;i++)if(r[i]===t)return i;return-1}function KN(t,r,e,n){return Xp(this.multi,[])}function YN(t,r,e,n){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=qu(e,e[1],this.providerFactory.index,n);Xp(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else Xp(i,a=[]);return a}function Xp(t,r){for(var e=0;e<t.length;e++)r.push((0,t[e])());return r}function lt(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(e){e.providersResolver=function(n,i){return qN(n,i?i(t):t,r)}}}var XN=g(function t(){m(this,t)}),wS=g(function t(){m(this,t)}),$N=function(){function t(){m(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(e){throw function QN(t){var r=Error("No component factory found for ".concat(ft(t),". Did you add it to @NgModule.entryComponents?"));return r.ngComponent=t,r}(e)}}]),t}(),Ws=function(){var t=g(function r(){m(this,r)});return t.NULL=new $N,t}();function JN(){return qs(cn(),P())}function qs(t,r){return new Bt(Rr(t,r))}var Bt=function(){var t=g(function r(e){m(this,r),this.nativeElement=e});return t.__NG_ELEMENT_ID__=JN,t}();function e2(t){return t instanceof Bt?t.nativeElement:t}var _l=g(function t(){m(this,t)}),vi=function(){var t=g(function r(){m(this,r)});return t.__NG_ELEMENT_ID__=function(){return function n2(){var t=P(),e=cr(cn().index,t);return function t2(t){return t[11]}(Ii(e)?e:t)}()},t}(),r2=function(){var t=g(function r(){m(this,r)});return t.\u0275prov=re({token:t,providedIn:"root",factory:function(){return null}}),t}(),Cl=g(function t(r){m(this,t),this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}),a2=new Cl("13.2.4"),Qp={};function Rf(t,r,e,n){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==e;){var a=r[e.index];if(null!==a&&n.push(en(a)),oi(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&Rf(s[1],s,u,n)}var l=e.type;if(8&l)Rf(t,r,e.child,n);else if(32&l)for(var c=Xv(e,r),f=void 0;f=c();)n.push(f);else if(16&l){var h=NE(r,e);if(Array.isArray(h))n.push.apply(n,K(h));else{var d=ol(r[16]);Rf(d[1],d,h,n,!0)}}e=i?e.projectionNext:e.next}return n}var El=function(){function t(r,e){m(this,t),this._lView=r,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}return g(t,[{key:"rootNodes",get:function(){var e=this._lView,n=e[1];return Rf(n,e,n.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(oi(e)){var n=e[8],i=n?n.indexOf(this):-1;i>-1&&(tp(e,i),of(n,i))}this._attachedToViewContainer=!1}IE(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){c0(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){bp(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Dp(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function lF(t,r,e){Kc(!0);try{Dp(t,r,e)}finally{Kc(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new J(902,"");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function ax(t,r){sl(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new J(902,"");this._appRef=e}}]),t}(),o2=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this,n))._view=n,i}return g(e,[{key:"detectChanges",value:function(){_0(this._view)}},{key:"checkNoChanges",value:function(){!function cF(t){Kc(!0);try{_0(t)}finally{Kc(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(El),bS=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).ngModule=n,i}return g(e,[{key:"resolveComponentFactory",value:function(i){var a=In(i);return new $p(a,this.ngModule)}}]),e}(Ws);function TS(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push({propName:t[e],templateName:e});return r}var u2=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return CE}}),$p=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this)).componentDef=n,a.ngModule=i,a.componentType=n.type,a.selector=function Tx(t){return t.map(bx).join(",")}(n.selectors),a.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],a.isBoundToModule=!!i,a}return g(e,[{key:"inputs",get:function(){return TS(this.componentDef.inputs)}},{key:"outputs",get:function(){return TS(this.componentDef.outputs)}},{key:"create",value:function(i,a,o,s){var _,E,u=(s=s||this.ngModule)?function l2(t,r){return{get:function(n,i,a){var o=t.get(n,Qp,a);return o!==Qp||i===Qp?o:r.get(n,i,a)}}}(i,s.injector):i,l=u.get(_l,yC),c=u.get(r2,null),f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=o?function l0(t,r,e){if(zt(t))return t.selectRootElement(r,e===ii.ShadowDom);var i="string"==typeof r?t.querySelector(r):r;return i.textContent="",i}(f,o,this.componentDef.encapsulation):ep(l.createRenderer(null,this.componentDef),h,function s2(t){var r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(h)),v=this.componentDef.onPush?576:528,p=function N0(t,r){return{components:[],scheduler:t||CE,clean:fF,playerHandler:r||null,flags:0}}(),y=Cf(0,null,null,1,0,null,null,null,null,null),C=ul(null,y,p,v,null,null,l,f,c,u);Yc(C);try{var w=function F0(t,r,e,n,i,a){var o=e[1];e[20]=t;var u=Ts(o,20,2,"#host",null),l=u.mergedAttrs=r.hostAttrs;null!==l&&(wf(u,l,!0),null!==t&&(Jc(i,t,l),null!==u.classes&&op(i,t,u.classes),null!==u.styles&&HE(i,t,u.styles)));var c=n.createRenderer(t,r),f=ul(e,s0(r),null,r.onPush?64:16,e[20],u,n,c,a||null,null);return o.firstCreatePass&&(rf(Wu(u,e),o,r.type),p0(o,u),g0(u,e.length,1)),Ef(e,f),e[20]=f}(d,this.componentDef,C,l,f);if(d)if(o)Jc(f,d,["ng-version",a2.full]);else{var S=function Dx(t){for(var r=[],e=[],n=1,i=2;n<t.length;){var a=t[n];if("string"==typeof a)2===i?""!==a&&r.push(a,t[++n]):8===i&&e.push(a);else{if(!ui(i))break;i=a}n++}return{attrs:r,classes:e}}(this.componentDef.selectors[0]),k=S.attrs,I=S.classes;k&&Jc(f,d,k),I&&I.length>0&&op(f,d,I.join(" "))}if(E=gv(y,20),void 0!==a)for(var R=E.projection=[],L=0;L<this.ngContentSelectors.length;L++){var q=a[L];R.push(null!=q?Array.from(q):null)}_=function L0(t,r,e,n,i){var a=e[1],o=function Kx(t,r,e){var n=cn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),m0(t,n,r,Ds(t,r,1,null),e));var a=qu(r,t,n.directiveStart,n);Mn(a,r);var o=Rr(n,r);return o&&Mn(o,r),a}(a,e,r);if(n.components.push(o),t[8]=o,i&&i.forEach(function(c){return c(o,r)}),r.contentQueries){var s=cn();r.contentQueries(1,o,s.directiveStart)}var u=cn();return!a.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Va(u.index),d0(e[1],u,0,u.directiveStart,u.directiveEnd,r),v0(r,o)),o}(w,this.componentDef,C,p,[xF]),ll(y,C,null)}finally{Zc()}return new f2(this.componentType,_,qs(E,C),C,E)}}]),e}(wS),f2=function(t){A(e,t);var r=O(e);function e(n,i,a,o,s){var u;return m(this,e),(u=r.call(this)).location=a,u._rootLView=o,u._tNode=s,u.instance=i,u.hostView=u.changeDetectorRef=new o2(o),u.componentType=n,u}return g(e,[{key:"injector",get:function(){return new ds(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),e}(XN),da=g(function t(){m(this,t)}),DS=g(function t(){m(this,t)}),Ks=new Map;var AS=function(t){A(e,t);var r=O(e);function e(n,i){var a;m(this,e),(a=r.call(this))._parent=i,a._bootstrapComponents=[],a.injector=xt(a),a.destroyCbs=[],a.componentFactoryResolver=new bS(xt(a));var o=Ar(n);return a._bootstrapComponents=Pi(o.bootstrap),a._r3Injector=I0(n,i,[{provide:da,useValue:xt(a)},{provide:Ws,useValue:a.componentFactoryResolver}],ft(n)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(n),a}return g(e,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn.THROW_IF_NOT_FOUND,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re.Default;return i===hn||i===da||i===Ip?this:this._r3Injector.get(i,a,o)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),e}(da),Jp=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).moduleType=n,null!==Ar(n)&&function d2(t){var r=new Set;!function e(n){var i=Ar(n,!0),a=i.id;null!==a&&(function kS(t,r,e){if(r&&r!==e)throw new Error("Duplicate module registered for ".concat(t," - ").concat(ft(r)," vs ").concat(ft(r.name)))}(a,Ks.get(a),n),Ks.set(a,n));var l,u=b(Pi(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;r.has(c)||(r.add(c),e(c))}}catch(f){u.e(f)}finally{u.f()}}(t)}(n),i}return g(e,[{key:"create",value:function(i){return new AS(this.moduleType,i)}}]),e}(DS);function vn(t,r,e,n){return function MS(t,r,e,n,i,a){var o=r+e;return Rn(t,o,i)?Fi(t,o+1,a?n.call(a,i):n(i)):wl(t,o+1)}(P(),Hn(),t,r,e,n)}function To(t,r,e,n,i){return RS(P(),Hn(),t,r,e,n,i)}function Do(t,r,e,n,i,a){return function PS(t,r,e,n,i,a,o,s){var u=r+e;return function bf(t,r,e,n,i){var a=Eo(t,r,e,n);return Rn(t,r+2,i)||a}(t,u,i,a,o)?Fi(t,u+3,s?n.call(s,i,a,o):n(i,a,o)):wl(t,u+3)}(P(),Hn(),t,r,e,n,i,a)}function Pf(t,r,e,n,i,a,o){return function xS(t,r,e,n,i,a,o,s,u){var l=r+e;return Fr(t,l,i,a,o,s)?Fi(t,l+4,u?n.call(u,i,a,o,s):n(i,a,o,s)):wl(t,l+4)}(P(),Hn(),t,r,e,n,i,a,o)}function wl(t,r){var e=t[r];return e===ke?void 0:e}function RS(t,r,e,n,i,a,o){var s=r+e;return Eo(t,s,i,a)?Fi(t,s+2,o?n.call(o,i,a):n(i,a)):wl(t,s+2)}var b2=function(t){A(e,t);var r=O(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,e),(n=r.call(this)).__isAsync=i,n}return g(e,[{key:"emit",value:function(i){Me(Ve(e.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,o){var s,u,l,c=i,f=a||function(){return null},h=o;if(i&&"object"==typeof i){var d=i;c=null===(s=d.next)||void 0===s?void 0:s.bind(d),f=null===(u=d.error)||void 0===u?void 0:u.bind(d),h=null===(l=d.complete)||void 0===l?void 0:l.bind(d)}this.__isAsync&&(f=eg(f),c&&(c=eg(c)),h&&(h=eg(h)));var v=Me(Ve(e.prototype),"subscribe",this).call(this,{next:c,error:f,complete:h});return i instanceof V&&i.add(v),v}}]),e}(it);function eg(t){return function(r){setTimeout(t,void 0,r)}}var Se=b2;function T2(){return this._results[Os()]()}var D2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,t),this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var e=Os(),n=t.prototype;n[e]||(n[e]=T2)}return g(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Se)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,n){return this._results.reduce(e,n)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,n){var i=this;i.dirty=!1;var a=Pr(e);(this._changesDetected=!function OR(t,r,e){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],a=r[n];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var pi=function(){var t=g(function r(){m(this,r)});return t.__NG_ELEMENT_ID__=A2,t}(),I2=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this))._declarationLView=n,o._declarationTContainer=i,o.elementRef=a,o}return g(e,[{key:"createEmbeddedView",value:function(i){var a=this._declarationTContainer.tViews,o=ul(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];var u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(a)),ll(a,o,i),new El(o)}}]),e}(pi);function A2(){return xf(cn(),P())}function xf(t,r){return 4&t.type?new I2(r,t,qs(t,r)):null}var Vr=function(){var t=g(function r(){m(this,r)});return t.__NG_ELEMENT_ID__=O2,t}();function O2(){return HS(cn(),P())}var VS=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this))._lContainer=n,o._hostTNode=i,o._hostLView=a,o}return g(e,[{key:"element",get:function(){return qs(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ds(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=nf(this._hostTNode,this._hostLView);if(xC(i)){var a=hs(i,this._hostLView),o=fs(i);return new ds(a[1].data[o+8],a)}return new ds(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=BS(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,o){var s=i.createEmbeddedView(a||{});return this.insert(s,o),s}},{key:"createComponent",value:function(i,a,o,s,u){var c,l=i&&!function Zu(t){return"function"==typeof t}(i);if(l)c=a;else{var f=a||{};c=f.index,o=f.injector,s=f.projectableNodes,u=f.ngModuleRef}var h=l?i:new $p(In(i)),d=o||this.parentInjector;if(!u&&null==h.ngModule){var p=(l?d:this.parentInjector).get(da,null);p&&(u=p)}var y=h.create(d,s,void 0,u);return this.insert(y.hostView,c),y}},{key:"insert",value:function(i,a){var o=i._lView,s=o[1];if(function X1(t){return oi(t[3])}(o)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=o[3],c=new VS(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),h=this._lContainer;!function sx(t,r,e,n){var i=10+n,a=e.length;n>0&&(e[i-1][4]=r),n<a-10?(r[4]=e[i],zC(e,10+n,r)):(e.push(r),r[4]=null),r[3]=e;var o=r[17];null!==o&&e!==o&&function ux(t,r){var e=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===e?t[9]=[r]:e.push(r)}(o,r);var s=r[19];null!==s&&s.insertView(t),r[2]|=128}(s,o,h,f);var d=ip(f,h),v=o[11],p=vf(v,h[7]);return null!==p&&function ix(t,r,e,n,i,a){n[0]=i,n[6]=r,sl(t,n,e,1,i,a)}(s,h[6],v,o,p,d),i.attachToViewContainerRef(),zC(tg(h),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=BS(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),o=tp(this._lContainer,a);o&&(of(tg(this._lContainer),a),IE(o[1],o))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),o=tp(this._lContainer,a);return o&&null!=of(tg(this._lContainer),a)?new El(o):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),e}(Vr);function BS(t){return t[8]}function tg(t){return t[8]||(t[8]=[])}function HS(t,r){var e,n=r[t.index];if(oi(n))e=n;else{var i;if(8&t.type)i=en(n);else{var a=r[11];i=a.createComment("");var o=Rr(t,r);Co(a,vf(a,o),i,function hx(t,r){return zt(t)?t.nextSibling(r):r.nextSibling}(a,o),!1)}r[t.index]=e=y0(n,r,i,t),Ef(r,e)}return new VS(e,t,r)}var x2=function(){function t(r){m(this,t),this.queryList=r,this.matches=null}return g(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),F2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=r}return g(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[],o=0;o<i;o++){var s=n.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new t(a)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var n=0;n<this.queries.length;n++)null!==WS(e,n).matches&&this.queries[n].setDirty()}}]),t}(),US=g(function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,t),this.predicate=r,this.flags=e,this.read=n}),L2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=r}return g(t,[{key:"elementStart",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}},{key:"elementEnd",value:function(e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var a=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,a);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),t}(),N2=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;m(this,t),this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return g(t,[{key:"elementStart",value:function(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,n){this.elementStart(e,n)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var n=this._declarationNodeIndex,i=e.parent;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,n){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(e,n,V2(n,o)),this.matchTNodeWithReadOption(e,n,af(n,e,o,!1,!1))}else i===pi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,af(n,e,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,n,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Bt||a===Vr||a===pi&&4&n.type)this.addMatch(n.index,-2);else{var o=af(n,e,a,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}},{key:"addMatch",value:function(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}]),t}();function V2(t,r){var e=t.localNames;if(null!==e)for(var n=0;n<e.length;n+=2)if(e[n]===r)return e[n+1];return null}function H2(t,r,e,n){return-1===e?function B2(t,r){return 11&t.type?qs(t,r):4&t.type?xf(t,r):null}(r,t):-2===e?function U2(t,r,e){return e===Bt?qs(r,t):e===pi?xf(r,t):e===Vr?HS(r,t):void 0}(t,r,n):qu(t,t[1],e,r)}function jS(t,r,e,n){var i=r[19].queries[n];if(null===i.matches){for(var a=t.data,o=e.matches,s=[],u=0;u<o.length;u+=2){var l=o[u];s.push(l<0?null:H2(r,a[l],o[u+1],e.metadata.read))}i.matches=s}return i.matches}function ng(t,r,e,n){var i=t.queries.getByIndex(e),a=i.matches;if(null!==a)for(var o=jS(t,r,i,e),s=0;s<a.length;s+=2){var u=a[s];if(u>0)n.push(o[s/2]);else{for(var l=a[s+1],c=r[-u],f=10;f<c.length;f++){var h=c[f];h[17]===h[3]&&ng(h[1],h,l,n)}if(null!==c[9])for(var d=c[9],v=0;v<d.length;v++){var p=d[v];ng(p[1],p,l,n)}}}return n}function pn(t){var r=P(),e=Je(),n=TC();Sv(n+1);var i=WS(e,n);if(t.dirty&&_C(r)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var a=i.crossesNgTemplate?ng(e,r,n,[]):jS(e,r,i,n);t.reset(a,e2),t.notifyOnChanges()}return!0}return!1}function gi(t,r,e){var n=Je();n.firstCreatePass&&(zS(n,new US(t,r,e),-1),2==(2&r)&&(n.staticViewQueries=!0)),GS(n,P(),r)}function va(t,r,e,n){var i=Je();if(i.firstCreatePass){var a=cn();zS(i,new US(r,e,n),a.index),function G2(t,r){var e=t.contentQueries||(t.contentQueries=[]);r!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,r)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}GS(i,P(),e)}function gn(){return function j2(t,r){return t[19].queries[r].queryList}(P(),TC())}function GS(t,r,e){var n=new D2(4==(4&e));c0(t,r,n,n.destroy),null===r[19]&&(r[19]=new F2),r[19].queries.push(new x2(n))}function zS(t,r,e){null===t.queries&&(t.queries=new L2),t.queries.track(new N2(r,e))}function WS(t,r){return t.queries.getByIndex(r)}function Ff(t,r){return xf(t,r)}function Vf(){}var Tl=new we("Application Initializer"),Zs=function(){var t=function(){function r(e){var n=this;m(this,r),this.appInits=e,this.resolve=Vf,this.reject=Vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){n.resolve=i,n.reject=a})}return g(r,[{key:"runInitializers",value:function(){var n=this;if(!this.initialized){var i=[],a=function(){n.done=!0,n.resolve()};if(this.appInits)for(var o=function(l){var c=n.appInits[l]();if(dl(c))i.push(c);else if(Hp(c)){var f=new Promise(function(h,d){c.subscribe({complete:h,error:d})});i.push(f)}},s=0;s<this.appInits.length;s++)o(s);Promise.all(i).then(function(){a()}).catch(function(u){n.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Tl,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Dl=new we("AppId"),sV={provide:Dl,useFactory:function oV(){return"".concat(ug()).concat(ug()).concat(ug())},deps:[]};function ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ub=new we("Platform Initializer"),ko=new we("Platform ID"),lb=new we("appBootstrapListener"),cb=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"log",value:function(n){console.log(n)}},{key:"warn",value:function(n){console.warn(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Ga=new we("LocaleId"),fb=new we("DefaultCurrencyCode"),uV=g(function t(r,e){m(this,t),this.ngModuleFactory=r,this.componentFactories=e}),Bf=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"compileModuleSync",value:function(n){return new Jp(n)}},{key:"compileModuleAsync",value:function(n){return Promise.resolve(this.compileModuleSync(n))}},{key:"compileModuleAndAllComponentsSync",value:function(n){var i=this.compileModuleSync(n),o=Pi(Ar(n).declarations).reduce(function(s,u){var l=In(u);return l&&s.push(new $p(l)),s},[]);return new uV(i,o)}},{key:"compileModuleAndAllComponentsAsync",value:function(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}},{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(n){}},{key:"getModuleId",value:function(n){}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),cV=function(){return Promise.resolve(0)}();function lg(t){"undefined"==typeof Zone?cV.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var gt=function(){function t(r){var e=r.enableLongStackTrace,n=void 0!==e&&e,i=r.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=r.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(m(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function fV(){var t=vt.requestAnimationFrame,r=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){var e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);var n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function vV(t){var r=function(){!function dV(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,fg(t),t.isCheckStableRunning=!0,cg(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),fg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,a,o,s,u){try{return hb(t),n.invokeTask(a,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&r(),db(t)}},onInvoke:function(n,i,a,o,s,u,l){try{return hb(t),n.invoke(a,o,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&r(),db(t)}},onHasTask:function(n,i,a,o){n.hasTask(a,o),i===a&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,fg(t),cg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(n,i,a,o){return n.handleError(a,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}(u)}return g(t,[{key:"run",value:function(e,n,i){return this._inner.run(e,n,i)}},{key:"runTask",value:function(e,n,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,e,hV,Vf,Vf);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(e,n,i){return this._inner.runGuarded(e,n,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),hV={};function cg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function fg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function db(t){t._nesting--,cg(t)}var mi,pV=function(){function t(){m(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}return g(t,[{key:"run",value:function(e,n,i){return e.apply(n,i)}},{key:"runGuarded",value:function(e,n,i){return e.apply(n,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,n,i,a){return e.apply(n,i)}}]),t}(),hg=function(){var t=function(){function r(e){var n=this;m(this,r),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(r,[{key:"_watchAngularEvents",value:function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){n._ngZone.onStable.subscribe({next:function(){gt.assertNotInAngularZone(),lg(function(){n._isZoneStable=!0,n._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var n=this;if(this.isStable())lg(function(){for(;0!==n._callbacks.length;){var a=n._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(n._didWork)}n._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}}):[]}},{key:"addCallback",value:function(n,i,a){var o=this,s=-1;i&&i>0&&(s=setTimeout(function(){o._callbacks=o._callbacks.filter(function(u){return u.timeoutId!==s}),n(o._didWork,o.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:a})}},{key:"whenStable",value:function(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(n,i,a){return[]}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(gt))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),vb=function(){var t=function(){function r(){m(this,r),this._applications=new Map,dg.addToWindow(this)}return g(r,[{key:"registerApplication",value:function(n,i){this._applications.set(n,i)}},{key:"unregisterApplication",value:function(n){this._applications.delete(n)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(n){return this._applications.get(n)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return dg.findTestabilityInTree(this,n,i)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),gV=function(){function t(){m(this,t)}return g(t,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,n,i){return null}}]),t}(),dg=new gV;function yV(t,r,e){var n=new Jp(e);return Promise.resolve(n)}var pb=new we("AllowMultipleToken"),gb=g(function t(r,e){m(this,t),this.name=r,this.token=e});function CV(t){if(mi&&!mi.destroyed&&!mi.injector.get(pb,!1))throw new J(400,"");mi=t.get(_b);var e=t.get(ub,null);return e&&e.forEach(function(n){return n()}),mi}function mb(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="Platform: ".concat(r),i=new we(n);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=yb();if(!o||o.injector.get(pb,!1))if(t)t(e.concat(a).concat({provide:i,useValue:!0}));else{var s=e.concat(a).concat({provide:i,useValue:!0},{provide:Ap,useValue:"platform"});CV(hn.create({providers:s,name:n}))}return EV()}}function EV(t){var r=yb();if(!r)throw new J(401,"");return r}function yb(){return mi&&!mi.destroyed?mi:null}var _b=function(){var t=function(){function r(e){m(this,r),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(r,[{key:"bootstrapModuleFactory",value:function(n,i){var a=this,l=function wV(t,r){return"noop"===t?new pV:("zone.js"===t?void 0:t)||new gt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:gt,useValue:l}];return l.run(function(){var f=hn.create({providers:c,parent:a.injector,name:n.moduleType.name}),h=n.create(f),d=h.injector.get(ws,null);if(!d)throw new J(402,"");return l.runOutsideAngular(function(){var p=l.onError.subscribe({next:function(C){d.handleError(C)}});h.onDestroy(function(){vg(a._modules,h),p.unsubscribe()})}),function SV(t,r,e){try{var n=e();return dl(n)?n.catch(function(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}):n}catch(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}}(d,l,function(){var p=h.injector.get(Zs);return p.runInitializers(),p.donePromise.then(function(){return function tN(t){ur(t,"Expected localeId to be defined"),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}(h.injector.get(Ga,kf)||kf),a._moduleDoBootstrap(h),h})})})}},{key:"bootstrapModule",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Cb({},a);return yV(0,0,n).then(function(s){return i.bootstrapModuleFactory(s,o)})}},{key:"_moduleDoBootstrap",value:function(n){var i=n.injector.get(Xs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(function(o){return i.bootstrap(o)});else{if(!n.instance.ngDoBootstrap)throw new J(403,"");n.instance.ngDoBootstrap(i)}this._modules.push(n)}},{key:"onDestroy",value:function(n){this._destroyListeners.push(n)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new J(404,"");this._modules.slice().forEach(function(i){return i.destroy()}),this._destroyListeners.forEach(function(i){return i()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(hn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function Cb(t,r){return Array.isArray(r)?r.reduce(Cb,t):Object.assign(Object.assign({},t),r)}var Xs=function(){var t=function(){function r(e,n,i,a,o){var s=this;m(this,r),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new tt(function(c){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){c.next(s._stable),c.complete()})}),l=new tt(function(c){var f;s._zone.runOutsideAngular(function(){f=s._zone.onStable.subscribe(function(){gt.assertNotInAngularZone(),lg(function(){!s._stable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks&&(s._stable=!0,c.next(!0))})})});var h=s._zone.onUnstable.subscribe(function(){gt.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){c.next(!1)}))});return function(){f.unsubscribe(),h.unsubscribe()}});this.isStable=Qd(u,l.pipe(rC()))}return g(r,[{key:"bootstrap",value:function(n,i){var s,a=this;if(!this._initStatus.done)throw new J(405,"");s=n instanceof wS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(s.componentType);var u=function _V(t){return t.isBoundToModule}(s)?void 0:this._injector.get(da),c=s.create(hn.NULL,[],i||s.selector,u),f=c.location.nativeElement,h=c.injector.get(hg,null),d=h&&c.injector.get(vb);return h&&d&&d.registerApplication(f,h),c.onDestroy(function(){a.detachView(c.hostView),vg(a.components,c),d&&d.unregisterApplication(f)}),this._loadComponent(c),c}},{key:"tick",value:function(){var n=this;if(this._runningTick)throw new J(101,"");try{this._runningTick=!0;var o,a=b(this._views);try{for(a.s();!(o=a.n()).done;)o.value.detectChanges()}catch(f){a.e(f)}finally{a.f()}}catch(f){this._zone.runOutsideAngular(function(){return n._exceptionHandler.handleError(f)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(n){var i=n;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(n){var i=n;vg(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(lb,[]).concat(this._bootstrapListeners).forEach(function(a){return a(n)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(n){return n.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(gt),z(hn),z(ws),z(Ws),z(Zs))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function vg(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var pr=function(){var t=g(function r(){m(this,r)});return t.__NG_ELEMENT_ID__=DV,t}();function DV(t){return function kV(t,r,e){if(Gc(t)&&!e){var n=cr(t.index,r);return new El(n,n)}return 47&t.type?new El(r[16],r):null}(cn(),P(),16==(16&t))}var kb=function(){function t(){m(this,t)}return g(t,[{key:"supports",value:function(e){return fl(e)}},{key:"create",value:function(e){return new MV(e)}}]),t}(),OV=function(r,e){return e},MV=function(){function t(r){m(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OV}return g(t,[{key:"forEachItem",value:function(e){var n;for(n=this._itHead;null!==n;n=n._next)e(n)}},{key:"forEachOperation",value:function(e){for(var n=this._itHead,i=this._removalsHead,a=0,o=null;n||i;){var s=!i||n&&n.currentIndex<Ab(i,a,o)?n:i,u=Ab(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,f=l-a;if(c!=f){for(var h=0;h<c;h++){var d=h<o.length?o[h]:o[h]=0,v=d+h;f<=v&&v<c&&(o[h]=d+1)}o[s.previousIndex]=f-c}}u!==l&&e(s,u,l)}}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachMovedItem",value:function(e){var n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"forEachIdentityChange",value:function(e){var n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!fl(e))throw new J(900,"");return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=e[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function zF(t,r){if(Array.isArray(t))for(var e=0;e<t.length;e++)r(t[e]);else for(var i,n=t[Os()]();!(i=n.next()).done;)r(i.value)}(e,function(c){u=n._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=n._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||n._addIdentityChange(i,c)):(i=n._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,n,i,a){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,a)):e=this._addAfter(new RV(n,i),o,a),e}},{key:"_verifyReinsertion",value:function(e,n,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var a=e._prevRemoved,o=e._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_moveAfter",value:function(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_addAfter",value:function(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,n,i){var a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ib),this._linkedRecords.put(e),e.currentIndex=i,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}},{key:"_addToMoves",value:function(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ib),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),t}(),RV=g(function t(r,e){m(this,t),this.item=r,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),PV=function(){function t(){m(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,n){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}},{key:"remove",value:function(e){var n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}]),t}(),Ib=function(){function t(){m(this,t),this.map=new Map}return g(t,[{key:"put",value:function(e){var n=e.trackById,i=this.map.get(n);i||(i=new PV,this.map.set(n,i)),i.add(e)}},{key:"get",value:function(e,n){var a=this.map.get(e);return a?a.get(e,n):null}},{key:"remove",value:function(e){var n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Ab(t,r,e){var n=t.previousIndex;if(null===n)return n;var i=0;return e&&n<e.length&&(i=e[n]),n+r+i}var Ob=function(){function t(){m(this,t)}return g(t,[{key:"supports",value:function(e){return e instanceof Map||xp(e)}},{key:"create",value:function(){return new xV}}]),t}(),xV=function(){function t(){m(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var n;for(n=this._mapHead;null!==n;n=n._next)e(n)}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachChangedItem",value:function(e){var n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||xp(e)))throw new J(900,"")}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(o,s){if(i&&i.key===s)n._maybeAddToChanges(i,o),n._appendAfter=i,i=i._next;else{var u=n._getOrCreateRecordForKey(s,o);i=n._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,n){if(e){var i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}},{key:"_getOrCreateRecordForKey",value:function(e,n){if(this._records.has(e)){var i=this._records.get(e);this._maybeAddToChanges(i,n);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new FV(e);return this._records.set(e,s),s.currentValue=n,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(function(i){return n(e[i],i)})}}]),t}(),FV=g(function t(r){m(this,t),this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function Mb(){return new kl([new kb])}var kl=function(){var t=function(){function r(e){m(this,r),this.factories=e}return g(r,[{key:"find",value:function(n){var i=this.factories.find(function(o){return o.supports(n)});if(null!=i)return i;throw new J(901,"")}}],[{key:"create",value:function(n,i){if(null!=i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||Mb())},deps:[[r,new _s,new Mi]]}}}]),r}();return t.\u0275prov=re({token:t,providedIn:"root",factory:Mb}),t}();function Rb(){return new Il([new Ob])}var Il=function(){var t=function(){function r(e){m(this,r),this.factories=e}return g(r,[{key:"find",value:function(n){var i=this.factories.find(function(o){return o.supports(n)});if(i)return i;throw new J(901,"")}}],[{key:"create",value:function(n,i){if(i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||Rb())},deps:[[r,new _s,new Mi]]}}}]),r}();return t.\u0275prov=re({token:t,providedIn:"root",factory:Rb}),t}(),BV=mb(null,"core",[{provide:ko,useValue:"unknown"},{provide:_b,deps:[hn]},{provide:vb,deps:[]},{provide:cb,deps:[]}]),jV=[{provide:Xs,useClass:Xs,deps:[gt,hn,ws,Ws,Zs]},{provide:u2,deps:[gt],useFactory:function GV(t){var r=[];return t.onStable.subscribe(function(){for(;r.length;)r.pop()()}),function(e){r.push(e)}}},{provide:Zs,useClass:Zs,deps:[[new Mi,Tl]]},{provide:Bf,useClass:Bf,deps:[]},sV,{provide:Ga,useFactory:function HV(t){return t||function UV(){return"undefined"!=typeof $localize&&$localize.locale||kf}()},deps:[[new el(Ga),new Mi,new _s]]},{provide:fb,useValue:"USD"}],zV=function(){var t=g(function r(e){m(this,r)});return t.\u0275fac=function(e){return new(e||t)(z(Xs))},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:jV}),t}(),Hf=null;function Vi(){return Hf}var KV=g(function t(){m(this,t)}),En=new we("DocumentToken"),Ao=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:function(){return function YV(){return z(Pb)}()},providedIn:"platform"}),t}(),ZV=new we("Location Initialized"),Pb=function(){var t=function(r){A(n,r);var e=O(n);function n(i){var a;return m(this,n),(a=e.call(this))._doc=i,a._init(),a}return g(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Vi().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=Vi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=Vi().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,s){xb()?this._history.pushState(a,o,s):this.location.hash=s}},{key:"replaceState",value:function(a,o,s){xb()?this._history.replaceState(a,o,s):this.location.hash=s}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),n}(Ao);return t.\u0275fac=function(e){return new(e||t)(z(En))},t.\u0275prov=re({token:t,factory:function(){return function XV(){return new Pb(z(En))}()},providedIn:"platform"}),t}();function xb(){return!!window.history.pushState}function Cg(t,r){if(0==t.length)return r;if(0==r.length)return t;var e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r}function Fb(t){var r=t.match(/#|\?|$/),e=r&&r.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function pa(t){return t&&"?"!==t[0]?"?"+t:t}var Qs=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:function(){return function QV(t){var r=z(En).location;return new Lb(z(Ao),r&&r.origin||"")}()},providedIn:"root"}),t}(),Eg=new we("appBaseHref"),Lb=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a){var o;if(m(this,n),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return g(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return Cg(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+pa(this._platformLocation.search),s=this._platformLocation.hash;return s&&a?"".concat(o).concat(s):o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+pa(u));this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+pa(u));this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),n}(Qs);return t.\u0275fac=function(e){return new(e||t)(z(Ao),z(Eg,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),$V=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a){var o;return m(this,n),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return g(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=Cg(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+pa(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+pa(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var o,s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,a)}}]),n}(Qs);return t.\u0275fac=function(e){return new(e||t)(z(Ao),z(Eg,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),wg=function(){var t=function(){function r(e,n){var i=this;m(this,r),this._subject=new Se,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Fb(Nb(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return g(r,[{key:"path",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(n))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(n+pa(i))}},{key:"normalize",value:function(n){return r.stripTrailingSlash(function eB(t,r){return t&&r.startsWith(t)?r.substring(t.length):r}(this._baseHref,Nb(n)))}},{key:"prepareExternalUrl",value:function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}},{key:"go",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pa(i)),a)}},{key:"replaceState",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pa(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var i,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,n)}},{key:"onUrlChange",value:function(n){var i=this;this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(n,i)})}},{key:"subscribe",value:function(n,i,a){return this._subject.subscribe({next:n,error:i,complete:a})}}]),r}();return t.normalizeQueryParams=pa,t.joinWithSlash=Cg,t.stripTrailingSlash=Fb,t.\u0275fac=function(e){return new(e||t)(z(Qs),z(Ao))},t.\u0275prov=re({token:t,factory:function(){return function JV(){return new wg(z(Qs),z(Ao))}()},providedIn:"root"}),t}();function Nb(t){return t.replace(/\/index.html$/,"")}var rn=function(){return(rn=rn||{})[rn.Zero=0]="Zero",rn[rn.One=1]="One",rn[rn.Two=2]="Two",rn[rn.Few=3]="Few",rn[rn.Many=4]="Many",rn[rn.Other=5]="Other",rn}(),$t=function(){return($t=$t||{})[$t.Format=0]="Format",$t[$t.Standalone=1]="Standalone",$t}(),Ke=function(){return(Ke=Ke||{})[Ke.Narrow=0]="Narrow",Ke[Ke.Abbreviated=1]="Abbreviated",Ke[Ke.Wide=2]="Wide",Ke[Ke.Short=3]="Short",Ke}(),Ht=function(){return(Ht=Ht||{})[Ht.Short=0]="Short",Ht[Ht.Medium=1]="Medium",Ht[Ht.Long=2]="Long",Ht[Ht.Full=3]="Full",Ht}(),ve=function(){return(ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Group=1]="Group",ve[ve.List=2]="List",ve[ve.PercentSign=3]="PercentSign",ve[ve.PlusSign=4]="PlusSign",ve[ve.MinusSign=5]="MinusSign",ve[ve.Exponential=6]="Exponential",ve[ve.SuperscriptingExponent=7]="SuperscriptingExponent",ve[ve.PerMille=8]="PerMille",ve[ve.Infinity=9]="Infinity",ve[ve.NaN=10]="NaN",ve[ve.TimeSeparator=11]="TimeSeparator",ve[ve.CurrencyDecimal=12]="CurrencyDecimal",ve[ve.CurrencyGroup=13]="CurrencyGroup",ve}();function Uf(t,r){return Hr(Gn(t)[X.DateFormat],r)}function jf(t,r){return Hr(Gn(t)[X.TimeFormat],r)}function Gf(t,r){return Hr(Gn(t)[X.DateTimeFormat],r)}function Br(t,r){var e=Gn(t),n=e[X.NumberSymbols][r];if(void 0===n){if(r===ve.CurrencyDecimal)return e[X.NumberSymbols][ve.Decimal];if(r===ve.CurrencyGroup)return e[X.NumberSymbols][ve.Group]}return n}var sB=function Zw(t){return Gn(t)[X.PluralCase]};function Bb(t){if(!t[X.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[X.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Hr(t,r){for(var e=r;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function bg(t){var e=W(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var dB=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Al={},vB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mn=function(){return(mn=mn||{})[mn.Short=0]="Short",mn[mn.ShortGMT=1]="ShortGMT",mn[mn.Long=2]="Long",mn[mn.Extended=3]="Extended",mn}(),ge=function(){return(ge=ge||{})[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge}(),Ne=function(){return(Ne=Ne||{})[Ne.DayPeriods=0]="DayPeriods",Ne[Ne.Days=1]="Days",Ne[Ne.Months=2]="Months",Ne[Ne.Eras=3]="Eras",Ne}();function pB(t,r,e,n){var i=function bB(t){if(jb(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var e=W(t.split("-").map(function(f){return+f}),3),i=e[1],o=e[2];return zf(e[0],(void 0===i?1:i)-1,void 0===o?1:o)}var l,u=parseFloat(t);if(!isNaN(t-u))return new Date(u);if(l=t.match(dB))return function TB(t){var r=new Date(0),e=0,n=0,i=t[8]?r.setUTCFullYear:r.setFullYear,a=t[8]?r.setUTCHours:r.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(r,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-e,s=Number(t[5]||0)-n,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(r,o,s,u,l),r}(l)}var c=new Date(t);if(!jb(c))throw new Error('Unable to convert "'.concat(t,'" into a date'));return c}(t);r=ga(e,r)||r;for(var s,o=[];r;){if(!(s=vB.exec(r))){o.push(r);break}var u=(o=o.concat(s.slice(1))).pop();if(!u)break;r=u}var l=i.getTimezoneOffset();n&&(l=Ub(n,l),i=function SB(t,r,e){var n=e?-1:1,i=t.getTimezoneOffset();return function wB(t,r){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+r),t}(t,n*(Ub(r,i)-i))}(i,n,!0));var c="";return o.forEach(function(f){var h=function EB(t){if(Dg[t])return Dg[t];var r;switch(t){case"G":case"GG":case"GGG":r=It(Ne.Eras,Ke.Abbreviated);break;case"GGGG":r=It(Ne.Eras,Ke.Wide);break;case"GGGGG":r=It(Ne.Eras,Ke.Narrow);break;case"y":r=an(ge.FullYear,1,0,!1,!0);break;case"yy":r=an(ge.FullYear,2,0,!0,!0);break;case"yyy":r=an(ge.FullYear,3,0,!1,!0);break;case"yyyy":r=an(ge.FullYear,4,0,!1,!0);break;case"Y":r=Yf(1);break;case"YY":r=Yf(2,!0);break;case"YYY":r=Yf(3);break;case"YYYY":r=Yf(4);break;case"M":case"L":r=an(ge.Month,1,1);break;case"MM":case"LL":r=an(ge.Month,2,1);break;case"MMM":r=It(Ne.Months,Ke.Abbreviated);break;case"MMMM":r=It(Ne.Months,Ke.Wide);break;case"MMMMM":r=It(Ne.Months,Ke.Narrow);break;case"LLL":r=It(Ne.Months,Ke.Abbreviated,$t.Standalone);break;case"LLLL":r=It(Ne.Months,Ke.Wide,$t.Standalone);break;case"LLLLL":r=It(Ne.Months,Ke.Narrow,$t.Standalone);break;case"w":r=Tg(1);break;case"ww":r=Tg(2);break;case"W":r=Tg(1,!0);break;case"d":r=an(ge.Date,1);break;case"dd":r=an(ge.Date,2);break;case"c":case"cc":r=an(ge.Day,1);break;case"ccc":r=It(Ne.Days,Ke.Abbreviated,$t.Standalone);break;case"cccc":r=It(Ne.Days,Ke.Wide,$t.Standalone);break;case"ccccc":r=It(Ne.Days,Ke.Narrow,$t.Standalone);break;case"cccccc":r=It(Ne.Days,Ke.Short,$t.Standalone);break;case"E":case"EE":case"EEE":r=It(Ne.Days,Ke.Abbreviated);break;case"EEEE":r=It(Ne.Days,Ke.Wide);break;case"EEEEE":r=It(Ne.Days,Ke.Narrow);break;case"EEEEEE":r=It(Ne.Days,Ke.Short);break;case"a":case"aa":case"aaa":r=It(Ne.DayPeriods,Ke.Abbreviated);break;case"aaaa":r=It(Ne.DayPeriods,Ke.Wide);break;case"aaaaa":r=It(Ne.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":r=It(Ne.DayPeriods,Ke.Abbreviated,$t.Standalone,!0);break;case"bbbb":r=It(Ne.DayPeriods,Ke.Wide,$t.Standalone,!0);break;case"bbbbb":r=It(Ne.DayPeriods,Ke.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":r=It(Ne.DayPeriods,Ke.Abbreviated,$t.Format,!0);break;case"BBBB":r=It(Ne.DayPeriods,Ke.Wide,$t.Format,!0);break;case"BBBBB":r=It(Ne.DayPeriods,Ke.Narrow,$t.Format,!0);break;case"h":r=an(ge.Hours,1,-12);break;case"hh":r=an(ge.Hours,2,-12);break;case"H":r=an(ge.Hours,1);break;case"HH":r=an(ge.Hours,2);break;case"m":r=an(ge.Minutes,1);break;case"mm":r=an(ge.Minutes,2);break;case"s":r=an(ge.Seconds,1);break;case"ss":r=an(ge.Seconds,2);break;case"S":r=an(ge.FractionalSeconds,1);break;case"SS":r=an(ge.FractionalSeconds,2);break;case"SSS":r=an(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=qf(mn.Short);break;case"ZZZZZ":r=qf(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=qf(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=qf(mn.Long);break;default:return null}return Dg[t]=r,r}(f);c+=h?h(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function zf(t,r,e){var n=new Date(0);return n.setFullYear(t,r,e),n.setHours(0,0,0),n}function ga(t,r){var e=function tB(t){return Gn(t)[X.LocaleId]}(t);if(Al[e]=Al[e]||{},Al[e][r])return Al[e][r];var n="";switch(r){case"shortDate":n=Uf(t,Ht.Short);break;case"mediumDate":n=Uf(t,Ht.Medium);break;case"longDate":n=Uf(t,Ht.Long);break;case"fullDate":n=Uf(t,Ht.Full);break;case"shortTime":n=jf(t,Ht.Short);break;case"mediumTime":n=jf(t,Ht.Medium);break;case"longTime":n=jf(t,Ht.Long);break;case"fullTime":n=jf(t,Ht.Full);break;case"short":var i=ga(t,"shortTime"),a=ga(t,"shortDate");n=Wf(Gf(t,Ht.Short),[i,a]);break;case"medium":var o=ga(t,"mediumTime"),s=ga(t,"mediumDate");n=Wf(Gf(t,Ht.Medium),[o,s]);break;case"long":var u=ga(t,"longTime"),l=ga(t,"longDate");n=Wf(Gf(t,Ht.Long),[u,l]);break;case"full":var c=ga(t,"fullTime"),f=ga(t,"fullDate");n=Wf(Gf(t,Ht.Full),[c,f])}return n&&(Al[e][r]=n),n}function Wf(t,r){return r&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return null!=r&&n in r?r[n]:e})),t}function yi(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));for(var o=String(t);o.length<r;)o="0"+o;return n&&(o=o.substr(o.length-r)),a+o}function gB(t,r){return yi(t,3).substr(0,r)}function an(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=mB(t,a);if((e>0||s>-e)&&(s+=e),t===ge.Hours)0===s&&-12===e&&(s=12);else if(t===ge.FractionalSeconds)return gB(s,r);var u=Br(o,ve.MinusSign);return yi(s,r,u,n,i)}}function mB(t,r){switch(t){case ge.FullYear:return r.getFullYear();case ge.Month:return r.getMonth();case ge.Date:return r.getDate();case ge.Hours:return r.getHours();case ge.Minutes:return r.getMinutes();case ge.Seconds:return r.getSeconds();case ge.FractionalSeconds:return r.getMilliseconds();case ge.Day:return r.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function It(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t.Format,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return yB(i,a,t,r,e,n)}}function yB(t,r,e,n,i,a){switch(e){case Ne.Months:return function iB(t,r,e){var n=Gn(t),a=Hr([n[X.MonthsFormat],n[X.MonthsStandalone]],r);return Hr(a,e)}(r,i,n)[t.getMonth()];case Ne.Days:return function rB(t,r,e){var n=Gn(t),a=Hr([n[X.DaysFormat],n[X.DaysStandalone]],r);return Hr(a,e)}(r,i,n)[t.getDay()];case Ne.DayPeriods:var o=t.getHours(),s=t.getMinutes();if(a){var u=function uB(t){var r=Gn(t);return Bb(r),(r[X.ExtraData][2]||[]).map(function(n){return"string"==typeof n?bg(n):[bg(n[0]),bg(n[1])]})}(r),l=function lB(t,r,e){var n=Gn(t);Bb(n);var a=Hr([n[X.ExtraData][0],n[X.ExtraData][1]],r)||[];return Hr(a,e)||[]}(r,i,n),c=u.findIndex(function(h){if(Array.isArray(h)){var d=W(h,2),v=d[0],p=d[1],y=o>=v.hours&&s>=v.minutes,C=o<p.hours||o===p.hours&&s<p.minutes;if(v.hours<p.hours){if(y&&C)return!0}else if(y||C)return!0}else if(h.hours===o&&h.minutes===s)return!0;return!1});if(-1!==c)return l[c]}return function nB(t,r,e){var n=Gn(t),a=Hr([n[X.DayPeriodsFormat],n[X.DayPeriodsStandalone]],r);return Hr(a,e)}(r,i,n)[o<12?0:1];case Ne.Eras:return function aB(t,r){return Hr(Gn(t)[X.Eras],r)}(r,n)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(e))}}function qf(t){return function(r,e,n){var i=-1*n,a=Br(e,ve.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case mn.Short:return(i>=0?"+":"")+yi(o,2,a)+yi(Math.abs(i%60),2,a);case mn.ShortGMT:return"GMT"+(i>=0?"+":"")+yi(o,1,a);case mn.Long:return"GMT"+(i>=0?"+":"")+yi(o,2,a)+":"+yi(Math.abs(i%60),2,a);case mn.Extended:return 0===n?"Z":(i>=0?"+":"")+yi(o,2,a)+":"+yi(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function CB(t){var r=zf(t,0,1).getDay();return zf(t,0,1+(r<=4?4:11)-r)}function Hb(t){return zf(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Tg(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){var i;if(r){var a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+a)/7)}else{var s=Hb(e),u=CB(s.getFullYear()),l=s.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return yi(i,t,Br(n,ve.MinusSign))}}function Yf(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){return yi(Hb(e).getFullYear(),t,Br(n,ve.MinusSign),r)}}var Dg={};function Ub(t,r){t=t.replace(/:/g,"");var e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?r:e}function jb(t){return t instanceof Date&&!isNaN(t.valueOf())}var Xf=g(function t(){m(this,t)}),LB=function(){var t=function(r){A(n,r);var e=O(n);function n(i){var a;return m(this,n),(a=e.call(this)).locale=i,a}return g(n,[{key:"getPluralCategory",value:function(a,o){switch(sB(o||this.locale)(a)){case rn.Zero:return"zero";case rn.One:return"one";case rn.Two:return"two";case rn.Few:return"few";case rn.Many:return"many";default:return"other"}}}]),n}(Xf);return t.\u0275fac=function(e){return new(e||t)(z(Ga))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function qb(t,r){r=encodeURIComponent(r);var n,e=b(t.split(";"));try{for(e.s();!(n=e.n()).done;){var i=n.value,a=i.indexOf("="),s=W(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===r)return decodeURIComponent(l)}}catch(c){e.e(c)}finally{e.f()}return null}var Bi=function(){var t=function(){function r(e,n,i,a){m(this,r),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(r,[{key:"klass",set:function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(fl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ft(a.item)));i._toggleClass(a.item,!0)}),n.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!!n[a])}))}},{key:"_removeClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(n,i){var a=this;(n=n.trim())&&n.split(/\s+/g).forEach(function(o){i?a._renderer.addClass(a._ngEl.nativeElement,o):a._renderer.removeClass(a._ngEl.nativeElement,o)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(kl),T(Il),T(Bt),T(vi))},t.\u0275dir=le({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),VB=function(){function t(r,e,n,i){m(this,t),this.$implicit=r,this.ngForOf=e,this.index=n,this.count=i}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Qf=function(){var t=function(){function r(e,n,i){m(this,r),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(r,[{key:"ngForOf",set:function(n){this._ngForOf=n,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(n){this._trackByFn=n}},{key:"ngForTemplate",set:function(n){n&&(this._template=n)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(n){var i=this,a=this._viewContainer;n.forEachOperation(function(c,f,h){if(null==c.previousIndex)a.createEmbeddedView(i._template,new VB(c.item,i._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)a.remove(null===f?void 0:f);else if(null!==f){var d=a.get(f);a.move(d,h),Kb(d,c)}});for(var o=0,s=a.length;o<s;o++){var l=a.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(function(c){Kb(a.get(c.currentIndex),c)})}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Vr),T(pi),T(kl))},t.\u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}();function Kb(t,r){t.context.$implicit=r.item}var Ur=function(){var t=function(){function r(e,n){m(this,r),this._viewContainer=e,this._context=new BB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(r,[{key:"ngIf",set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}},{key:"ngIfThen",set:function(n){Yb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(n){Yb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Vr),T(pi))},t.\u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),BB=g(function t(){m(this,t),this.$implicit=null,this.ngIf=null});function Yb(t,r){if(r&&!r.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(ft(r),"'."))}var za=function(){var t=function(){function r(e,n,i){m(this,r),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return g(r,[{key:"ngStyle",set:function(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}},{key:"_setStyle",value:function(n,i){var o=W(n.split("."),2),s=o[0],u=o[1];null!=(i=null!=i&&u?"".concat(i).concat(u):i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}},{key:"_applyChanges",value:function(n){var i=this;n.forEachRemovedItem(function(a){return i._setStyle(a.key,null)}),n.forEachAddedItem(function(a){return i._setStyle(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._setStyle(a.key,a.currentValue)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(Il),T(vi))},t.\u0275dir=le({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),$s=function(){var t=function(){function r(e){m(this,r),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return g(r,[{key:"ngOnChanges",value:function(n){if(n.ngTemplateOutlet){var i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Vr))},t.\u0275dir=le({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Zn]}),t}();function _i(t,r){return new J(2100,"")}var $B=new we("DATE_PIPE_DEFAULT_TIMEZONE"),Xb=function(){var t=function(){function r(e,n){m(this,r),this.locale=e,this.defaultTimezone=n}return g(r,[{key:"transform",value:function(n){var s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==n||""===n||n!=n)return null;try{return pB(n,i,o||this.locale,null!==(s=null!=a?a:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(u){throw _i()}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ga,16),T($B,24))},t.\u0275pipe=Kn({name:"date",type:t,pure:!0}),t}(),gr=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:[{provide:Xf,useClass:LB}]}),t}(),$b="browser";function Fg(t){return t===$b}var hH=function(){var t=g(function r(){m(this,r)});return t.\u0275prov=re({token:t,providedIn:"root",factory:function(){return new dH(z(En),window)}}),t}(),dH=function(){function t(r,e){m(this,t),this.document=r,this.window=e,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var n=function vH(t,r){var e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(r)||a.querySelector('[name="'.concat(r,'"]'));if(o)return o}i=n.nextNode()}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Jb(this.window.history)||Jb(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(n){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),t}();function Jb(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var $f,Lg=g(function t(){m(this,t)}),pH=function(t){A(e,t);var r=O(e);function e(){var n;return m(this,e),(n=r.apply(this,arguments)).supportsDOMEvents=!0,n}return g(e)}(KV),gH=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=function mH(){return(Ml=Ml||document.querySelector("base"))?Ml.getAttribute("href"):null}();return null==a?null:function yH(t){($f=$f||document.createElement("a")).setAttribute("href",t);var r=$f.pathname;return"/"===r.charAt(0)?r:"/".concat(r)}(a)}},{key:"resetBaseElement",value:function(){Ml=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return qb(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function qV(t){Hf||(Hf=t)}(new e)}}]),e}(pH),Ml=null,eT=new we("TRANSITION_ID"),CH=[{provide:Tl,useFactory:function _H(t,r,e){return function(){e.get(Zs).donePromise.then(function(){for(var n=Vi(),i=r.querySelectorAll('style[ng-transition="'.concat(t,'"]')),a=0;a<i.length;a++)n.remove(i[a])})}},deps:[eT,En,hn],multi:!0}],EH=function(){function t(){m(this,t)}return g(t,[{key:"addToWindow",value:function(e){vt.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},vt.getAllAngularTestabilities=function(){return e.getAllTestabilities()},vt.getAllAngularRootElements=function(){return e.getAllRootElements()},vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(function(a){var o=vt.getAllAngularTestabilities(),s=o.length,u=!1,l=function(f){u=u||f,0==--s&&a(u)};o.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(e,n,i){if(null==n)return null;var a=e.getTestability(n);return null!=a?a:i?Vi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}],[{key:"init",value:function(){!function mV(t){dg=t}(new t)}}]),t}(),wH=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Jf=new we("EventManagerPlugins"),eh=function(){var t=function(){function r(e,n){var i=this;m(this,r),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return g(r,[{key:"addEventListener",value:function(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}},{key:"addGlobalEventListener",value:function(n,i,a){return this._findPluginFor(i).addGlobalEventListener(n,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(n){var i=this._eventNameToPlugin.get(n);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var s=a[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error("No event manager plugin found for event ".concat(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Jf),z(gt))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),tT=function(){function t(r){m(this,t),this._doc=r}return g(t,[{key:"addGlobalEventListener",value:function(e,n,i){var a=Vi().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(n));return this.addEventListener(a,n,i)}}]),t}(),nT=function(){var t=function(){function r(){m(this,r),this._stylesSet=new Set}return g(r,[{key:"addStyles",value:function(n){var i=this,a=new Set;n.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(n){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Rl=function(){var t=function(r){A(n,r);var e=O(n);function n(i){var a;return m(this,n),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return g(n,[{key:"_addStylesToHost",value:function(a,o,s){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,s.push(o.appendChild(c))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(rT),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(s,u){o._addStylesToHost(a,u,s)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(rT)})}}]),n}(nT);return t.\u0275fac=function(e){return new(e||t)(z(En))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function rT(t){Vi().remove(t)}var Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vg=/%COMP%/g,SH="_nghost-".concat("%COMP%"),bH="_ngcontent-".concat("%COMP%");function th(t,r,e){for(var n=0;n<r.length;n++){var i=r[n];Array.isArray(i)?th(t,i,e):(i=i.replace(Vg,t),e.push(i))}return e}function oT(t){return function(r){if("__ngUnwrap__"===r)return t;!1===t(r)&&(r.preventDefault(),r.returnValue=!1)}}var nh=function(){var t=function(){function r(e,n,i){m(this,r),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Bg(e)}return g(r,[{key:"createRenderer",value:function(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case ii.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new IH(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(n),a;case 1:case ii.ShadowDom:return new AH(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){var o=th(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(eh),z(Rl),z(Dl))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Bg=function(){function t(r){m(this,t),this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,n){return n?document.createElementNS(Ng[n]||n,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,n){e.appendChild(n)}},{key:"insertBefore",value:function(e,n,i){e&&e.insertBefore(n,i)}},{key:"removeChild",value:function(e,n){e&&e.removeChild(n)}},{key:"selectRootElement",value:function(e,n){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return n||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,n,i,a){if(a){n=a+":"+n;var o=Ng[a];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}},{key:"removeAttribute",value:function(e,n,i){if(i){var a=Ng[i];a?e.removeAttributeNS(a,n):e.removeAttribute("".concat(i,":").concat(n))}else e.removeAttribute(n)}},{key:"addClass",value:function(e,n){e.classList.add(n)}},{key:"removeClass",value:function(e,n){e.classList.remove(n)}},{key:"setStyle",value:function(e,n,i,a){a&(hr.DashCase|hr.Important)?e.style.setProperty(n,i,a&hr.Important?"important":""):e.style[n]=i}},{key:"removeStyle",value:function(e,n,i){i&hr.DashCase?e.style.removeProperty(n):e.style[n]=""}},{key:"setProperty",value:function(e,n,i){e[n]=i}},{key:"setValue",value:function(e,n){e.nodeValue=n}},{key:"listen",value:function(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,oT(i)):this.eventManager.addEventListener(e,n,oT(i))}}]),t}(),IH=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;m(this,e),(s=r.call(this,n)).component=a;var u=th(o+"-"+a.id,a.styles,[]);return i.addStyles(u),s.contentAttr=function TH(t){return bH.replace(Vg,t)}(o+"-"+a.id),s.hostAttr=function DH(t){return SH.replace(Vg,t)}(o+"-"+a.id),s}return g(e,[{key:"applyToHost",value:function(i){Me(Ve(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=Me(Ve(e.prototype),"createElement",this).call(this,i,a);return Me(Ve(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(Bg),AH=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;m(this,e),(s=r.call(this,n)).sharedStylesHost=i,s.hostEl=a,s.shadowRoot=a.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=th(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return g(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return Me(Ve(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return Me(Ve(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return Me(Ve(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(Me(Ve(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(Bg),OH=function(){var t=function(r){A(n,r);var e=O(n);function n(i){return m(this,n),e.call(this,i)}return g(n,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}]),n}(tT);return t.\u0275fac=function(e){return new(e||t)(z(En))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),uT=["alt","control","meta","shift"],RH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},PH={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},xH=function(){var t=function(r){A(n,r);var e=O(n);function n(i){return m(this,n),e.call(this,i)}return g(n,[{key:"supports",value:function(a){return null!=n.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=n.parseEventName(o),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Vi().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=n._normalizeKey(o.pop()),l="";if(uT.forEach(function(f){var h=o.indexOf(f);h>-1&&(o.splice(h,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var c={};return c.domEventName=s,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var o="",s=function FH(t){var r=t.key;if(null==r){if(null==(r=t.keyIdentifier))return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===t.location&&lT.hasOwnProperty(r)&&(r=lT[r]))}return RH[r]||r}(a);return" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),uT.forEach(function(u){u!=s&&(0,PH[u])(a)&&(o+=u+".")}),o+=s}},{key:"eventCallback",value:function(a,o,s){return function(u){n.getEventFullKey(u)===a&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}]),n}(tT);return t.\u0275fac=function(e){return new(e||t)(z(En))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),BH=[{provide:ko,useValue:$b},{provide:ub,useValue:function LH(){gH.makeCurrent(),EH.init()},multi:!0},{provide:En,useFactory:function VH(){return function q1(t){vv=t}(document),document},deps:[]}],HH=mb(BV,"browser",BH),UH=[{provide:Ap,useValue:"root"},{provide:ws,useFactory:function NH(){return new ws},deps:[]},{provide:Jf,useClass:OH,multi:!0,deps:[En,gt,ko]},{provide:Jf,useClass:xH,multi:!0,deps:[En]},{provide:nh,useClass:nh,deps:[eh,Rl,Dl]},{provide:_l,useExisting:nh},{provide:nT,useExisting:Rl},{provide:Rl,useClass:Rl,deps:[En]},{provide:hg,useClass:hg,deps:[gt]},{provide:eh,useClass:eh,deps:[Jf,gt]},{provide:Lg,useClass:wH,deps:[]}],cT=function(){var t=function(){function r(e){if(m(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(r,null,[{key:"withServerTransition",value:function(n){return{ngModule:r,providers:[{provide:Dl,useValue:n.appId},{provide:eT,useExisting:Dl},CH]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(t,12))},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:UH,imports:[gr,zV]}),t}();function me(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r);return ln(r,n)}"undefined"!=typeof window&&window;var jr=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this))._value=n,i}return g(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=Me(Ve(e.prototype),"_subscribe",this).call(this,i);return!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){var o=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),o}},{key:"next",value:function(i){Me(Ve(e.prototype),"next",this).call(this,this._value=i)}}]),e}(it),XH=Array.isArray,QH=Object.getPrototypeOf,$H=Object.prototype,JH=Object.keys;function dT(t){if(1===t.length){var r=t[0];if(XH(r))return{args:r,keys:null};if(function eU(t){return t&&"object"==typeof t&&QH(t)===$H}(r)){var e=JH(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}var tU=Array.isArray;function Ug(t){return je(function(r){return function nU(t,r){return tU(r)?t.apply(void 0,K(r)):t(r)}(t,r)})}function vT(t,r){return t.reduce(function(e,n,i){return e[n]=r[i],e},{})}function iU(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa;return function(n){pT(r,function(){for(var i=t.length,a=new Array(i),o=i,s=i,u=function(f){pT(r,function(){var h=ln(t[f],r),d=!1;h.subscribe(new Tt(n,function(v){a[f]=v,d||(d=!0,s--),s||n.next(e(a.slice()))},function(){--o||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}function pT(t,r,e){t?ia(e,t,r):r()}var rh=ar(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function aU(){return Lu(1)}function Pl(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return aU()(ln(r,Nu(r)))}function ih(t){return new tt(function(r){or(t()).subscribe(r)})}function gT(){return Ft(function(t,r){var e=null;t._refCount++;var n=new Tt(r,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)e=null;else{var i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),r.unsubscribe()}});t.subscribe(n),n.closed||(e=t.connect())})}var mT=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this)).source=n,a.subjectFactory=i,a._subject=null,a._refCount=0,a._connection=null,B_(n)&&(a.lift=n.lift),a}return g(e,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var i=this._connection;this._subject=this._connection=null,null==i||i.unsubscribe()}},{key:"connect",value:function(){var i=this,a=this._connection;if(!a){a=this._connection=new V;var o=this.getSubject();a.add(this.source.subscribe(new Tt(o,void 0,function(){i._teardown(),o.complete()},function(s){i._teardown(),o.error(s)},function(){return i._teardown()}))),a.closed&&(this._connection=null,a=V.EMPTY)}return a}},{key:"refCount",value:function(){return gT()(this)}}]),e}(tt);function Gr(t,r){return Ft(function(e,n){var i=null,a=0,o=!1,s=function(){return o&&!i&&n.complete()};e.subscribe(new Tt(n,function(u){null==i||i.unsubscribe();var l=0,c=a++;or(t(u,c)).subscribe(i=new Tt(n,function(f){return n.next(r?r(u,f,c,l++):f)},function(){i=null,s()}))},function(){o=!0,s()}))})}function jg(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r);return Ft(function(i,a){(n?Pl(r,i,n):Pl(r,i)).subscribe(a)})}function oU(t,r,e,n,i){return function(a,o){var s=e,u=r,l=0;a.subscribe(new Tt(o,function(c){var f=l++;u=s?t(u,c,f):(s=!0,c),n&&o.next(u)},i&&function(){s&&o.next(u),o.complete()}))}}function yT(t,r){return Ft(oU(t,r,arguments.length>=2,!0))}function wn(t,r){return Ft(function(e,n){var i=0;e.subscribe(new Tt(n,function(a){return t.call(r,a,i++)&&n.next(a)}))})}function ma(t){return Ft(function(r,e){var a,n=null,i=!1;n=r.subscribe(new Tt(e,void 0,void 0,function(o){a=or(t(o,ma(t)(r))),n?(n.unsubscribe(),n=null,a.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(e))})}function Js(t,r){return be(r)?Xt(t,r,1):Xt(t,1)}function Gg(t){return t<=0?function(){return aa}:Ft(function(r,e){var n=[];r.subscribe(new Tt(e,function(i){n.push(i),t<n.length&&n.shift()},function(){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)e.next(a.value)}catch(s){i.e(s)}finally{i.f()}e.complete()},void 0,function(){n=null}))})}function _T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sU;return Ft(function(r,e){var n=!1;r.subscribe(new Tt(e,function(i){n=!0,e.next(i)},function(){return n?e.complete():e.error(t())}))})}function sU(){return new rh}function CT(t){return Ft(function(r,e){var n=!1;r.subscribe(new Tt(e,function(i){n=!0,e.next(i)},function(){n||e.next(t),e.complete()}))})}function eu(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?wn(function(i,a){return t(i,a,n)}):Pa,Ir(1),e?CT(r):_T(function(){return new rh}))}}function $n(t,r,e){var n=be(t)||r||e?{next:t,error:r,complete:e}:t;return n?Ft(function(i,a){var o;null===(o=n.subscribe)||void 0===o||o.call(n);var s=!0;i.subscribe(new Tt(a,function(u){var l;null===(l=n.next)||void 0===l||l.call(n,u),a.next(u)},function(){var u;s=!1,null===(u=n.complete)||void 0===u||u.call(n),a.complete()},function(u){var l;s=!1,null===(l=n.error)||void 0===l||l.call(n,u),a.error(u)},function(){var u,l;s&&(null===(u=n.unsubscribe)||void 0===u||u.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):Pa}var ya=g(function t(r,e){m(this,t),this.id=r,this.url=e}),zg=function(t){A(e,t);var r=O(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m(this,e),(a=r.call(this,n,i)).navigationTrigger=o,a.restoredState=s,a}return g(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ya),xl=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this,n,i)).urlAfterRedirects=a,o}return g(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(ya),ET=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this,n,i)).reason=a,o}return g(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ya),cU=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this,n,i)).error=a,o}return g(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(ya),fU=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ya),hU=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ya),dU=function(t){A(e,t);var r=O(e);function e(n,i,a,o,s){var u;return m(this,e),(u=r.call(this,n,i)).urlAfterRedirects=a,u.state=o,u.shouldActivate=s,u}return g(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(ya),vU=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ya),pU=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ya),wT=function(){function t(r){m(this,t),this.route=r}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),ST=function(){function t(r){m(this,t),this.route=r}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),gU=function(){function t(r){m(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),mU=function(){function t(r){m(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),yU=function(){function t(r){m(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_U=function(){function t(r){m(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bT=function(){function t(r,e,n){m(this,t),this.routerEvent=r,this.position=e,this.anchor=n}return g(t,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),t}(),ze="primary",CU=function(){function t(r){m(this,t),this.params=r||{}}return g(t,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n[0]:n}return null}},{key:"getAll",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n:[n]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function tu(t){return new CU(t)}var TT="ngNavigationCancelingError";function Wg(t){var r=Error("NavigationCancelingError: "+t);return r[TT]=!0,r}function wU(t,r,e){var n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(r.hasChildren()||n.length<t.length))return null;for(var i={},a=0;a<n.length;a++){var o=n[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Hi(t,r){var e=t?Object.keys(t):void 0,n=r?Object.keys(r):void 0;if(!e||!n||e.length!=n.length)return!1;for(var i,a=0;a<e.length;a++)if(!DT(t[i=e[a]],r[i]))return!1;return!0}function DT(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;var e=K(t).sort(),n=K(r).sort();return e.every(function(i,a){return n[a]===i})}return t===r}function kT(t){return Array.prototype.concat.apply([],t)}function IT(t){return t.length>0?t[t.length-1]:null}function Dn(t,r){for(var e in t)t.hasOwnProperty(e)&&r(t[e],e)}function Ui(t){return Hp(t)?t:dl(t)?ln(Promise.resolve(t)):me(t)}var TU={exact:function MT(t,r,e){if(!Mo(t.segments,r.segments)||!ah(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children)if(!t.children[n]||!MT(t.children[n],r.children[n],e))return!1;return!0},subset:RT},AT={exact:function DU(t,r){return Hi(t,r)},subset:function kU(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(function(e){return DT(t[e],r[e])})},ignored:function(){return!0}};function OT(t,r,e){return TU[e.paths](t.root,r.root,e.matrixParams)&&AT[e.queryParams](t.queryParams,r.queryParams)&&!("exact"===e.fragment&&t.fragment!==r.fragment)}function RT(t,r,e){return PT(t,r,r.segments,e)}function PT(t,r,e,n){if(t.segments.length>e.length){var i=t.segments.slice(0,e.length);return!(!Mo(i,e)||r.hasChildren()||!ah(i,e,n))}if(t.segments.length===e.length){if(!Mo(t.segments,e)||!ah(t.segments,e,n))return!1;for(var a in r.children)if(!t.children[a]||!RT(t.children[a],r.children[a],n))return!1;return!0}var o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Mo(t.segments,o)&&ah(t.segments,o,n)&&t.children[ze])&&PT(t.children[ze],r,s,n)}function ah(t,r,e){return r.every(function(n,i){return AT[e](t[i].parameters,n.parameters)})}var Oo=function(){function t(r,e,n){m(this,t),this.root=r,this.queryParams=e,this.fragment=n}return g(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=tu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return OU.serialize(this)}}]),t}(),Ye=function(){function t(r,e){var n=this;m(this,t),this.segments=r,this.children=e,this.parent=null,Dn(e,function(i,a){return i.parent=n})}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return oh(this)}}]),t}(),Fl=function(){function t(r,e){m(this,t),this.path=r,this.parameters=e}return g(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=tu(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return VT(this)}}]),t}();function Mo(t,r){return t.length===r.length&&t.every(function(e,n){return e.path===r[n].path})}var xT=g(function t(){m(this,t)}),FT=function(){function t(){m(this,t)}return g(t,[{key:"parse",value:function(e){var n=new BU(e);return new Oo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}},{key:"serialize",value:function(e){var n="/".concat(Ll(e.root,!0)),i=function PU(t){var r=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(i){return"".concat(sh(e),"=").concat(sh(i))}).join("&"):"".concat(sh(e),"=").concat(sh(n))}).filter(function(e){return!!e});return r.length?"?".concat(r.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function MU(t){return encodeURI(t)}(e.fragment)):"";return"".concat(n).concat(i).concat(a)}}]),t}(),OU=new FT;function oh(t){return t.segments.map(function(r){return VT(r)}).join("/")}function Ll(t,r){if(!t.hasChildren())return oh(t);if(r){var e=t.children[ze]?Ll(t.children[ze],!1):"",n=[];return Dn(t.children,function(a,o){o!==ze&&n.push("".concat(o,":").concat(Ll(a,!1)))}),n.length>0?"".concat(e,"(").concat(n.join("//"),")"):e}var i=function AU(t,r){var e=[];return Dn(t.children,function(n,i){i===ze&&(e=e.concat(r(n,i)))}),Dn(t.children,function(n,i){i!==ze&&(e=e.concat(r(n,i)))}),e}(t,function(a,o){return o===ze?[Ll(t.children[ze],!1)]:["".concat(o,":").concat(Ll(a,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[ze]?"".concat(oh(t),"/").concat(i[0]):"".concat(oh(t),"/(").concat(i.join("//"),")")}function LT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(t){return LT(t).replace(/%3B/gi,";")}function qg(t){return LT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(t){return decodeURIComponent(t)}function NT(t){return uh(t.replace(/\+/g,"%20"))}function VT(t){return"".concat(qg(t.path)).concat(function RU(t){return Object.keys(t).map(function(r){return";".concat(qg(r),"=").concat(qg(t[r]))}).join("")}(t.parameters))}var xU=/^[^\/()?;=#]+/;function lh(t){var r=t.match(xU);return r?r[0]:""}var FU=/^[^=?&#]+/,NU=/^[^&#]+/,BU=function(){function t(r){m(this,t),this.url=r,this.remaining=r}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ze]=new Ye(e,n)),i}},{key:"parseSegment",value:function(){var e=lh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Fl(uh(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var n=lh(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=lh(this.remaining);a&&this.capture(i=a)}e[uh(n)]=uh(i)}}},{key:"parseQueryParam",value:function(e){var n=function LU(t){var r=t.match(FU);return r?r[0]:""}(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=function VU(t){var r=t.match(NU);return r?r[0]:""}(this.remaining);a&&this.capture(i=a)}var o=NT(n),s=NT(i);if(e.hasOwnProperty(o)){var u=e[o];Array.isArray(u)||(e[o]=u=[u]),u.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=lh(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ze);var s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ze]:new Ye([],s),this.consumeOptional("//")}return n}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),t}(),BT=function(){function t(r){m(this,t),this._root=r}return g(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}},{key:"children",value:function(e){var n=Kg(e,this._root);return n?n.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var n=Kg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}},{key:"siblings",value:function(e){var n=Yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Yg(e,this._root).map(function(n){return n.value})}}]),t}();function Kg(t,r){if(t===r.value)return r;var n,e=b(r.children);try{for(e.s();!(n=e.n()).done;){var a=Kg(t,n.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Yg(t,r){if(t===r.value)return[r];var n,e=b(r.children);try{for(e.s();!(n=e.n()).done;){var a=Yg(t,n.value);if(a.length)return a.unshift(r),a}}catch(o){e.e(o)}finally{e.f()}return[]}var _a=function(){function t(r,e){m(this,t),this.value=r,this.children=e}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function nu(t){var r={};return t&&t.children.forEach(function(e){return r[e.value.outlet]=e}),r}var HT=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,n)).snapshot=i,Zg(xt(a),n),a}return g(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(BT);function UT(t,r){var e=function HU(t,r){var o=new ch([],{},{},"",{},ze,r,null,t.root,-1,{});return new GT("",new _a(o,[]))}(t,r),n=new jr([new Fl("",{})]),i=new jr({}),a=new jr({}),o=new jr({}),s=new jr(""),u=new ru(n,i,o,s,a,ze,r,e.root);return u.snapshot=e.root,new HT(new _a(u,[]),e)}var ru=function(){function t(r,e,n,i,a,o,s,u){m(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return g(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(je(function(e){return tu(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(function(e){return tu(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function jT(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=t.pathFromRoot,n=0;if("always"!==r)for(n=e.length-1;n>=1;){var i=e[n],a=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return UU(e.slice(n))}function UU(t){return t.reduce(function(r,e){return{params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var ch=function(){function t(r,e,n,i,a,o,s,u,l,c,f){m(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=f}return g(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=tu(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=tu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),n=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(n,"')")}}]),t}(),GT=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,i)).url=n,Zg(xt(a),i),a}return g(e,[{key:"toString",value:function(){return zT(this._root)}}]),e}(BT);function Zg(t,r){r.value._routerState=t,r.children.forEach(function(e){return Zg(t,e)})}function zT(t){var r=t.children.length>0?" { ".concat(t.children.map(zT).join(", ")," } "):"";return"".concat(t.value).concat(r)}function Xg(t){if(t.snapshot){var r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Hi(r.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),r.fragment!==e.fragment&&t.fragment.next(e.fragment),Hi(r.params,e.params)||t.params.next(e.params),function SU(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(!Hi(t[e],r[e]))return!1;return!0}(r.url,e.url)||t.url.next(e.url),Hi(r.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qg(t,r){var e=Hi(t.params,r.params)&&function IU(t,r){return Mo(t,r)&&t.every(function(e,n){return Hi(e.parameters,r[n].parameters)})}(t.url,r.url);return e&&!(!t.parent!=!r.parent)&&(!t.parent||Qg(t.parent,r.parent))}function Nl(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){var n=e.value;n._futureSnapshot=r.value;var i=function GU(t,r,e){return r.children.map(function(n){var a,i=b(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.shouldReuseRoute(n.value,o.value.snapshot))return Nl(t,n,o)}}catch(s){i.e(s)}finally{i.f()}return Nl(t,n)})}(t,r,e);return new _a(n,i)}if(t.shouldAttach(r.value)){var a=t.retrieve(r.value);if(null!==a){var o=a.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(function(l){return Nl(t,l)}),o}}var s=function zU(t){return new ru(new jr(t.url),new jr(t.params),new jr(t.queryParams),new jr(t.fragment),new jr(t.data),t.outlet,t.component,t)}(r.value),u=r.children.map(function(l){return Nl(t,l)});return new _a(s,u)}function WU(t,r,e,n,i){if(0===e.length)return $g(r.root,r.root,r,n,i);var a=function qU(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qT(!0,0,t);var r=0,e=!1,n=t.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var s={};return Dn(a.outlets,function(u,l){s[l]="string"==typeof u?u.split("/"):u}),[].concat(K(i),[{outlets:s}])}if(a.segmentPath)return[].concat(K(i),[a.segmentPath])}return"string"!=typeof a?[].concat(K(i),[a]):0===o?(a.split("/").forEach(function(u,l){0==l&&"."===u||(0==l&&""===u?e=!0:".."===u?r++:""!=u&&i.push(u))}),i):[].concat(K(i),[a])},[]);return new qT(e,r,n)}(e);if(a.toRoot())return $g(r.root,new Ye([],{}),r,n,i);var o=function KU(t,r,e){if(t.isAbsolute)return new Jg(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){var n=e.snapshot._urlSegment;return new Jg(n,n===r.root,0)}var a=fh(t.commands[0])?0:1;return function YU(t,r,e){for(var n=t,i=r,a=e;a>i;){if(a-=i,!(n=n.parent))throw new Error("Invalid number of '../'");i=n.segments.length}return new Jg(n,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(a,r,t),s=o.processChildren?hh(o.segmentGroup,o.index,a.commands):KT(o.segmentGroup,o.index,a.commands);return $g(o.segmentGroup,s,r,n,i)}function fh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vl(t){return"object"==typeof t&&null!=t&&t.outlets}function $g(t,r,e,n,i){var a={};return n&&Dn(n,function(o,s){a[s]=Array.isArray(o)?o.map(function(u){return"".concat(u)}):"".concat(o)}),new Oo(e.root===t?r:WT(e.root,t,r),a,i)}function WT(t,r,e){var n={};return Dn(t.children,function(i,a){n[a]=i===r?e:WT(i,r,e)}),new Ye(t.segments,n)}var qT=function(){function t(r,e,n){if(m(this,t),this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&fh(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(Vl);if(i&&i!==IT(n))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Jg=g(function t(r,e,n){m(this,t),this.segmentGroup=r,this.processChildren=e,this.index=n});function KT(t,r,e){if(t||(t=new Ye([],{})),0===t.segments.length&&t.hasChildren())return hh(t,r,e);var n=function XU(t,r,e){for(var n=0,i=r,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=e.length)return a;var o=t.segments[i],s=e[n];if(Vl(s))break;var u="".concat(s),l=n<e.length-1?e[n+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!ZT(u,l,o))return a;n+=2}else{if(!ZT(u,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var a=new Ye(t.segments.slice(0,n.pathIndex),{});return a.children[ze]=new Ye(t.segments.slice(n.pathIndex),t.children),hh(a,0,i)}return n.match&&0===i.length?new Ye(t.segments,{}):n.match&&!t.hasChildren()?em(t,r,e):n.match?hh(t,0,i):em(t,r,e)}function hh(t,r,e){if(0===e.length)return new Ye(t.segments,{});var n=function ZU(t){return Vl(t[0])?t[0].outlets:ie({},ze,t)}(e),i={};return Dn(n,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=KT(t.children[o],r,a))}),Dn(t.children,function(a,o){void 0===n[o]&&(i[o]=a)}),new Ye(t.segments,i)}function em(t,r,e){for(var n=t.segments.slice(0,r),i=0;i<e.length;){var a=e[i];if(Vl(a)){var o=QU(a.outlets);return new Ye(n,o)}if(0===i&&fh(e[0]))n.push(new Fl(t.segments[r].path,YT(e[0]))),i++;else{var u=Vl(a)?a.outlets[ze]:"".concat(a),l=i<e.length-1?e[i+1]:null;u&&l&&fh(l)?(n.push(new Fl(u,YT(l))),i+=2):(n.push(new Fl(u,{})),i++)}}return new Ye(n,{})}function QU(t){var r={};return Dn(t,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(r[n]=em(new Ye([],{}),0,e))}),r}function YT(t){var r={};return Dn(t,function(e,n){return r[n]="".concat(e)}),r}function ZT(t,r,e){return t==e.path&&Hi(r,e.parameters)}var JU=function(){function t(r,e,n,i){m(this,t),this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i}return g(t,[{key:"activate",value:function(e){var n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Xg(this.futureState.root),this.activateChildRoutes(n,i,e)}},{key:"deactivateChildRoutes",value:function(e,n,i){var a=this,o=nu(n);e.children.forEach(function(s){var u=s.value.outlet;a.deactivateRoutes(s,o[u],i),delete o[u]}),Dn(o,function(s,u){a.deactivateRouteAndItsChildren(s,i)})}},{key:"deactivateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(a===o)if(a.component){var s=i.getContext(a.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}},{key:"detachAndStoreRouteSubtree",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=nu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);if(i&&i.outlet){var c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}},{key:"deactivateRouteAndOutlet",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=nu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,n,i){var a=this,o=nu(n);e.children.forEach(function(s){a.activateRoutes(s,o[s.value.outlet],i),a.forwardEvent(new _U(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mU(e.value.snapshot))}},{key:"activateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(Xg(a),a===o)if(a.component){var s=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(a.component){var u=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var l=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),Xg(l.route.value),this.activateChildRoutes(e,null,u.children)}else{var c=function ej(t){for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),f=c?c.module.componentFactoryResolver:null;u.attachRef=null,u.route=a,u.resolver=f,u.outlet&&u.outlet.activateWith(a,f),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}]),t}(),tm=g(function t(r,e){m(this,t),this.routes=r,this.module=e});function Wa(t){return"function"==typeof t}function Ro(t){return t instanceof Oo}var Bl=Symbol("INITIAL_VALUE");function Hl(){return Gr(function(t){return function rU(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r),i=J_(r),a=dT(r),o=a.args,s=a.keys;if(0===o.length)return ln([],n);var u=new tt(iU(o,n,s?function(l){return vT(s,l)}:Pa));return i?u.pipe(Ug(i)):u}(t.map(function(r){return r.pipe(Ir(1),jg(Bl))})).pipe(yT(function(r,e){var n=!1;return e.reduce(function(i,a,o){return i!==Bl?i:(a===Bl&&(n=!0),n||!1!==a&&o!==e.length-1&&!Ro(a)?i:a)},r)},Bl),wn(function(r){return r!==Bl}),je(function(r){return Ro(r)?r:!0===r}),Ir(1))})}var oj=g(function t(){m(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ul,this.attachRef=null}),Ul=function(){function t(){m(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(e,n){var i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var n=this.getContext(e);return n||(n=new oj,this.contexts.set(e,n)),n}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),t}(),nm=function(){var t=function(){function r(e,n,i,a,o){m(this,r),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.name=a||ze,e.onChildOutletCreated(this.name,this)}return g(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}},{key:"attach",value:function(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}},{key:"deactivate",value:function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}},{key:"activateWith",value:function(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var s=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,l=new sj(n,u,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ul),T(Vr),T(Ws),function Ku(t){return function bR(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;var e=t.attrs;if(e)for(var n=e.length,i=0;i<n;){var a=e[i];if(RC(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<n&&"string"==typeof e[i];)i++;else{if(a===r)return e[i+1];i+=2}}return null}(cn(),t)}("name"),T(pr))},t.\u0275dir=le({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t}(),sj=function(){function t(r,e,n){m(this,t),this.route=r,this.childContexts=e,this.parent=n}return g(t,[{key:"get",value:function(e,n){return e===ru?this.route:e===Ul?this.childContexts:this.parent.get(e,n)}}]),t}(),XT=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Jt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&Vt(0,"router-outlet")},directives:[nm],encapsulation:2}),t}();function QT(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<t.length;e++){var n=t[e],i=lj(r,n);uj(n,i)}}function uj(t,r){t.children&&QT(t.children,r)}function lj(t,r){return r?t||r.path?t&&!r.path?"".concat(t,"/"):!t&&r.path?r.path:"".concat(t,"/").concat(r.path):"":t}function rm(t){var r=t.children&&t.children.map(rm),e=r?Object.assign(Object.assign({},t),{children:r}):Object.assign({},t);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==ze&&(e.component=XT),e}function zr(t){return t.outlet||ze}function $T(t,r){var e=t.filter(function(n){return zr(n)===r});return e.push.apply(e,K(t.filter(function(n){return zr(n)!==r}))),e}var JT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dh(t,r,e){var n;if(""===r.path)return"full"===r.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},JT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var a=(r.matcher||wU)(e,t,r);if(!a)return Object.assign({},JT);var o={};Dn(a.posParams,function(u,l){o[l]=u.path});var s=a.consumed.length>0?Object.assign(Object.assign({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:s,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function vh(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&hj(t,e,n)){var a=new Ye(r,fj(t,r,n,new Ye(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&dj(t,e,n)){var o=new Ye(t.segments,cj(t,r,e,n,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=r.length,{segmentGroup:o,slicedSegments:e}}var s=new Ye(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=r.length,{segmentGroup:s,slicedSegments:e}}function cj(t,r,e,n,i,a){var u,o={},s=b(n);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(ph(t,e,l)&&!i[zr(l)]){var c=new Ye([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:r.length,o[zr(l)]=c}}}catch(f){s.e(f)}finally{s.f()}return Object.assign(Object.assign({},i),o)}function fj(t,r,e,n){var i={};i[ze]=n,n._sourceSegment=t,n._segmentIndexShift=r.length;var o,a=b(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&zr(s)!==ze){var u=new Ye([],{});u._sourceSegment=t,u._segmentIndexShift=r.length,i[zr(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}function hj(t,r,e){return e.some(function(n){return ph(t,r,n)&&zr(n)!==ze})}function dj(t,r,e){return e.some(function(n){return ph(t,r,n)})}function ph(t,r,e){return(!(t.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function eD(t,r,e,n){return!!(zr(t)===n||n!==ze&&ph(r,e,t))&&("**"===t.path||dh(r,t,e).matched)}function tD(t,r,e){return 0===r.length&&!t.children[e]}var jl=g(function t(r){m(this,t),this.segmentGroup=r||null}),nD=g(function t(r){m(this,t),this.urlTree=r});function gh(t){return new tt(function(r){return r.error(new jl(t))})}function rD(t){return new tt(function(r){return r.error(new nD(t))})}function vj(t){return new tt(function(r){return r.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var mj=function(){function t(r,e,n,i,a){m(this,t),this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(da)}return g(t,[{key:"apply",value:function(){var e=this,n=vh(this.urlTree.root,[],[],this.config).segmentGroup,i=new Ye(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ze).pipe(je(function(s){return e.createUrlTree(im(s),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(ma(function(s){if(s instanceof nD)return e.allowRedirects=!1,e.match(s.urlTree);throw s instanceof jl?e.noMatchError(s):s}))}},{key:"match",value:function(e){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,ze).pipe(je(function(o){return n.createUrlTree(im(o),e.queryParams,e.fragment)})).pipe(ma(function(o){throw o instanceof jl?n.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,n,i){var a=e.segments.length>0?new Ye([],ie({},ze,e)):e;return new Oo(a,n,i)}},{key:"expandSegmentGroup",value:function(e,n,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(je(function(o){return new Ye([],o)})):this.expandSegment(e,i,n,i.segments,a,!0)}},{key:"expandChildren",value:function(e,n,i){for(var a=this,o=[],s=0,u=Object.keys(i.children);s<u.length;s++){var l=u[s];"primary"===l?o.unshift(l):o.push(l)}return ln(o).pipe(Js(function(c){var f=i.children[c],h=$T(n,c);return a.expandSegmentGroup(e,h,f,c).pipe(je(function(d){return{segment:d,outlet:c}}))}),yT(function(c,f){return c[f.outlet]=f.segment,c},{}),function uU(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?wn(function(i,a){return t(i,a,n)}):Pa,Gg(1),e?CT(r):_T(function(){return new rh}))}}())}},{key:"expandSegment",value:function(e,n,i,a,o,s){var u=this;return ln(i).pipe(Js(function(l){return u.expandSegmentAgainstRoute(e,n,i,l,a,o,s).pipe(ma(function(f){if(f instanceof jl)return me(null);throw f}))}),eu(function(l){return!!l}),ma(function(l,c){if(l instanceof rh||"EmptyError"===l.name){if(tD(n,a,o))return me(new Ye([],{}));throw new jl(n)}throw l}))}},{key:"expandSegmentAgainstRoute",value:function(e,n,i,a,o,s,u){return eD(a,n,o,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,n,a,o,s):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s):gh(n):gh(n)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,n,i,a){var o=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rD(s):this.lineralizeSegments(i,s).pipe(Xt(function(u){var l=new Ye(u,{});return o.expandSegment(e,l,n,u,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){var u=this,l=dh(n,a,o),f=l.consumedSegments,h=l.lastChild,d=l.positionalParamSegments;if(!l.matched)return gh(n);var v=this.applyRedirectCommands(f,a.redirectTo,d);return a.redirectTo.startsWith("/")?rD(v):this.lineralizeSegments(a,v).pipe(Xt(function(p){return u.expandSegment(e,n,i,p.concat(o.slice(h)),s,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,n,i,a,o){var s=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?me(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(je(function(p){return i._loadedConfig=p,new Ye(a,{})})):me(new Ye(a,{}));var l=dh(n,i,a),f=l.consumedSegments,h=l.lastChild;if(!l.matched)return gh(n);var d=a.slice(h);return this.getChildConfig(e,i,a).pipe(Xt(function(p){var y=p.module,C=p.routes,_=vh(n,f,d,C),E=_.segmentGroup,w=_.slicedSegments,S=new Ye(E.segments,E.children);if(0===w.length&&S.hasChildren())return s.expandChildren(y,C,S).pipe(je(function(L){return new Ye(f,L)}));if(0===C.length&&0===w.length)return me(new Ye(f,{}));var I=zr(i)===o;return s.expandSegment(y,S,C,w,I?ze:o,!0).pipe(je(function(L){return new Ye(f.concat(L.segments),L.children)}))}))}},{key:"getChildConfig",value:function(e,n,i){var a=this;return n.children?me(new tm(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?me(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(Xt(function(o){return o?a.configLoader.load(e.injector,n).pipe(je(function(s){return n._loadedConfig=s,s})):function pj(t){return new tt(function(r){return r.error(Wg("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(n)})):me(new tm([],e))}},{key:"runCanLoadGuards",value:function(e,n,i){var a=this,o=n.canLoad;if(!o||0===o.length)return me(!0);var s=o.map(function(u){var c,l=e.get(u);if(function nj(t){return t&&Wa(t.canLoad)}(l))c=l.canLoad(n,i);else{if(!Wa(l))throw new Error("Invalid CanLoad guard");c=l(n,i)}return Ui(c)});return me(s).pipe(Hl(),$n(function(u){if(Ro(u)){var l=Wg('Redirecting to "'.concat(a.urlSerializer.serialize(u),'"'));throw l.url=u,l}}),je(function(u){return!0===u}))}},{key:"lineralizeSegments",value:function(e,n){for(var i=[],a=n.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return me(i);if(a.numberOfChildren>1||!a.children[ze])return vj(e.redirectTo);a=a.children[ze]}}},{key:"applyRedirectCommands",value:function(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,n,i,a){var o=this.createSegmentGroup(e,n.root,i,a);return new Oo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}},{key:"createQueryParams",value:function(e,n){var i={};return Dn(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var u=a.substring(1);i[o]=n[u]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,n,i,a){var o=this,s=this.createSegments(e,n.segments,i,a),u={};return Dn(n.children,function(l,c){u[c]=o.createSegmentGroup(e,l,i,a)}),new Ye(s,u)}},{key:"createSegments",value:function(e,n,i,a){var o=this;return n.map(function(s){return s.path.startsWith(":")?o.findPosParam(e,s,a):o.findOrReturn(s,i)})}},{key:"findPosParam",value:function(e,n,i){var a=i[n.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(n.path,"'."));return a}},{key:"findOrReturn",value:function(e,n){var o,i=0,a=b(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.path===e.path)return n.splice(i),s;i++}}catch(u){a.e(u)}finally{a.f()}return e}}]),t}();function im(t){for(var r={},e=0,n=Object.keys(t.children);e<n.length;e++){var i=n[e],o=im(t.children[i]);(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function yj(t){if(1===t.numberOfChildren&&t.children[ze]){var r=t.children[ze];return new Ye(t.segments.concat(r.segments),r.children)}return t}(new Ye(t.segments,r))}var iD=g(function t(r){m(this,t),this.path=r,this.route=this.path[this.path.length-1]}),mh=g(function t(r,e){m(this,t),this.component=r,this.route=e});function Cj(t,r,e){var n=t._root;return Gl(n,r?r._root:null,e,[n.value])}function yh(t,r,e){var n=function wj(t){if(!t)return null;for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(n?n.module.injector:e).get(t)}function Gl(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=nu(r);return t.children.forEach(function(o){Sj(o,a[o.value.outlet],e,n.concat([o.value]),i),delete a[o.value.outlet]}),Dn(a,function(o,s){return zl(o,e.getContext(s),i)}),i}function Sj(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=bj(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new iD(n)):(a.data=o.data,a._resolvedData=o._resolvedData),Gl(t,r,a.component?s?s.children:null:e,n,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new mh(s.outlet.component,o))}else o&&zl(r,s,i),i.canActivateChecks.push(new iD(n)),Gl(t,null,a.component?s?s.children:null:e,n,i);return i}function bj(t,r,e){if("function"==typeof e)return e(t,r);switch(e){case"pathParamsChange":return!Mo(t.url,r.url);case"pathParamsOrQueryParamsChange":return!Mo(t.url,r.url)||!Hi(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qg(t,r)||!Hi(t.queryParams,r.queryParams);default:return!Qg(t,r)}}function zl(t,r,e){var n=nu(t),i=t.value;Dn(n,function(a,o){zl(a,i.component?r?r.children.getContext(o):null:r,e)}),e.canDeactivateChecks.push(new mh(i.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,i))}var Pj=g(function t(){m(this,t)});function aD(t){return new tt(function(r){return r.error(t)})}var Fj=function(){function t(r,e,n,i,a,o){m(this,t),this.rootComponentType=r,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return g(t,[{key:"recognize",value:function(){var e=vh(this.urlTree.root,[],[],this.config.filter(function(s){return void 0===s.redirectTo}),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ze);if(null===n)return null;var i=new ch([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new _a(i,n),o=new GT(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var n=this,i=e.value,a=jT(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return n.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}},{key:"processChildren",value:function(e,n){for(var i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a],u=n.children[s],l=$T(e,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;i.push.apply(i,K(c))}var f=oD(i);return function Lj(t){t.sort(function(r,e){return r.value.outlet===ze?-1:e.value.outlet===ze?1:r.value.outlet.localeCompare(e.value.outlet)})}(f),f}},{key:"processSegment",value:function(e,n,i,a){var s,o=b(e);try{for(o.s();!(s=o.n()).done;){var l=this.processSegmentAgainstRoute(s.value,n,i,a);if(null!==l)return l}}catch(c){o.e(c)}finally{o.f()}return tD(n,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,n,i,a){if(e.redirectTo||!eD(e,n,i,a))return null;var o,s=[],u=[];if("**"===e.path){var l=i.length>0?IT(i).parameters:{};o=new ch(i,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lD(e),zr(e),e.component,e,sD(n),uD(n)+i.length,cD(e))}else{var c=dh(n,e,i);if(!c.matched)return null;s=c.consumedSegments,u=i.slice(c.lastChild),o=new ch(s,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lD(e),zr(e),e.component,e,sD(n),uD(n)+s.length,cD(e))}var f=function Nj(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),h=vh(n,s,u,f.filter(function(_){return void 0===_.redirectTo}),this.relativeLinkResolution),d=h.segmentGroup,v=h.slicedSegments;if(0===v.length&&d.hasChildren()){var p=this.processChildren(f,d);return null===p?null:[new _a(o,p)]}if(0===f.length&&0===v.length)return[new _a(o,[])];var y=zr(e)===a,C=this.processSegment(f,d,v,y?ze:a);return null===C?null:[new _a(o,C)]}}]),t}();function oD(t){var i,r=[],e=new Set,n=b(t);try{var a=function(){var h=i.value;if(!function Vj(t){var r=t.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}(h))return r.push(h),"continue";var v,d=r.find(function(p){return h.value.routeConfig===p.value.routeConfig});void 0!==d?((v=d.children).push.apply(v,K(h.children)),e.add(d)):r.push(h)};for(n.s();!(i=n.n()).done;)a()}catch(f){n.e(f)}finally{n.f()}var u,s=b(e);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=oD(l.children);r.push(new _a(l.value,c))}}catch(f){s.e(f)}finally{s.f()}return r.filter(function(f){return!e.has(f)})}function sD(t){for(var r=t;r._sourceSegment;)r=r._sourceSegment;return r}function uD(t){for(var r=t,e=r._segmentIndexShift?r._segmentIndexShift:0;r._sourceSegment;)e+=(r=r._sourceSegment)._segmentIndexShift?r._segmentIndexShift:0;return e-1}function lD(t){return t.data||{}}function cD(t){return t.resolve||{}}function fD(t){return[].concat(K(Object.keys(t)),K(Object.getOwnPropertySymbols(t)))}function am(t){return Gr(function(r){var e=t(r);return e?ln(e).pipe(je(function(){return r})):me(r)})}var zj=g(function t(){m(this,t)}),Wj=function(){function t(){m(this,t)}return g(t,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,n){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,n){return e.routeConfig===n.routeConfig}}]),t}(),qj=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e)}(Wj),om=new we("ROUTES"),hD=function(){function t(r,e,n,i){m(this,t),this.injector=r,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return g(t,[{key:"load",value:function(e,n){var i=this;if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);var o=this.loadModuleFactory(n.loadChildren).pipe(je(function(s){i.onLoadEndListener&&i.onLoadEndListener(n);var u=s.create(e);return new tm(kT(u.injector.get(om,void 0,Re.Self|Re.Optional)).map(rm),u)}),ma(function(s){throw n._loader$=void 0,s}));return n._loader$=new mT(o,function(){return new it}).pipe(gT()),n._loader$}},{key:"loadModuleFactory",value:function(e){var n=this;return Ui(e()).pipe(Xt(function(i){return i instanceof DS?me(i):ln(n.compiler.compileModuleAsync(i))}))}}]),t}(),Kj=g(function t(){m(this,t)}),Yj=function(){function t(){m(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,n){return e}}]),t}();function Zj(t){throw t}function Xj(t,r,e){return r.parse("/")}function dD(t,r){return me(null)}var Qj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$j={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mr=function(){var t=function(){function r(e,n,i,a,o,s,u){var l=this;m(this,r),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it,this.errorHandler=Zj,this.malformedUriErrorHandler=Xj,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dD,afterPreactivation:dD},this.urlHandlingStrategy=new Yj,this.routeReuseStrategy=new qj,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(da),this.console=o.get(cb);var h=o.get(gt);this.isNgZoneEnabled=h instanceof gt&&gt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function bU(){return new Oo(new Ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hD(o,s,function(v){return l.triggerEvent(new wT(v))},function(v){return l.triggerEvent(new ST(v))}),this.routerState=UT(this.currentUrlTree,this.rootComponentType),this.transitions=new jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(r,[{key:"browserPageId",get:function(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}},{key:"setupNavigations",value:function(n){var i=this,a=this.events;return n.pipe(wn(function(o){return 0!==o.id}),je(function(o){return Object.assign(Object.assign({},o),{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),Gr(function(o){var s=!1,u=!1;return me(o).pipe($n(function(l){i.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:i.lastSuccessfulNavigation?Object.assign(Object.assign({},i.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gr(function(l){var c=i.browserUrlTree.toString(),f=!i.navigated||l.extractedUrl.toString()!==c||c!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||f)&&i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _h(l.source)&&(i.browserUrlTree=l.extractedUrl),me(l).pipe(Gr(function(S){var k=i.transitions.getValue();return a.next(new zg(S.id,i.serializeUrl(S.extractedUrl),S.source,S.restoredState)),k!==i.transitions.getValue()?aa:Promise.resolve(S)}),function _j(t,r,e,n){return Gr(function(i){return function gj(t,r,e,n,i){return new mj(t,r,e,n,i).apply()}(t,r,e,i.extractedUrl,n).pipe(je(function(a){return Object.assign(Object.assign({},i),{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),$n(function(S){i.currentNavigation=Object.assign(Object.assign({},i.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function Bj(t,r,e,n,i){return Xt(function(a){return function xj(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new Fj(t,r,e,n,i,a).recognize();return null===o?aD(new Pj):me(o)}catch(s){return aD(s)}}(t,r,a.urlAfterRedirects,e(a.urlAfterRedirects),n,i).pipe(je(function(o){return Object.assign(Object.assign({},a),{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(S){return i.serializeUrl(S)},i.paramsInheritanceStrategy,i.relativeLinkResolution),$n(function(S){if("eager"===i.urlUpdateStrategy){if(!S.extras.skipLocationChange){var k=i.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);i.setBrowserUrl(k,S)}i.browserUrlTree=S.urlAfterRedirects}var I=new fU(S.id,i.serializeUrl(S.extractedUrl),i.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);a.next(I)}));if(f&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var p=l.extractedUrl,y=l.source,C=l.restoredState,_=l.extras,E=new zg(l.id,i.serializeUrl(p),y,C);a.next(E);var w=UT(p,i.rootComponentType).snapshot;return me(Object.assign(Object.assign({},l),{targetSnapshot:w,urlAfterRedirects:p,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=l.rawUrl,l.resolve(null),aa}),am(function(l){var v=l.extras;return i.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),$n(function(l){var c=new hU(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);i.triggerEvent(c)}),je(function(l){return Object.assign(Object.assign({},l),{guards:Cj(l.targetSnapshot,l.currentSnapshot,i.rootContexts)})}),function Tj(t,r){return Xt(function(e){var n=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?me(Object.assign(Object.assign({},e),{guardsResult:!0})):function Dj(t,r,e,n){return ln(t).pipe(Xt(function(i){return function Rj(t,r,e,n,i){var a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return me(!0);var o=a.map(function(s){var l,u=yh(s,r,i);if(function aj(t){return t&&Wa(t.canDeactivate)}(u))l=Ui(u.canDeactivate(t,r,e,n));else{if(!Wa(u))throw new Error("Invalid CanDeactivate guard");l=Ui(u(t,r,e,n))}return l.pipe(eu())});return me(o).pipe(Hl())}(i.component,i.route,e,r,n)}),eu(function(i){return!0!==i},!0))}(s,n,i,t).pipe(Xt(function(u){return u&&function tj(t){return"boolean"==typeof t}(u)?function kj(t,r,e,n){return ln(r).pipe(Js(function(i){return Pl(function Aj(t,r){return null!==t&&r&&r(new gU(t)),me(!0)}(i.route.parent,n),function Ij(t,r){return null!==t&&r&&r(new yU(t)),me(!0)}(i.route,n),function Mj(t,r,e){var n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(function(o){return function Ej(t){var r=t.routeConfig?t.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:t,guards:r}:null}(o)}).filter(function(o){return null!==o}),a=i.map(function(o){return ih(function(){var s=o.guards.map(function(u){var c,l=yh(u,o.node,e);if(function ij(t){return t&&Wa(t.canActivateChild)}(l))c=Ui(l.canActivateChild(n,t));else{if(!Wa(l))throw new Error("Invalid CanActivateChild guard");c=Ui(l(n,t))}return c.pipe(eu())});return me(s).pipe(Hl())})});return me(a).pipe(Hl())}(t,i.path,e),function Oj(t,r,e){var n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||0===n.length)return me(!0);var i=n.map(function(a){return ih(function(){var s,o=yh(a,r,e);if(function rj(t){return t&&Wa(t.canActivate)}(o))s=Ui(o.canActivate(r,t));else{if(!Wa(o))throw new Error("Invalid CanActivate guard");s=Ui(o(r,t))}return s.pipe(eu())})});return me(i).pipe(Hl())}(t,i.route,e))}),eu(function(i){return!0!==i},!0))}(n,o,t,r):me(u)}),je(function(u){return Object.assign(Object.assign({},e),{guardsResult:u})}))})}(i.ngModule.injector,function(l){return i.triggerEvent(l)}),$n(function(l){if(Ro(l.guardsResult)){var c=Wg('Redirecting to "'.concat(i.serializeUrl(l.guardsResult),'"'));throw c.url=l.guardsResult,c}var f=new dU(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);i.triggerEvent(f)}),wn(function(l){return!!l.guardsResult||(i.restoreHistory(l),i.cancelNavigationTransition(l,""),!1)}),am(function(l){if(l.guards.canActivateChecks.length)return me(l).pipe($n(function(c){var f=new vU(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}),Gr(function(c){var f=!1;return me(c).pipe(function Hj(t,r){return Xt(function(e){var n=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return me(e);var a=0;return ln(i).pipe(Js(function(o){return function Uj(t,r,e,n){return function jj(t,r,e,n){var i=fD(t);if(0===i.length)return me({});var a={};return ln(i).pipe(Xt(function(o){return function Gj(t,r,e,n){var i=yh(t,r,n);return Ui(i.resolve?i.resolve(r,e):i(r,e))}(t[o],r,e,n).pipe($n(function(s){a[o]=s}))}),Gg(1),Xt(function(){return fD(a).length===i.length?me(a):aa}))}(t._resolve,t,r,n).pipe(je(function(a){return t._resolvedData=a,t.data=Object.assign(Object.assign({},t.data),jT(t,e).resolve),null}))}(o.route,n,t,r)}),$n(function(){return a++}),Gg(1),Xt(function(o){return a===i.length?me(e):aa}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),$n({next:function(){return f=!0},complete:function(){f||(i.restoreHistory(c),i.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),$n(function(c){var f=new pU(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}))}),am(function(l){var v=l.extras;return i.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),je(function(l){var c=function jU(t,r,e){var n=Nl(t,r._root,e?e._root:void 0);return new HT(n,r)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:c})}),$n(function(l){i.currentUrlTree=l.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),i.routerState=l.targetRouterState,"deferred"===i.urlUpdateStrategy&&(l.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,l),i.browserUrlTree=l.urlAfterRedirects)}),function(r,e,n){return je(function(i){return new JU(e,i.targetRouterState,i.currentRouterState,n).activate(r),i})}(i.rootContexts,i.routeReuseStrategy,function(l){return i.triggerEvent(l)}),$n({next:function(){s=!0},complete:function(){s=!0}}),function lU(t){return Ft(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}(function(){var l;if(!s&&!u){var c="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(o,c)}(null===(l=i.currentNavigation)||void 0===l?void 0:l.id)===o.id&&(i.currentNavigation=null)}),ma(function(l){if(u=!0,function EU(t){return t&&t[TT]}(l)){var c=Ro(l.url);c||(i.navigated=!0,i.restoreHistory(o,!0));var f=new ET(o.id,i.serializeUrl(o.extractedUrl),l.message);a.next(f),c?setTimeout(function(){var d=i.urlHandlingStrategy.merge(l.url,i.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||_h(o.source)};i.scheduleNavigation(d,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var h=new cU(o.id,i.serializeUrl(o.extractedUrl),l);a.next(h);try{o.resolve(i.errorHandler(l))}catch(d){o.reject(d)}}return aa}))}))}},{key:"resetRootComponentType",value:function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(function(){var o,s={replaceUrl:!0},u=(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null;if(u){var l=Object.assign({},u);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}var c=n.parseUrl(i.url);n.scheduleNavigation(c,a,u,s)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(n){this.events.next(n)}},{key:"resetConfig",value:function(n){QT(n),this.config=n.map(rm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,s=i.fragment,u=i.queryParamsHandling,l=i.preserveFragment,c=a||this.routerState.root,f=l?this.currentUrlTree.fragment:s,h=null;switch(u){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),WU(c,this.currentUrlTree,n,h,null!=f?f:null)}},{key:"navigateByUrl",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=Ro(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Jj(n),this.navigateByUrl(this.createUrlTree(n,i),i)}},{key:"serializeUrl",value:function(n){return this.urlSerializer.serialize(n)}},{key:"parseUrl",value:function(n){var i;try{i=this.urlSerializer.parse(n)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return i}},{key:"isActive",value:function(n,i){var a;if(a=!0===i?Object.assign({},Qj):!1===i?Object.assign({},$j):i,Ro(n))return OT(this.currentUrlTree,n,a);var o=this.parseUrl(n);return OT(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(n){return Object.keys(n).reduce(function(i,a){var o=n[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var n=this;this.navigations.subscribe(function(i){n.navigated=!0,n.lastSuccessfulId=i.id,n.currentPageId=i.targetPageId,n.events.next(new xl(i.id,n.serializeUrl(i.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,i.resolve(!0)},function(i){n.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(n,i,a,o,s){var u,l,c;if(this.disposed)return Promise.resolve(!1);var y,C,_,f=this.transitions.value,h=_h(i)&&f&&!_h(f.source),d=f.rawUrl.toString()===n.toString(),v=f.id===(null===(u=this.currentNavigation)||void 0===u?void 0:u.id);if(h&&d&&v)return Promise.resolve(!0);s?(y=s.resolve,C=s.reject,_=s.promise):_=new Promise(function(k,I){y=k,C=I});var w,E=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),w=a&&a.\u0275routerPageId?a.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):w=0,this.setTransition({id:E,targetPageId:w,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:y,reject:C,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(function(k){return Promise.reject(k)})}},{key:"setBrowserUrl",value:function(n,i){var a=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(n){var a,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var s=this.currentPageId-n.targetPageId,u="popstate"===n.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);u&&0!==s?this.location.historyGo(s):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(n,i){var a=new ET(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(a),n.resolve(!1)}},{key:"generateNgRouterState",value:function(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,"\u0275routerPageId":i}:{navigationId:n}}}]),r}();return t.\u0275fac=function(e){Vp()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function Jj(t){for(var r=0;r<t.length;r++){var e=t[r];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(r))}}function _h(t){return"imperative"!==t}var vD=g(function t(){m(this,t)}),nG=function(){function t(){m(this,t)}return g(t,[{key:"preload",value:function(e,n){return n().pipe(ma(function(){return me(null)}))}}]),t}(),pD=function(){function t(){m(this,t)}return g(t,[{key:"preload",value:function(e,n){return me(null)}}]),t}(),gD=function(){var t=function(){function r(e,n,i,a){m(this,r),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new hD(i,n,function(l){return e.triggerEvent(new wT(l))},function(l){return e.triggerEvent(new ST(l))})}return g(r,[{key:"setUpPreloading",value:function(){var n=this;this.subscription=this.router.events.pipe(wn(function(i){return i instanceof xl}),Js(function(){return n.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var n=this.injector.get(da);return this.processRoutes(n,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(n,i){var s,a=[],o=b(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;a.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(n,u)):u.children&&a.push(this.processRoutes(n,u.children))}}catch(c){o.e(c)}finally{o.f()}return ln(a).pipe(Lu(),je(function(c){}))}},{key:"preloadConfig",value:function(n,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?me(i._loadedConfig):a.loader.load(n.injector,i)).pipe(Xt(function(s){return i._loadedConfig=s,a.processRoutes(s.module,s.routes)}))})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(mr),z(Bf),z(hn),z(vD))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),lm=function(){var t=function(){function r(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,r),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return g(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof zg?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=i.navigationTrigger,n.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof xl&&(n.lastId=i.id,n.scheduleScrollEvent(i,n.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof bT&&(i.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(n,i){this.router.triggerEvent(new bT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){Vp()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Po=new we("ROUTER_CONFIGURATION"),mD=new we("ROUTER_FORROOT_GUARD"),rG=[wg,{provide:xT,useClass:FT},{provide:mr,useFactory:function uG(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=new mr(null,t,r,e,n,i,kT(a));return s&&(l.urlHandlingStrategy=s),u&&(l.routeReuseStrategy=u),lG(o,l),o.enableTracing&&l.events.subscribe(function(c){var f,h;null===(f=console.group)||void 0===f||f.call(console,"Router Event: ".concat(c.constructor.name)),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[xT,Ul,wg,hn,Bf,om,Po,[Kj,new Mi],[zj,new Mi]]},Ul,{provide:ru,useFactory:function cG(t){return t.routerState.root},deps:[mr]},gD,pD,nG,{provide:Po,useValue:{enableTracing:!1}}];function iG(){return new gb("Router",mr)}var yD=function(){var t=function(){function r(e,n){m(this,r)}return g(r,null,[{key:"forRoot",value:function(n,i){return{ngModule:r,providers:[rG,_D(n),{provide:mD,useFactory:sG,deps:[[mr,new Mi,new _s]]},{provide:Po,useValue:i||{}},{provide:Qs,useFactory:oG,deps:[Ao,[new el(Eg),new Mi],Po]},{provide:lm,useFactory:aG,deps:[mr,hH,Po]},{provide:vD,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:pD},{provide:gb,multi:!0,useFactory:iG},[cm,{provide:Tl,multi:!0,useFactory:fG,deps:[cm]},{provide:CD,useFactory:hG,deps:[cm]},{provide:lb,multi:!0,useExisting:CD}]]}}},{key:"forChild",value:function(n){return{ngModule:r,providers:[_D(n)]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(mD,8),z(mr,8))},t.\u0275mod=ht({type:t}),t.\u0275inj=st({}),t}();function aG(t,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new lm(t,r,e)}function oG(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new $V(t,r):new Lb(t,r)}function sG(t){return"guarded"}function _D(t){return[{provide:AR,multi:!0,useValue:t},{provide:om,multi:!0,useValue:t}]}function lG(t,r){t.errorHandler&&(r.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(r.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(r.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(r.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(r.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(r.canceledNavigationResolution=t.canceledNavigationResolution)}var cm=function(){var t=function(){function r(e){m(this,r),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new it}return g(r,[{key:"appInitializer",value:function(){var n=this;return this.injector.get(ZV,Promise.resolve(null)).then(function(){if(n.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(l){return a=l}),s=n.injector.get(mr),u=n.injector.get(Po);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),a(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=function(){return n.initNavigation?me(null):(n.initNavigation=!0,a(!0),n.resultOfPreactivationDone)},s.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(n){var i=this.injector.get(Po),a=this.injector.get(gD),o=this.injector.get(lm),s=this.injector.get(mr),u=this.injector.get(Xs);n===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),o.init(),s.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(hn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function fG(t){return t.appInitializer.bind(t)}function hG(t){return t.bootstrapListener.bind(t)}var CD=new we("Router Initializer");function Jn(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function i(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}var Eh=g(function t(){m(this,t)}),au=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).errorMessage=n,i}return g(e,[{key:"Type",get:function(){return"ErrorOccurredMessage"}}]),e}(Eh),wh=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this)).positions=n,s.userPos=i,s.title=a,s.details=o,s}return g(e,[{key:"Type",get:function(){return"ShowMapMessage"}}]),e}(Eh),gG=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"BaseUrl",get:function(){return"https://api.sr.se/api/v2/"}},{key:"FormatParam",get:function(){return"format=json"}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),mG=g(function t(){m(this,t)});function hm(t){return t*Math.PI/180}function bD(t,r,e,n){var a=hm(n-r),o=hm(t),s=hm(e),u=6371*Math.acos(Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a));return Math.round(u)}function yG(t){return"/Date(-62135596800000)/"===t?null:new Date(JSON.parse(t.match(/\d+/)[0]))}var TD=g(function t(){m(this,t)}),DD=g(function t(){m(this,t)}),Wl=function(){function t(r){var e=this;m(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){e.headers=new Map,r.split("\n").forEach(function(n){var i=n.indexOf(":");if(i>0){var a=n.slice(0,i),o=a.toLowerCase(),s=n.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(s):e.headers.set(o,[s])}})}:function(){e.headers=new Map,Object.keys(r).forEach(function(n){var i=r[n],a=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(n,a))})}:this.headers=new Map}return g(t,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,n){return this.clone({name:e,value:n,op:"a"})}},{key:"set",value:function(e,n){return this.clone({name:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({name:e,value:n,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(n){return e.applyUpdate(n)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var n=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){n.headers.set(i,e.headers.get(i)),n.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(e){var n=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);var a=("a"===e.op?this.headers.get(n):void 0)||[];a.push.apply(a,K(i)),this.headers.set(n,a);break;case"d":var o=e.value;if(o){var s=this.headers.get(n);if(!s)return;0===(s=s.filter(function(u){return-1===o.indexOf(u)})).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(e){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(n.normalizedNames.get(i),n.headers.get(i))})}}]),t}(),_G=function(){function t(){m(this,t)}return g(t,[{key:"encodeKey",value:function(e){return kD(e)}},{key:"encodeValue",value:function(e){return kD(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),t}();function CG(t,r){var e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),s=W(-1==a?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,a)),r.decodeValue(i.slice(a+1))],2),u=s[0],l=s[1],c=e.get(u)||[];c.push(l),e.set(u,c)}),e}var EG=/%(\d[a-f0-9])/gi,wG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kD(t){return encodeURIComponent(t).replace(EG,function(r,e){var n;return null!==(n=wG[e])&&void 0!==n?n:r})}function ID(t){return"".concat(t)}var ou=function(){function t(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m(this,t),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _G,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=CG(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(n){var i=e.fromObject[n];r.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}return g(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var n=this.map.get(e);return n?n[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,n){return this.clone({param:e,value:n,op:"a"})}},{key:"appendAll",value:function(e){var n=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}},{key:"set",value:function(e,n){return this.clone({param:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({param:e,value:n,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(n){var i=e.encoder.encodeKey(n);return e.map.get(n).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(n){return""!==n}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(n){return e.map.set(n,e.cloneFrom.map.get(n))}),this.updates.forEach(function(n){switch(n.op){case"a":case"s":var i=("a"===n.op?e.map.get(n.param):void 0)||[];i.push(ID(n.value)),e.map.set(n.param,i);break;case"d":if(void 0===n.value){e.map.delete(n.param);break}var a=e.map.get(n.param)||[],o=a.indexOf(ID(n.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(n.param,a):e.map.delete(n.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),SG=function(){function t(){m(this,t),this.map=new Map}return g(t,[{key:"set",value:function(e,n){return this.map.set(e,n),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"has",value:function(e){return this.map.has(e)}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function AD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function OD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function MD(t){return"undefined"!=typeof FormData&&t instanceof FormData}var dm=function(){function t(r,e,n,i){var a;if(m(this,t),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function bG(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Wl),this.context||(this.context=new SG),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new ou,this.urlWithParams=e}return g(t,[{key:"serializeBody",value:function(){return null===this.body?null:AD(this.body)||OD(this.body)||MD(this.body)||function TG(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ou?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||MD(this.body)?null:OD(this.body)?this.body.type||null:AD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ou?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.method||this.method,a=e.url||this.url,o=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,f=e.params||this.params,h=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce(function(d,v){return d.set(v,e.setHeaders[v])},c)),e.setParams&&(f=Object.keys(e.setParams).reduce(function(d,v){return d.set(v,e.setParams[v])},f)),new t(i,a,s,{params:f,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:u})}}]),t}(),on=function(){return(on=on||{})[on.Sent=0]="Sent",on[on.UploadProgress=1]="UploadProgress",on[on.ResponseHeader=2]="ResponseHeader",on[on.DownloadProgress=3]="DownloadProgress",on[on.Response=4]="Response",on[on.User=5]="User",on}(),vm=g(function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";m(this,t),this.headers=r.headers||new Wl,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}),DG=function(t){A(e,t);var r=O(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,e),(n=r.call(this,i)).type=on.ResponseHeader,n}return g(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(vm),RD=function(t){A(e,t);var r=O(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,e),(n=r.call(this,i)).type=on.Response,n.body=void 0!==i.body?i.body:null,n}return g(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(vm),PD=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this,n,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(n.url||"(unknown url)"):"Http failure response for ".concat(n.url||"(unknown url)",": ").concat(n.status," ").concat(n.statusText),i.error=n.error||null,i}return g(e)}(vm);function pm(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var xD=function(){var t=function(){function r(e){m(this,r),this.handler=e}return g(r,[{key:"request",value:function(n,i){var s,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n instanceof dm)s=n;else{var u=void 0;u=o.headers instanceof Wl?o.headers:new Wl(o.headers);var l=void 0;o.params&&(l=o.params instanceof ou?o.params:new ou({fromObject:o.params})),s=new dm(n,i,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var c=me(s).pipe(Js(function(h){return a.handler.handle(h)}));if(n instanceof dm||"events"===o.observe)return c;var f=c.pipe(wn(function(h){return h instanceof RD}));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe(je(function(h){if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return f.pipe(je(function(h){if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return f.pipe(je(function(h){if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return f.pipe(je(function(h){return h.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",n,i)}},{key:"get",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",n,i)}},{key:"head",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",n,i)}},{key:"jsonp",value:function(n,i){return this.request("JSONP",n,{params:(new ou).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",n,i)}},{key:"patch",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",n,pm(a,i))}},{key:"post",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",n,pm(a,i))}},{key:"put",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",n,pm(a,i))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(TD))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),FD=function(){function t(r,e){m(this,t),this.next=r,this.interceptor=e}return g(t,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),t}(),gm=new we("HTTP_INTERCEPTORS"),kG=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"intercept",value:function(n,i){return i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),IG=/^\)\]\}',?\n/,LD=function(){var t=function(){function r(e){m(this,r),this.xhrFactory=e}return g(r,[{key:"handle",value:function(n){var i=this;if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tt(function(a){var o=i.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach(function(C,_){return o.setRequestHeader(C,_.join(","))}),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){var s=n.detectContentTypeHeader();null!==s&&o.setRequestHeader("Content-Type",s)}if(n.responseType){var u=n.responseType.toLowerCase();o.responseType="json"!==u?u:"text"}var l=n.serializeBody(),c=null,f=function(){if(null!==c)return c;var _=o.statusText||"OK",E=new Wl(o.getAllResponseHeaders()),w=function AG(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new DG({headers:E,status:o.status,statusText:_,url:w})},h=function(){var _=f(),E=_.headers,w=_.status,S=_.statusText,k=_.url,I=null;204!==w&&(I=void 0===o.response?o.responseText:o.response),0===w&&(w=I?200:0);var R=w>=200&&w<300;if("json"===n.responseType&&"string"==typeof I){var L=I;I=I.replace(IG,"");try{I=""!==I?JSON.parse(I):null}catch(q){I=L,R&&(R=!1,I={error:q,text:I})}}R?(a.next(new RD({body:I,headers:E,status:w,statusText:S,url:k||void 0})),a.complete()):a.error(new PD({error:I,headers:E,status:w,statusText:S,url:k||void 0}))},d=function(_){var E=f(),S=new PD({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E.url||void 0});a.error(S)},v=!1,p=function(_){v||(a.next(f()),v=!0);var E={type:on.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),"text"===n.responseType&&!!o.responseText&&(E.partialText=o.responseText),a.next(E)},y=function(_){var E={type:on.UploadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),a.next(E)};return o.addEventListener("load",h),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",p),null!==l&&o.upload&&o.upload.addEventListener("progress",y)),o.send(l),a.next({type:on.Sent}),function(){o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",h),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",p),null!==l&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Lg))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),mm=new we("XSRF_COOKIE_NAME"),ym=new we("XSRF_HEADER_NAME"),ND=g(function t(){m(this,t)}),OG=function(){var t=function(){function r(e,n,i){m(this,r),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=qb(n,this.cookieName),this.lastCookieString=n),this.lastToken}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(En),z(ko),z(mm))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),_m=function(){var t=function(){function r(e,n){m(this,r),this.tokenService=e,this.headerName=n}return g(r,[{key:"intercept",value:function(n,i){var a=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(n);var o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(ND),z(ym))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),MG=function(){var t=function(){function r(e,n){m(this,r),this.backend=e,this.injector=n,this.chain=null}return g(r,[{key:"handle",value:function(n){if(null===this.chain){var i=this.injector.get(gm,[]);this.chain=i.reduceRight(function(a,o){return new FD(a,o)},this.backend)}return this.chain.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(DD),z(hn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),RG=function(){var t=function(){function r(){m(this,r)}return g(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:_m,useClass:kG}]}}},{key:"withOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[n.cookieName?{provide:mm,useValue:n.cookieName}:[],n.headerName?{provide:ym,useValue:n.headerName}:[]]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:[_m,{provide:gm,useExisting:_m,multi:!0},{provide:ND,useClass:OG},{provide:mm,useValue:"XSRF-TOKEN"},{provide:ym,useValue:"X-XSRF-TOKEN"}]}),t}(),PG=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:[xD,{provide:TD,useClass:MG},LD,{provide:DD,useExisting:LD}],imports:[[RG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),ql=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"logInfo",value:function(n){console.info(n)}},{key:"logError",value:function(n){console.error(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),su=function(){return function(t){t[t.V\u00e4gtrafik=0]="V\xe4gtrafik",t[t.Kollektivtrafik=1]="Kollektivtrafik",t[t.PlaneradSt\u00f6rening=2]="PlaneradSt\xf6rening",t[t.\u00d6vrigt=3]="\xd6vrigt"}(su||(su={})),su}(),Kl=function(){return function(t){t.V\u00e4garbete="V\xe4garbete",t.Trafikst\u00f6rning="Trafikst\xf6rning",t.TrafikOlycka="Trafikolycka"}(Kl||(Kl={})),Kl}(),VD=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a){var o;return m(this,n),(o=e.call(this)).http=i,o.logger=a,o.categoryMap={0:"V\xe4gtrafik",1:"Kollektivtrafik",2:"Planerad st\xf6rning",3:"\xd6vrigt"},o.priorityNameMap={0:"Empty",1:"Mycket allvarlig h\xe4ndelse",2:"Stor h\xe4ndelse",3:"St\xf6rning",4:"Information",5:"Mindre st\xf6rning"},o}return g(n,[{key:"fetchAllTrafficAreas",value:function(){return Jn(this,void 0,void 0,at().mark(function a(){var o,s;return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="".concat(this.BaseUrl,"traffic/areas/?page=",1,"&size=",100,"&").concat(this.FormatParam),l.next=3,this.http.get("".concat(o)).toPromise();case 3:return(s=l.sent).areas.sort(function(c,f){return c.name.localeCompare(f.name)}),l.abrupt("return",s.areas);case 6:case"end":return l.stop()}},a,this)}))}},{key:"fetchClosestTrafficAreaForPosition",value:function(a){return Jn(this,void 0,void 0,at().mark(function o(){var s;return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s="".concat(this.BaseUrl,"traffic/areas/?longitude=").concat(a.lng,"&latitude=").concat(a.lat,"&").concat(this.FormatParam),c.next=3,this.http.get("".concat(s)).toPromise();case 3:return c.abrupt("return",c.sent.area);case 5:case"end":return c.stop()}},o,this)}))}},{key:"fetchAllTrafficMessages",value:function(a){return Jn(this,void 0,void 0,at().mark(function o(){var s;return at().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="".concat(this.BaseUrl,"traffic/messages/?page=",1,"&size=",200,"&").concat(this.FormatParam),l.next=3,this.fetchMessages(s,a);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},o,this)}))}},{key:"fetchAllTrafficMessagesForArea",value:function(a,o){return Jn(this,void 0,void 0,at().mark(function s(){var u;return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u="".concat(this.BaseUrl,"traffic/messages/?trafficareaname=").concat(a,"&page=",1,"&size=",100,"&").concat(this.FormatParam),c.next=3,this.fetchMessages(u,o);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},s,this)}))}},{key:"getCachedMessageFromId",value:function(a){if(this.cachedMessages)return this.cachedMessages.find(function(o){return o.id===a})}},{key:"fetchMessages",value:function(a,o){return Jn(this,void 0,void 0,at().mark(function s(){var c,u=this;return at().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.http.get("".concat(a)).toPromise();case 2:return c=[],h.sent.messages.forEach(function(d){var v=new mG;if(v.category=d.category,v.categoryName=u.categoryMap[d.category],v.priorityName=u.priorityNameMap[d.priority],v.priority=d.priority,v.description=d.description,v.title=d.title,v.subCategory=d.subcategory,v.exactLocation=d.exactlocation,v.latitude=d.latitude,v.longitude=d.longitude,v.id=d.id,o.lng&&o.lat&&d.latitude&&d.longitude)try{v.distance=bD(o.lat,o.lng,d.latitude,d.longitude)}catch(p){u.logger.logError(p)}d.createddate&&(v.createdDate=yG(d.createddate)),c.push(v)}),c.sort(function(d,v){return d.priority<v.priority?-1:1}),this.cachedMessages=c,h.abrupt("return",this.cachedMessages);case 8:case"end":return h.stop()}},s,this)}))}}]),n}(gG);return t.\u0275fac=function(e){return new(e||t)(z(xD),z(ql))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),xo=function(){var t=function(){function r(){m(this,r),this.subject=new it}return g(r,[{key:"sendMessage",value:function(n){this.subject.next(n)}},{key:"getMessage",value:function(){return this.subject.asObservable()}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),xG=function(){var t=function(){function r(){m(this,r),this.localStorage=window.localStorage}return g(r,[{key:"get",value:function(n){if(this.isSupported){var i=this.localStorage.getItem(n);if(i)try{return JSON.parse(i)}catch(a){}}return null}},{key:"set",value:function(n,i){return!!this.isSupported&&(this.localStorage.setItem(n,JSON.stringify(i)),!0)}},{key:"isSupported",get:function(){return!!this.localStorage}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ae=function(){var t=function(){function r(){m(this,r)}return g(r,null,[{key:"addClass",value:function(n,i){n.classList?n.classList.add(i):n.className+=" "+i}},{key:"addMultipleClasses",value:function(n,i){if(n.classList)for(var a=i.trim().split(" "),o=0;o<a.length;o++)n.classList.add(a[o]);else for(var s=i.split(" "),u=0;u<s.length;u++)n.className+=" "+s[u]}},{key:"removeClass",value:function(n,i){n.classList?n.classList.remove(i):n.className=n.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(n,i){return n.classList?n.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(n.className)}},{key:"siblings",value:function(n){return Array.prototype.filter.call(n.parentNode.children,function(i){return i!==n})}},{key:"find",value:function(n,i){return Array.from(n.querySelectorAll(i))}},{key:"findSingle",value:function(n,i){return n?n.querySelector(i):null}},{key:"index",value:function(n){for(var i=n.parentNode.childNodes,a=0,o=0;o<i.length;o++){if(i[o]==n)return a;1==i[o].nodeType&&a++}return-1}},{key:"indexWithinGroup",value:function(n,i){for(var a=n.parentNode?n.parentNode.childNodes:[],o=0,s=0;s<a.length;s++){if(a[s]==n)return o;a[s].attributes&&a[s].attributes[i]&&1==a[s].nodeType&&o++}return-1}},{key:"relativePosition",value:function(n,i){var l,c,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=i.offsetHeight,s=i.getBoundingClientRect(),u=this.getViewport();s.top+o+a.height>u.height?(l=-1*a.height,n.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,n.style.transformOrigin="top"),c=a.width>u.width?-1*s.left:s.left+a.width>u.width?-1*(s.left+a.width-u.width):0,n.style.top=l+"px",n.style.left=c+"px"}},{key:"absolutePosition",value:function(n,i){var v,p,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=a.height,s=a.width,u=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),f=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();c.top+u+o>d.height?(v=c.top+f-o,n.style.transformOrigin="bottom",v<0&&(v=f)):(v=u+c.top+f,n.style.transformOrigin="top"),p=c.left+s>d.width?Math.max(0,c.left+h+l-s):c.left+h,n.style.top=v+"px",n.style.left=p+"px"}},{key:"getParents",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===n.parentNode?i:this.getParents(n.parentNode,i.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var i=[];if(n){var l,a=this.getParents(n),o=/(auto|scroll)/,s=function(_){var E=window.getComputedStyle(_,null);return o.test(E.getPropertyValue("overflow"))||o.test(E.getPropertyValue("overflowX"))||o.test(E.getPropertyValue("overflowY"))},u=b(a);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=1===c.nodeType&&c.dataset.scrollselectors;if(f){var v,d=b(f.split(","));try{for(d.s();!(v=d.n()).done;){var y=this.findSingle(c,v.value);y&&s(y)&&i.push(y)}}catch(C){d.e(C)}finally{d.f()}}9!==c.nodeType&&s(c)&&i.push(c)}}catch(C){u.e(C)}finally{u.f()}}return i}},{key:"getHiddenElementOuterHeight",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementOuterWidth",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementDimensions",value:function(n){var i={};return n.style.visibility="hidden",n.style.display="block",i.width=n.offsetWidth,i.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",i}},{key:"scrollInView",value:function(n,i){var a=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=a?parseFloat(a):0,s=getComputedStyle(n).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=n.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,h=n.scrollTop,d=n.clientHeight,v=this.getOuterHeight(i);f<0?n.scrollTop=h+f:f+v>d&&(n.scrollTop=h+f-d+v)}},{key:"fadeIn",value:function(n,i){n.style.opacity=0;var a=+new Date,o=0;!function u(){o=+n.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,n.style.opacity=o,a=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))}()}},{key:"fadeOut",value:function(n,i){var a=1,u=50/i,l=setInterval(function(){(a-=u)<=0&&(a=0,clearInterval(l)),n.style.opacity=a},50)}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"matches",value:function(n,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(n,i)}},{key:"getOuterWidth",value:function(n,i){var a=n.offsetWidth;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return a}},{key:"getHorizontalPadding",value:function(n){var i=getComputedStyle(n);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}},{key:"getHorizontalMargin",value:function(n){var i=getComputedStyle(n);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}},{key:"innerWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"width",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"getInnerHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i+(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom))}},{key:"getOuterHeight",value:function(n,i){var a=n.offsetHeight;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return a}},{key:"getHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))}},{key:"getWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))}},{key:"getViewport",value:function(){var n=window,i=document,a=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:n.innerWidth||a.clientWidth||o.clientWidth,height:n.innerHeight||a.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(n){var i=n.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(n,i){var a=n.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,n)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||(n.indexOf("Trident/")>0?(n.indexOf("rv:"),!0):n.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}},{key:"appendChild",value:function(n,i){if(this.isElement(i))i.appendChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+n;i.el.nativeElement.appendChild(n)}}},{key:"removeChild",value:function(n,i){if(this.isElement(i))i.removeChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+n+" from "+i;i.el.nativeElement.removeChild(n)}}},{key:"removeElement",value:function(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}},{key:"isElement",value:function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}},{key:"calculateScrollbarWidth",value:function(n){if(n){var i=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var o=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=o,o}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=i,i}},{key:"invokeElementMethod",value:function(n,i,a){n[i].apply(n,a)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(n){}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:i[1]||"",version:i[2]||"0"}}},{key:"isInteger",value:function(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}},{key:"isHidden",value:function(n){return null===n.offsetParent}},{key:"getFocusableElements",value:function(n){var s,a=[],o=b(r.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'));try{for(o.s();!(s=o.n()).done;){var u=s.value;"none"!=getComputedStyle(u).display&&"hidden"!=getComputedStyle(u).visibility&&a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),r}();return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t}(),BD=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};m(this,t),this.element=r,this.listener=e}return g(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=ae.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),Kt=function(){function t(){m(this,t)}return g(t,null,[{key:"equals",value:function(e,n,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(n,i):this.equalsByValue(e,n)}},{key:"equalsByValue",value:function(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var o,s,u,i=Array.isArray(e),a=Array.isArray(n);if(i&&a){if((s=e.length)!=n.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],n[o]))return!1;return!0}if(i!=a)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var f=e instanceof RegExp,h=n instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==n.toString();var d=Object.keys(e);if((s=d.length)!==Object.keys(n).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,d[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[u=d[o]],n[u]))return!1;return!0}return e!=e&&n!=n}},{key:"resolveFieldData",value:function(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(-1==n.indexOf("."))return e[n];for(var i=n.split("."),a=e,o=0,s=i.length;o<s;++o){if(null==a)return null;a=a[i[o]]}return a}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"reorderArray",value:function(e,n,i){e&&n!==i&&(i>=e.length&&(i%=e.length,n%=e.length),e.splice(i,0,e.splice(n,1)[0]))}},{key:"insertIntoOrderedArray",value:function(e,n,i,a){if(i.length>0){for(var o=!1,s=0;s<i.length;s++)if(this.findIndexInList(i[s],a)>n){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}},{key:"findIndexInList",value:function(e,n){var i=-1;if(n)for(var a=0;a<n.length;a++)if(n[a]==e){i=a;break}return i}},{key:"contains",value:function(e,n){if(null!=e&&n&&n.length){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)if(this.equals(e,a.value))return!0}catch(s){i.e(s)}finally{i.f()}}return!1}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},{key:"isEmpty",value:function(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"==typeof e&&0===Object.keys(e).length}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}}]),t}(),HD=0;function UD(){return HD++,"".concat("pr_id_").concat(HD)}var Wr=function FG(){var t=[],i=function(o){return o&&parseInt(o.style.zIndex,10)||0};return{get:i,set:function(o,s,u){s&&(s.style.zIndex=String(function(o,s){var u=t.length>0?t[t.length-1]:{key:o,value:s},l=u.value+(u.key===o?0:s)+1;return t.push({key:o,value:l}),l}(o,u)))},clear:function(o){o&&(function(o){t=t.filter(function(s){return s.value!==o})}(i(o)),o.style.zIndex="")},getCurrent:function(){return t.length>0?t[t.length-1].value:0}}}(),LG=["*"],Pn=function(){var t=g(function r(){m(this,r)});return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t}(),Yl=function(){var t=function(){function r(){m(this,r),this.ripple=!1,this.filterMatchModeOptions={text:[Pn.STARTS_WITH,Pn.CONTAINS,Pn.NOT_CONTAINS,Pn.ENDS_WITH,Pn.EQUALS,Pn.NOT_EQUALS],numeric:[Pn.EQUALS,Pn.NOT_EQUALS,Pn.LESS_THAN,Pn.LESS_THAN_OR_EQUAL_TO,Pn.GREATER_THAN,Pn.GREATER_THAN_OR_EQUAL_TO],date:[Pn.DATE_IS,Pn.DATE_IS_NOT,Pn.DATE_BEFORE,Pn.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new it,this.translationObserver=this.translationSource.asObservable()}return g(r,[{key:"getTranslation",value:function(n){return this.translation[n]}},{key:"setTranslation",value:function(n){this.translation=Object.assign(Object.assign({},this.translation),n),this.translationSource.next(this.translation)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),jD=function(){var t=g(function r(){m(this,r)});return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.FIRST_DAY_OF_WEEK="firstDayOfWeek",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t}(),NG=function(){var t=function(){function r(){var e=this;m(this,r),this.filters={startsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=Kt.removeAccents(a.toString()).toLocaleLowerCase(o);return Kt.removeAccents(i.toString()).toLocaleLowerCase(o).slice(0,s.length)===s},contains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=Kt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1!==Kt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},notContains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=Kt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1===Kt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},endsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=Kt.removeAccents(a.toString()).toLocaleLowerCase(o),u=Kt.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==u.indexOf(s,u.length-s.length)},equals:function(i,a,o){return null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():Kt.removeAccents(i.toString()).toLocaleLowerCase(o)==Kt.removeAccents(a.toString()).toLocaleLowerCase(o))},notEquals:function(i,a,o){return!(null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():Kt.removeAccents(i.toString()).toLocaleLowerCase(o)==Kt.removeAccents(a.toString()).toLocaleLowerCase(o)))},in:function(i,a){if(null==a||0===a.length)return!0;for(var o=0;o<a.length;o++)if(Kt.equals(i,a[o]))return!0;return!1},between:function(i,a){return null==a||null==a[0]||null==a[1]||null!=i&&(i.getTime?a[0].getTime()<=i.getTime()&&i.getTime()<=a[1].getTime():a[0]<=i&&i<=a[1])},lt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<a.getTime():i<a)},lte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<=a.getTime():i<=a)},gt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>a.getTime():i>a)},gte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>=a.getTime():i>=a)},is:function(i,a,o){return e.filters.equals(i,a,o)},isNot:function(i,a,o){return e.filters.notEquals(i,a,o)},before:function(i,a,o){return e.filters.lt(i,a,o)},after:function(i,a,o){return e.filters.gt(i,a,o)},dateIs:function(i,a){return null==a||null!=i&&i.toDateString()===a.toDateString()},dateIsNot:function(i,a){return null==a||null!=i&&i.toDateString()!==a.toDateString()},dateBefore:function(i,a){return null==a||null!=i&&i.getTime()<a.getTime()},dateAfter:function(i,a){return null==a||null!=i&&i.getTime()>a.getTime()}}}return g(r,[{key:"filter",value:function(n,i,a,o,s){var u=[];if(n){var c,l=b(n);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,h=b(i);try{for(h.s();!(d=h.n()).done;){var p=Kt.resolveFieldData(f,d.value);if(this.filters[o](p,a,s)){u.push(f);break}}}catch(y){h.e(y)}finally{h.f()}}}catch(y){l.e(y)}finally{l.f()}}return u}},{key:"register",value:function(n,i){this.filters[n]=i}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Cm=function(){var t=function(){function r(){m(this,r),this.messageSource=new it,this.clearSource=new it,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return g(r,[{key:"add",value:function(n){n&&this.messageSource.next(n)}},{key:"addAll",value:function(n){n&&n.length&&this.messageSource.next(n)}},{key:"clear",value:function(n){this.clearSource.next(n||null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),VG=function(){var t=function(){function r(){m(this,r),this.clickSource=new it,this.clickObservable=this.clickSource.asObservable()}return g(r,[{key:"add",value:function(n){n&&this.clickSource.next(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),BG=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Jt({type:t,selectors:[["p-header"]],ngContentSelectors:LG,decls:1,vars:0,template:function(e,n){1&e&&(Us(),wo(0))},encapsulation:2}),t}(),Sh=function(){var t=function(){function r(e){m(this,r),this.template=e}return g(r,[{key:"getType",value:function(){return this.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(pi))},t.\u0275dir=le({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t}(),bh=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}(),Em=function(){var t=function(){function r(e,n,i){m(this,r),this.el=e,this.zone=n,this.config=i}return g(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){n.create(),n.mouseDownListener=n.onMouseDown.bind(n),n.el.nativeElement.addEventListener("mousedown",n.mouseDownListener)})}},{key:"onMouseDown",value:function(n){var i=this.getInk();if(i&&"none"!==getComputedStyle(i,null).display){if(ae.removeClass(i,"p-ink-active"),!ae.getHeight(i)&&!ae.getWidth(i)){var a=Math.max(ae.getOuterWidth(this.el.nativeElement),ae.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}var o=ae.getOffset(this.el.nativeElement),s=n.pageX-o.left+document.body.scrollTop-ae.getWidth(i)/2,u=n.pageY-o.top+document.body.scrollLeft-ae.getHeight(i)/2;i.style.top=u+"px",i.style.left=s+"px",ae.addClass(i,"p-ink-active")}}},{key:"getInk",value:function(){for(var n=0;n<this.el.nativeElement.children.length;n++)if(-1!==this.el.nativeElement.children[n].className.indexOf("p-ink"))return this.el.nativeElement.children[n];return null}},{key:"resetInk",value:function(){var n=this.getInk();n&&ae.removeClass(n,"p-ink-active")}},{key:"onAnimationEnd",value:function(n){ae.removeClass(n.currentTarget,"p-ink-active")}},{key:"create",value:function(){var n=document.createElement("span");n.className="p-ink",this.el.nativeElement.appendChild(n),this.animationListener=this.onAnimationEnd.bind(this),n.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var n=this.getInk();n&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),n.removeEventListener("animationend",this.animationListener),ae.removeElement(n))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(gt),T(Yl,8))},t.\u0275dir=le({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t}(),Th=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}(),UG=function(){var t=function(){function r(e){m(this,r),this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}return g(r,[{key:"ngAfterViewInit",value:function(){this._initialStyleClass=this.el.nativeElement.className,ae.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();var n=document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",this.label?n.appendChild(document.createTextNode(this.label)):n.innerHTML="&nbsp;",this.el.nativeElement.appendChild(n),this.initialized=!0}},{key:"getStyleClass",value:function(){var n="p-button p-component";return this.icon&&!this.label&&(n+=" p-button-icon-only"),this.loading&&(n+=" p-disabled p-button-loading",!this.icon&&this.label&&(n+=" p-button-loading-label-only")),n}},{key:"setStyleClass",value:function(){var n=this.getStyleClass();this.el.nativeElement.className=n+" "+this._initialStyleClass}},{key:"createIconEl",value:function(){var n=document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");var i=this.label?"p-button-icon-"+this.iconPos:null;i&&ae.addClass(n,i);var a=this.getIconClass();a&&ae.addMultipleClasses(n,a);var o=ae.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(n,o):this.el.nativeElement.appendChild(n)}},{key:"getIconClass",value:function(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}},{key:"setIconClass",value:function(){var n=ae.findSingle(this.el.nativeElement,".p-button-icon");n?n.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}},{key:"removeIconElement",value:function(){var n=ae.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(n)}},{key:"label",get:function(){return this._label},set:function(n){this._label=n,this.initialized&&(ae.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(n){this._icon=n,this.initialized&&(this.setIconClass(),this.setStyleClass())}},{key:"loading",get:function(){return this._loading},set:function(n){this._loading=n,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}},{key:"ngOnDestroy",value:function(){this.initialized=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt))},t.\u0275dir=le({type:t,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t}(),jG=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr,Th]]}),t}();function Dh(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return zG(t)?Number(t):r}function zG(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}var qG=["addListener","removeListener"],KG=["addEventListener","removeEventListener"],YG=["on","off"];function uu(t,r,e,n){if(be(e)&&(n=e,e=void 0),n)return uu(t,r,e).pipe(Ug(n));var a=W(function QG(t){return be(t.addEventListener)&&be(t.removeEventListener)}(t)?KG.map(function(u){return function(l){return t[u](r,l,e)}}):function ZG(t){return be(t.addListener)&&be(t.removeListener)}(t)?qG.map(GD(t,r)):function XG(t){return be(t.on)&&be(t.off)}(t)?YG.map(GD(t,r)):[],2),o=a[0],s=a[1];if(!o&&Zd(t))return Xt(function(u){return uu(u,r,e)})(or(t));if(!o)throw new TypeError("Invalid event target");return new tt(function(u){var l=function(){for(var f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];return u.next(1<h.length?h:h[0])};return o(l),function(){return s(l)}})}function GD(t,r){return function(e){return function(n){return t[e](r,n)}}}var $G=function(t){A(e,t);var r=O(e);function e(n,i){return m(this,e),r.call(this)}return g(e,[{key:"schedule",value:function(i){return this}}]),e}(V),kh={setInterval:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=kh.delegate;return((null==t?void 0:t.setInterval)||setInterval).apply(void 0,arguments)}),clearInterval:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=kh.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(t)}),delegate:void 0},wm=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a.pending=!1,a}return g(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(s,this.id,a),this}},{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return kh.setInterval(i.flush.bind(i,this),o)}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&this.delay===o&&!1===this.pending)return a;kh.clearInterval(a)}},{key:"execute",value:function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(i,a);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,a){var s,o=!1;try{this.work(i)}catch(u){o=!0,s=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}},{key:"unsubscribe",value:function(){if(!this.closed){var i=this.id,a=this.scheduler,o=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,F(o,this),null!=i&&(this.id=this.recycleAsyncId(a,i,null)),this.delay=null,Me(Ve(e.prototype),"unsubscribe",this).call(this)}}}]),e}($G),Zl={schedule:function(r){var e=requestAnimationFrame,n=cancelAnimationFrame,i=Zl.delegate;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);var a=e(function(o){n=void 0,r(o)});return new V(function(){return null==n?void 0:n(a)})},requestAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Zl.delegate;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Zl.delegate;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0},JG=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return g(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?Me(Ve(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Zl.requestAnimationFrame(function(){return i.flush(void 0)})))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return Me(Ve(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Zl.cancelAnimationFrame(a),i._scheduled=void 0)}}]),e}(wm),Sm={now:function(){return(Sm.delegate||Date).now()},delegate:void 0},bm=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;m(this,t),this.schedulerActionCtor=r,this.now=e}return g(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,e).schedule(i,n)}}]),t}();bm.now=Sm.now;var Dm,Tm=function(t){A(e,t);var r=O(e);function e(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bm.now;return m(this,e),(i=r.call(this,n,a)).actions=[],i._active=!1,i._scheduled=void 0,i}return g(e,[{key:"flush",value:function(i){var a=this.actions;if(this._active)a.push(i);else{var o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=a.shift());if(this._active=!1,o){for(;i=a.shift();)i.unsubscribe();throw o}}}}]),e}(bm),e3=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(Tm),t3=new e3(JG),n3=1,Ih={};function zD(t){return t in Ih&&(delete Ih[t],!0)}var r3=function(r){var e=n3++;return Ih[e]=!0,Dm||(Dm=Promise.resolve()),Dm.then(function(){return zD(e)&&r()}),e},i3=function(r){zD(r)},Ah={setImmediate:function(){var r=Ah.delegate;return((null==r?void 0:r.setImmediate)||r3).apply(void 0,arguments)},clearImmediate:function(r){var e=Ah.delegate;return((null==e?void 0:e.clearImmediate)||i3)(r)},delegate:void 0},a3=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return g(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?Me(Ve(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Ah.setImmediate(i.flush.bind(i,void 0))))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return Me(Ve(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Ah.clearImmediate(a),i._scheduled=void 0)}}]),e}(wm),o3=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(Tm),s3=new o3(a3);function qD(t){return!!t&&(t instanceof tt||be(t.lift)&&be(t.subscribe))}function l3(t,r){return t===r}var KD=new Tm(wm),YD=KD;function c3(t){return Ft(function(r,e){var n=!1,i=null,a=null,o=!1,s=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var c=i;i=null,e.next(c)}o&&e.complete()},u=function(){a=null,o&&e.complete()};r.subscribe(new Tt(e,function(l){n=!0,i=l,a||or(t(l)).subscribe(a=new Tt(e,s,u))},function(){o=!0,(!n||!a||a.closed)&&e.complete()}))})}function f3(t){return t instanceof Date&&!isNaN(t)}function ZD(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YD,n=-1;return null!=r&&($_(r)?e=r:n=r),new tt(function(i){var a=f3(t)?+t-e.now():t;a<0&&(a=0);var o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},a)})}function km(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YD;return c3(function(){return ZD(t,r)})}function qa(t){return Ft(function(r,e){or(t).subscribe(new Tt(e,function(){return e.complete()},Zt)),!e.closed&&r.subscribe(e)})}var Im,d3=function(t){A(e,t);var r=O(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sm;return m(this,e),(n=r.call(this))._bufferSize=i,n._windowTime=a,n._timestampProvider=o,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=a===1/0,n._bufferSize=Math.max(1,i),n._windowTime=Math.max(1,a),n}return g(e,[{key:"next",value:function(i){var o=this._buffer,s=this._infiniteTimeWindow,u=this._timestampProvider,l=this._windowTime;this.isStopped||(o.push(i),!s&&o.push(u.now()+l)),this._trimBuffer(),Me(Ve(e.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(i),o=this._infiniteTimeWindow,u=this._buffer.slice(),l=0;l<u.length&&!i.closed;l+=o?1:2)i.next(u[l]);return this._checkFinalizedStatuses(i),a}},{key:"_trimBuffer",value:function(){var i=this._bufferSize,a=this._timestampProvider,o=this._buffer,s=this._infiniteTimeWindow,u=(s?1:2)*i;if(i<1/0&&u<o.length&&o.splice(0,o.length-u),!s){for(var l=a.now(),c=0,f=1;f<o.length&&o[f]<=l;f+=2)c=f;c&&o.splice(0,c+1)}}}]),e}(it);try{Im="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){Im=!1}var Oh,Fo,XD=function(){var t=g(function r(e){m(this,r),this._platformId=e,this.isBrowser=this._platformId?Fg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Im)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT});return t.\u0275fac=function(e){return new(e||t)(z(ko))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ql(){if("object"!=typeof document||!document)return 0;if(null==Oh){var t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";var e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),Oh=0,0===t.scrollLeft&&(t.scrollLeft=1,Oh=0===t.scrollLeft?1:2),t.remove()}return Oh}var y3=new we("cdk-dir-doc",{providedIn:"root",factory:function _3(){return zR(En)}}),C3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,$D=function(){var t=function(){function r(e){m(this,r),this.value="ltr",this.change=new Se,e&&(this.value=function E3(t){var r=(null==t?void 0:t.toLowerCase())||"";return"auto"===r&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?C3.test(navigator.language)?"rtl":"ltr":"rtl"===r?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}return g(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(y3,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),JD=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({}),t}(),w3=g(function t(){m(this,t)}),b3=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this))._data=n,i}return g(e,[{key:"connect",value:function(){return qD(this._data)?this._data:me(this._data)}},{key:"disconnect",value:function(){}}]),e}(w3),T3=function(){function t(){m(this,t),this.viewCacheSize=20,this._viewCache=[]}return g(t,[{key:"applyChanges",value:function(e,n,i,a,o){var s=this;e.forEachOperation(function(u,l,c){var f,h;null==u.previousIndex?h=(f=s._insertView(function(){return i(u,l,c)},c,n,a(u)))?1:0:null==c?(s._detachAndCacheView(l,n),h=3):(f=s._moveView(l,c,n,a(u)),h=2),o&&o({context:null==f?void 0:f.context,operation:h,record:u})})}},{key:"detach",value:function(){var n,e=b(this._viewCache);try{for(e.s();!(n=e.n()).done;)n.value.destroy()}catch(a){e.e(a)}finally{e.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,n,i,a){var o=this._insertViewFromCache(n,i);if(!o){var s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}o.context.$implicit=a}},{key:"_detachAndCacheView",value:function(e,n){var i=n.detach(e);this._maybeCacheView(i,n)}},{key:"_moveView",value:function(e,n,i,a){var o=i.get(e);return i.move(o,n),o.context.$implicit=a,o}},{key:"_maybeCacheView",value:function(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var i=n.indexOf(e);-1===i?e.destroy():n.remove(i)}}},{key:"_insertViewFromCache",value:function(e,n){var i=this._viewCache.pop();return i&&n.insert(i,e),i||null}}]),t}(),ek=new we("_ViewRepeater"),D3=["contentWrapper"],k3=["*"],tk=new we("VIRTUAL_SCROLL_STRATEGY"),I3=function(){function t(r,e,n){m(this,t),this._scrolledIndexChange=new it,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function u3(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pa;return t=null!=t?t:l3,Ft(function(e,n){var i,a=!0;e.subscribe(new Tt(n,function(o){var s=r(o);(a||!t(i,s))&&(a=!1,i=s,n.next(o))}))})}()),this._viewport=null,this._itemSize=r,this._minBufferPx=e,this._maxBufferPx=n}return g(t,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}},{key:"_updateTotalContentSize",value:function(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),a=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>a){var u=Math.ceil(i/this._itemSize),l=Math.max(0,Math.min(s,a-u));s!=l&&(s=l,o=l*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(a,n.start+u))}var c=o-n.start*this._itemSize;if(c<this._minBufferPx&&0!=n.start){var f=Math.ceil((this._maxBufferPx-c)/this._itemSize);n.start=Math.max(0,n.start-f),n.end=Math.min(a,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{var h=n.end*this._itemSize-(o+i);if(h<this._minBufferPx&&n.end!=a){var d=Math.ceil((this._maxBufferPx-h)/this._itemSize);d>0&&(n.end=Math.min(a,n.end+d),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}}}]),t}();function A3(t){return t._scrollStrategy}var O3=function(){var t=function(){function r(){m(this,r),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new I3(this.itemSize,this.minBufferPx,this.maxBufferPx)}return g(r,[{key:"itemSize",get:function(){return this._itemSize},set:function(n){this._itemSize=Dh(n)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(n){this._minBufferPx=Dh(n)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(n){this._maxBufferPx=Dh(n)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=le({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[lt([{provide:tk,useFactory:A3,deps:[ot(function(){return t})]}]),Zn]}),t}(),nk=function(){var t=function(){function r(e,n,i){m(this,r),this._ngZone=e,this._platform=n,this._scrolled=new it,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return g(r,[{key:"register",value:function(n){var i=this;this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(function(){return i._scrolled.next(n)}))}},{key:"deregister",value:function(n){var i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}},{key:"scrolled",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new tt(function(a){n._globalSubscription||n._addGlobalListener();var o=i>0?n._scrolled.pipe(km(i)).subscribe(a):n._scrolled.subscribe(a);return n._scrolledCount++,function(){o.unsubscribe(),n._scrolledCount--,n._scrolledCount||n._removeGlobalListener()}}):me()}},{key:"ngOnDestroy",value:function(){var n=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(i,a){return n.deregister(a)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(n,i){var a=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(wn(function(o){return!o||a.indexOf(o)>-1}))}},{key:"getAncestorScrollContainers",value:function(n){var i=this,a=[];return this.scrollContainers.forEach(function(o,s){i._scrollableContainsElement(s,n)&&a.push(s)}),a}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(n,i){var a=function WG(t){return t instanceof Bt?t.nativeElement:t}(i),o=n.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var n=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return uu(n._getWindow().document,"scroll").subscribe(function(){return n._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(gt),z(XD),z(En,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rk=function(){var t=function(){function r(e,n,i,a){var o=this;m(this,r),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new it,this._elementScrolled=new tt(function(s){return o.ngZone.runOutsideAngular(function(){return uu(o.elementRef.nativeElement,"scroll").pipe(qa(o._destroyed)).subscribe(s)})})}return g(r,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(n){var i=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),a&&0!=Ql()?(null!=n.left&&(n.right=i.scrollWidth-i.clientWidth-n.left),2==Ql()?n.left=n.right:1==Ql()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}},{key:"_applyScrollToOptions",value:function(n){var i=this.elementRef.nativeElement;!function g3(){if(null==Fo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fo=!1;if("scrollBehavior"in document.documentElement.style)Fo=!0;else{var t=Element.prototype.scrollTo;Fo=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Fo}()?(null!=n.top&&(i.scrollTop=n.top),null!=n.left&&(i.scrollLeft=n.left)):i.scrollTo(n)}},{key:"measureScrollOffset",value:function(n){var i="left",a="right",o=this.elementRef.nativeElement;if("top"==n)return o.scrollTop;if("bottom"==n)return o.scrollHeight-o.clientHeight-o.scrollTop;var s=this.dir&&"rtl"==this.dir.value;return"start"==n?n=s?a:i:"end"==n&&(n=s?i:a),s&&2==Ql()?n==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Ql()?n==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(nk),T(gt),T($D,8))},t.\u0275dir=le({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t}(),P3=function(){var t=function(){function r(e,n,i){var a=this;m(this,r),this._platform=e,this._change=new it,this._changeListener=function(o){a._change.next(o)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var o=a._getWindow();o.addEventListener("resize",a._changeListener),o.addEventListener("orientationchange",a._changeListener)}a.change().subscribe(function(){return a._viewportSize=null})})}return g(r,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}},{key:"getViewportRect",value:function(){var n=this.getViewportScrollPosition(),i=this.getViewportSize(),a=i.width,o=i.height;return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+a,height:o,width:a}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=this._document,i=this._getWindow(),a=n.documentElement,o=a.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||n.body.scrollLeft||i.scrollX||a.scrollLeft||0}}},{key:"change",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return n>0?this._change.pipe(km(n)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(XD),z(gt),z(En,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),F3="undefined"!=typeof requestAnimationFrame?t3:s3,Om=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a,o,s,u,l,c){var f;return m(this,n),(f=e.call(this,i,l,o,u)).elementRef=i,f._changeDetectorRef=a,f._scrollStrategy=s,f._detachedSubject=new it,f._renderedRangeSubject=new it,f._orientation="vertical",f._appendOnly=!1,f.scrolledIndexChange=new tt(function(h){return f._scrollStrategy.scrolledIndexChange.subscribe(function(d){return Promise.resolve().then(function(){return f.ngZone.run(function(){return h.next(d)})})})}),f.renderedRangeStream=f._renderedRangeSubject,f._totalContentSize=0,f._totalContentWidth="",f._totalContentHeight="",f._renderedRange={start:0,end:0},f._dataLength=0,f._viewportSize=0,f._renderedContentOffset=0,f._renderedContentOffsetNeedsRewrite=!1,f._isChangeDetectionPending=!1,f._runAfterChangeDetection=[],f._viewportChanges=V.EMPTY,f._viewportChanges=c.change().subscribe(function(){f.checkViewportSize()}),f}return g(n,[{key:"orientation",get:function(){return this._orientation},set:function(a){this._orientation!==a&&(this._orientation=a,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(a){this._appendOnly=function GG(t){return null!=t&&"false"!=="".concat(t)}(a)}},{key:"ngOnInit",value:function(){var a=this;Me(Ve(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){a._measureViewportSize(),a._scrollStrategy.attach(a),a.elementScrolled().pipe(jg(null),km(0,F3)).subscribe(function(){return a._scrollStrategy.onContentScrolled()}),a._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),Me(Ve(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(a){var o=this;this.ngZone.runOutsideAngular(function(){o._forOf=a,o._forOf.dataStream.pipe(qa(o._detachedSubject)).subscribe(function(s){var u=s.length;u!==o._dataLength&&(o._dataLength=u,o._scrollStrategy.onDataLengthChanged()),o._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(a){this._totalContentSize!==a&&(this._totalContentSize=a,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(a){var o=this;(function x3(t,r){return t.start==r.start&&t.end==r.end})(this._renderedRange,a)||(this.appendOnly&&(a={start:0,end:Math.max(this._renderedRange.end,a.end)}),this._renderedRangeSubject.next(this._renderedRange=a),this._markChangeDetectionNeeded(function(){return o._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(a){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",u=this.dir&&"rtl"==this.dir.value,l="horizontal"==this.orientation,c=l?"X":"Y",f=l&&u?-1:1,h="translate".concat(c,"(").concat(Number(f*a),"px)");this._renderedContentOffset=a=this.appendOnly&&"to-start"===s?0:a,"to-end"===s&&(h+=" translate".concat(c,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(function(){o._renderedContentOffsetNeedsRewrite?(o._renderedContentOffset-=o.measureRenderedContentSize(),o._renderedContentOffsetNeedsRewrite=!1,o.setRenderedContentOffset(o._renderedContentOffset)):o._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",s={behavior:o};"horizontal"===this.orientation?s.start=a:s.top=a,this.scrollTo(s)}},{key:"scrollToIndex",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(a,o)}},{key:"measureScrollOffset",value:function(a){return a?Me(Ve(n.prototype),"measureScrollOffset",this).call(this,a):Me(Ve(n.prototype),"measureScrollOffset",this).call(this,"horizontal"===this.orientation?"start":"top")}},{key:"measureRenderedContentSize",value:function(){var a=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?a.offsetWidth:a.offsetHeight}},{key:"measureRangeSize",value:function(a){return this._forOf?this._forOf.measureRangeSize(a,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var a=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?a.clientWidth:a.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(a){var o=this;a&&this._runAfterChangeDetection.push(a),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){o._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var a=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return a._changeDetectorRef.markForCheck()});var o=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var u,s=b(o);try{for(s.s();!(u=s.n()).done;)(0,u.value)()}catch(c){s.e(c)}finally{s.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}}]),n}(rk);return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(pr),T(gt),T(tk,8),T($D,8),T(nk),T(P3))},t.\u0275cmp=Jt({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){var i;1&e&&gi(D3,7),2&e&&pn(i=gn())&&(n._contentWrapper=i.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&So("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[lt([{provide:rk,useExisting:t}]),ut],ngContentSelectors:k3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(Us(),U(0,"div",0,1),wo(2),j(),Vt(3,"div",2)),2&e&&(x(3),Tf("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t}();function ik(t,r,e){if(!e.getBoundingClientRect)return 0;var i=e.getBoundingClientRect();return"horizontal"===t?"start"===r?i.left:i.right:"start"===r?i.top:i.bottom}var L3=function(){var t=function(){function r(e,n,i,a,o,s){var u=this;m(this,r),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewRepeater=a,this._viewport=o,this.viewChange=new it,this._dataSourceChanges=new it,this.dataStream=this._dataSourceChanges.pipe(jg(null),function h3(){return Ft(function(t,r){var e,n=!1;t.subscribe(new Tt(r,function(i){var a=e;e=i,n&&r.next([a,i]),n=!0}))})}(),Gr(function(l){var c=W(l,2);return u._changeDataSource(c[0],c[1])}),function v3(t,r,e){var n,i,a,o=!1;return t&&"object"==typeof t?(a=null!==(n=t.bufferSize)&&void 0!==n?n:1/0,r=null!==(i=t.windowTime)&&void 0!==i?i:1/0,o=!!t.refCount,e=t.scheduler):a=null!=t?t:1/0,rC({connector:function(){return new d3(a,r,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new it,this.dataStream.subscribe(function(l){u._data=l,u._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(qa(this._destroyed)).subscribe(function(l){u._renderedRange=l,s.run(function(){return u.viewChange.next(u._renderedRange)}),u._onRenderedDataChange()}),this._viewport.attach(this)}return g(r,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(n){this._cdkVirtualForOf=n,function S3(t){return t&&"function"==typeof t.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new b3(qD(n)?n:Array.from(n||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(n){var i=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?function(a,o){return n(a+(i._renderedRange?i._renderedRange.start:0),o)}:void 0}},{key:"cdkVirtualForTemplate",set:function(n){n&&(this._needsUpdate=!0,this._template=n)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(n){this._viewRepeater.viewCacheSize=Dh(n)}},{key:"measureRangeSize",value:function(n,i){if(n.start>=n.end)return 0;for(var s,u,a=n.start-this._renderedRange.start,o=n.end-n.start,l=0;l<o;l++){var c=this._viewContainerRef.get(l+a);if(c&&c.rootNodes.length){s=u=c.rootNodes[0];break}}for(var f=o-1;f>-1;f--){var h=this._viewContainerRef.get(f+a);if(h&&h.rootNodes.length){u=h.rootNodes[h.rootNodes.length-1];break}}return s&&u?ik(i,"end",u)-ik(i,"start",s):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var n=this;!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(function(i,a){return n.cdkVirtualForTrackBy?n.cdkVirtualForTrackBy(i,a):a})),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(n,i){return n&&n.disconnect(this),this._needsUpdate=!0,i?i.connect(this):me()}},{key:"_updateContext",value:function(){for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=n,this._updateComputedContextProperties(a.context),a.detectChanges()}}},{key:"_applyChanges",value:function(n){var i=this;this._viewRepeater.applyChanges(n,this._viewContainerRef,function(u,l,c){return i._getEmbeddedViewArgs(u,c)},function(u){return u.item}),n.forEachIdentityChange(function(u){i._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});for(var a=this._data.length,o=this._viewContainerRef.length;o--;){var s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=a,this._updateComputedContextProperties(s.context)}}},{key:"_updateComputedContextProperties",value:function(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}},{key:"_getEmbeddedViewArgs",value:function(n,i){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Vr),T(pi),T(kl),T(ek),T(Om,4),T(gt))},t.\u0275dir=le({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[lt([{provide:ek,useClass:T3}])]}),t}(),ak=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({}),t}(),ok=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[JD,ak],JD,ak]}),t}(),sk=g(function t(){m(this,t)}),N3=g(function t(){m(this,t)}),Ca="*";function $l(t,r){return{type:7,name:t,definitions:r,options:{}}}function Ka(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:r,timings:t}}function uk(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:r}}function qr(t){return{type:6,styles:t,offset:null}}function Mm(t,r,e){return{type:0,name:t,styles:r,options:e}}function Ea(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:r,options:e}}function lk(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:t,options:r}}function V3(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function ck(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:t,options:r}}function B3(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:r,options:e}}function fk(t){Promise.resolve(null).then(t)}var Jl=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;fk(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),hk=function(){function t(r){var e=this;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;var n=0,i=0,a=0,o=this.players.length;0==o?fk(function(){return e._onFinish()}):this.players.forEach(function(s){s.onDone(function(){++n==o&&e._onFinish()}),s.onDestroy(function(){++i==o&&e._onDestroy()}),s.onStart(function(){++a==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(s,u){return Math.max(s,u.totalTime)},0)}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(n,i){return null===n||i.totalTime>n.totalTime?i:n},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),dk=function(){var t=function(){function r(e,n){m(this,r),this._renderer=e,this._elementRef=n,this.onChange=function(i){},this.onTouched=function(){}}return g(r,[{key:"setProperty",value:function(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"setDisabledState",value:function(n){this.setProperty("disabled",n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(vi),T(Bt))},t.\u0275dir=le({type:t}),t}(),Lo=function(){var t=function(r){A(n,r);var e=O(n);function n(){return m(this,n),e.apply(this,arguments)}return g(n)}(dk);return t.\u0275fac=function(){var r;return function(n){return(r||(r=function On(t){return Fa(function(){for(var r=t.prototype.constructor,e=r[sa]||Ov(r),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==n;){var a=i[sa]||Ov(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}(t)))(n||t)}}(),t.\u0275dir=le({type:t,features:[ut]}),t}(),yr=new we("NgValueAccessor"),j3={provide:yr,useExisting:ot(function(){return Mh}),multi:!0},z3=new we("CompositionEventMode"),Mh=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a,o){var s;return m(this,n),(s=e.call(this,i,a))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function G3(){var t=Vi()?Vi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}()),s}return g(n,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),n}(dk);return t.\u0275fac=function(e){return new(e||t)(T(vi),T(Bt),T(z3,8))},t.\u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&ue("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[lt([j3]),ut]}),t}(),xn=new we("NgValidators"),Za=new we("NgAsyncValidators");function gk(t){return null!=t}function mk(t){var r=dl(t)?ln(t):t;return Hp(r),r}function yk(t){var r={};return t.forEach(function(e){r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function _k(t,r){return r.map(function(e){return e(t)})}function Ck(t){return t.map(function(r){return function ez(t){return!t.validate}(r)?r:function(e){return r.validate(e)}})}function xm(t){return null!=t?function tz(t){if(!t)return null;var r=t.filter(gk);return 0==r.length?null:function(e){return yk(_k(e,r))}}(Ck(t)):null}function Fm(t){return null!=t?function nz(t){if(!t)return null;var r=t.filter(gk);return 0==r.length?null:function(e){return function H3(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=J_(r),i=dT(r),a=i.args,o=i.keys,s=new tt(function(u){var l=a.length;if(l)for(var c=new Array(l),f=l,h=l,d=function(y){var C=!1;or(a[y]).subscribe(new Tt(u,function(_){C||(C=!0,h--),c[y]=_},function(){return f--},void 0,function(){(!f||!C)&&(h||u.next(o?vT(o,c):c),u.complete())}))},v=0;v<l;v++)d(v);else u.complete()});return n?s.pipe(Ug(n)):s}(_k(e,r).map(mk)).pipe(je(yk))}}(Ck(t)):null}function Ek(t,r){return null===t?[r]:Array.isArray(t)?[].concat(K(t),[r]):[t,r]}function Lm(t){return t?Array.isArray(t)?t:[t]:[]}function Rh(t,r){return Array.isArray(t)?t.includes(r):t===r}function bk(t,r){var e=Lm(r);return Lm(t).forEach(function(i){Rh(e,i)||e.push(i)}),e}function Tk(t,r){return Lm(r).filter(function(e){return!Rh(t,e)})}var Dk=function(){function t(){m(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=xm(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,n){return!!this.control&&this.control.hasError(e,n)}},{key:"getError",value:function(e,n){return this.control?this.control.getError(e,n):null}}]),t}(),wa=function(t){A(e,t);var r=O(e);function e(){var n;return m(this,e),(n=r.apply(this,arguments))._parent=null,n.name=null,n.valueAccessor=null,n}return g(e)}(Dk),Wn=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(Dk),kk=function(){function t(r){m(this,t),this._cd=r}return g(t,[{key:"is",value:function(e){var n,i,a;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[e])}}]),t}(),Ik=function(){var t=function(r){A(n,r);var e=O(n);function n(i){return m(this,n),e.call(this,i)}return g(n)}(kk);return t.\u0275fac=function(e){return new(e||t)(T(wa,2))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&So("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[ut]}),t}();function ec(t,r){(function Bm(t,r){var e=function wk(t){return t._rawValidators}(t);null!==r.validator?t.setValidators(Ek(e,r.validator)):"function"==typeof e&&t.setValidators([e]);var n=function Sk(t){return t._rawAsyncValidators}(t);null!==r.asyncValidator?t.setAsyncValidators(Ek(n,r.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);var i=function(){return t.updateValueAndValidity()};Lh(r._rawValidators,i),Lh(r._rawAsyncValidators,i)})(t,r),r.valueAccessor.writeValue(t.value),function fz(t,r){r.valueAccessor.registerOnChange(function(e){t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ok(t,r)})}(t,r),function dz(t,r){var e=function(i,a){r.valueAccessor.writeValue(i),a&&r.viewToModelUpdate(i)};t.registerOnChange(e),r._registerOnDestroy(function(){t._unregisterOnChange(e)})}(t,r),function hz(t,r){r.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ok(t,r),"submit"!==t.updateOn&&t.markAsTouched()})}(t,r),function cz(t,r){if(r.valueAccessor.setDisabledState){var e=function(i){r.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),r._registerOnDestroy(function(){t._unregisterOnDisabledChange(e)})}}(t,r)}function Lh(t,r){t.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Ok(t,r){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jm(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var tc="VALID",Vh="INVALID",cu="PENDING",nc="DISABLED";function zm(t){return(Bh(t)?t.validators:t)||null}function Pk(t){return Array.isArray(t)?xm(t):t||null}function Wm(t,r){return(Bh(r)?r.asyncValidators:t)||null}function xk(t){return Array.isArray(t)?Fm(t):t||null}function Bh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var qm=function(r){return r instanceof Ym};function Lk(t){return function(r){return r instanceof Bk}(t)?t.value:t.getRawValue()}function Nk(t,r){var e=qm(t),n=t.controls;if(!(e?Object.keys(n):n).length)throw new J(1e3,"");if(!n[r])throw new J(1001,"")}function Vk(t,r){qm(t),t._forEachChild(function(n,i){if(void 0===r[i])throw new J(1002,"")})}var Km=function(){function t(r,e){m(this,t),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Pk(this._rawValidators),this._composedAsyncValidatorFn=xk(this._rawAsyncValidators)}return g(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===tc}},{key:"invalid",get:function(){return this.status===Vh}},{key:"pending",get:function(){return this.status==cu}},{key:"disabled",get:function(){return this.status===nc}},{key:"enabled",get:function(){return this.status!==nc}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Pk(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=xk(e)}},{key:"addValidators",value:function(e){this.setValidators(bk(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(bk(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(Tk(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(Tk(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Rh(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Rh(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(n){n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(n){n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=cu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(function(i){i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(function(i){i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===cu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(n){return n._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?nc:tc}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var n=this;if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator=!0;var i=mk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){n._hasOwnPendingAsyncValidator=!1,n.setErrors(a,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}},{key:"get",value:function(e){return function mz(t,r,e){if(null==r||(Array.isArray(r)||(r=r.split(e)),Array.isArray(r)&&0===r.length))return null;var n=t;return r.forEach(function(i){n=qm(n)?n.controls.hasOwnProperty(i)?n.controls[i]:null:function(r){return r instanceof _z}(n)&&n.at(i)||null}),n}(this,e,".")}},{key:"getError",value:function(e,n){var i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,n){return!!this.getError(e,n)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Se,this.statusChanges=new Se}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?nc:this.errors?Vh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(Vh)?Vh:tc}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(n){return n.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Bh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Bk=function(t){A(e,t);var r=O(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return m(this,e),(n=r.call(this,zm(a),Wm(o,a))).defaultValue=null,n._onChange=[],n._pendingChange=!1,n._applyFormState(i),n._setUpdateStrategy(a),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!!n.asyncValidator}),Bh(a)&&a.initialValueIsDefault&&(n.defaultValue=n._isBoxedValue(i)?i.value:i),n}return g(e,[{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(function(s){return s(a.value,!1!==o.emitViewToModelChange)}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultValue,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){jm(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){jm(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),e}(Km),Ym=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this,zm(i),Wm(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return g(e,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vk(this,i),Object.keys(i).forEach(function(s){Nk(a,s),a.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(s){a.controls[s]&&a.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,o){return i[o]=Lk(a),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,o){return!!o._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(o){var s=a.controls[o];s&&i(s,o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,o=Object.keys(this.controls);a<o.length;a++){var s=o[a],u=this.controls[s];if(this.contains(s)&&i(u))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,o,s){return(o.enabled||i.disabled)&&(a[s]=o.value),a})}},{key:"_reduceChildren",value:function(i,a){var o=i;return this._forEachChild(function(s,u){o=a(o,s,u)}),o}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}]),e}(Km),_z=function(t){A(e,t);var r=O(e);function e(n,i,a){var o;return m(this,e),(o=r.call(this,zm(i),Wm(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return g(e,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vk(this,i),i.forEach(function(s,u){Nk(a,u),a.at(u).setValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(s,u){a.at(u)&&a.at(u).patchValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return Lk(i)})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,o){return!!o._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,o){i(a,o)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_allControlsDisabled",value:function(){var a,i=b(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(s){i.e(s)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),e}(Km),wz={provide:wa,useExisting:ot(function(){return Hh})},jk=function(){return Promise.resolve(null)}(),Hh=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a,o,s,u){var l;return m(this,n),(l=e.call(this))._changeDetectorRef=u,l.control=new Bk,l._registered=!1,l.update=new Se,l._parent=i,l._setValidators(a),l._setAsyncValidators(o),l.valueAccessor=function Um(t,r){if(!r)return null;Array.isArray(r);var e=void 0,n=void 0,i=void 0;return r.forEach(function(a){a.constructor===Mh?e=a:function gz(t){return Object.getPrototypeOf(t.constructor)===Lo}(a)?n=a:i=a}),i||n||e||null}(xt(l),s),l}return g(n,[{key:"ngOnChanges",value:function(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){var o=a.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function Hm(t,r){if(!t.hasOwnProperty("model"))return!1;var e=t.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._getPath(this.name)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ec(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;jk.then(function(){var s;o.control.setValue(a,{emitViewToModelChange:!1}),null===(s=o._changeDetectorRef)||void 0===s||s.markForCheck()})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=""===s||s&&"false"!==s;jk.then(function(){var l;u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable(),null===(l=o._changeDetectorRef)||void 0===l||l.markForCheck()})}},{key:"_getPath",value:function(a){return this._parent?function xh(t,r){return[].concat(K(r.path),[t])}(a,this._parent):[a]}}]),n}(wa);return t.\u0275fac=function(e){return new(e||t)(T(Wn,9),T(xn,10),T(Za,10),T(yr,10),T(pr,8))},t.\u0275dir=le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lt([wz]),ut,Zn]}),t}(),zk=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({}),t}(),Yz=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[zk]]}),t}(),Zz=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[Yz]}),t}(),Xz=function(){var t=function(){function r(e,n,i){m(this,r),this.el=e,this.zone=n,this.config=i,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}return g(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=n,this.deactivate()}},{key:"ngAfterViewInit",value:function(){var n=this;this.zone.runOutsideAngular(function(){"hover"===n.getOption("tooltipEvent")?(n.mouseEnterListener=n.onMouseEnter.bind(n),n.mouseLeaveListener=n.onMouseLeave.bind(n),n.clickListener=n.onClick.bind(n),n.el.nativeElement.addEventListener("mouseenter",n.mouseEnterListener),n.el.nativeElement.addEventListener("mouseleave",n.mouseLeaveListener),n.el.nativeElement.addEventListener("click",n.clickListener)):"focus"===n.getOption("tooltipEvent")&&(n.focusListener=n.onFocus.bind(n),n.blurListener=n.onBlur.bind(n),n.el.nativeElement.addEventListener("focus",n.focusListener),n.el.nativeElement.addEventListener("blur",n.blurListener))})}},{key:"ngOnChanges",value:function(n){n.tooltipPosition&&this.setOption({tooltipPosition:n.tooltipPosition.currentValue}),n.tooltipEvent&&this.setOption({tooltipEvent:n.tooltipEvent.currentValue}),n.appendTo&&this.setOption({appendTo:n.appendTo.currentValue}),n.positionStyle&&this.setOption({positionStyle:n.positionStyle.currentValue}),n.tooltipStyleClass&&this.setOption({tooltipStyleClass:n.tooltipStyleClass.currentValue}),n.tooltipZIndex&&this.setOption({tooltipZIndex:n.tooltipZIndex.currentValue}),n.escape&&this.setOption({escape:n.escape.currentValue}),n.showDelay&&this.setOption({showDelay:n.showDelay.currentValue}),n.hideDelay&&this.setOption({hideDelay:n.hideDelay.currentValue}),n.life&&this.setOption({life:n.life.currentValue}),n.positionTop&&this.setOption({positionTop:n.positionTop.currentValue}),n.positionLeft&&this.setOption({positionLeft:n.positionLeft.currentValue}),n.disabled&&this.setOption({disabled:n.disabled.currentValue}),n.text&&(this.setOption({tooltipLabel:n.text.currentValue}),this.active&&(n.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),n.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),n.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}},{key:"onMouseEnter",value:function(n){!this.container&&!this.showTimeout&&this.activate()}},{key:"onMouseLeave",value:function(n){this.deactivate()}},{key:"onFocus",value:function(n){this.activate()}},{key:"onBlur",value:function(n){this.deactivate()}},{key:"onClick",value:function(n){this.deactivate()}},{key:"activate",value:function(){var n=this;if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(function(){n.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){var i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(function(){n.hide()},i)}}},{key:"deactivate",value:function(){var n=this;this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){n.hide()},this.getOption("hideDelay"))):this.hide()}},{key:"create",value:function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var n=document.createElement("div");n.className="p-tooltip-arrow",this.container.appendChild(n),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ae.appendChild(this.container,this.el.nativeElement):ae.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}},{key:"show",value:function(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ae.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Wr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}},{key:"hide",value:function(){"auto"===this.getOption("tooltipZIndex")&&Wr.clear(this.container),this.remove()}},{key:"updateText",value:function(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}},{key:"align",value:function(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}},{key:"getHostOffset",value:function(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){var n=this.el.nativeElement.getBoundingClientRect();return{left:n.left+ae.getWindowScrollLeft(),top:n.top+ae.getWindowScrollTop()}}return{left:0,top:0}}},{key:"alignRight",value:function(){this.preAlign("right");var n=this.getHostOffset(),i=n.left+ae.getOuterWidth(this.el.nativeElement),a=n.top+(ae.getOuterHeight(this.el.nativeElement)-ae.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignLeft",value:function(){this.preAlign("left");var n=this.getHostOffset(),i=n.left-ae.getOuterWidth(this.container),a=n.top+(ae.getOuterHeight(this.el.nativeElement)-ae.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignTop",value:function(){this.preAlign("top");var n=this.getHostOffset(),i=n.left+(ae.getOuterWidth(this.el.nativeElement)-ae.getOuterWidth(this.container))/2,a=n.top-ae.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignBottom",value:function(){this.preAlign("bottom");var n=this.getHostOffset(),i=n.left+(ae.getOuterWidth(this.el.nativeElement)-ae.getOuterWidth(this.container))/2,a=n.top+ae.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"setOption",value:function(n){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),n)}},{key:"getOption",value:function(n){return this._tooltipOptions[n]}},{key:"preAlign",value:function(n){this.container.style.left="-999px",this.container.style.top="-999px";var i="p-tooltip p-component p-tooltip-"+n;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}},{key:"isOutOfBounds",value:function(){var n=this.container.getBoundingClientRect(),i=n.top,a=n.left,o=ae.getOuterWidth(this.container),s=ae.getOuterHeight(this.container),u=ae.getViewport();return a+o>u.width||a<0||i<0||i+s>u.height}},{key:"onWindowResize",value:function(n){this.hide()}},{key:"bindDocumentResizeListener",value:function(){var n=this;this.zone.runOutsideAngular(function(){n.resizeListener=n.onWindowResize.bind(n),window.addEventListener("resize",n.resizeListener)})}},{key:"unbindDocumentResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new BD(this.el.nativeElement,function(){n.container&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindEvents",value:function(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}},{key:"remove",value:function(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ae.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}},{key:"clearShowTimeout",value:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}},{key:"clearHideTimeout",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout()}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.container&&Wr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(gt),T(Yl))},t.\u0275dir=le({type:t,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Zn]}),t}(),Qz=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}();function $z(t,r){if(1&t&&(U(0,"span"),pt(1),j()),2&t){var e=N();x(1),di(e.label||"empty")}}function Jz(t,r){1&t&&jn(0)}var uI=function(r){return{height:r}},eW=function(r,e){return{"p-dropdown-item":!0,"p-highlight":r,"p-disabled":e}},ny=function(r){return{$implicit:r}},tW=["container"],nW=["filter"],rW=["in"],iW=["editableInput"];function aW(t,r){if(1&t&&(Lr(0),pt(1),Nr()),2&t){var e=N(2);x(1),di(e.label||"empty")}}function oW(t,r){1&t&&jn(0)}var sW=function(r){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":r}};function uW(t,r){if(1&t&&(U(0,"span",12),ce(1,aW,2,1,"ng-container",13),ce(2,oW,1,0,"ng-container",14),j()),2&t){var e=N();M("ngClass",vn(9,sW,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),kt("id",e.labelId),x(1),M("ngIf",!e.selectedItemTemplate),x(1),M("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",vn(11,ny,e.selectedOption))}}var lW=function(r){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":r}};function cW(t,r){if(1&t&&(U(0,"span",15),pt(1),j()),2&t){var e=N();M("ngClass",vn(2,lW,null==e.placeholder||0===e.placeholder.length)),x(1),di(e.placeholder||"empty")}}function fW(t,r){if(1&t){var e=nn();U(0,"input",16,17),ue("click",function(){return he(e),N().onEditableInputClick()})("input",function(a){return he(e),N().onEditableInputChange(a)})("focus",function(a){return he(e),N().onEditableInputFocus(a)})("blur",function(a){return he(e),N().onInputBlur(a)}),j()}if(2&t){var n=N();M("disabled",n.disabled),kt("maxlength",n.maxlength)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)}}function hW(t,r){if(1&t){var e=nn();U(0,"i",18),ue("click",function(i){return he(e),N().clear(i)}),j()}}function dW(t,r){1&t&&jn(0)}function vW(t,r){if(1&t){var e=nn();U(0,"div",26)(1,"div",27),ue("click",function(a){return a.stopPropagation()}),U(2,"input",28,29),ue("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return he(e),N(2).onKeydown(a,!1)})("input",function(a){return he(e),N(2).onFilterInputChange(a)}),j(),Vt(4,"span",30),j()()}if(2&t){var n=N(2);x(2),M("value",n.filterValue||""),kt("placeholder",n.filterPlaceholder)("aria-label",n.ariaFilterLabel)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId)}}function pW(t,r){if(1&t&&(U(0,"span"),pt(1),j()),2&t){var e=N().$implicit,n=N(3);x(1),di(n.getOptionGroupLabel(e)||"empty")}}function gW(t,r){1&t&&jn(0)}function mW(t,r){1&t&&jn(0)}var lI=function(r,e){return{$implicit:r,selectedOption:e}};function yW(t,r){if(1&t&&(U(0,"li",32),ce(1,pW,2,1,"span",13),ce(2,gW,1,0,"ng-container",14),j(),ce(3,mW,1,0,"ng-container",14)),2&t){var e=r.$implicit;N(2);var n=ha(8),i=N();x(1),M("ngIf",!i.groupTemplate),x(1),M("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",vn(5,ny,e)),x(1),M("ngTemplateOutlet",n)("ngTemplateOutletContext",To(7,lI,i.getOptionGroupChildren(e),i.selectedOption))}}function _W(t,r){if(1&t&&(Lr(0),ce(1,yW,4,10,"ng-template",31),Nr()),2&t){var e=N(2);x(1),M("ngForOf",e.optionsToDisplay)}}function CW(t,r){1&t&&jn(0)}function EW(t,r){if(1&t&&(Lr(0),ce(1,CW,1,0,"ng-container",14),Nr()),2&t){N();var e=ha(8),n=N();x(1),M("ngTemplateOutlet",e)("ngTemplateOutletContext",To(2,lI,n.optionsToDisplay,n.selectedOption))}}function wW(t,r){if(1&t){var e=nn();U(0,"p-dropdownItem",35),ue("onClick",function(s){return he(e),N(4).onItemClick(s)}),j()}if(2&t){var n=r.$implicit,i=N(2).selectedOption,a=N(2);M("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function SW(t,r){if(1&t&&(Lr(0),ce(1,wW,1,5,"ng-template",31),Nr()),2&t){var e=N().$implicit;x(1),M("ngForOf",e)}}function bW(t,r){if(1&t){var e=nn();Lr(0),U(1,"p-dropdownItem",35),ue("onClick",function(s){return he(e),N(5).onItemClick(s)}),j(),Nr()}if(2&t){var n=r.$implicit,i=N(3).selectedOption,a=N(2);x(1),M("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function TW(t,r){if(1&t){var e=nn();U(0,"cdk-virtual-scroll-viewport",37,38),ue("scrolledIndexChange",function(){return he(e),N(4).scrollToSelectedVirtualScrollElement()}),ce(2,bW,2,5,"ng-container",39),j()}if(2&t){var n=N(2).$implicit,i=N(2);M("ngStyle",vn(3,uI,i.scrollHeight))("itemSize",i.itemSize),x(2),M("cdkVirtualForOf",n)}}function DW(t,r){if(1&t&&ce(0,TW,3,5,"cdk-virtual-scroll-viewport",36),2&t){var e=N(3);M("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function kW(t,r){if(1&t&&(ce(0,SW,2,1,"ng-container",33),ce(1,DW,1,1,"ng-template",null,34,Ff)),2&t){var e=ha(2);M("ngIf",!N(2).virtualScroll)("ngIfElse",e)}}function IW(t,r){if(1&t&&(Lr(0),pt(1),Nr()),2&t){var e=N(3);x(1),Xn(" ",e.emptyFilterMessageLabel," ")}}function AW(t,r){1&t&&jn(0,null,41)}function OW(t,r){if(1&t&&(U(0,"li",40),ce(1,IW,2,1,"ng-container",33),ce(2,AW,2,0,"ng-container",20),j()),2&t){var e=N(2);x(1),M("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),x(1),M("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function MW(t,r){if(1&t&&(Lr(0),pt(1),Nr()),2&t){var e=N(3);x(1),Xn(" ",e.emptyMessageLabel," ")}}function RW(t,r){1&t&&jn(0,null,42)}function PW(t,r){if(1&t&&(U(0,"li",40),ce(1,MW,2,1,"ng-container",33),ce(2,RW,2,0,"ng-container",20),j()),2&t){var e=N(2);x(1),M("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),x(1),M("ngTemplateOutlet",e.emptyTemplate)}}function xW(t,r){1&t&&jn(0)}var FW=function(r,e){return{showTransitionParams:r,hideTransitionParams:e}},LW=function(r){return{value:"visible",params:r}},NW=function(r){return{"p-dropdown-virtualscroll":r}};function VW(t,r){if(1&t){var e=nn();U(0,"div",19),ue("click",function(a){return he(e),N().onOverlayClick(a)})("@overlayAnimation.start",function(a){return he(e),N().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return he(e),N().onOverlayAnimationEnd(a)}),ce(1,dW,1,0,"ng-container",20),ce(2,vW,5,4,"div",21),U(3,"div",22)(4,"ul",23),ce(5,_W,2,1,"ng-container",13),ce(6,EW,2,5,"ng-container",13),ce(7,kW,3,2,"ng-template",null,24,Ff),ce(9,OW,3,3,"li",25),ce(10,PW,3,3,"li",25),j()(),ce(11,xW,1,0,"ng-container",20),j()}if(2&t){var n=N();vr(n.panelStyleClass),M("ngClass","p-dropdown-panel p-component")("@overlayAnimation",vn(19,LW,To(16,FW,n.showTransitionOptions,n.hideTransitionOptions)))("ngStyle",n.panelStyle),x(1),M("ngTemplateOutlet",n.headerTemplate),x(1),M("ngIf",n.filter),x(1),Tf("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),x(1),M("ngClass",vn(21,NW,n.virtualScroll)),kt("id",n.listId),x(1),M("ngIf",n.group),x(1),M("ngIf",!n.group),x(3),M("ngIf",n.filterValue&&n.isEmpty()),x(1),M("ngIf",!n.filterValue&&n.isEmpty()),x(1),M("ngTemplateOutlet",n.footerTemplate)}}var BW=function(r,e,n,i){return{"p-dropdown p-component":!0,"p-disabled":r,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":i}},HW={provide:yr,useExisting:ot(function(){return cI}),multi:!0},UW=function(){var t=function(){function r(){m(this,r),this.onClick=new Se}return g(r,[{key:"onOptionClick",value:function(n){this.onClick.emit({originalEvent:n,option:this.option})}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Jt({type:t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(U(0,"li",0),ue("click",function(a){return n.onOptionClick(a)}),ce(1,$z,2,1,"span",1),ce(2,Jz,1,0,"ng-container",2),j()),2&e&&(M("ngStyle",vn(8,uI,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",To(10,eW,n.selected,n.disabled)),kt("aria-label",n.label)("aria-selected",n.selected),x(1),M("ngIf",!n.template),x(1),M("ngTemplateOutlet",n.template)("ngTemplateOutletContext",vn(13,ny,n.option)))},directives:[Em,za,Bi,Ur,$s],encapsulation:2}),t}(),cI=function(){var t=function(){function r(e,n,i,a,o,s,u){m(this,r),this.el=e,this.renderer=n,this.cd=i,this.zone=a,this.filterService=o,this.config=s,this.overlayService=u,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new Se,this.onFilter=new Se,this.onFocus=new Se,this.onBlur=new Se,this.onClick=new Se,this.onShow=new Se,this.onHide=new Se,this.onClear=new Se,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0,this.id=UD()}return g(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){n&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=n,this.cd.destroyed||this.cd.detectChanges()}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"item":default:n.itemTemplate=i.template;break;case"selectedItem":n.selectedItemTemplate=i.template;break;case"header":n.headerTemplate=i.template;break;case"footer":n.footerTemplate=i.template;break;case"emptyfilter":n.emptyFilterTemplate=i.template;break;case"empty":n.emptyTemplate=i.template;break;case"group":n.groupTemplate=i.template}})}},{key:"ngOnInit",value:function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}},{key:"options",get:function(){return this._options},set:function(n){this._options=n,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}},{key:"filterValue",get:function(){return this._filterValue},set:function(n){this._filterValue=n,this.activateFilter()}},{key:"ngAfterViewInit",value:function(){this.editable&&this.updateEditableLabel()}},{key:"label",get:function(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(jD.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(jD.EMPTY_FILTER_MESSAGE)}},{key:"filled",get:function(){return this.value||null!=this.value||null!=this.value}},{key:"updateEditableLabel",value:function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}},{key:"getOptionLabel",value:function(n){return this.optionLabel?Kt.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}},{key:"getOptionValue",value:function(n){return this.optionValue?Kt.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}},{key:"isOptionDisabled",value:function(n){return this.optionDisabled?Kt.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}},{key:"getOptionGroupLabel",value:function(n){return this.optionGroupLabel?Kt.resolveFieldData(n,this.optionGroupLabel):null!=n.label?n.label:n}},{key:"getOptionGroupChildren",value:function(n){return this.optionGroupChildren?Kt.resolveFieldData(n,this.optionGroupChildren):n.items}},{key:"onItemClick",value:function(n){var i=this,a=n.option;this.isOptionDisabled(a)||(this.selectItem(n.originalEvent,a),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){i.hide()},150)}},{key:"selectItem",value:function(n,i){var a=this;this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:n,value:this.value}),this.virtualScroll&&setTimeout(function(){a.viewPortOffsetTop=a.viewPort?a.viewPort.measureScrollOffset():0},1))}},{key:"ngAfterViewChecked",value:function(){var n=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){n.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}ae.findSingle(this.overlay,"li.p-highlight")&&ae.scrollInView(this.itemsWrapper,ae.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}},{key:"writeValue",value:function(n){this.filter&&this.resetFilter(),this.value=n,this.updateSelectedOption(n),this.updateEditableLabel(),this.cd.markForCheck()}},{key:"resetFilter",value:function(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}},{key:"updateSelectedOption",value:function(n){this.selectedOption=this.findOption(n,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onMouseclick",value:function(n){this.disabled||this.readonly||this.isInputClick(n)||(this.onClick.emit(n),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}},{key:"onOverlayClick",value:function(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}},{key:"isInputClick",value:function(n){return ae.hasClass(n.target,"p-dropdown-clear-icon")||n.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&n.target.isSameNode(this.editableInputViewChild.nativeElement)}},{key:"isOutsideClicked",value:function(n){return!(this.el.nativeElement.isSameNode(n.target)||this.el.nativeElement.contains(n.target)||this.overlay&&this.overlay.contains(n.target))}},{key:"isEmpty",value:function(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}},{key:"onEditableInputClick",value:function(){this.bindDocumentClickListener()}},{key:"onEditableInputFocus",value:function(n){this.focused=!0,this.hide(),this.onFocus.emit(n)}},{key:"onEditableInputChange",value:function(n){this.value=n.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}},{key:"show",value:function(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}},{key:"onOverlayAnimationStart",value:function(n){switch(n.toState){case"visible":if(this.overlay=n.element,this.itemsWrapper=ae.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Wr.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){var a=ae.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&a.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(n);break;case"void":this.onOverlayHide(),this.onHide.emit(n)}}},{key:"onOverlayAnimationEnd",value:function(n){"void"===n.toState&&Wr.clear(n.element)}},{key:"scrollToSelectedVirtualScrollElement",value:function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}},{key:"updateVirtualScrollSelectedIndex",value:function(n){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(n&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ae.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ae.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"hide",value:function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?ae.absolutePosition(this.overlay,this.containerViewChild.nativeElement):ae.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onBlur.emit(n),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"findPrevEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n-1;0<=a;a--){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=this.optionsToDisplay.length-1;s>=n;s--){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"findNextEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n+1;a<this.optionsToDisplay.length;a++){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=0;s<n;s++){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"onKeydown",value:function(n,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(n.which){case 40:if(!this.overlayVisible&&n.altKey)this.show();else if(this.group){var a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){var o=a.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{var s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,u=this.findNextEnabledOption(s);u&&(this.selectItem(n,u),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 38:if(this.group){var l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==l){var c=l.itemIndex-1;if(c>=0)this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[l.groupIndex])[c]),this.selectedOptionUpdated=!0;else if(c<0){var f=this.optionsToDisplay[l.groupIndex-1];f&&(this.selectItem(n,this.getOptionGroupChildren(f)[this.getOptionGroupChildren(f).length-1]),this.selectedOptionUpdated=!0)}}}else{var h=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,d=this.findPrevEnabledOption(h);d&&(this.selectItem(n,d),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),n.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),n.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!n.metaKey&&this.search(n)}}},{key:"search",value:function(n){var i=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var o,a=n.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=a,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+a:a,this.group){var s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(s)}else{var u=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++u)}o&&!this.isOptionDisabled(o)&&(this.selectItem(n,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){i.searchValue=null},250)}},{key:"searchOption",value:function(n){var i;return this.searchValue&&((i=this.searchOptionInRange(n,this.optionsToDisplay.length))||(i=this.searchOptionInRange(0,n))),i}},{key:"searchOptionInRange",value:function(n,i){for(var a=n;a<i;a++){var o=this.optionsToDisplay[a];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}},{key:"searchOptionWithinGroup",value:function(n){if(this.searchValue){for(var a=n.groupIndex;a<this.optionsToDisplay.length;a++)for(var o=n.groupIndex===a?n.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;o++){var s=this.getOptionGroupChildren(this.optionsToDisplay[a])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(var u=0;u<=n.groupIndex;u++)for(var l=0;l<(n.groupIndex===u?n.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[u]).length);l++){var c=this.getOptionGroupChildren(this.optionsToDisplay[u])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}},{key:"findOptionIndex",value:function(n,i){var a=-1;if(i)for(var o=0;o<i.length;o++)if(null==n&&null==this.getOptionValue(i[o])||Kt.equals(n,this.getOptionValue(i[o]),this.dataKey)){a=o;break}return a}},{key:"findOptionGroupIndex",value:function(n,i){var a,o;if(i)for(var s=0;s<i.length&&(a=s,-1===(o=this.findOptionIndex(n,this.getOptionGroupChildren(i[s]))));s++);return-1!==o?{groupIndex:a,itemIndex:o}:-1}},{key:"findOption",value:function(n,i,a){if(this.group&&!a){var o;if(i&&i.length){var u,s=b(i);try{for(s.s();!(u=s.n()).done&&!(o=this.findOption(n,this.getOptionGroupChildren(u.value),!0)););}catch(f){s.e(f)}finally{s.f()}}return o}var c=this.findOptionIndex(n,i);return-1!=c?i[c]:null}},{key:"onFilterInputChange",value:function(n){var i=n.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:n,filter:this._filterValue})}},{key:"activateFilter",value:function(){var n=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){var o,i=[],a=b(this.options);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.filterService.filter(this.getOptionGroupChildren(s),n,this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&i.push(Object.assign(Object.assign({},s),ie({},this.optionGroupChildren,u)))}}catch(l){a.e(l)}finally{a.f()}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,n,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}},{key:"applyFocus",value:function(){this.editable?ae.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ae.findSingle(this.el.nativeElement,"input[readonly]").focus()}},{key:"focus",value:function(){this.applyFocus()}},{key:"bindDocumentClickListener",value:function(){var n=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(a){!n.preventDocumentDefault&&n.isOutsideClicked(a)&&(n.hide(),n.unbindDocumentClickListener()),n.preventDocumentDefault=!1}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible&&!ae.isTouchDevice()&&this.hide()}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new BD(this.containerViewChild.nativeElement,function(i){n.overlayVisible&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"clear",value:function(n){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(n)}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Wr.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(vi),T(pr),T(gt),T(NG),T(Yl),T(VG))},t.\u0275cmp=Jt({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,n,i){var a;1&e&&va(i,Sh,4),2&e&&pn(a=gn())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&(gi(tW,5),gi(nW,5),gi(rW,5),gi(Om,5),gi(iW,5)),2&e&&(pn(i=gn())&&(n.containerViewChild=i.first),pn(i=gn())&&(n.filterViewChild=i.first),pn(i=gn())&&(n.accessibleViewChild=i.first),pn(i=gn())&&(n.viewPort=i.first),pn(i=gn())&&(n.editableInputViewChild=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,n){2&e&&So("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[lt([HW])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,n){1&e&&(U(0,"div",0,1),ue("click",function(a){return n.onMouseclick(a)}),U(2,"div",2)(3,"input",3,4),ue("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),j()(),ce(5,uW,3,13,"span",5),ce(6,cW,2,4,"span",6),ce(7,fW,2,4,"input",7),ce(8,hW,1,0,"i",8),U(9,"div",9),Vt(10,"span",10),j(),ce(11,VW,12,23,"div",11),j()),2&e&&(vr(n.styleClass),M("ngClass",Pf(20,BW,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),x(3),M("disabled",n.disabled),kt("id",n.inputId)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-expanded",!1)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?n.labelId:null),x(2),M("ngIf",!n.editable&&null!=n.label),x(1),M("ngIf",!n.editable&&null==n.label),x(1),M("ngIf",n.editable),x(1),M("ngIf",null!=n.value&&n.showClear&&!n.disabled),x(1),kt("aria-expanded",n.overlayVisible),x(1),M("ngClass",n.dropdownIcon),x(1),M("ngIf",n.overlayVisible))},directives:[UW,Om,Bi,za,Ur,Xz,$s,Qf,O3,L3],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:normal;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[$l("overlayAnimation",[Ea(":enter",[qr({opacity:0,transform:"scaleY(0.8)"}),Ka("{{showTransitionParams}}")]),Ea(":leave",[Ka("{{hideTransitionParams}}",qr({opacity:0}))])])]},changeDetection:0}),t}(),jW=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr,bh,ok,Qz,Th],bh,ok]}),t}();function GW(t,r){if(1&t&&(U(0,"div"),pt(1," Avst\xe5nd: "),U(2,"span",8),pt(3),j()()),2&t){var e=N(2);x(3),Xn("",e.message.distance," km")}}function zW(t,r){if(1&t){var e=nn();U(0,"div",9)(1,"div",10),ue("click",function(){he(e);var i=N(2);return i.onClickMessage(i.message)}),U(2,"span"),pt(3,"Karta"),j(),Vt(4,"i",11),j()()}}function WW(t,r){if(1&t&&(U(0,"div",1)(1,"div"),pt(2),j(),U(3,"div",2),pt(4),j(),U(5,"div",3)(6,"div",4)(7,"div")(8,"b"),pt(9),j()(),ce(10,GW,4,1,"div",5),U(11,"div"),pt(12," Publicerad: "),U(13,"span",6),pt(14),function LS(t,r){var n,e=Je(),i=t+20;e.firstCreatePass?(n=function _2(t,r){if(r)for(var e=r.length-1;e>=0;e--){var n=r[e];if(t===n.name)return n}}(r,e.pipeRegistry),e.data[i]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n.onDestroy)):n=e.data[i];var a=n.factory||(n.factory=_o(n.type)),o=xa(T);try{var s=tf(!1),u=a();return tf(s),function qF(t,r,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),r[e]=n}(e,P(),i,u),u}finally{xa(o)}}(15,"date"),j()()(),ce(16,zW,5,0,"div",7),j(),U(17,"div"),pt(18),j(),U(19,"div"),pt(20),j()()),2&t){var e=N();x(1),vr(e.getStyleClassForPriority(e.message.priority)),x(1),Xn(" ",e.message.priorityName," "),x(2),Xn(" ",e.message.categoryName," "),x(5),zp("",e.message.title," (",e.message.subCategory,")"),x(1),M("ngIf",e.message.distance),x(4),di(function NS(t,r,e,n){var i=t+20,a=P(),o=ls(a,i);return function Sl(t,r){return t[1].data[r].pure}(a,i)?RS(a,Hn(),r,o.transform,e,n,o):o.transform(e,n)}(15,12,e.message.createdDate,"d MMM HH:mm")),x(2),M("ngIf",e.showMapLink),x(2),Xn(" ",e.message.exactLocation," "),x(2),Xn(" ",e.message.description," ")}}var fI=function(){var t=function(){function r(e){m(this,r),this.broker=e,this.showMapLink=!1}return g(r,[{key:"ngOnInit",value:function(){}},{key:"onClickMessage",value:function(n){var i={lat:n.latitude,lng:n.longitude,info:"".concat(n.priorityName,": ").concat(n.title," (").concat(n.subCategory,")"),id:n.id},a=[];a.push(i),this.broker.sendMessage(new wh(a,this.userPos,"".concat(n.title," (").concat(n.subCategory,")"),n.description))}},{key:"getStyleClassForPriority",value:function(n){var i="priority-ctn";switch(n){case 1:i+=" prio-highest";break;case 2:i+=" prio-higher";break;case 3:i+=" prio-high";break;default:i+=" prio-info"}return i}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(xo))},t.\u0275cmp=Jt({type:t,selectors:[["app-info-card"]],inputs:{message:"message",showMapLink:"showMapLink",userPos:"userPos"},decls:1,vars:1,consts:[["class","msg-ctn",4,"ngIf"],[1,"msg-ctn"],[1,"category"],[1,"p-grid"],[1,"p-col"],[4,"ngIf"],[1,"date-info"],["class","p-col-4",4,"ngIf"],[1,"dist-info"],[1,"p-col-4"],[1,"open-button",3,"click"],[1,"pi","pi-globe","map-icon"]],template:function(e,n){1&e&&ce(0,WW,21,15,"div",0),2&e&&M("ngIf",n.message)},directives:[Ur],pipes:[Xb],styles:[".msg-ctn[_ngcontent-%COMP%]{border:solid 2px gray;border-radius:.25rem;padding:10px;margin:20px 10px}.category[_ngcontent-%COMP%]{float:right;font-size:smaller;margin-top:-10px;margin-right:-5px;font-weight:700;color:gray}.priority-ctn[_ngcontent-%COMP%]{border-radius:.25rem;font-weight:900;text-transform:uppercase;font-size:.75rem;line-height:14px;color:#fff;padding:.25rem;display:inline-block}.prio-highest[_ngcontent-%COMP%]{background-color:red}.prio-higher[_ngcontent-%COMP%]{background-color:#f20}.prio-high[_ngcontent-%COMP%]{background-color:#f60}.prio-info[_ngcontent-%COMP%]{background-color:#06f}.dist-info[_ngcontent-%COMP%], .date-info[_ngcontent-%COMP%]{color:gray}.open-button[_ngcontent-%COMP%]{border:1px;padding:5px 5px 5px 10px;border-style:solid;border-color:gray;border-radius:10px;float:right;font-weight:700;font-size:.7em;color:gray}.map-icon[_ngcontent-%COMP%]{font-size:1rem;padding-left:2px;vertical-align:middle}"]}),t}();function qW(t,r){if(1&t&&(U(0,"span",9),pt(1),j()),2&t){var e=N();x(1),Xn(" ",e.header," ")}}function KW(t,r){1&t&&jn(0)}function YW(t,r){1&t&&wo(0,1,["*ngIf","hasHeaderFacet"])}function ZW(t,r){1&t&&jn(0)}function XW(t,r){if(1&t&&(Lr(0),ce(1,ZW,1,0,"ng-container",5),Nr()),2&t){var e=N();x(1),M("ngTemplateOutlet",e.contentTemplate)}}var QW=["*",[["p-header"]]],$W=function(r){return{"p-accordion-tab-active":r}},JW=function(r,e){return{"p-highlight":r,"p-disabled":e}},hI=function(r){return{transitionParams:r}},e4=function(r){return{value:"visible",params:r}},t4=function(r){return{value:"hidden",params:r}},n4=["*","p-header"],r4=["*"],i4=0,dI=function(){var t=function(){function r(e,n){m(this,r),this.changeDetector=n,this.cache=!0,this.selectedChange=new Se,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-".concat(i4++),this.accordion=e}return g(r,[{key:"selected",get:function(){return this._selected},set:function(n){this._selected=n,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){case"content":default:n.contentTemplate=i.template;break;case"header":n.headerTemplate=i.template}})}},{key:"toggle",value:function(n){if(this.disabled)return!1;var i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:n,index:i});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected&&(this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:n,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),n.preventDefault()}},{key:"findTabIndex",value:function(){for(var n=-1,i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){n=i;break}return n}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(n){(32===n.which||13===n.which)&&(this.toggle(n),n.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(ot(function(){return vI})),T(pr))},t.\u0275cmp=Jt({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,n,i){var a;1&e&&(va(i,BG,4),va(i,Sh,4)),2&e&&(pn(a=gn())&&(n.headerFacet=a),pn(a=gn())&&(n.templates=a))},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:n4,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,n){1&e&&(Us(QW),U(0,"div",0)(1,"div",1)(2,"a",2),ue("click",function(a){return n.toggle(a)})("keydown",function(a){return n.onKeydown(a)}),Vt(3,"span",3),ce(4,qW,2,1,"span",4),ce(5,KW,1,0,"ng-container",5),ce(6,YW,1,0,"ng-content",6),j()(),U(7,"div",7)(8,"div",8),wo(9),ce(10,XW,2,1,"ng-container",6),j()()()),2&e&&(M("ngClass",vn(15,$W,n.selected)),x(1),M("ngClass",To(17,JW,n.selected,n.disabled)),x(1),kt("tabindex",n.disabled?null:0)("id",n.id)("aria-controls",n.id+"-content")("aria-expanded",n.selected),x(1),M("ngClass",n.selected?n.accordion.collapseIcon:n.accordion.expandIcon),x(1),M("ngIf",!n.hasHeaderFacet),x(1),M("ngTemplateOutlet",n.headerTemplate),x(1),M("ngIf",n.hasHeaderFacet),x(1),M("@tabContent",n.selected?vn(22,e4,vn(20,hI,n.transitionOptions)):vn(26,t4,vn(24,hI,n.transitionOptions))),kt("id",n.id+"-content")("aria-hidden",!n.selected)("aria-labelledby",n.id),x(3),M("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},directives:[Bi,Ur,$s],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}\n"],encapsulation:2,data:{animation:[$l("tabContent",[Mm("hidden",qr({height:"0",overflow:"hidden"})),Mm("visible",qr({height:"*"})),Ea("visible <=> hidden",[qr({overflow:"hidden"}),Ka("{{transitionParams}}")]),Ea("void => *",Ka(0))])]},changeDetection:0}),t}(),vI=function(){var t=function(){function r(e,n){m(this,r),this.el=e,this.changeDetector=n,this.onClose=new Se,this.onOpen=new Se,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new Se,this.tabs=[]}return g(r,[{key:"ngAfterContentInit",value:function(){var n=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(i){n.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var n=0;n<this.tabs.length;n++){var i=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;i!==this.tabs[n].selected&&(this.tabs[n].selected=i,this.tabs[n].selectedChange.emit(i),this.tabs[n].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var n=this,i=this.multiple?[]:null;this.tabs.forEach(function(a,o){if(a.selected){if(!n.multiple)return void(i=o);i.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(i)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(pr))},t.\u0275cmp=Jt({type:t,selectors:[["p-accordion"]],contentQueries:function(e,n,i){var a;1&e&&va(i,dI,4),2&e&&pn(a=gn())&&(n.tabList=a)},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:r4,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,n){1&e&&(Us(),U(0,"div",0),wo(1),j()),2&e&&(vr(n.styleClass),M("ngClass","p-accordion p-component")("ngStyle",n.style))},directives:[Bi,za],encapsulation:2,changeDetection:0}),t}(),a4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr],bh]}),t}(),o4=function(){var t=function(){function r(e,n,i){m(this,r),this.el=e,this.ngModel=n,this.cd=i}return g(r,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(n){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(Hh,8),T(pr))},t.\u0275dir=le({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,n){1&e&&ue("input",function(a){return n.onInput(a)}),2&e&&So("p-filled",n.filled)}}),t}(),s4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}(),u4=["rb"],l4=function(r,e,n){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":r,"p-disabled":e,"p-radiobutton-label-focus":n}};function c4(t,r){if(1&t){var e=nn();U(0,"label",4),ue("click",function(o){return he(e),N().select(o)}),pt(1),j()}if(2&t){var n=N(),i=ha(3);vr(n.labelStyleClass),M("ngClass",Do(5,l4,i.checked,n.disabled,n.focused)),kt("for",n.inputId),x(1),di(n.label)}}var f4=function(r,e,n){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":r,"p-radiobutton-disabled":e,"p-radiobutton-focused":n}},h4=function(r,e,n){return{"p-radiobutton-box":!0,"p-highlight":r,"p-disabled":e,"p-focus":n}},d4={provide:yr,useExisting:ot(function(){return pI}),multi:!0},v4=function(){var t=function(){function r(){m(this,r),this.accessors=[]}return g(r,[{key:"add",value:function(n,i){this.accessors.push([n,i])}},{key:"remove",value:function(n){this.accessors=this.accessors.filter(function(i){return i[1]!==n})}},{key:"select",value:function(n){var i=this;this.accessors.forEach(function(a){i.isSameGroup(a,n)&&a[1]!==n&&a[1].writeValue(n.value)})}},{key:"isSameGroup",value:function(n,i){return!!n[0].control&&n[0].control.root===i.control.control.root&&n[1].name===i.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pI=function(){var t=function(){function r(e,n,i){m(this,r),this.cd=e,this.injector=n,this.registry=i,this.onClick=new Se,this.onFocus=new Se,this.onBlur=new Se,this.onModelChange=function(){},this.onModelTouched=function(){}}return g(r,[{key:"ngOnInit",value:function(){this.control=this.injector.get(wa),this.checkName(),this.registry.add(this.control,this)}},{key:"handleClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&(this.select(n),a&&i.focus())}},{key:"select",value:function(n){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(n))}},{key:"writeValue",value:function(n){this.checked=n==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onModelTouched(),this.onBlur.emit(n)}},{key:"onChange",value:function(n){this.select(n)}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this.registry.remove(this)}},{key:"checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"throwNameError",value:function(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(pr),T(hn),T(v4))},t.\u0275cmp=Jt({type:t,selectors:[["p-radioButton"]],viewQuery:function(e,n){var i;1&e&&gi(u4,5),2&e&&pn(i=gn())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[lt([d4])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,n){if(1&e){var i=nn();U(0,"div",0)(1,"div",1)(2,"input",2,3),ue("change",function(o){return n.onChange(o)})("focus",function(o){return n.onInputFocus(o)})("blur",function(o){return n.onInputBlur(o)}),j()(),U(4,"div",4),ue("click",function(o){he(i);var s=ha(3);return n.handleClick(o,s,!0)}),Vt(5,"span",5),j()(),ce(6,c4,2,9,"label",6)}2&e&&(vr(n.styleClass),M("ngStyle",n.style)("ngClass",Do(15,f4,n.checked,n.disabled,n.focused)),x(2),M("checked",n.checked)("disabled",n.disabled),kt("id",n.inputId)("name",n.name)("value",n.value)("tabindex",n.tabindex)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),x(2),M("ngClass",Do(19,h4,n.checked,n.disabled,n.focused)),x(2),M("ngIf",n.label))},directives:[za,Bi,Ur],encapsulation:2,changeDetection:0}),t}(),p4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}(),g4=["cb"],m4=function(r,e,n){return{"p-checkbox-label":!0,"p-checkbox-label-active":r,"p-disabled":e,"p-checkbox-label-focus":n}};function y4(t,r){if(1&t){var e=nn();U(0,"label",7),ue("click",function(a){he(e);var o=N(),s=ha(3);return o.onClick(a,s,!0)}),pt(1),j()}if(2&t){var n=N();vr(n.labelStyleClass),M("ngClass",Do(5,m4,n.checked(),n.disabled,n.focused)),kt("for",n.inputId),x(1),di(n.label)}}var _4=function(r,e,n){return{"p-checkbox p-component":!0,"p-checkbox-checked":r,"p-checkbox-disabled":e,"p-checkbox-focused":n}},C4=function(r,e,n){return{"p-highlight":r,"p-disabled":e,"p-focus":n}},E4={provide:yr,useExisting:ot(function(){return gI}),multi:!0},gI=function(){var t=function(){function r(e){m(this,r),this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new Se,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1}return g(r,[{key:"onClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(n),a&&i.focus())}},{key:"updateModel",value:function(n){var a,i=this;this.binary?(a=this.checked()?this.falseValue:this.trueValue,this.model=a,this.onModelChange(a)):(a=this.checked()?this.model.filter(function(o){return!Kt.equals(o,i.value)}):this.model?[].concat(K(this.model),[this.value]):[this.value],this.onModelChange(a),this.model=a,this.formControl&&this.formControl.setValue(a)),this.onChange.emit({checked:a,originalEvent:n})}},{key:"handleChange",value:function(n){this.readonly||this.updateModel(n)}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1,this.onModelTouched()}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"writeValue",value:function(n){this.model=n,this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"checked",value:function(){return this.binary?this.model===this.trueValue:Kt.contains(this.value,this.model)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(pr))},t.\u0275cmp=Jt({type:t,selectors:[["p-checkbox"]],viewQuery:function(e,n){var i;1&e&&gi(g4,5),2&e&&pn(i=gn())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[lt([E4])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(1&e){var i=nn();U(0,"div",0)(1,"div",1)(2,"input",2,3),ue("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(o){return n.handleChange(o)}),j()(),U(4,"div",4),ue("click",function(o){he(i);var s=ha(3);return n.onClick(o,s,!0)}),Vt(5,"span",5),j()(),ce(6,y4,2,9,"label",6)}2&e&&(vr(n.styleClass),M("ngStyle",n.style)("ngClass",Do(18,_4,n.checked(),n.disabled,n.focused)),x(2),M("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),kt("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),x(2),M("ngClass",Do(22,C4,n.checked(),n.disabled,n.focused)),x(1),M("ngClass",n.checked()?n.checkboxIcon:null),x(1),M("ngIf",n.label))},directives:[za,Bi,Ur],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),t}(),w4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}();function S4(t,r){1&t&&Vt(0,"div",16)}function b4(t,r){if(1&t&&Vt(0,"app-info-card",19),2&t){var e=N().$implicit,n=N(2);M("message",e)("showMapLink",!0)("userPos",n.position)}}function T4(t,r){if(1&t&&(U(0,"div"),ce(1,b4,1,3,"app-info-card",18),j()),2&t){var e=r.$implicit,n=N(2);x(1),M("ngIf",n.matchesKeyword(e)&&n.matchesFilter(e))}}function D4(t,r){if(1&t&&(U(0,"div"),ce(1,T4,2,1,"div",17),j()),2&t){var e=N();x(1),M("ngForOf",e.messages)}}function k4(t,r){if(1&t){var e=nn();U(0,"div",20)(1,"p-accordion")(2,"p-accordionTab",21)(3,"div",22)(4,"div",23),Vt(5,"i",24),U(6,"input",25),ue("ngModelChange",function(a){return he(e),N().keyword=a}),j()(),U(7,"span",26)(8,"button",27),ue("click",function(){return he(e),N().onClear()}),j()()(),U(9,"div",28)(10,"div",29)(11,"div",30),pt(12," Sortering "),j(),U(13,"div",31)(14,"p-radioButton",32),ue("onClick",function(){return he(e),N().onSortOrderChanged()})("ngModelChange",function(a){return he(e),N().sortOrder=a}),j()(),U(15,"div",31)(16,"p-radioButton",33),ue("onClick",function(){return he(e),N().onSortOrderChanged()})("ngModelChange",function(a){return he(e),N().sortOrder=a}),j()(),U(17,"div",31)(18,"p-radioButton",34),ue("onClick",function(){return he(e),N().onSortOrderChanged()})("ngModelChange",function(a){return he(e),N().sortOrder=a}),j()()(),U(19,"div",29)(20,"div",30),pt(21," Filtrering "),j(),U(22,"div",35)(23,"p-checkbox",36),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().settings.showTodayOnly=a}),j()(),U(24,"div",35)(25,"p-checkbox",37),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().settings.showTrafficIncidentsOnly=a}),j()(),U(26,"div",35)(27,"p-checkbox",38),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().settings.includeSubcategoryRoadwork=a}),j()(),U(28,"div",35)(29,"p-checkbox",39),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().settings.showPublicTransportOnly=a}),j()(),U(30,"div",35)(31,"p-checkbox",40),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().settings.showRoadTrafficOnly=a}),j()(),U(32,"div",35)(33,"p-checkbox",41),ue("onChange",function(){return he(e),N().onCheckChanged()})("ngModelChange",function(a){return he(e),N().showOnlyWithinRadius=a}),j()()()()()()()}if(2&t){var n=N();x(6),M("ngModel",n.keyword),x(2),M("disabled",n.isLoading),x(6),M("ngModel",n.sortOrder),x(2),M("ngModel",n.sortOrder),x(2),M("ngModel",n.sortOrder)("disabled",!n.position.lat),x(5),M("ngModel",n.settings.showTodayOnly),x(2),M("ngModel",n.settings.showTrafficIncidentsOnly),x(2),M("ngModel",n.settings.includeSubcategoryRoadwork),x(2),M("ngModel",n.settings.showPublicTransportOnly),x(2),M("ngModel",n.settings.showRoadTrafficOnly),x(2),M("ngModel",n.showOnlyWithinRadius)("disabled",!n.position.lat)}}var Vo=function(){return function(t){t.highestPriority="1",t.leastDistance="2",t.latestDate="3"}(Vo||(Vo={})),Vo}(),I4=function(){var t=function(){function r(e,n,i,a){m(this,r),this.broker=e,this.service=n,this.logger=i,this.localStorageService=a,this.settings={showTodayOnly:!1,showRoadTrafficOnly:!1,showPublicTransportOnly:!1,showTrafficIncidentsOnly:!1,includeSubcategoryRoadwork:!1},this.sortOrder=Vo.highestPriority,this.AppSettingsKey="srtrafficsettings",this.radiusKm=100,this.isLoading=!1,this.showOnlyWithinRadius=!1,this.position={lng:void 0,lat:void 0,info:void 0,id:void 0},this.keyword="",this.geolocationAvailable=!1}return g(r,[{key:"ngOnInit",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){var i;return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.geolocationAvailable="geolocation"in navigator,(i=this.localStorageService.get(this.AppSettingsKey))?this.settings=i:this.logger.logInfo("No previous settings found"),o.next=5,this.fillTrafficAreaDropDown();case 5:case"end":return o.stop()}},n,this)}))}},{key:"onFetchPosition",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){var i=this;return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,navigator.geolocation.getCurrentPosition(function(s){return Jn(i,void 0,void 0,at().mark(function u(){return at().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.allTrafficAreas){c.next=3;break}return c.next=3,this.fillTrafficAreaDropDown();case 3:return this.position.lat=s.coords.latitude,this.position.lng=s.coords.longitude,c.next=7,this.service.fetchClosestTrafficAreaForPosition(this.position);case 7:return this.trafficArea=c.sent,this.selectedArea=this.trafficArea.trafficdepartmentunitid,c.next=11,this.fetchMessages();case 11:case"end":return c.stop()}},u,this)}))},function(s){i.broker.sendMessage(new au(s.message))}),o.next=10;break;case 4:return o.prev=4,o.t0=o.catch(0),this.broker.sendMessage(new au("Geolocation is not available")),this.selectedArea=0,o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},n,this,[[0,4]])}))}},{key:"onShowUserOnMap",value:function(){this.broker.sendMessage(new wh([],this.position,"Din position"))}},{key:"onShowAllPositionsOnMap",value:function(){var i,n=this;if(this.messages){var a=[];if(this.messages.filter(function(s){return n.matchesKeyword(s)&&n.matchesFilter(s)}).forEach(function(s){var u={lat:s.latitude,lng:s.longitude,info:"".concat(s.priorityName,": ").concat(s.title," (").concat(s.subCategory,")"),id:s.id};a.push(u)}),0!=a.length){var o=(null===(i=this.trafficArea)||void 0===i?void 0:i.name)?"Trafikomr\xe5de: ".concat(this.trafficArea.name):"Hela Sverige";this.broker.sendMessage(new wh(a,this.position,o))}}}},{key:"matchesKeyword",value:function(n){if(!this.keyword||this.keyword.length<2)return!0;var i=new RegExp(this.keyword,"gi");return!!(n.title.match(i)||n.description.match(i)||n.exactLocation.match(i)||n.priorityName.match(i)||n.categoryName.match(i))}},{key:"onAreaChanged",value:function(n){return Jn(this,void 0,void 0,at().mark(function i(){return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.keyword="",0!=n.value){o.next=7;break}return this.trafficArea=null,o.next=5,this.fetchMessages();case 5:o.next=10;break;case 7:return this.trafficArea=this.getAreaFromId(n.value),o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},i,this)}))}},{key:"onRefresh",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){return at().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.fetchMessages();case 2:case"end":return a.stop()}},n,this)}))}},{key:"onSortOrderChanged",value:function(){this.sortMessages()}},{key:"numFilteredMessagesInfo",value:function(){var n=this;if(!this.messages||this.messages.length<1)return"";var i=this.messages.filter(function(s){return n.matchesFilter(s)&&n.matchesKeyword(s)}).length,a=0===i?"Inga":"".concat(i);return 1===i?"1 meddelande":"".concat(a," meddelanden")}},{key:"onClear",value:function(){this.keyword=""}},{key:"matchesFilter",value:function(n){if(n.category===su.\u00d6vrigt||n.category!==su.V\u00e4gtrafik&&this.settings.showRoadTrafficOnly||n.subCategory!==Kl.TrafikOlycka&&this.settings.showTrafficIncidentsOnly||n.subCategory===Kl.V\u00e4garbete&&!this.settings.includeSubcategoryRoadwork)return!1;var i=(new Date).getDate();return!(n.createdDate.getDate()!==i&&this.settings.showTodayOnly||this.settings.showPublicTransportOnly&&n.category!==su.Kollektivtrafik)&&!(this.showOnlyWithinRadius&&this.position&&this.position.lat&&this.position.lng&&bD(this.position.lat,this.position.lng,n.latitude,n.longitude)>this.radiusKm)}},{key:"hasMessagesToDisplay",value:function(){var n=this;return!(!this.messages||this.messages.length<1)&&this.messages.filter(function(a){return n.matchesFilter(a)&&n.matchesKeyword(a)}).length>0}},{key:"onCheckChanged",value:function(){this.localStorageService.set(this.AppSettingsKey,this.settings)}},{key:"fillTrafficAreaDropDown",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){var i,a;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.service.fetchAllTrafficAreas();case 2:this.allTrafficAreas=s.sent,this.areaOptions=[],this.areaOptions.push({label:"Hela Sverige",value:0}),a=this.allTrafficAreas.map(function(u){return{label:u.name,value:u.trafficdepartmentunitid}}),(i=this.areaOptions).push.apply(i,K(a));case 7:case"end":return s.stop()}},n,this)}))}},{key:"getAreaFromId",value:function(n){return this.allTrafficAreas.find(function(a){return a.trafficdepartmentunitid===n})}},{key:"fetchMessages",value:function(){var n;return Jn(this,void 0,void 0,at().mark(function i(){return at().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,this.isLoading=!0,this.messages=[],!(null===(n=this.trafficArea)||void 0===n?void 0:n.name)){o.next=9;break}return o.next=6,this.service.fetchAllTrafficMessagesForArea(this.trafficArea.name,this.position);case 6:this.messages=o.sent,o.next=12;break;case 9:return o.next=11,this.service.fetchAllTrafficMessages(this.position);case 11:this.messages=o.sent;case 12:this.sortMessages(),o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(0),this.logger.logError(o.t0),o.abrupt("return");case 19:return o.prev=19,this.isLoading=!1,o.finish(19);case 22:case"end":return o.stop()}},i,this,[[0,15,19,22]])}))}},{key:"sortMessages",value:function(){switch(this.sortOrder){case Vo.leastDistance:this.messages.sort(function(n,i){return n.distance-i.distance||i.createdDate.getTime()-n.createdDate.getTime()});break;case Vo.highestPriority:this.messages.sort(function(n,i){return n.priority-i.priority||i.createdDate.getTime()-n.createdDate.getTime()});break;case Vo.latestDate:this.messages.sort(function(n,i){return i.createdDate.getTime()-n.createdDate.getTime()})}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(xo),T(VD),T(ql),T(xG))},t.\u0275cmp=Jt({type:t,selectors:[["app-messages"]],decls:19,vars:10,consts:[[1,"outer"],[1,"headline"],[1,"controls-container"],[1,"p-grid","thegrid"],[1,"p-col-12","p-md-6","p-lg-4"],["pButton","","icon","pi pi-compass","iconPos","right","label","H\xe4mta ditt n\xe4rmaste omr\xe5de",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-12","p-md-6","p-lg-4","center","area-dd"],["placeholder","V\xe4lj omr\xe5de",3,"disabled","ngModel","options","onChange","ngModelChange"],[1,"p-col-12","p-md-12","p-lg-4"],["pButton","","icon","pi pi-refresh","iconPos","right","label","H\xe4mta nya meddelanden",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-6","p-lg-6","center","num-msg-ctn"],[1,"p-col-6","p-lg-6"],["pButton","","icon","pi pi-globe","iconPos","right","label","Visa alla p\xe5 kartan",1,"sr-button-wide",3,"disabled","click"],["class","p-col-12 p-lg-12",4,"ngIf","ngIfElse"],[4,"ngIf"],["sortfilt",""],[1,"p-col-12","p-lg-12"],[4,"ngFor","ngForOf"],[3,"message","showMapLink","userPos",4,"ngIf"],[3,"message","showMapLink","userPos"],[1,"sortfilt-ctn"],["header","Sortering & filtrering"],[1,"search-ctn"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","S\xf6k",3,"ngModel","ngModelChange"],[1,"clear-btn"],["pButton","","iconPos","right","label","T\xf6m",3,"disabled","click"],["styleClass","sortfilt-content",1,"p-grid"],[1,"p-col-6"],[1,"sort-filt-label"],[1,"p-field-radiobutton"],["value","1","label","H\xf6gst prioritet",3,"ngModel","onClick","ngModelChange"],["value","3","label","Senaste",3,"ngModel","onClick","ngModelChange"],["value","2","label","N\xe4rmast",3,"ngModel","disabled","onClick","ngModelChange"],[1,"p-field-checkbox"],["binary","true","label","Publicerad idag",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast olyckor",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa v\xe4garbeten",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast kollektivtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa endast v\xe4gtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Inom 100km radie",3,"ngModel","disabled","onChange","ngModelChange"]],template:function(e,n){if(1&e&&(U(0,"div",0)(1,"div",1),pt(2,"Trafikinformation fr\xe5n SR"),j(),U(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),ue("click",function(){return n.onFetchPosition()}),j()(),U(7,"div",6)(8,"p-dropdown",7),ue("onChange",function(o){return n.onAreaChanged(o)})("ngModelChange",function(o){return n.selectedArea=o}),j()(),U(9,"div",8)(10,"button",9),ue("click",function(){return n.onRefresh()}),j()(),U(11,"div",10),pt(12),j(),U(13,"div",11)(14,"button",12),ue("click",function(){return n.onShowAllPositionsOnMap()}),j()(),ce(15,S4,1,0,"div",13),j()(),ce(16,D4,2,1,"div",14),j(),ce(17,k4,34,13,"ng-template",null,15,Ff)),2&e){var i=ha(18);x(6),M("disabled",n.isLoading||!n.geolocationAvailable),x(2),M("disabled",n.isLoading)("ngModel",n.selectedArea)("options",n.areaOptions),x(2),M("disabled",void 0===n.selectedArea),x(2),Xn(" ",n.numFilteredMessagesInfo()," "),x(2),M("disabled",n.isLoading||!n.hasMessagesToDisplay()),x(1),M("ngIf",!n.messages||0===n.messages.length)("ngIfElse",i),x(1),M("ngIf",n.messages)}},directives:[UG,cI,Ik,Hh,Ur,Qf,fI,vI,dI,Mh,o4,pI,gI],styles:[".headline[_ngcontent-%COMP%]{margin:10px auto;max-width:300px;font-weight:bolder;font-size:1.5em;color:#7e7e7e}.controls-container[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:0}@media only screen and (min-width: 800px){.controls-container[_ngcontent-%COMP%]{max-width:800px}}.showmap-ctn[_ngcontent-%COMP%]{margin-top:10px;width:400px}.sort-filt-label[_ngcontent-%COMP%]{font-weight:700;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]  .sortfilt-ctn{width:100%;margin:auto auto auto 4px}.refresh-btn[_ngcontent-%COMP%]{margin-left:20px;font-size:2em;color:#7e7e7e}.thegrid[_ngcontent-%COMP%]{align-items:center}.clear-btn[_ngcontent-%COMP%]{border-radius:10px;width:20px}.num-msg-ctn[_ngcontent-%COMP%]{margin-left:16px;margin-right:-16px}.area-dd[_ngcontent-%COMP%]{padding-right:10px;padding-left:6px}.outer[_ngcontent-%COMP%]{margin-right:8px}"]}),t}(),A4=[{path:"**",component:I4}],O4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[yD.forRoot(A4,{relativeLinkResolution:"legacy"})],yD]}),t}(),M4=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).info=n,i}return g(e,[{key:"Type",get:function(){return"SuccessInfoMessage"}}]),e}(Eh),R4={},P4={},x4=function(){var t=function(){function r(){m(this,r),this.translations={en:R4,sv:P4}}return g(r,[{key:"defaultLangCode",set:function(n){this.fallBackLangCode=n}},{key:"currentLocale",set:function(n){this.localeToUse=n,this.currLangCode=this.localeToUse.slice(0,2)}},{key:"translate",value:function(n){if(this.translations[this.currLangCode]&&this.translations[this.currLangCode][n]){var i=this.translations[this.currLangCode][n];if(""!==i)return i}if(this.translations[this.fallBackLangCode]&&this.translations[this.fallBackLangCode][n]){var a=this.translations[this.fallBackLangCode][n];return""===a?n:a}return n}},{key:"translateWithArgs",value:function(n,i){var a=this.translate(n);return i?this.replace(a,i):a}},{key:"replace",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=n,o=[].concat(i);return o.forEach(function(s,u){s=s.replace(/\$/g,"$$$$"),a=a.replace("{".concat(u)+"}",s)}),a}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),mI=function(t){A(e,t);var r=O(e);function e(n){var i;return m(this,e),(i=r.call(this)).id=n,i}return g(e,[{key:"Type",get:function(){return"ShowInfoSidebarMessage"}}]),e}(Eh),F4=g(function t(){m(this,t)}),yI=function(){var t=function(){function r(){m(this,r),this.mapInput$=new jr(null)}return g(r,[{key:"addNewMapInput",value:function(n){this.mapInput=n,this.mapInput$.next(this.mapInput)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function L4(t,r){if(1&t){var e=nn();U(0,"button",7),ue("click",function(a){return he(e),N(2).close(a)})("keydown.enter",function(a){return he(e),N(2).close(a)}),Vt(1,"span",8),j()}2&t&&kt("aria-label",N(2).ariaCloseLabel)}function N4(t,r){1&t&&jn(0)}var V4=function(r,e,n,i,a,o){return{"p-sidebar":!0,"p-sidebar-active":r,"p-sidebar-left":e,"p-sidebar-right":n,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":o}},B4=function(r,e){return{transform:r,transition:e}},H4=function(r){return{value:"visible",params:r}};function U4(t,r){if(1&t){var e=nn();U(0,"div",1,2),ue("@panelState.start",function(a){return he(e),N().onAnimationStart(a)})("@panelState.done",function(a){return he(e),N().onAnimationEnd(a)}),U(2,"div",3),ce(3,L4,2,1,"button",4),j(),U(4,"div",5),wo(5),ce(6,N4,1,0,"ng-container",6),j()()}if(2&t){var n=N();vr(n.styleClass),M("ngClass",function OS(t,r,e,n,i,a,o,s,u){var l=Hn()+t,c=P(),f=Fr(c,l,e,n,i,a);return Eo(c,l+4,o,s)||f?Fi(c,l+6,u?r.call(u,e,n,i,a,o,s):r(e,n,i,a,o,s)):function hl(t,r){return t[r]}(c,l+6)}(8,V4,n.visible,"left"===n.position&&!n.fullScreen,"right"===n.position&&!n.fullScreen,"top"===n.position&&!n.fullScreen,"bottom"===n.position&&!n.fullScreen,n.fullScreen))("@panelState",vn(18,H4,To(15,B4,n.transformOptions,n.transitionOptions)))("ngStyle",n.style),kt("aria-modal",n.modal),x(3),M("ngIf",n.showCloseIcon),x(3),M("ngTemplateOutlet",n.contentTemplate)}}var j4=["*"],G4=lk([qr({transform:"{{transform}}",opacity:0}),Ka("{{transition}}")]),z4=lk([Ka("{{transition}}",qr({transform:"{{transform}}",opacity:0}))]),_I=function(){var t=function(){function r(e,n,i,a){m(this,r),this.el=e,this.renderer=n,this.cd=i,this.config=a,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new Se,this.onHide=new Se,this.visibleChange=new Se,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}return g(r,[{key:"ngAfterViewInit",value:function(){this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.contentTemplate=i.template})}},{key:"visible",get:function(){return this._visible},set:function(n){this._visible=n}},{key:"position",get:function(){return this._position},set:function(n){switch(this._position=n,n){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}},{key:"fullScreen",get:function(){return this._fullScreen},set:function(n){this._fullScreen=n,n&&(this.transformOptions="none")}},{key:"show",value:function(){this.autoZIndex&&Wr.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}},{key:"hide",value:function(){this.onHide.emit({}),this.modal&&this.disableModality()}},{key:"close",value:function(n){this.hide(),this.visibleChange.emit(!1),n.preventDefault()}},{key:"enableModality",value:function(){var n=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),ae.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(i){n.dismissible&&n.close(i)})),document.body.appendChild(this.mask),this.blockScroll&&ae.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(ae.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyModal",value:function(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&ae.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}},{key:"onAnimationStart",value:function(n){"visible"===n.toState&&(this.container=n.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&(this.hide(),Wr.clear(this.container),this.unbindGlobalListeners())}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):ae.appendChild(this.container,this.appendTo))}},{key:"bindDocumentEscapeListener",value:function(){var n=this;this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",function(a){27==a.which&&parseInt(n.container.style.zIndex)===ae.zindex+n.baseZIndex&&n.close(a)})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindGlobalListeners",value:function(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"ngOnDestroy",value:function(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&Wr.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Bt),T(vi),T(pr),T(Yl))},t.\u0275cmp=Jt({type:t,selectors:[["p-sidebar"]],contentQueries:function(e,n,i){var a;1&e&&va(i,Sh,4),2&e&&pn(a=gn())&&(n.templates=a)},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:j4,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(Us(),ce(0,U4,7,20,"div",0)),2&e&&M("ngIf",n.visible)},directives:[Ur,Bi,za,Em,$s],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center;justify-content:flex-end}.p-sidebar-icon{display:flex;align-items:center;justify-content:center}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[$l("panelState",[Ea("void => visible",[ck(G4)]),Ea("visible => void",[ck(z4)])])]},changeDetection:0}),t}(),W4=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr,Th]]}),t}(),q4=function(){function t(r){this.type=r,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Sa=q4,K4=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}(),ry=K4;function Ho(t,r){return t>r?1:t<r?-1:0}function iy(t,r){return t.indexOf(r)>=0}function ay(t,r,e){var n=t.length;if(t[0]<=r)return 0;if(r<=t[n-1])return n-1;var i=void 0;if(e>0){for(i=1;i<n;++i)if(t[i]<r)return i-1}else if(e<0){for(i=1;i<n;++i)if(t[i]<=r)return i}else for(i=1;i<n;++i){if(t[i]==r)return i;if(t[i]<r)return t[i-1]-r<r-t[i]?i-1:i}return n-1}function Y4(t,r,e){for(;r<e;){var n=t[r];t[r]=t[e],t[e]=n,++r,--e}}function Uh(t,r){for(var e=Array.isArray(r)?r:[r],n=e.length,i=0;i<n;i++)t[t.length]=e[i]}function ic(t,r){var e=t.length;if(e!==r.length)return!1;for(var n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}function Xa(){return!0}function ac(){return!1}function Uo(){}var Fn="function"==typeof Object.assign?Object.assign:function(t,r){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,i=arguments.length;n<i;++n){var a=arguments[n];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e};function fu(t){for(var r in t)delete t[r]}var CI="function"==typeof Object.values?Object.values:function(t){var r=[];for(var e in t)r.push(t[e]);return r};function oc(t){var r;for(r in t)return!1;return!r}var Q4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$4=function(t){function r(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Q4(r,t),r.prototype.addEventListener=function(e,n){if(e&&n){var i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);-1===a.indexOf(n)&&a.push(n)}},r.prototype.dispatchEvent=function(e){var n="string"==typeof e?new Sa(e):e,i=n.type;n.target||(n.target=this.eventTarget_||this);var o,a=this.listeners_&&this.listeners_[i];if(a){var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,u[i]=0),++s[i];for(var l=0,c=a.length;l<c;++l)if(!1===(o="handleEvent"in a[l]?a[l].handleEvent(n):a[l].call(this,n))||n.propagationStopped){o=!1;break}if(--s[i],0===s[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,Uo);delete s[i]}return o}},r.prototype.disposeInternal=function(){this.listeners_&&fu(this.listeners_)},r.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},r.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},r.prototype.removeEventListener=function(e,n){var i=this.listeners_&&this.listeners_[e];if(i){var a=i.indexOf(n);-1!==a&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=Uo,++this.pendingRemovals_[e]):(i.splice(a,1),0===i.length&&delete this.listeners_[e]))}},r}(ry),hu=$4;function ct(t,r,e,n,i){if(n&&n!==t&&(e=e.bind(n)),i){var a=e;e=function(){t.removeEventListener(r,e),a.apply(this,arguments)}}var o={target:t,type:r,listener:e};return t.addEventListener(r,e),o}function jh(t,r,e,n){return ct(t,r,e,n,!0)}function Nt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),fu(t))}var J4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),e5=function(t){function r(){var e=t.call(this)||this;return e.revision_=0,e}return J4(r,t),r.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},r.prototype.getRevision=function(){return this.revision_},r.prototype.on=function(e,n){if(Array.isArray(e)){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=ct(this,e[o],n);return a}return ct(this,e,n)},r.prototype.once=function(e,n){var i;if(Array.isArray(e)){var a=e.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=jh(this,e[o],n)}else i=jh(this,e,n);return n.ol_key=i,i},r.prototype.un=function(e,n){var i=n.ol_key;if(i)!function t5(t){if(Array.isArray(t))for(var r=0,e=t.length;r<e;++r)Nt(t[r]);else Nt(t)}(i);else if(Array.isArray(e))for(var a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],n);else this.removeEventListener(e,n)},r}(hu),EI=e5;function We(){return function(){throw new Error("Unimplemented abstract method.")}()}var n5=0;function Ze(t){return t.ol_uid||(t.ol_uid=String(++n5))}var wI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SI=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.key=n,a.oldValue=i,a}return wI(r,t),r}(Sa),r5=function(t){function r(e){var n=t.call(this)||this;return Ze(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return wI(r,t),r.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},r.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},r.prototype.getProperties=function(){return this.values_&&Fn({},this.values_)||{}},r.prototype.hasProperties=function(){return!!this.values_},r.prototype.notify=function(e,n){var i;i=ji(e),this.dispatchEvent(new SI(i,e,n)),this.dispatchEvent(new SI(i="propertychange",e,n))},r.prototype.set=function(e,n,i){var a=this.values_||(this.values_={});if(i)a[e]=n;else{var o=a[e];a[e]=n,o!==n&&this.notify(e,o)}},r.prototype.setProperties=function(e,n){for(var i in e)this.set(i,e[i],n)},r.prototype.applyProperties=function(e){!e.values_||Fn(this.values_||(this.values_={}),e.values_)},r.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],oc(this.values_)&&(this.values_=null),n||this.notify(e,i)}},r}(EI),sy={};function ji(t){return sy.hasOwnProperty(t)?sy[t]:sy[t]="change:"+t}var Gi=r5,du="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i5=-1!==du.indexOf("firefox"),a5=(-1!==du.indexOf("safari")&&du.indexOf("chrom"),-1!==du.indexOf("webkit")&&-1==du.indexOf("edge")),o5=-1!==du.indexOf("macintosh"),zh="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Wh="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,bI="undefined"!=typeof Image&&Image.prototype.decode,TI=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,r),window.removeEventListener("_",null,r)}catch(e){}return t}();function er(t,r,e){var n=e&&e.length?e.shift():Wh?new OffscreenCanvas(t||300,r||300):document.createElement("canvas");return t&&(n.width=t),r&&(n.height=r),n.getContext("2d")}function DI(t,r){var e=r.parentNode;e&&e.replaceChild(t,r)}function uy(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var l5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c5=function(t){function r(e){var n=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return l5(r,t),r.prototype.disposeInternal=function(){uy(this.element),t.prototype.disposeInternal.call(this)},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(e){this.map_&&uy(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Nt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Uo&&this.listenerKeys.push(ct(e,"postrender",this.render,this)),e.render())},r.prototype.render=function(e){},r.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},r}(Gi),ly=c5,qh="ol-hidden",Kh="ol-unselectable",cy="ol-control",kI="ol-collapsed",f5=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),II=["style","variant","weight","size","lineHeight","family"],AI=function(r){var e=r.match(f5);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,a=II.length;i<a;++i){var o=e[i+1];void 0!==o&&(n[II[i]]=o)}return n.families=n.family.split(/,\s?/),n},h5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d5=function(t){function r(e){var n=this,a="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,a)||this).code=e,n.name="AssertionError",n.message=a,n}return h5(r,t),r}(Error),OI=d5;function Xe(t,r){if(!t)throw new OI(r)}function Sn(t,r,e){return Math.min(Math.max(t,r),e)}var v5="cosh"in Math?Math.cosh:function(e){var n=Math.exp(e);return(n+1/n)/2},p5="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function g5(t,r,e,n,i,a){var o=i-e,s=a-n;if(0!==o||0!==s){var u=((t-e)*o+(r-n)*s)/(o*o+s*s);u>1?(e=i,n=a):u>0&&(e+=o*u,n+=s*u)}return vu(t,r,e,n)}function vu(t,r,e,n){var i=e-t,a=n-r;return i*i+a*a}function Yh(t){return t*Math.PI/180}function pu(t,r){var e=t%r;return e*r<0?e+r:e}function jo(t,r,e){return t+e*(r-t)}var y5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_5=function(t){function r(e){var n=t.call(this)||this,i=Fn({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,Xe("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return y5(r,t),r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=Sn(Math.round(100*this.getOpacity())/100,0,1),n.sourceState=this.getSourceState(),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i?i:!1===n.managed?1/0:0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},r.prototype.getLayersArray=function(e){return We()},r.prototype.getLayerStatesArray=function(e){return We()},r.prototype.getExtent=function(){return this.get("extent")},r.prototype.getMaxResolution=function(){return this.get("maxResolution")},r.prototype.getMinResolution=function(){return this.get("minResolution")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.getOpacity=function(){return this.get("opacity")},r.prototype.getSourceState=function(){return We()},r.prototype.getVisible=function(){return this.get("visible")},r.prototype.getZIndex=function(){return this.get("zIndex")},r.prototype.setExtent=function(e){this.set("extent",e)},r.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},r.prototype.setMinResolution=function(e){this.set("minResolution",e)},r.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},r.prototype.setMinZoom=function(e){this.set("minZoom",e)},r.prototype.setOpacity=function(e){Xe("number"==typeof e,64),this.set("opacity",e)},r.prototype.setVisible=function(e){this.set("visible",e)},r.prototype.setZIndex=function(e){this.set("zIndex",e)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},r}(Gi),MI=_5,C5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),E5=function(t){function r(e){var n=this,i=Fn({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(ji("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return C5(r,t),r.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},r.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},r.prototype.getSource=function(){return this.get("source")||null},r.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Nt(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=ct(e,"change",this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},r.prototype.render=function(e,n){var i=this.getRenderer();if(i.prepareFrame(e))return i.renderFrame(e,n)},r.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Nt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Nt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ct(e,"precompose",function(n){var a=n.frameState.layerStatesArray,o=this.getLayerState(!1);Xe(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=ct(this,"change",e.render,e),this.changed())},r.prototype.setSource=function(e){this.set("source",e)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},r}(MI);function Zh(t,r){if(!t.visible)return!1;var e=r.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var n=r.zoom;return n>t.minZoom&&n<=t.maxZoom}var RI=E5,w5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S5=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:a+"-collpase";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u,n.collapseLabel_.className=l):n.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(f),h.addEventListener("click",n.handleClick_.bind(n),!1);var v=n.element;return v.className=a+" "+Kh+" "+cy+(n.collapsed_&&n.collapsible_?" "+kI:"")+(n.collapsible_?"":" ol-uncollapsible"),v.appendChild(n.ulElement_),v.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return w5(r,t),r.prototype.collectSourceAttributions_=function(e){for(var n={},i=[],a=!0,o=e.layerStatesArray,s=0,u=o.length;s<u;++s){var l=o[s];if(Zh(l,e.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var h=f(e);if(h)if(a=a&&!1!==c.getAttributionsCollapsible(),Array.isArray(h))for(var d=0,v=h.length;d<v;++d)h[d]in n||(i.push(h[d]),n[h[d]]=!0);else h in n||(i.push(h),n[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},r.prototype.updateElement_=function(e){if(e){var n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ic(n,this.renderedAttributions_)){!function s5(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var a=0,o=n.length;a<o;++a){var s=document.createElement("li");s.innerHTML=n[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},r.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(kI),this.collapsed_?DI(this.collapseLabel_,this.label_):DI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(e){this.updateElement_(e.frameState)},r}(ly),PI=S5,xI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xh=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.element=n,a.index=i,a}return xI(r,t),r}(Sa),b5=function(t){function r(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var o=0,s=i.array_.length;o<s;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return xI(r,t),r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(e){for(var n=0,i=e.length;n<i;++n)this.push(e[n]);return this},r.prototype.forEach=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)e(n[i],i,n)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(e){return this.array_[e]},r.prototype.getLength=function(){return this.get("length")},r.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Xh("add",n,e))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},r.prototype.remove=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)if(n[i]===e)return this.removeAt(i)},r.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Xh("remove",n,e)),n},r.prototype.setAt=function(e,n){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(n,e);var a=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Xh("remove",a,e)),this.dispatchEvent(new Xh("add",n,e))}else{for(var o=i;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,n)}},r.prototype.updateLength_=function(){this.set("length",this.array_.length)},r.prototype.assertUnique_=function(e,n){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==n)throw new OI(58)},r}(Gi),Kr=b5;function LI(t){return Math.pow(t,3)}function gu(t){return 1-LI(1-t)}function fy(t){return 3*t*t-2*t*t*t}function T5(t){return t}var D5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k5=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=a+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener("click",n.handleClick_.bind(n),!1);var f=n.element;return f.className=a+" "+Kh+" "+cy,f.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(qh),n}return D5(r,t),r.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var n=this.getMap().getView();if(n){var i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:gu}):n.setRotation(0))}},r.prototype.render=function(e){var n=e.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(qh);o||0!==i?o&&0!==i&&this.element.classList.remove(qh):this.element.classList.add(qh)}this.label_.style.transform=a}this.rotation_=i}},r}(ly),I5=k5,A5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O5=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var v=document.createElement("button");v.className=u,v.setAttribute("type","button"),v.title=h,v.appendChild("string"==typeof c?document.createTextNode(c):c),v.addEventListener("click",n.handleClick_.bind(n,-o),!1);var y=n.element;return y.className=a+" "+Kh+" "+cy,y.appendChild(d),y.appendChild(v),n.duration_=void 0!==i.duration?i.duration:250,n}return A5(r,t),r.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},r.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var a=i.getZoom();if(void 0!==a){var o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:gu})):i.setZoom(o)}}},r}(ly),M5=O5;function NI(t){var r=t||{},e=new Kr;return(void 0===r.zoom||r.zoom)&&e.push(new M5(r.zoomOptions)),(void 0===r.rotate||r.rotate)&&e.push(new I5(r.rotateOptions)),(void 0===r.attribution||r.attribution)&&e.push(new PI(r.attributionOptions)),e}var R5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P5=function(t){function r(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(ji(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return R5(r,t),r.prototype.clone=function(){var e=new r(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Nt(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=ct(e,"change",this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},r.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function x5(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:(Xe("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}(e):void 0,this.changed()},r.prototype.setId=function(e){this.id_=e,this.changed()},r.prototype.setGeometryName=function(e){this.removeEventListener(ji(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(ji(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(Gi),VI=P5,sc={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ba={};ba[sc.DEGREES]=2*Math.PI*6370997/360,ba[sc.FEET]=.3048,ba[sc.METERS]=1,ba[sc.USFEET]=1200/3937;var Qa=sc;function Ut(t,r){var e=r[0],n=r[1];return r[0]=t[0]*e+t[2]*n+t[4],r[1]=t[1]*e+t[3]*n+t[5],r}function zi(t,r,e,n,i,a,o,s){var u=Math.sin(a),l=Math.cos(a);return t[0]=n*l,t[1]=i*u,t[2]=-n*u,t[3]=i*l,t[4]=o*n*l-s*n*u+r,t[5]=o*i*u+s*i*l+e,t}function Qh(t,r){var e=function N5(t){return t[0]*t[3]-t[1]*t[2]}(r);Xe(0!==e,32);var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5];return t[0]=o/e,t[1]=-i/e,t[2]=-a/e,t[3]=n/e,t[4]=(a*u-o*s)/e,t[5]=-(n*u-i*s)/e,t}function $h(t){return"matrix("+t.join(", ")+")"}new Array(6);function BI(t){for(var r=[1/0,1/0,-1/0,-1/0],e=0,n=t.length;e<n;++e)_u(r,t[e]);return r}function vy(t,r,e){return e?(e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]+r,e[3]=t[3]+r,e):[t[0]-r,t[1]-r,t[2]+r,t[3]+r]}function HI(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t.slice()}function UI(t,r,e){var n,i;return(n=r<t[0]?t[0]-r:t[2]<r?r-t[2]:0)*n+(i=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*i}function Jh(t,r){return jI(t,r[0],r[1])}function mu(t,r){return t[0]<=r[0]&&r[2]<=t[2]&&t[1]<=r[1]&&r[3]<=t[3]}function jI(t,r,e){return t[0]<=r&&r<=t[2]&&t[1]<=e&&e<=t[3]}function py(t,r){var o=r[0],s=r[1],u=0;return o<t[0]?u|=16:o>t[2]&&(u|=4),s<t[1]?u|=8:s>t[3]&&(u|=2),0===u&&(u=1),u}function qi(t,r,e,n,i){return i?(i[0]=t,i[1]=r,i[2]=e,i[3]=n,i):[t,r,e,n]}function yu(t){return qi(1/0,1/0,-1/0,-1/0,t)}function cc(t,r){return t[0]==r[0]&&t[2]==r[2]&&t[1]==r[1]&&t[3]==r[3]}function _u(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function zI(t,r,e,n,i){for(;e<n;e+=i)z5(t,r[e],r[e+1]);return t}function z5(t,r,e){t[0]=Math.min(t[0],r),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],r),t[3]=Math.max(t[3],e)}function WI(t,r){var e;return!!((e=r(Cu(t)))||(e=r(fc(t)),e)||(e=r(Su(t)),e)||(e=r($a(t)),e))&&e}function ed(t){var r=0;return gy(t)||(r=jt(t)*Ei(t)),r}function Cu(t){return[t[0],t[1]]}function fc(t){return[t[2],t[1]]}function Eu(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function W5(t,r){var e;return"bottom-left"===r?e=Cu(t):"bottom-right"===r?e=fc(t):"top-left"===r?e=$a(t):"top-right"===r?e=Su(t):Xe(!1,13),e}function qI(t,r,e,n,i){var a=r*n[0]/2,o=r*n[1]/2,s=Math.cos(e),u=Math.sin(e),l=a*s,c=a*u,f=o*s,h=o*u,d=t[0],v=t[1],p=d-l+h,y=d-l-h,C=d+l-h,_=d+l+h,E=v-c-f,w=v-c+f,S=v+c+f,k=v+c-f;return qi(Math.min(p,y,C,_),Math.min(E,w,S,k),Math.max(p,y,C,_),Math.max(E,w,S,k),i)}function Ei(t){return t[3]-t[1]}function wu(t,r,e){var n=e||[1/0,1/0,-1/0,-1/0];return _r(t,r)?(n[0]=t[0]>r[0]?t[0]:r[0],n[1]=t[1]>r[1]?t[1]:r[1],n[2]=t[2]<r[2]?t[2]:r[2],n[3]=t[3]<r[3]?t[3]:r[3]):yu(n),n}function $a(t){return[t[0],t[3]]}function Su(t){return[t[2],t[3]]}function jt(t){return t[2]-t[0]}function _r(t,r){return t[0]<=r[2]&&t[2]>=r[0]&&t[1]<=r[3]&&t[3]>=r[1]}function gy(t){return t[2]<t[0]||t[3]<t[1]}var Q5=function(){function t(r){this.code_=r.code,this.units_=r.units,this.extent_=void 0!==r.extent?r.extent:null,this.worldExtent_=void 0!==r.worldExtent?r.worldExtent:null,this.axisOrientation_=void 0!==r.axisOrientation?r.axisOrientation:"enu",this.global_=void 0!==r.global&&r.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ba[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!(!r||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},t.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!(!this.global_||!r)},t.prototype.setWorldExtent=function(r){this.worldExtent_=r},t.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),KI=Q5,$5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hc=6378137,bu=Math.PI*hc,J5=[-bu,-bu,bu,bu],e8=[-180,-85,180,85],td=hc*Math.log(Math.tan(Math.PI/2)),dc=function(t){function r(e){return t.call(this,{code:e,units:Qa.METERS,extent:J5,global:!0,worldExtent:e8,getPointResolution:function(i,a){return i/v5(a[1]/hc)}})||this}return $5(r,t),r}(KI),YI=[new dc("EPSG:3857"),new dc("EPSG:102100"),new dc("EPSG:102113"),new dc("EPSG:900913"),new dc("http://www.opengis.net/gml/srs/epsg.xml#3857")];function t8(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i){a[o]=bu*t[o]/180;var s=hc*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>td?s=td:s<-td&&(s=-td),a[o+1]=s}return a}function n8(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i)a[o]=180*t[o]/bu,a[o+1]=360*Math.atan(Math.exp(t[o+1]/hc))/Math.PI-90;return a}var r8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZI=[-180,-90,180,90],a8=6378137*Math.PI/180,vc=function(t){function r(e,n){return t.call(this,{code:e,units:Qa.DEGREES,extent:ZI,axisOrientation:n,global:!0,metersPerUnit:a8,worldExtent:ZI})||this}return r8(r,t),r}(KI),XI=[new vc("CRS:84"),new vc("EPSG:4326","neu"),new vc("urn:ogc:def:crs:OGC:1.3:CRS84"),new vc("urn:ogc:def:crs:OGC:2:84"),new vc("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],nd={},wi={};function rd(t,r,e){var n=t.getCode(),i=r.getCode();n in wi||(wi[n]={}),wi[n][i]=e}function my(t,r,e){var n=e||6371008.8,i=Yh(t[1]),a=Yh(r[1]),o=(a-i)/2,s=Yh(r[0]-t[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function _y(t,r,e){var n;if(void 0!==r){for(var i=0,a=t.length;i<a;++i)r[i]=t[i];n=r}else n=t.slice();return n}function QI(t,r,e){if(void 0!==r&&t!==r){for(var n=0,i=t.length;n<i;++n)r[n]=t[n];t=r}return t}function f8(t){(function s8(t,r){nd[t]=r})(t.getCode(),t),rd(t,t,_y)}function tr(t){return"string"==typeof t?function o8(t){return nd[t]||nd[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function $I(t,r,e,n){var i,a=(t=tr(t)).getPointResolutionFunc();if(a)i=a(r,e),n&&n!==t.getUnits()&&(o=t.getMetersPerUnit())&&(i=i*o/ba[n]);else{var s=t.getUnits();if(s==Qa.DEGREES&&!n||n==Qa.DEGREES)i=r;else{var o,u=gc(t,tr("EPSG:4326"));if(u===QI&&s!==Qa.DEGREES)i=r*t.getMetersPerUnit();else{var l=[e[0]-r/2,e[1],e[0]+r/2,e[1],e[0],e[1]-r/2,e[0],e[1]+r/2];i=(my((l=u(l,l,2)).slice(0,2),l.slice(2,4))+my(l.slice(4,6),l.slice(6,8)))/2}void 0!==(o=n?ba[n]:t.getMetersPerUnit())&&(i/=o)}}return i}function JI(t){(function h8(t){t.forEach(f8)})(t),t.forEach(function(r){t.forEach(function(e){r!==e&&rd(r,e,_y)})})}function Cy(t,r){return t?"string"==typeof t?tr(t):t:tr(r)}function pc(t,r){return yc(t,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function Tu(t,r){if(t===r)return!0;var e=t.getUnits()===r.getUnits();return(t.getCode()===r.getCode()||gc(t,r)===_y)&&e}function gc(t,r){var i=function u8(t,r){var e;return t in wi&&r in wi[t]&&(e=wi[t][r]),e}(t.getCode(),r.getCode());return i||(i=QI),i}function mc(t,r){return gc(tr(t),tr(r))}function yc(t,r,e){return mc(r,e)(t,void 0,t.length)}var Si=null;function nA(){return Si}function Ey(t,r){return t}function Ta(t,r){return t}function wy(t,r){return t}function Wo(t,r){return t}function qo(t,r,e,n,i,a){for(var o=a||[],s=0,u=r;u<e;u+=n){var l=t[u],c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return a&&o.length!=s&&(o.length=s),o}function rA(t,r,e,n,i,a,o){for(var s=o||[],u=Math.cos(i),l=Math.sin(i),c=a[0],f=a[1],h=0,d=r;d<e;d+=n){var v=t[d]-c,p=t[d+1]-f;s[h++]=c+v*u-p*l,s[h++]=f+v*l+p*u;for(var y=d+2;y<d+n;++y)s[h++]=t[y]}return o&&s.length!=h&&(s.length=h),s}!function p8(){JI(YI),JI(XI),function d8(t,r,e,n){t.forEach(function(i){r.forEach(function(a){rd(i,a,e),rd(a,i,n)})})}(XI,YI,t8,n8)}();var y8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iA=[1,0,0,1,0,0],_8=function(t){function r(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function X4(t){var e,n,i,r=!1;return function(){var a=Array.prototype.slice.call(arguments);return(!r||this!==i||!ic(a,n))&&(r=!0,i=this,n=a,e=t.apply(this,arguments)),e}}(function(n,i,a){if(!a)return this.getSimplifiedGeometry(i);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(i)}),e}return y8(r,t),r.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},r.prototype.clone=function(){return We()},r.prototype.closestPointXY=function(e,n,i,a){return We()},r.prototype.containsXY=function(e,n){var i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n},r.prototype.getClosestPoint=function(e,n){var i=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},r.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},r.prototype.computeExtent=function(e){return We()},r.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&yu(n),this.extentRevision_=this.getRevision()}return function q5(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t}(this.extent_,e)},r.prototype.rotate=function(e,n){We()},r.prototype.scale=function(e,n,i){We()},r.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},r.prototype.getSimplifiedGeometry=function(e){return We()},r.prototype.getType=function(){return We()},r.prototype.applyTransform=function(e){We()},r.prototype.intersectsExtent=function(e){return We()},r.prototype.translate=function(e,n){We()},r.prototype.transform=function(e,n){var i=tr(e),a=i.getUnits()==Qa.TILE_PIXELS?function(o,s,u){var l=i.getExtent(),c=i.getWorldExtent(),f=Ei(c)/Ei(l);return zi(iA,c[0],c[3],f,-f,0,0,0),qo(o,0,o.length,u,iA,s),mc(i,n)(o,s,u)}:mc(i,n);return this.applyTransform(a),this},r}(Gi),C8=_8,E8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),w8=function(t){function r(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return E8(r,t),r.prototype.computeExtent=function(e){return function U5(t,r,e,n,i){return zI(yu(i),t,r,e,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},r.prototype.getCoordinates=function(){return We()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},r.prototype.getSimplifiedGeometryInternal=function(e){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(e,n){this.stride=aA(e),this.layout=e,this.flatCoordinates=n},r.prototype.setCoordinates=function(e,n){We()},r.prototype.setLayout=function(e,n,i){var a;if(e)a=aA(e);else{for(var o=0;o<i;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}e=function S8(t){var r;return 2==t?r="XY":3==t?r="XYZ":4==t&&(r="XYZM"),r}(a=n.length)}this.layout=e,this.stride=a},r.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();rA(i,0,i.length,a,e,n,i),this.changed()}},r.prototype.scale=function(e,n,i){var a=n;void 0===a&&(a=e);var o=i;o||(o=Eu(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(function g8(t,r,e,n,i,a,o,s){for(var u=s||[],l=o[0],c=o[1],f=0,h=r;h<e;h+=n){var v=t[h+1]-c;u[f++]=l+i*(t[h]-l),u[f++]=c+a*v;for(var p=h+2;p<h+n;++p)u[f++]=t[p]}s&&u.length!=f&&(u.length=f)})(s,0,s.length,u,e,a,o,s),this.changed()}},r.prototype.translate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();(function m8(t,r,e,n,i,a,o){for(var s=o||[],u=0,l=r;l<e;l+=n){s[u++]=t[l]+i,s[u++]=t[l+1]+a;for(var c=l+2;c<l+n;++c)s[u++]=t[c]}o&&s.length!=u&&(s.length=u)})(i,0,i.length,a,e,n,i),this.changed()}},r}(C8);function aA(t){var r;return"XY"==t?r=2:"XYZ"==t||"XYM"==t?r=3:"XYZM"==t&&(r=4),r}var Sy=w8;function oA(t,r,e,n){for(var i=0,a=e.length;i<a;++i)for(var o=e[i],s=0;s<n;++s)t[r++]=o[s];return r}var D8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k8=function(t){function r(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return D8(r,t),r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){var o=this.flatCoordinates,s=vu(e,n,o[0],o[1]);if(s<a){for(var u=this.stride,l=0;l<u;++l)i[l]=o[l];return i.length=u,s}return a},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(e){return function B5(t,r){var e=t[0],n=t[1];return qi(e,n,e,n,r)}(this.flatCoordinates,e)},r.prototype.getType=function(){return"Point"},r.prototype.intersectsExtent=function(e){return jI(e,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function T8(t,r,e,n){for(var i=0,a=e.length;i<a;++i)t[r++]=e[i];return r}(this.flatCoordinates,0,e),this.changed()},r}(Sy),by=k8,I8=mt(402),uA=mt.n(I8);function Yr(t,r){return Array.isArray(t)?t:(void 0===r?r=[t,t]:(r[0]=t,r[1]=t),r)}var M8=function(){function t(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=Yr(r.scale),this.displacement_=r.displacement}return t.prototype.clone=function(){var r=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return We()},t.prototype.getImage=function(r){return We()},t.prototype.getHitDetectionImage=function(){return We()},t.prototype.getPixelRatio=function(r){return 1},t.prototype.getImageState=function(){return We()},t.prototype.getImageSize=function(){return We()},t.prototype.getHitDetectionImageSize=function(){return We()},t.prototype.getOrigin=function(){return We()},t.prototype.getSize=function(){return We()},t.prototype.setOpacity=function(r){this.opacity_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Yr(r)},t.prototype.listenImageChange=function(r){We()},t.prototype.load=function(){We()},t.prototype.unlistenImageChange=function(r){We()},t}(),lA=M8,cA=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,fA=/^([a-z]*)$|^hsla?\(.*\)$/i;function hA(t){return"string"==typeof t?t:gA(t)}var r,e,R8=(r={},e=0,function(n){var i;if(r.hasOwnProperty(n))i=r[n];else{if(e>=1024){var a=0;for(var o in r)0==(3&a++)&&(delete r[o],--e)}i=function P8(t){var r,e,n,i,a;if(fA.exec(t)&&(t=function dA(t){var r=document.createElement("div");if(r.style.color=t,""!==r.style.color){document.body.appendChild(r);var e=getComputedStyle(r).color;return document.body.removeChild(r),e}return""}(t)),cA.exec(t)){var s,o=t.length-1;s=o<=4?1:2;var u=4===o||8===o;r=parseInt(t.substr(1+0*s,s),16),e=parseInt(t.substr(1+1*s,s),16),n=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(r=(r<<4)+r,e=(e<<4)+e,n=(n<<4)+n,u&&(i=(i<<4)+i)),a=[r,e,n,i/255]}else 0==t.indexOf("rgba(")?pA(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),pA(a)):Xe(!1,14);return a}(n),r[n]=i,++e}return i});function vA(t){return Array.isArray(t)?t:R8(t)}function pA(t){return t[0]=Sn(t[0]+.5|0,0,255),t[1]=Sn(t[1]+.5|0,0,255),t[2]=Sn(t[2]+.5|0,0,255),t[3]=Sn(t[3],0,1),t}function gA(t){var r=t[0];r!=(0|r)&&(r=r+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+r+","+e+","+n+","+(void 0===t[3]?1:t[3])+")"}function Ki(t){return Array.isArray(t)?gA(t):t}var mA="10px sans-serif",Da="#000",Du="round",od=[],ku="round",Cc="#000",Ec="center",ud="middle",Ko=[0,0,0,0],ka=new Gi;(new hu).setSize=function(){console.warn("labelCache is deprecated.")};var Ty,Iu=null,Dy={},F8=function(){var a,o,r="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function s(l,c,f){for(var h=!0,d=0;d<n;++d){var v=e[d];if(o=ld(l+" "+c+" "+r+v,i),f!=v){var p=ld(l+" "+c+" "+r+f+","+v,i);h=h&&p!=o}}return!!h}function u(){for(var l=!0,c=ka.getKeys(),f=0,h=c.length;f<h;++f){var d=c[f];ka.get(d)<100&&(s.apply(this,d.split("\n"))?(fu(Dy),Iu=null,Ty=void 0,ka.set(d,100)):(ka.set(d,ka.get(d)+1,!0),l=!1))}l&&(clearInterval(a),a=void 0)}return function(l){var c=AI(l);if(c)for(var f=c.families,h=0,d=f.length;h<d;++h){var v=f[h],p=c.style+"\n"+c.weight+"\n"+v;void 0===ka.get(p)&&(ka.set(p,100,!0),s(c.style,c.weight,v)||(ka.set(p,0,!0),void 0===a&&(a=setInterval(u,32))))}}}(),L8=function(){var t;return function(r){var e=Dy[r];if(null==e){if(Wh){var n=AI(r),i=yA(r,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=r,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);Dy[r]=e}return e}}();function yA(t,r){return Iu||(Iu=er(1,1)),t!=Ty&&(Iu.font=t,Ty=Iu.font),Iu.measureText(r)}function ld(t,r){return yA(t,r).width}function _A(t,r,e){if(r in e)return e[r];var n=ld(t,r);return e[r]=n,n}function CA(t,r,e,n){0!==r&&(t.translate(e,n),t.rotate(r),t.translate(-e,-n))}var cd=null,U8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),j8=function(t){function r(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return U8(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_},r.prototype.getImage=function(e){if(!this.canvas_[e||1]){var n=this.createRenderOptions(),i=er(n.size*e||1,n.size*e||1);this.draw_(n,i,0,0,e||1),this.canvas_[e||1]=i.canvas}return this.canvas_[e||1]},r.prototype.getPixelRatio=function(e){return e},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return 2},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(e){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(e){},r.prototype.createRenderOptions=function(){var s,e=Du,n=ku,i=0,a=null,o=0,u=0;return this.stroke_&&(null===(s=this.stroke_.getColor())&&(s=Cc),s=Ki(s),void 0===(u=this.stroke_.getWidth())&&(u=1),a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=ku),void 0===(e=this.stroke_.getLineCap())&&(e=Du),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:s,strokeWidth:u,size:2*(this.radius_+u)+1,lineCap:e,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:i}},r.prototype.render=function(){var e=this.createRenderOptions(),n=er(e.size,e.size);this.draw_(e,n,0,0,1),this.canvas_={},this.canvas_[1]=n.canvas;var i=n.canvas.width,a=i,o=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[a,a]},r.prototype.draw_=function(e,n,i,a,o){var s,u,l;n.setTransform(o,0,0,o,0,0),n.translate(i,a),n.beginPath();var c=this.points_;if(c===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var f=void 0!==this.radius2_?this.radius2_:this.radius_;for(f!==this.radius_&&(c*=2),s=0;s<=c;s++)u=2*s*Math.PI/c-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=s%2==0?this.radius_:f)*Math.cos(u),e.size/2+l*Math.sin(u))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=Da),n.fillStyle=Ki(h),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke()),n.closePath()},r.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var n=this.fill_.getColor(),i=0;if("string"==typeof n&&(n=vA(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i){var a=er(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a,0,0)}}},r.prototype.drawHitDetectionCanvas_=function(e,n,i,a){n.translate(i,a),n.beginPath();var o=this.points_;if(o===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;s!==this.radius_&&(o*=2);var u=void 0,l=void 0,c=void 0;for(u=0;u<=o;u++)c=2*u*Math.PI/o-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=u%2==0?this.radius_:s)*Math.cos(c),e.size/2+l*Math.sin(c))}n.fillStyle=Da,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.stroke()),n.closePath()},r}(lA),G8=j8,z8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W8=function(t){function r(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return z8(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.setRadius=function(e){this.radius_=e,this.render()},r}(G8),EA=W8,q8=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(r){this.color_=r},t}(),Au=q8,K8=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(r){this.color_=r},t.prototype.setLineCap=function(r){this.lineCap_=r},t.prototype.setLineDash=function(r){this.lineDash_=r},t.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},t.prototype.setLineJoin=function(r){this.lineJoin_=r},t.prototype.setMiterLimit=function(r){this.miterLimit_=r},t.prototype.setWidth=function(r){this.width_=r},t}(),fd=K8,Ou=function(){function t(r){var e=r||{};this.geometry_=null,this.geometryFunction_=wA,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var r=this.getGeometry();return r&&"object"==typeof r&&(r=r.clone()),new t({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(r){this.renderer_=r},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(r){this.fill_=r},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(r){this.text_=r},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(r){"function"==typeof r?this.geometryFunction_=r:"string"==typeof r?this.geometryFunction_=function(e){return e.get(r)}:r?void 0!==r&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=wA,this.geometry_=r},t.prototype.setZIndex=function(r){this.zIndex_=r},t}(),ky=null;function Z8(t,r){if(!ky){var e=new Au({color:"rgba(255,255,255,0.4)"}),n=new fd({color:"#3399CC",width:1.25});ky=[new Ou({image:new EA({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return ky}function wA(t){return t.getGeometry()}var SA=Ou,Q8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$8=function(t){function r(e){var n=this,i=e||{},a=Fn({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(n=t.call(this,a)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return Q8(r,t),r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get("renderOrder")},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new(uA())(9)),this.getRenderer().renderDeclutter(e)},r.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},r.prototype.setStyle=function(e){this.style_=void 0!==e?e:Z8,this.styleFunction_=null===e?void 0:function Y8(t){var r,e;"function"==typeof t?r=t:(Array.isArray(t)?e=t:(Xe("function"==typeof t.getZIndex,41),e=[t]),r=function(){return e});return r}(this.style_),this.changed()},r}(RI),J8=$8,Sc={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},hd=[Sc.FILL],Ja=[Sc.STROKE],Yo=[Sc.BEGIN_PATH],TA=[Sc.CLOSE_PATH],Ae=Sc,eq=function(){function t(){}return t.prototype.drawCustom=function(r,e,n){},t.prototype.drawGeometry=function(r){},t.prototype.setStyle=function(r){},t.prototype.drawCircle=function(r,e){},t.prototype.drawFeature=function(r,e){},t.prototype.drawGeometryCollection=function(r,e){},t.prototype.drawLineString=function(r,e){},t.prototype.drawMultiLineString=function(r,e){},t.prototype.drawMultiPoint=function(r,e){},t.prototype.drawMultiPolygon=function(r,e){},t.prototype.drawPoint=function(r,e){},t.prototype.drawPolygon=function(r,e){},t.prototype.drawText=function(r,e){},t.prototype.setFillStrokeStyle=function(r,e){},t.prototype.setImageStyle=function(r,e){},t.prototype.setTextStyle=function(r,e){},t}(),DA=eq;function dd(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=r;s<e;s+=n)a[o++]=t.slice(s,s+n);return a.length=o,a}function Iy(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=dd(t,r,l,n,a[o]),r=l}return a.length=o,a}function tq(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Iy(t,r,l,n,a[o]),r=l[l.length-1]}return a.length=o,a}var nq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rq=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return nq(r,t),r.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return 1==n?e:e.map(function(i){return i*n})},r.prototype.appendFlatPointCoordinates=function(e,n){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,u=0,l=e.length;u<l;u+=n)a[0]=e[u],a[1]=e[u+1],Jh(i,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},r.prototype.appendFlatLineCoordinates=function(e,n,i,a,o,s){var u=this.coordinates,l=u.length,c=this.getBufferedMaxExtent();s&&(n+=a);var p,y,C,f=e[n],h=e[n+1],d=this.tmpCoordinate_,v=!0;for(p=n+a;p<i;p+=a)d[0]=e[p],d[1]=e[p+1],(C=py(c,d))!==y?(v&&(u[l++]=f,u[l++]=h,v=!1),u[l++]=d[0],u[l++]=d[1]):1===C?(u[l++]=d[0],u[l++]=d[1],v=!1):v=!0,f=d[0],h=d[1],y=C;return(o&&v||p===n+a)&&(u[l++]=f,u[l++]=h),l},r.prototype.drawCustomCoordinates_=function(e,n,i,a,o){for(var s=0,u=i.length;s<u;++s){var l=i[s],c=this.appendFlatLineCoordinates(e,n,l,a,!1,!1);o.push(c),n=l}return n},r.prototype.drawCustom=function(e,n,i){this.beginGeometry(e,n);var u,l,c,f,h,a=e.getType(),o=e.getStride(),s=this.coordinates.length;if("MultiPolygon"==a){u=e.getOrientedFlatCoordinates(),f=[];var d=e.getEndss();h=0;for(var v=0,p=d.length;v<p;++v){var y=[];h=this.drawCustomCoordinates_(u,h,d[v],o,y),f.push(y)}this.instructions.push([Ae.CUSTOM,s,f,e,i,tq])}else"Polygon"==a||"MultiLineString"==a?(c=[],u="Polygon"==a?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(u,0,e.getEnds(),o,c),this.instructions.push([Ae.CUSTOM,s,c,e,i,Iy])):"LineString"==a||"Circle"==a?(u=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Ae.CUSTOM,s,l,e,i,dd])):"MultiPoint"==a?(u=e.getFlatCoordinates(),(l=this.appendFlatPointCoordinates(u,o))>s&&this.instructions.push([Ae.CUSTOM,s,l,e,i,dd])):"Point"==a&&(u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),this.instructions.push([Ae.CUSTOM,s,l=this.coordinates.length,e,i]));this.endGeometry(n)},r.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[Ae.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ae.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,a,o,i=e.length,s=-1;for(n=0;n<i;++n)(o=(a=e[n])[0])==Ae.END_GEOMETRY?s=n:o==Ae.BEGIN_GEOMETRY&&(a[2]=n,Y4(this.hitDetectionInstructions,s,n),s=-1)},r.prototype.setFillStrokeStyle=function(e,n){var i=this.state;if(e){var a=e.getColor();i.fillStyle=Ki(a||Da)}else i.fillStyle=void 0;if(n){var o=n.getColor();i.strokeStyle=Ki(o||Cc);var s=n.getLineCap();i.lineCap=void 0!==s?s:Du;var u=n.getLineDash();i.lineDash=u?u.slice():od;var l=n.getLineDashOffset();i.lineDashOffset=l||0;var c=n.getLineJoin();i.lineJoin=void 0!==c?c:ku;var f=n.getWidth();i.lineWidth=void 0!==f?f:1;var h=n.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(e){var n=e.fillStyle,i=[Ae.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},r.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},r.prototype.createStroke=function(e){return[Ae.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(e,n){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(e,n){var i=e.strokeStyle,a=e.lineCap,o=e.lineDash,s=e.lineDashOffset,u=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!ic(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=u||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=u,e.currentLineWidth=l,e.currentMiterLimit=c)},r.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Ae.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},r.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=HI(this.maxExtent),this.maxLineWidth>0)&&vy(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},r}(DA),bc=rq,iq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aq=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return iq(r,t),r.prototype.drawPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Ae.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ae.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.drawMultiPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Ae.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ae.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},r.prototype.setImageStyle=function(e,n){var i=e.getAnchor(),a=e.getSize(),o=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),u=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=n},r}(bc),oq=aq,sq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uq=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return sq(r,t),r.prototype.drawFlatCoordinates_=function(e,n,i,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,i,a,!1,!1),u=[Ae.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i},r.prototype.drawLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ae.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Yo);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(Ja),this.endGeometry(n)}},r.prototype.drawMultiLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ae.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Yo);for(var s=e.getEnds(),u=e.getFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push(Ja),this.endGeometry(n)}},r.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ja),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},r.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ja),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Yo)},r}(bc),lq=uq;function Zo(t,r){return r*Math.round(t/r)}function hq(t,r,e,n,i,a,o){if(r==e)return o;var l,c,s=Zo(t[r],i),u=Zo(t[r+1],i);r+=n,a[o++]=s,a[o++]=u;do{if(l=Zo(t[r],i),c=Zo(t[r+1],i),(r+=n)==e)return a[o++]=l,a[o++]=c,o}while(l==s&&c==u);for(;r<e;){var f=Zo(t[r],i),h=Zo(t[r+1],i);if(r+=n,f!=l||h!=c){var d=l-s,v=c-u,p=f-s,y=h-u;if(d*y==v*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(v<0&&y<v||v==y||v>0&&y>v)){l=f,c=h;continue}a[o++]=l,a[o++]=c,s=l,u=c,l=f,c=h}}return a[o++]=l,a[o++]=c,o}var dq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vq=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return dq(r,t),r.prototype.drawFlatCoordinatess_=function(e,n,i,a){var o=this.state,s=void 0!==o.fillStyle,u=void 0!==o.strokeStyle,l=i.length;this.instructions.push(Yo),this.hitDetectionInstructions.push(Yo);for(var c=0;c<l;++c){var f=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,f,a,!0,!u),v=[Ae.MOVE_TO_LINE_TO,h,d];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(TA),this.hitDetectionInstructions.push(TA)),n=f}return s&&(this.instructions.push(hd),this.hitDetectionInstructions.push(hd)),u&&(this.instructions.push(Ja),this.hitDetectionInstructions.push(Ja)),n},r.prototype.drawCircle=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ae.SET_FILL_STYLE,Da]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ae.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),u=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var c=[Ae.CIRCLE,l];this.instructions.push(Yo,c),this.hitDetectionInstructions.push(Yo,c),void 0!==i.fillStyle&&(this.instructions.push(hd),this.hitDetectionInstructions.push(hd)),void 0!==i.strokeStyle&&(this.instructions.push(Ja),this.hitDetectionInstructions.push(Ja)),this.endGeometry(n)}},r.prototype.drawPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ae.SET_FILL_STYLE,Da]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ae.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),u=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(n)}},r.prototype.drawMultiPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Ae.SET_FILL_STYLE,Da]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Ae.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),u=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(n)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,a=n.length;i<a;++i)n[i]=Zo(n[i],e);return t.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},r}(bc),IA=vq;function pq(t,r,e,n,i){var f,h,d,v,p,y,C,_,E,a=e,o=e,s=0,u=0,l=e;for(f=e;f<n;f+=i){var w=r[f],S=r[f+1];void 0!==v&&(_=w-v,E=S-p,d=Math.sqrt(_*_+E*E),void 0!==y&&(u+=h,Math.acos((y*_+C*E)/(h*d))>t&&(u>s&&(s=u,a=l,o=f),u=0,l=f-i)),h=d,y=_,C=E),v=w,p=S}return(u+=d)>s?[l,f]:[a,o]}var gq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vd={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},mq=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return gq(r,t),r.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},r.prototype.drawText=function(e,n){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var s=this.coordinates,u=s.length,l=e.getType(),c=null,f=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){var I=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),f=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||I.push(c[2]/this.resolution),f=3;break;case"MultiPolygon":var R=e.getFlatInteriorPoints();for(c=[],v=0,p=R.length;v<p;v+=3)o.overflow||I.push(R[v+2]/this.resolution),c.push(R[v],R[v+1]);if(0===c.length)return;f=2}if((k=this.appendFlatPointCoordinates(c,f))===u)return;this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var L=o.padding;if(L!=Ko&&(o.scale[0]<0||o.scale[1]<0)){var q=o.padding[0],G=o.padding[1],ee=o.padding[2],de=o.padding[3];o.scale[0]<0&&(G=-G,de=-de),o.scale[1]<0&&(q=-q,ee=-ee),L=[q,G,ee,de]}var _e=this.pixelRatio;this.instructions.push([Ae.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,L==Ko?Ko:L.map(function(Te){return Te*_e}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]);var se=1/_e;this.hitDetectionInstructions.push([Ae.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[se,se],NaN,this.declutterImageWithText_,L,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]),this.endGeometry(n)}else{if(!_r(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),"LineString"==l)h=[c.length];else if("MultiLineString"==l)h=e.getEnds();else if("Polygon"==l)h=e.getEnds().slice(0,1);else if("MultiPolygon"==l){var d=e.getEndss();h=[];for(var v=0,p=d.length;v<p;++v)h.push(d[v][0])}this.beginGeometry(e,n);for(var y=o.textAlign,C=0,_=void 0,E=0,w=h.length;E<w;++E){if(null==y){var S=pq(o.maxAngle,c,C,h[E],f);C=S[0],_=S[1]}else _=h[E];for(v=C;v<_;v+=f)s.push(c[v],c[v+1]);var k;C=h[E],this.drawChars_(u,k=s.length),u=k}this.endGeometry(n)}}},r.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Ec,textBaseline:n.textBaseline||ud,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(e,n){var i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=vd[a.textBaseline],f=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Ae.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,l,f,o,d*l,h,s,1]),this.hitDetectionInstructions.push([Ae.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,1,f,o,d,h,s,1/l])},r.prototype.setTextStyle=function(e,n){var i,a,o;if(e){var s=e.getFill();s?((a=this.textFillState_)||(this.textFillState_=a={}),a.fillStyle=Ki(s.getColor()||Da)):this.textFillState_=a=null;var u=e.getStroke();if(u){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var l=u.getLineDash(),c=u.getLineDashOffset(),f=u.getWidth(),h=u.getMiterLimit();o.lineCap=u.getLineCap()||Du,o.lineDash=l?l.slice():od,o.lineDashOffset=void 0===c?0:c,o.lineJoin=u.getLineJoin()||ku,o.lineWidth=void 0===f?1:f,o.miterLimit=void 0===h?10:h,o.strokeStyle=Ki(u.getColor()||Cc)}else this.textStrokeState_=o=null;i=this.textState_;var d=e.getFont()||mA;F8(d);var v=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||ud,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ko,i.scale=void 0===v?[1,1]:v;var p=e.getOffsetX(),y=e.getOffsetY(),C=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==C&&C,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Ze(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Ze(a.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},r}(bc),_q={Circle:IA,Default:bc,Image:oq,LineString:lq,Polygon:IA,Text:mq},Cq=function(){function t(r,e,n,i){this.tolerance_=r,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var r={};for(var e in this.buildersByZIndex_){r[e]=r[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var a=n[i].finish();r[e][i]=a}}return r},t.prototype.getBuilder=function(r,e){var n=void 0!==r?r.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var a=i[e];return void 0===a&&(a=new(0,_q[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=a),a},t}(),OA=Cq,Eq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wq=function(t){function r(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Eq(r,t),r.prototype.getFeatures=function(e){return We()},r.prototype.prepareFrame=function(e){return We()},r.prototype.renderFrame=function(e,n){return We()},r.prototype.loadedTileCallback=function(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(e,n,i){return function(a,o){var s=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(n,a,o,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){},r.prototype.getDataAtPixel=function(e,n,i){return We()},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(e){var n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n},r.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},r}(EI),Sq=wq,bq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tq=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=a,o}return bq(r,t),r}(Sa),MA=Tq,Dq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kq=function(t){function r(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return Dq(r,t),r.prototype.useContainer=function(e,n,i){var o,s,a=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===a&&(u=e.firstElementChild)instanceof HTMLCanvasElement&&(s=u.getContext("2d")),!s||0!==s.canvas.width&&s.canvas.style.transform!==n?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=s,this.containerReused=!0),!this.container){(o=document.createElement("div")).className=a;var u,l=o.style;l.position="absolute",l.width="100%",l.height="100%",s=er(),o.appendChild(u=s.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=o,this.context=s}},r.prototype.clip=function(e,n,i){var a=n.pixelRatio,o=n.size[0]*a/2,s=n.size[1]*a/2,u=n.viewState.rotation,l=$a(i),c=Su(i),f=fc(i),h=Cu(i);Ut(n.coordinateToPixelTransform,l),Ut(n.coordinateToPixelTransform,c),Ut(n.coordinateToPixelTransform,f),Ut(n.coordinateToPixelTransform,h),e.save(),CA(e,-u,o,s),e.beginPath(),e.moveTo(l[0]*a,l[1]*a),e.lineTo(c[0]*a,c[1]*a),e.lineTo(f[0]*a,f[1]*a),e.lineTo(h[0]*a,h[1]*a),e.clip(),CA(e,u,o,s)},r.prototype.clipUnrotated=function(e,n,i){var a=$a(i),o=Su(i),s=fc(i),u=Cu(i);Ut(n.coordinateToPixelTransform,a),Ut(n.coordinateToPixelTransform,o),Ut(n.coordinateToPixelTransform,s),Ut(n.coordinateToPixelTransform,u);var l=this.inversePixelTransform;Ut(l,a),Ut(l,o),Ut(l,s),Ut(l,u),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()},r.prototype.dispatchRenderEvent_=function(e,n,i){var a=this.getLayer();if(a.hasListener(e)){var o=new MA(e,this.inversePixelTransform,i,n);a.dispatchEvent(o)}},r.prototype.preRender=function(e,n){this.dispatchRenderEvent_("prerender",e,n)},r.prototype.postRender=function(e,n){this.dispatchRenderEvent_("postrender",e,n)},r.prototype.getRenderTransform=function(e,n,i,a,o,s,u){var f=a/n;return zi(this.tempTransform,o/2,s/2,f,-f,-i,-e[0]+u,-e[1])},r.prototype.getDataAtPixel=function(e,n,i){var c,a=Ut(this.inversePixelTransform,e.slice()),o=this.context,u=this.getLayer().getExtent();if(u&&!Jh(u,Ut(n.pixelToCoordinateTransform,e.slice())))return null;try{var f=Math.round(a[0]),h=Math.round(a[1]),d=document.createElement("canvas"),v=d.getContext("2d");d.width=1,d.height=1,v.clearRect(0,0,1,1),v.drawImage(o.canvas,f,h,1,1,0,0,1,1),c=v.getImageData(0,0,1,1).data}catch(p){return"SecurityError"===p.name?new Uint8Array:c}return 0===c[3]?null:c},r}(Sq),RA=kq;function Iq(t,r,e,n,i,a,o,s,u,l,c,f){var h=t[r],d=t[r+1],v=0,p=0,y=0,C=0;function _(){v=h,p=d,h=t[r+=n],d=t[r+1],C+=y,y=Math.sqrt((h-v)*(h-v)+(d-p)*(d-p))}do{_()}while(r<e-n&&C+y<a);for(var E=(a-C)/y,w=jo(v,h,E),S=jo(p,d,E),k=r-n,I=C,R=a+s*u(l,i,c);r<e-n&&C+y<R;)_();var G,L=jo(v,h,E=(R-C)/y),q=jo(p,d,E);if(f){var ee=[w,S,L,q];rA(ee,0,4,2,f,ee,ee),G=ee[0]>ee[2]}else G=w>L;var de=Math.PI,_e=[],se=k+n===r;if(y=0,C=I,h=t[r=k],d=t[r+1],se){_();var Oe=Math.atan2(d-p,h-v);return G&&(Oe+=Oe>0?-de:de),_e[0]=[Te=(L+w)/2,nt=(q+S)/2,(R-a)/2,Oe,i],_e}for(var At,Pe=0,dt=i.length;Pe<dt;){_();var B=Math.atan2(d-p,h-v);if(G&&(B+=B>0?-de:de),void 0!==At){var yn=B-At;if(yn+=yn>de?-2*de:yn<-de?2*de:0,Math.abs(yn)>o)return null}At=B;for(var He=Pe,et=0;Pe<dt;++Pe){var Yt=s*u(l,i[G?dt-Pe-1:Pe],c);if(r+n<e&&C+y<a+et+Yt/2)break;et+=Yt}if(Pe!==He){var sn=G?i.substring(dt-He,dt-Pe):i.substring(He,Pe),Te=jo(v,h,E=(a+et/2-C)/y),nt=jo(p,d,E);_e.push([Te,nt,et/2,B,sn]),a+=et}}return _e}function PA(t,r,e,n){for(var i=t[r],a=t[r+1],o=0,s=r+n;s<e;s+=n){var u=t[s],l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a)),i=u,a=l}return o}var Mu=[1/0,1/0,-1/0,-1/0],eo=[],Ia=[],Aa=[],to=[];function xA(t){return t[3].declutterBox}var Aq=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function FA(t,r){return("start"===r||"end"===r)&&!Aq.test(t)&&(r="start"===r?"left":"right"),vd[r]}var Oq=function(){function t(r,e,n,i,a){this.overlaps=n,this.pixelRatio=e,this.resolution=r,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=a,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(r,e,n,i){var a=r+e+n+i;if(this.labels_[a])return this.labels_[a];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,u=this.textStates[e],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=FA(r,u.textAlign||Ec),h=i&&o.lineWidth?o.lineWidth:0,d=r.split("\n"),v=d.length,p=[],y=function N8(t,r,e){for(var n=r.length,i=0,a=0;a<n;++a){var o=ld(t,r[a]);i=Math.max(i,o),e.push(o)}return i}(u.font,d,p),C=L8(u.font),E=y+h,w=[],S=(E+2)*c[0],k=(C*v+h)*c[1],I={width:S<0?Math.floor(S):Math.ceil(S),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:w};(1!=c[0]||1!=c[1])&&w.push("scale",c),w.push("font",u.font),i&&(w.push("strokeStyle",o.strokeStyle),w.push("lineWidth",h),w.push("lineCap",o.lineCap),w.push("lineJoin",o.lineJoin),w.push("miterLimit",o.miterLimit),(Wh?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(w.push("setLineDash",[o.lineDash]),w.push("lineDashOffset",o.lineDashOffset))),n&&w.push("fillStyle",s.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");var G,L=.5-f,q=f*E+L*h;if(i)for(G=0;G<v;++G)w.push("strokeText",[d[G],q+L*p[G],.5*(h+C)+G*C]);if(n)for(G=0;G<v;++G)w.push("fillText",[d[G],q+L*p[G],.5*(h+C)+G*C]);return this.labels_[a]=I,I},t.prototype.replayTextBackground_=function(r,e,n,i,a,o,s){r.beginPath(),r.moveTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,i),r.lineTo.apply(r,a),r.lineTo.apply(r,e),o&&(this.alignFill_=o[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(r,e,n,i,a,o,s,u,l,c,f,h,d,v,p,y){var L,C=n-(s*=h[0]),_=i-(u*=h[1]),E=a+l>r?r-l:a,w=o+c>e?e-c:o,S=v[3]+E*h[0]+v[1],k=v[0]+w*h[1]+v[2],I=C-v[3],R=_-v[0];return(p||0!==f)&&(eo[0]=I,to[0]=I,eo[1]=R,Ia[1]=R,Ia[0]=I+S,Aa[0]=Ia[0],Aa[1]=R+k,to[1]=Aa[1]),0!==f?(Ut(L=zi([1,0,0,1,0,0],n,i,1,1,f,-n,-i),eo),Ut(L,Ia),Ut(L,Aa),Ut(L,to),qi(Math.min(eo[0],Ia[0],Aa[0],to[0]),Math.min(eo[1],Ia[1],Aa[1],to[1]),Math.max(eo[0],Ia[0],Aa[0],to[0]),Math.max(eo[1],Ia[1],Aa[1],to[1]),Mu)):qi(Math.min(I,I+S),Math.min(R,R+k),Math.max(I,I+S),Math.max(R,R+k),Mu),d&&(C=Math.round(C),_=Math.round(_)),{drawImageX:C,drawImageY:_,drawImageW:E,drawImageH:w,originX:l,originY:c,declutterBox:{minX:Mu[0],minY:Mu[1],maxX:Mu[2],maxY:Mu[3],value:y},canvasTransform:L,scale:h}},t.prototype.replayImageOrLabel_=function(r,e,n,i,a,o,s){var l=i.declutterBox,c=r.canvas,f=s?s[2]*i.scale[0]/2:0;return l.minX-f<=c.width/e&&l.maxX+f>=0&&l.minY-f<=c.height/e&&l.maxY+f>=0&&(!(!o&&!s)&&this.replayTextBackground_(r,eo,Ia,Aa,to,o,s),function V8(t,r,e,n,i,a,o,s,u,l,c){t.save(),1!==e&&(t.globalAlpha*=e),r&&t.setTransform.apply(t,r),n.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function B8(t,r){for(var e=t.contextInstructions,n=0,i=e.length;n<i;n+=2)Array.isArray(e[n+1])?r[e[n]].apply(r,e[n+1]):r[e[n]]=e[n+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(n,i,a,o,s,0,0,o,s)):t.drawImage(n,i,a,o,s,u,l,o*c[0],s*c[1]),t.restore()}(r,i.canvasTransform,a,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(r){if(this.alignFill_){var e=Ut(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;r.save(),r.translate(e[0]%n,e[1]%n),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},t.prototype.setStrokeStyle_=function(r,e){r.strokeStyle=e[1],r.lineWidth=e[2],r.lineCap=e[3],r.lineJoin=e[4],r.miterLimit=e[5],r.setLineDash&&(r.lineDashOffset=e[7],r.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(r,e,n,i){var a=this.textStates[e],o=this.createLabel(r,e,i,n),s=this.strokeStates[n],u=this.pixelRatio,l=FA(r,a.textAlign||Ec),c=vd[a.textBaseline||ud],f=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/u-2*a.scale[0])+2*(.5-l)*f,anchorY:c*o.height/u+2*(.5-c)*f}},t.prototype.execute_=function(r,e,n,i,a,o,s,u){var l;this.pixelCoordinates_&&ic(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=qo(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function F5(t,r){t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5]}(this.renderedTransform_,n));for(var d,v,p,y,C,_,E,w,S,k,I,R,nt,At,Pe,dt,c=0,f=i.length,h=0,L=0,q=0,G=null,ee=null,de=this.coordinateCache_,_e=this.viewRotation_,se=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,Oe={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:_e},Te=this.instructions!=i||this.overlaps?0:200;c<f;){var B=i[c];switch(B[0]){case Ae.BEGIN_GEOMETRY:dt=B[3],(nt=B[1]).getGeometry()?void 0===s||_r(s,dt.getExtent())?++c:c=B[2]+1:c=B[2];break;case Ae.BEGIN_PATH:L>Te&&(this.fill_(r),L=0),q>Te&&(r.stroke(),q=0),!L&&!q&&(r.beginPath(),y=NaN,C=NaN),++c;break;case Ae.CIRCLE:var He=l[h=B[1]],et=l[h+1],sn=l[h+2]-He,Nn=l[h+3]-et,Qi=Math.sqrt(sn*sn+Nn*Nn);r.moveTo(He+Qi,et),r.arc(He,et,Qi,0,2*Math.PI,!0),++c;break;case Ae.CLOSE_PATH:r.closePath(),++c;break;case Ae.CUSTOM:h=B[1],d=B[2];var ns=B[4],Z=6==B.length?B[5]:void 0;Oe.geometry=B[3],Oe.feature=nt,c in de||(de[c]=[]);var fe=de[c];Z?Z(l,h,d,2,fe):(fe[0]=l[h],fe[1]=l[h+1],fe.length=2),ns(fe,Oe),++c;break;case Ae.DRAW_IMAGE:h=B[1],d=B[2],v=B[4],p=B[5];var pe=B[6],St=B[7],$r=B[8],Sr=B[9],bi=B[10],$i=B[11],uo=B[12],Pt=B[13],br=B[14];if(!(w=B[3])&&B.length>=19){var lo=this.drawLabelWithPointPlacement_(S=B[18],k=B[19],I=B[20],R=B[21]);B[3]=w=lo.label,B[4]=v=(lo.anchorX-B[22])*this.pixelRatio,B[5]=p=(lo.anchorY-B[23])*this.pixelRatio,B[6]=pe=w.height,B[13]=Pt=w.width}var ea=void 0;B.length>24&&(ea=B[24]);var Vn=void 0,Dr=void 0,rs=void 0;B.length>16?(Vn=B[15],Dr=B[16],rs=B[17]):(Vn=Ko,Dr=!1,rs=!1),bi&&se?$i+=_e:!bi&&!se&&($i-=_e);for(var Fu=0;h<d;h+=2)if(!(ea&&ea[Fu++]<Pt/this.pixelRatio)){var Di=[r,e,w,Ti=this.calculateImageOrLabelDimensions_(w.width,w.height,l[h],l[h+1],Pt,pe,v,p,$r,Sr,$i,uo,a,Vn,Dr||rs,nt),St,Dr?G:null,rs?ee:null],Bd=void 0,O_=void 0;if(u&&br){if(!br[h]){br[h]=Di;continue}if(Bd=br[h],delete br[h],O_=xA(Bd),u.collides(O_))continue}u&&u.collides(Ti.declutterBox)||(Bd&&(u&&u.insert(O_),this.replayImageOrLabel_.apply(this,Bd)),u&&u.insert(Ti.declutterBox),this.replayImageOrLabel_.apply(this,Di))}++c;break;case Ae.DRAW_CHARS:var xM=B[1],FM=B[2],M_=B[3],s9=B[4];R=B[5];var u9=B[6],LM=B[7],NM=B[8];I=B[9];var R_=B[10];S=B[11];var VM=[B[13],B[13]],P_=this.textStates[k=B[12]],Mc=P_.font,Rc=[P_.scale[0]*LM,P_.scale[1]*LM],Pc=void 0;Mc in this.widths_?Pc=this.widths_[Mc]:this.widths_[Mc]=Pc={};var BM=PA(l,xM,FM,2),HM=Math.abs(Rc[0])*_A(Mc,S,Pc);if(s9||HM<=BM){var xc=Iq(l,xM,FM,2,S,(BM-HM)*vd[this.textStates[k].textAlign],u9,Math.abs(Rc[0]),_A,Mc,Pc,se?0:this.viewRotation_);e:if(xc){var Fc=[],co=void 0,Hd=void 0,rr=void 0,Jr=void 0;if(I)for(co=0,Hd=xc.length;co<Hd;++co){rr=this.createLabel((Jr=xc[co])[4],k,"",I);var Ti=this.calculateImageOrLabelDimensions_(rr.width,rr.height,Jr[0],Jr[1],rr.width,rr.height,v=Jr[2]+(Rc[0]<0?-R_:R_),p=M_*rr.height+2*(.5-M_)*R_*Rc[1]/Rc[0]-NM,0,0,Jr[3],VM,!1,Ko,!1,nt);if(u&&u.collides(Ti.declutterBox))break e;Fc.push([r,e,rr,Ti,1,null,null])}if(R)for(co=0,Hd=xc.length;co<Hd;++co){if(rr=this.createLabel((Jr=xc[co])[4],k,R,""),Ti=this.calculateImageOrLabelDimensions_(rr.width,rr.height,Jr[0],Jr[1],rr.width,rr.height,v=Jr[2],p=M_*rr.height-NM,0,0,Jr[3],VM,!1,Ko,!1,nt),u&&u.collides(Ti.declutterBox))break e;Fc.push([r,e,rr,Ti,1,null,null])}u&&u.load(Fc.map(xA));for(var x_=0,f9=Fc.length;x_<f9;++x_)this.replayImageOrLabel_.apply(this,Fc[x_])}}++c;break;case Ae.END_GEOMETRY:if(void 0!==o){var UM=o(nt=B[1],dt);if(UM)return UM}++c;break;case Ae.FILL:Te?L++:this.fill_(r),++c;break;case Ae.MOVE_TO_LINE_TO:for(d=B[2],E=(Pe=l[(h=B[1])+1])+.5|0,((_=(At=l[h])+.5|0)!==y||E!==C)&&(r.moveTo(At,Pe),y=_,C=E),h+=2;h<d;h+=2)_=(At=l[h])+.5|0,E=(Pe=l[h+1])+.5|0,(h==d-2||_!==y||E!==C)&&(r.lineTo(At,Pe),y=_,C=E);++c;break;case Ae.SET_FILL_STYLE:G=B,this.alignFill_=B[2],L&&(this.fill_(r),L=0,q&&(r.stroke(),q=0)),r.fillStyle=B[1],++c;break;case Ae.SET_STROKE_STYLE:ee=B,q&&(r.stroke(),q=0),this.setStrokeStyle_(r,B),++c;break;case Ae.STROKE:Te?q++:r.stroke(),++c;break;default:++c}}L&&this.fill_(r),q&&r.stroke()},t.prototype.execute=function(r,e,n,i,a,o){this.viewRotation_=i,this.execute_(r,e,n,this.instructions,a,void 0,void 0,o)},t.prototype.executeHitDetection=function(r,e,n,i,a){return this.viewRotation_=n,this.execute_(r,1,e,this.hitDetectionInstructions,!0,i,a)},t}(),Mq=Oq,Oy=["Polygon","Circle","LineString","Image","Text","Default"],Rq=function(){function t(r,e,n,i,a,o){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return t.prototype.clip=function(r,e){var n=this.getClipCoords(e);r.beginPath(),r.moveTo(n[0],n[1]),r.lineTo(n[2],n[3]),r.lineTo(n[4],n[5]),r.lineTo(n[6],n[7]),r.clip()},t.prototype.createExecutors_=function(r){for(var e in r){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=r[e],a=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i)n[o]=new Mq(this.resolution_,this.pixelRatio_,this.overlaps_,i[o],a)}},t.prototype.hasExecutors=function(r){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,a=r.length;i<a;++i)if(r[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(r,e,n,i,a,o){var s=2*(i=Math.round(i))+1,u=zi(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-r[0],-r[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=er(s,s));var f,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(_u(f=[1/0,1/0,-1/0,-1/0],r),vy(f,e*(this.renderBuffer_+i),f));var d,h=function Pq(t){if(void 0!==My[t])return My[t];for(var r=2*t+1,e=t*t,n=new Array(e+1),i=0;i<=t;++i)for(var a=0;a<=t;++a){var o=i*i+a*a;if(o>e)break;var s=n[o];s||(n[o]=s=[]),s.push(4*((t+i)*r+(t+a))+3),i>0&&s.push(4*((t-i)*r+(t+a))+3),a>0&&(s.push(4*((t+i)*r+(t-a))+3),i>0&&s.push(4*((t-i)*r+(t-a))+3))}for(var u=[],l=(i=0,n.length);i<l;++i)n[i]&&u.push.apply(u,n[i]);return My[t]=u,u}(i);function v(k,I){for(var R=c.getImageData(0,0,s,s).data,L=0,q=h.length;L<q;L++)if(R[h[L]]>0){if(!o||"Image"!==d&&"Text"!==d||-1!==o.indexOf(k)){var G=(h[L]-3)/4,ee=i-G%s,de=i-(G/s|0),_e=a(k,I,ee*ee+de*de);if(_e)return _e}c.clearRect(0,0,s,s);break}}var y,C,_,E,w,p=Object.keys(this.executorsByZIndex_).map(Number);for(p.sort(Ho),y=p.length-1;y>=0;--y){var S=p[y].toString();for(_=this.executorsByZIndex_[S],C=Oy.length-1;C>=0;--C)if(void 0!==(E=_[d=Oy[C]])&&(w=E.executeHitDetection(c,u,n,v,f)))return w}},t.prototype.getClipCoords=function(r){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],a=e[2],o=e[3],s=[n,i,n,o,a,o,a,i];return qo(s,0,8,2,r,s),s},t.prototype.isEmpty=function(){return oc(this.executorsByZIndex_)},t.prototype.execute=function(r,e,n,i,a,o,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(Ho),this.maxExtent_&&(r.save(),this.clip(r,n));var c,f,h,d,v,p,l=o||Oy;for(s&&u.reverse(),c=0,f=u.length;c<f;++c){var y=u[c].toString();for(v=this.executorsByZIndex_[y],h=0,d=l.length;h<d;++h)void 0!==(p=v[l[h]])&&p.execute(r,e,n,i,a,s)}this.maxExtent_&&r.restore()},t}(),My={},LA=Rq,xq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fq=function(t){function r(e,n,i,a,o,s,u){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=a,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=u,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return xq(r,t),r.prototype.drawImages_=function(e,n,i,a){if(this.image_){var o=qo(e,n,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var f=0,h=o.length;f<h;f+=2){var d=o[f]-this.imageAnchorX_,v=o[f+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=d+this.imageAnchorX_,y=v+this.imageAnchorY_;zi(u,p,y,1,1,c,-p,-y),s.setTransform.apply(s,u),s.translate(p,y),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,v,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},r.prototype.drawText_=function(e,n,i,a){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=qo(e,n,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);n<i;n+=a){var l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var f=zi(this.tmpLocalTransform_,l,c,1,1,u,-l,-c);s.setTransform.apply(s,f),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},r.prototype.moveToLineTo_=function(e,n,i,a,o){var s=this.context_,u=qo(e,n,i,a,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var l=u.length;o&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(u[c],u[c+1]);return o&&s.closePath(),i},r.prototype.drawRings_=function(e,n,i,a){for(var o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(e,n,i[o],a,!0);return n},r.prototype.drawCircle=function(e){if(_r(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=function b8(t,r,e){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return qo(n,0,n.length,i,r,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(i*i+a*a),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},r.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},r.prototype.setTransform=function(e){this.transform_=e},r.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},r.prototype.drawFeature=function(e,n){var i=n.getGeometryFunction()(e);!i||!_r(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),i=0,a=n.length;i<a;++i)this.drawGeometry(n[i])},r.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_r(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},r.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(_r(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=e.getFlatCoordinates(),o=0,s=e.getEnds(),u=e.getStride();i.beginPath();for(var l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(a,o,s[l],u,!1);i.stroke()}if(""!==this.text_){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},r.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_r(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_r(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getOrientedFlatCoordinates(),a=0,o=e.getEndss(),s=e.getStride();n.beginPath();for(var u=0,l=o.length;u<l;++u)a=this.drawRings_(i,a,o[u],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},r.prototype.setContextFillState_=function(e){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},r.prototype.setContextStrokeState_=function(e){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(ic(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},r.prototype.setContextTextState_=function(e){var n=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:Ec;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=a&&(i.textAlign=a,n.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=a,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},r.prototype.setFillStrokeStyle=function(e,n){if(e){var i=e.getColor();this.fillState_={fillStyle:Ki(i||Da)}}else this.fillState_=null;if(n){var a=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),u=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:Du,lineDash:s||od,lineDashOffset:u||0,lineJoin:void 0!==l?l:ku,lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==f?f:10,strokeStyle:Ki(a||Cc)}}else this.strokeState_=null},r.prototype.setImageStyle=function(e){if(e){var n=e.getSize();if(n){var i=e.getAnchor(),a=e.getImage(1),o=e.getOrigin(),s=e.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=n[1],this.image_=a,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=n[0]}else this.image_=null}else this.image_=null},r.prototype.setTextStyle=function(e){if(e){var n=e.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:Ki(i||Da)}}else this.textFillState_=null;var a=e.getStroke();if(a){var o=a.getColor(),s=a.getLineCap(),u=a.getLineDash(),l=a.getLineDashOffset(),c=a.getLineJoin(),f=a.getWidth(),h=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:Du,lineDash:u||od,lineDashOffset:l||0,lineJoin:void 0!==c?c:ku,lineWidth:void 0!==f?f:1,miterLimit:void 0!==h?h:10,strokeStyle:Ki(o||Cc)}}else this.textStrokeState_=null;var d=e.getFont(),v=e.getOffsetX(),p=e.getOffsetY(),y=e.getRotateWithView(),C=e.getRotation(),_=e.getScaleArray(),E=e.getText(),w=e.getTextAlign(),S=e.getTextBaseline();this.textState_={font:void 0!==d?d:mA,textAlign:void 0!==w?w:Ec,textBaseline:void 0!==S?S:ud},this.text_=void 0!==E?E:"",this.textOffsetX_=void 0!==v?this.pixelRatio_*v:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==C?C:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},r}(DA),Lq=Fq,Nq=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var e in this.cache_)0==(3&r++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(r,e,n){var i=NA(r,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(r,e,n,i){var a=NA(r,e,n);this.cache_[a]=i,++this.cacheSize_},t.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},t}();function NA(t,r,e){return r+":"+t+":"+(e?hA(e):"null")}var pd=new Nq,Vq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bq=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=a,o}return Vq(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return We()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){We()},r}(hu),Hq=Bq,Uq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Ry(t,r,e){var n=t;if(n.src&&bI){var i=n.decode(),a=!0;return i.then(function(){a&&r()}).catch(function(u){a&&("EncodingError"===u.name&&"Invalid image type."===u.message?r():e())}),function(){a=!1}}var s=[jh(n,"load",r),jh(n,"error",e)];return function(){s.forEach(Nt)}}!function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,i,0)||this;return u.src_=a,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=0,u.imageLoadFunction_=s,u}Uq(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Ei(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Ry(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(e){this.image_=e},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(Hq);var jq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tc=null,Gq=function(t){function r(e,n,i,a,o,s){var u=t.call(this)||this;return u.hitDetectionImage_=null,u.image_=e||new Image,null!==a&&(u.image_.crossOrigin=a),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=o,u.size_=i,u.src_=n,u}return jq(r,t),r.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){Tc||(Tc=er(1,1)),Tc.drawImage(this.image_,0,0);try{Tc.getImageData(0,0,1,1),this.tainted_=!1}catch(e){Tc=null,this.tainted_=!0}}return!0===this.tainted_},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},r.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},r.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=er(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Ry(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var i=n.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=hA(this.color_),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,n.width,n.height),o=a.data,s=this.color_[0]/255,u=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],f=0,h=o.length;f<h;f+=4)o[f]*=s,o[f+1]*=u,o[f+2]*=l,o[f+3]*=c;i.putImageData(a,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(hu),Wq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qq=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,f=i.src;Xe(!(void 0!==f&&l),4),Xe(!l||l&&c,5),(void 0===f||0===f.length)&&l&&(f=l.src||Ze(l)),Xe(void 0!==f&&f.length>0,6);var h=void 0!==i.src?0:2;return n.color_=void 0!==i.color?vA(i.color):null,n.iconImage_=function zq(t,r,e,n,i,a){var o=pd.get(r,n,a);return o||(o=new Gq(t,r,e,n,i,a),pd.set(r,n,a,o)),o}(l,f,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return Wq(r,t),r.prototype.clone=function(){var e=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=n[0]),"fraction"==this.anchorYUnits_&&(e[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+n[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},r.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(e){return this.iconImage_.getImage(e)},r.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_,n=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var i=this.getSize(),a=this.iconImage_.getSize();if(!i||!a)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=a[0]-i[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=a[1]-i[1]-e[1])}return e[0]+=n[0],e[1]+=n[1],this.origin_=e,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},r}(lA),Py=qq,VA={Point:function i6(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(r,n)}if(o&&o.getText()){var l=t.getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},LineString:function t6(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},Polygon:function o6(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},MultiPoint:function a6(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(r,n)}if(o&&o.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},MultiLineString:function n6(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},MultiPolygon:function r6(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(o||a){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},GeometryCollection:function e6(t,r,e,n,i){var o,s,a=r.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,VA[a[o].getType()])(t,a[o],e,n,i)},Circle:function $q(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}}};function Xq(t,r){return parseInt(Ze(t),10)-parseInt(Ze(r),10)}function xy(t,r){return.5*t/r}function BA(t,r,e,n,i,a,o){var s=!1,u=e.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function Jq(t,r,e,n,i,a){var o=e.getGeometryFunction()(r);if(o){var s=o.simplifyTransformed(n,i);e.getRenderer()?HA(t,s,e,r):(0,VA[s.getType()])(t,s,e,r,a)}}(t,r,e,n,a,o),s}function HA(t,r,e,n){if("GeometryCollection"!=r.getType())t.getBuilder(e.getZIndex(),"Default").drawCustom(r,n,e.getRenderer());else for(var i=r.getGeometries(),a=0,o=i.length;a<o;++a)HA(t,i[a],e,n)}function Fy(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function Ly(t,r){var e=Math.cos(r),n=Math.sin(r),a=t[1]*e+t[0]*n;return t[0]=t[0]*e-t[1]*n,t[1]=a,t}function GA(t,r){if(r.canWrapX()){var e=jt(r.getExtent()),n=function h6(t,r,e){var n=r.getExtent(),i=0;if(r.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var a=e||jt(n);i=Math.floor((t[0]-n[0])/a)}return i}(t,r,e);n&&(t[0]-=n*e)}return t}var d6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v6=function(t){function r(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return d6(r,t),r.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},r.prototype.renderWorlds=function(e,n,i){var a=n.extent,o=n.viewState,s=o.center,u=o.resolution,l=o.projection,c=o.rotation,f=l.getExtent(),h=this.getLayer().getSource(),d=n.pixelRatio,v=n.viewHints,p=!(v[0]||v[1]),y=this.context,C=Math.round(n.size[0]*d),_=Math.round(n.size[1]*d),E=h.getWrapX()&&l.canWrapX(),w=E?jt(f):null,S=E?Math.ceil((a[2]-f[2])/w)+1:1,k=E?Math.floor((a[0]-f[0])/w):0;do{var I=this.getRenderTransform(s,u,c,d,C,_,k*w);e.execute(y,1,I,c,p,void 0,i)}while(++k<S)},r.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},r.prototype.renderFrame=function(e,n){var i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];(function L5(t,r,e){(function uc(t,r,e,n,i,a,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t})(t,r,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),Qh(this.inversePixelTransform,this.pixelTransform);var o=$h(this.pixelTransform);this.useContainer(n,o,a.opacity);var s=this.context,u=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&u.width>0&&(u.width=0),this.container;var f=Math.round(e.size[0]*i),h=Math.round(e.size[1]*i);u.width!=f||u.height!=h?(u.width=f,u.height=h,u.style.transform!==o&&(u.style.transform=o)):this.containerReused||s.clearRect(0,0,f,h),this.preRender(s,e);var d=e.viewState,p=!1;if(a.extent&&this.clipping){var y=Wo(a.extent);(p=!mu(y,e.extent)&&_r(y,e.extent))&&this.clipUnrotated(s,e,y)}this.renderWorlds(l,e),p&&s.restore(),this.postRender(s,e);var C=a.opacity,_=this.container;return C!==parseFloat(_.style.opacity)&&(_.style.opacity=1===C?"":String(C)),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Ut(this.pixelTransform,i);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.renderedExtent_,c=this.getLayer(),f=[],h=i[0]/2,d=i[1]/2;f.push(this.getRenderTransform(a,o,s,.5,h,d,0).slice());var v=c.getSource(),p=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!mu(p,l)){for(var y=l[0],C=jt(p),_=0;y<p[0];)--_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),y+=C;for(_=0,y=l[2];y>p[2];)++_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),y-=C}this.hitDetectionImageData_=function Kq(t,r,e,n,i,a,o){var l=er(t[0]/2,t[1]/2);l.imageSmoothingEnabled=!1;for(var c=l.canvas,f=new Lq(l,.5,i,null,o),h=e.length,d=Math.floor(16777215/h),v={},p=1;p<=h;++p){var y=e[p-1],C=y.getStyleFunction()||n;if(n){var _=C(y,a);if(_){Array.isArray(_)||(_=[_]);for(var w="#"+("000000"+(p*d).toString(16)).slice(-6),S=0,k=_.length;S<k;++S){var I=_[S],R=I.clone(),L=R.getFill();L&&L.setColor(w);var q=R.getStroke();q&&q.setColor(w),R.setText(void 0);var G=I.getImage();if(G){var ee=G.getImageSize();if(!ee)continue;var de=document.createElement("canvas");de.width=ee[0],de.height=ee[1];var _e=de.getContext("2d",{alpha:!1});_e.fillStyle=w;var se=_e.canvas;_e.fillRect(0,0,se.width,se.height),er(ee?ee[0]:se.width,ee?ee[1]:se.height).drawImage(se,0,0),R.setImage(new Py({img:se,imgSize:ee,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),size:G.getSize(),opacity:G.getOpacity(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}var At=Number(R.getZIndex());(Pe=v[At])||(v[At]=Pe={},Pe.Polygon=[],Pe.Circle=[],Pe.LineString=[],Pe.Point=[]);var dt=R.getGeometryFunction()(y);dt&&_r(i,dt.getExtent())&&Pe[dt.getType().replace("Multi","")].push(dt,R)}}}}for(var B=Object.keys(v).map(Number).sort(Ho),yn=(p=0,B.length);p<yn;++p){var Pe=v[B[p]];for(var He in Pe){var et=Pe[He];for(S=0,k=et.length;S<k;S+=2){f.setStyle(et[S+1]);for(var _n=0,Yt=r.length;_n<Yt;++_n)f.setTransform(r[_n]),f.drawGeometry(et[S])}}}return l.getImageData(0,0,c.width,c.height)}(i,f,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}n(function Yq(t,r,e){var n=[];if(e){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*e.width),u=e.data[i+2]+256*(e.data[i+1]+256*e.data[i]),l=Math.floor(16777215/r.length);u&&u%l==0&&n.push(r[u/l-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){var s=this;if(this.replayGroup_){var d,u=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),f={},h=function(y,C,_){var E=Ze(y),w=f[E];if(w){if(!0!==w&&_<w.distanceSq){if(0===_)return f[E]=!0,o.splice(o.lastIndexOf(w),1),a(y,c,C);w.geometry=C,w.distanceSq=_}}else{if(0===_)return f[E]=!0,a(y,c,C);o.push(f[E]={feature:y,layer:c,geometry:C,distanceSq:_,callback:a})}},v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(function(p){return d=p.forEachFeatureAtCoordinate(e,u,l,i,h,p===s.declutterExecutorGroup?n.declutterTree.all().map(function(y){return y.value}):null)}),d}},r.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},r.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(e){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var a=e.viewHints[0],o=e.viewHints[1],s=n.getUpdateWhileAnimating(),u=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,f=c.projection,h=c.resolution,d=e.pixelRatio,v=n.getRevision(),p=n.getRenderBuffer(),y=n.getRenderOrder();void 0===y&&(y=Xq);var C=c.center.slice(),_=vy(l,p*h),E=[_.slice()],w=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!mu(w,e.extent)){var S=jt(w),k=Math.max(jt(_)/2,S);_[0]=w[0]-k,_[2]=w[2]+k,GA(C,f);var I=function X5(t,r){var e=r.getExtent(),n=Eu(t);if(r.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var i=jt(e),o=Math.floor((n[0]-e[0])/i)*i;t[0]-=o,t[2]-=o}return t}(E[0],f);I[0]<w[0]&&I[2]<w[2]?E.push([I[0]+S,I[1],I[2]+S,I[3]]):I[0]>w[0]&&I[2]>w[2]&&E.push([I[0]-S,I[1],I[2]-S,I[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==v&&this.renderedRenderOrder_==y&&mu(this.renderedExtent_,_))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var L,R=new OA(xy(h,d),_,h,d);this.getLayer().getDeclutter()&&(L=new OA(xy(h,d),_,h,d));var G,q=nA();if(q){for(var ee=0,de=E.length;ee<de;++ee)i.loadFeatures(wy(E[ee]),h,q);G=gc(q,f)}else for(ee=0,de=E.length;ee<de;++ee)i.loadFeatures(E[ee],h,f);var _e=function Qq(t,r){var e=xy(t,r);return e*e}(h,d),se=function(Pe){var dt,B=Pe.getStyleFunction()||n.getStyleFunction();if(B&&(dt=B(Pe,h)),dt){var yn=this.renderFeature(Pe,_e,dt,R,G,L);this.dirty_=this.dirty_||yn}}.bind(this),Oe=wy(_),Te=i.getFeaturesInExtent(Oe);for(y&&Te.sort(y),ee=0,de=Te.length;ee<de;++ee)se(Te[ee]);this.renderedFeatures_=Te;var nt=R.finish(),At=new LA(_,h,d,i.getOverlaps(),nt,n.getRenderBuffer());return L&&(this.declutterExecutorGroup=new LA(_,h,d,i.getOverlaps(),L.finish(),n.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=v,this.renderedRenderOrder_=y,this.renderedExtent_=_,this.renderedCenter_=C,this.renderedProjection_=f,this.replayGroup_=At,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(e,n,i,a,o,s){if(!i)return!1;var u=!1;if(Array.isArray(i))for(var l=0,c=i.length;l<c;++l)u=BA(a,e,i[l],n,this.boundHandleStyleImageChange_,o,s)||u;else u=BA(a,e,i,n,this.boundHandleStyleImageChange_,o,s);return u},r}(RA),p6=v6,g6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m6=function(t){function r(e){return t.call(this,e)||this}return g6(r,t),r.prototype.createRenderer=function(){return new p6(this)},r}(J8),zA=m6,y6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_6=function(t){function r(e){var n=this,i=e||{},a=Fn({},i);return delete a.preload,delete a.useInterimTilesOnError,(n=t.call(this,a)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return y6(r,t),r.prototype.getPreload=function(){return this.get("preload")},r.prototype.setPreload=function(e){this.set("preload",e)},r.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},r.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},r}(RI),C6=_6,WA=function(){function t(r,e,n,i){this.minX=r,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(r){return this.containsXY(r[1],r[2])},t.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},t.prototype.containsXY=function(r,e){return this.minX<=r&&r<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},t.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},t}();function Ny(t,r,e,n,i){return void 0!==i?(i.minX=t,i.maxX=r,i.minY=e,i.maxY=n,i):new WA(t,r,e,n)}var qA=WA,E6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KA=function(t){function r(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new qA(0,0,0,0),n}return E6(r,t),r.prototype.isDrawableTile=function(e){var n=this.getLayer(),i=e.getState(),a=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!a},r.prototype.getTile=function(e,n,i,a){var o=a.pixelRatio,s=a.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,s);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},r.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},r.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(e,n){var i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,s=a.resolution,u=a.center,l=a.rotation,c=e.pixelRatio,f=this.getLayer(),h=f.getSource(),d=h.getRevision(),v=h.getTileGridForProjection(o),p=v.getZForResolution(s,h.zDirection),y=v.getResolution(p),C=e.extent,_=i.extent&&Wo(i.extent);_&&(C=wu(C,Wo(i.extent)));var E=h.getTilePixelRatio(c),w=Math.round(e.size[0]*E),S=Math.round(e.size[1]*E);if(l){var k=Math.round(Math.sqrt(w*w+S*S));w=k,S=k}var I=y*w/2/E,R=y*S/2/E,L=[u[0]-I,u[1]-R,u[0]+I,u[1]+R],q=v.getTileRangeForExtentAndZ(C,p),G={};G[p]={};var ee=this.createLoadedTileFinder(h,o,G),de=this.tmpExtent,_e=this.tmpTileRange_;this.newTiles_=!1;for(var se=q.minX;se<=q.maxX;++se)for(var Oe=q.minY;Oe<=q.maxY;++Oe){var Te=this.getTile(p,se,Oe,e);if(this.isDrawableTile(Te)){var nt=Ze(this);if(2==Te.getState()){G[p][Te.tileCoord.toString()]=Te;var At=Te.inTransition(nt);!this.newTiles_&&(At||-1===this.renderedTiles.indexOf(Te))&&(this.newTiles_=!0)}if(1===Te.getAlpha(nt,e.time))continue}var Pe=v.getTileCoordChildTileRange(Te.tileCoord,_e,de),dt=!1;Pe&&(dt=ee(p+1,Pe)),dt||v.forEachTileCoordParentTileRange(Te.tileCoord,ee,_e,de)}var B=y/s;zi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,l,-w/2,-S/2);var yn=function H8(t){return Wh?$h(t):(cd||(cd=er(1,1).canvas),cd.style.transform=$h(t),cd.style.transform)}(this.pixelTransform);this.useContainer(n,yn,i.opacity);var He=this.context,et=He.canvas;Qh(this.inversePixelTransform,this.pixelTransform),zi(this.tempTransform,w/2,S/2,B,B,0,-w/2,-S/2),et.width!=w||et.height!=S?(et.width=w,et.height=S):this.containerReused||He.clearRect(0,0,w,S),_&&this.clipUnrotated(He,e,_),Fn(He,h.getContextOptions()),this.preRender(He,e),this.renderedTiles.length=0;var Yt,sn,Nn,_n=Object.keys(G).map(Number);_n.sort(Ho),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(Yt=[],sn=[]):_n=_n.reverse();for(var Qi=_n.length-1;Qi>=0;--Qi){var nr=_n[Qi],ns=h.getTilePixelSize(nr,c,o),fe=v.getResolution(nr)/y,pe=ns[0]*fe*B,St=ns[1]*fe*B,$r=v.getTileCoordForCoordAndZ($a(L),nr),Sr=v.getTileCoordExtent($r),bi=Ut(this.tempTransform,[E*(Sr[0]-L[0])/y,E*(L[3]-Sr[3])/y]),$i=E*h.getGutterForProjection(o),uo=G[nr];for(var Pt in uo){var br=(Te=uo[Pt]).tileCoord,lo=bi[0]-($r[1]-br[1])*pe,Tr=Math.round(lo+pe),Ji=bi[1]-($r[2]-br[2])*St,ea=Math.round(Ji+St),Vn=Tr-(se=Math.round(lo)),Dr=ea-(Oe=Math.round(Ji)),rs=p===nr;if(!(At=rs&&1!==Te.getAlpha(Ze(this),e.time)))if(Yt){He.save(),Nn=[se,Oe,se+Vn,Oe,se+Vn,Oe+Dr,se,Oe+Dr];for(var Fu=0,Ti=Yt.length;Fu<Ti;++Fu)if(p!==nr&&nr<sn[Fu]){var Di=Yt[Fu];He.beginPath(),He.moveTo(Nn[0],Nn[1]),He.lineTo(Nn[2],Nn[3]),He.lineTo(Nn[4],Nn[5]),He.lineTo(Nn[6],Nn[7]),He.moveTo(Di[6],Di[7]),He.lineTo(Di[4],Di[5]),He.lineTo(Di[2],Di[3]),He.lineTo(Di[0],Di[1]),He.clip()}Yt.push(Nn),sn.push(nr)}else He.clearRect(se,Oe,Vn,Dr);this.drawTileImage(Te,e,se,Oe,Vn,Dr,$i,rs,i.opacity),Yt&&!At&&He.restore(),this.renderedTiles.push(Te),this.updateUsedTiles(e.usedTiles,h,Te)}}return this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!cc(this.renderedExtent_,L),this.renderedExtent_=L,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,h,v,c,o,C,p,f.getPreload()),this.scheduleExpireCache(e,h),this.postRender(He,e),i.extent&&He.restore(),yn!==et.style.transform&&(et.style.transform=yn),this.container},r.prototype.drawTileImage=function(e,n,i,a,o,s,u,l,c){var f=this.getTileImage(e);if(f){var h=Ze(this),d=l?e.getAlpha(h,n.time):1,v=c*d,p=v!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,a,o,s),p&&this.context.restore(),1!==d?n.animate=!0:l&&e.endTransition(h)}},r.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},r.prototype.getTileImage=function(e){return e.getImage()},r.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var i=function(a,o,s){var u=Ze(a);u in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,n);e.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(e,n,i){var a=Ze(n);a in e||(e[a]={}),e[a][i.getKey()]=!0},r.prototype.manageTilePyramid=function(e,n,i,a,o,s,u,l,c){var f=Ze(n);f in e.wantedTiles||(e.wantedTiles[f]={});var y,C,_,E,w,S,h=e.wantedTiles[f],d=e.tileQueue,p=0;for(S=i.getMinZoom();S<=u;++S)for(C=i.getTileRangeForExtentAndZ(s,S,C),_=i.getResolution(S),E=C.minX;E<=C.maxX;++E)for(w=C.minY;w<=C.maxY;++w)u-S<=l?(++p,0==(y=n.getTile(S,E,w,a,o)).getState()&&(h[y.getKey()]=!0,d.isKeyQueued(y.getKey())||d.enqueue([y,f,i.getTileCoordCenter(y.tileCoord),_])),void 0!==c&&c(y)):n.useTile(S,E,w,o);n.updateCacheSize(p,o)},r}(RA),w6=KA,S6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b6=function(t){function r(e){return t.call(this,e)||this}return S6(r,t),r.prototype.createRenderer=function(){return new w6(this)},r}(C6),T6=b6,D6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k6=function(t){function r(e){var n=t.call(this)||this;return n.map_=e,n}return D6(r,t),r.prototype.dispatchRenderEvent=function(e,n){We()},r.prototype.calculateMatrices2D=function(e){var n=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;zi(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Qh(a,i)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o,s,u,l){var c,f=n.viewState;function h(se,Oe,Te,nt){return o.call(s,Oe,se?Te:null,nt)}var d=f.projection,v=GA(e.slice(),d),p=[[0,0]];if(d.canWrapX()&&a){var C=jt(d.getExtent());p.push([-C,0],[C,0])}for(var _=n.layerStatesArray,E=_.length,w=[],S=[],k=0;k<p.length;k++)for(var I=E-1;I>=0;--I){var R=_[I],L=R.layer;if(L.hasRenderer()&&Zh(R,f)&&u.call(l,L)){var q=L.getRenderer(),G=L.getSource();if(q&&G){var ee=G.getWrapX()?v:e,de=h.bind(null,R.managed);S[0]=ee[0]+p[k][0],S[1]=ee[1]+p[k][1],c=q.forEachFeatureAtCoordinate(S,n,i,de,w)}if(c)return c}}if(0!==w.length){var _e=1/w.length;return w.forEach(function(se,Oe){return se.distanceSq+=Oe*_e}),w.sort(function(se,Oe){return se.distanceSq-Oe.distanceSq}),w.some(function(se){return c=se.callback(se.feature,se.layer,se.geometry)}),c}},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){return We()},r.prototype.hasFeatureAtCoordinate=function(e,n,i,a,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,a,Xa,this,o,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(e){We()},r.prototype.scheduleExpireIconCache=function(e){pd.canExpireCache()&&e.postRenderFunctions.push(I6)},r}(ry);function I6(t,r){pd.expire()}var A6=k6,O6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M6=function(t){function r(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=ct(ka,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Kh+" ol-layers";var a=e.getViewport();return a.insertBefore(n.element_,a.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return O6(r,t),r.prototype.dispatchRenderEvent=function(e,n){var i=this.getMap();if(i.hasListener(e)){var a=new MA(e,void 0,n);i.dispatchEvent(a)}},r.prototype.disposeInternal=function(){Nt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(h,d){return h.zIndex-d.zIndex}),i=e.viewState;this.children_.length=0;for(var a=[],o=null,s=0,u=n.length;s<u;++s){var l=n[s];if(e.layerIndex=s,Zh(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in c&&a.push(c))}}for(s=a.length-1;s>=0;--s)a[s].renderDeclutter(e);(function u5(t,r){for(var e=t.childNodes,n=0;;++n){var i=e[n],a=r[n];if(!i&&!a)break;if(i!==a){if(!i){t.appendChild(a);continue}if(!a){t.removeChild(i),--n;continue}t.insertBefore(a,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){for(var s=n.viewState,u=n.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],h=f.layer;if(h.hasRenderer()&&Zh(f,s)&&o(h)){var v=h.getRenderer().getDataAtPixel(e,n,i);if(v){var p=a(h,v);if(p)return p}}}},r}(A6),R6=M6,P6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x6=function(t){function r(e){var n=this,i=e||{},a=Fn({},i);delete a.layers;var o=i.layers;return(n=t.call(this,a)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(ji("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new Kr(o.slice(),{unique:!0}):Xe("function"==typeof o.getArray,43):o=new Kr(void 0,{unique:!0}),n.setLayers(o),n}return P6(r,t),r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Nt),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(ct(e,"add",this.handleLayersAdd_,this),ct(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Nt);fu(this.listenerKeys_);for(var i=e.getArray(),a=0,o=i.length;a<o;a++){var s=i[a];this.listenerKeys_[Ze(s)]=[ct(s,"propertychange",this.handleLayerChange_,this),ct(s,"change",this.handleLayerChange_,this)]}this.changed()},r.prototype.handleLayersAdd_=function(e){var n=e.element;this.listenerKeys_[Ze(n)]=[ct(n,"propertychange",this.handleLayerChange_,this),ct(n,"change",this.handleLayerChange_,this)],this.changed()},r.prototype.handleLayersRemove_=function(e){var i=Ze(e.element);this.listenerKeys_[i].forEach(Nt),delete this.listenerKeys_[i],this.changed()},r.prototype.getLayers=function(){return this.get("layers")},r.prototype.setLayers=function(e){this.set("layers",e)},r.prototype.getLayersArray=function(e){var n=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},r.prototype.getLayerStatesArray=function(e){var n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});for(var a=this.getLayerState(),o=i,s=n.length;o<s;o++){var u=n[o];u.opacity*=a.opacity,u.visible=u.visible&&a.visible,u.maxResolution=Math.min(u.maxResolution,a.maxResolution),u.minResolution=Math.max(u.minResolution,a.minResolution),u.minZoom=Math.max(u.minZoom,a.minZoom),u.maxZoom=Math.min(u.maxZoom,a.maxZoom),void 0!==a.extent&&(u.extent=void 0!==u.extent?wu(u.extent,a.extent):a.extent)}return n},r.prototype.getSourceState=function(){return"ready"},r}(MI),F6=x6,L6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N6=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.map=n,a.frameState=void 0!==i?i:null,a}return L6(r,t),r}(Sa),md=N6,V6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B6=function(t){function r(e,n,i,a,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return V6(r,t),Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},r}(md),ro=B6,wt={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},H6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),U6=function(t){function r(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*zh:zh,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=ct(a,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=ct(a,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!TI&&{passive:!1}),i}return H6(r,t),r.prototype.emulateClick_=function(e){var n=new ro(wt.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ro(wt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new ro(wt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(e){var n=e;n.type==wt.POINTERUP||n.type==wt.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==wt.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new ro(wt.POINTERUP,this.map_,e);this.dispatchEvent(n),this.emulateClicks_&&!n.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Nt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(e){return 0===e.button},r.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var n=new ro(wt.POINTERDOWN,this.map_,e);if(this.dispatchEvent(n),this.down_=e,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ct(i,wt.POINTERMOVE,this.handlePointerMove_,this),ct(i,wt.POINTERUP,this.handlePointerUp_,this),ct(this.element_,wt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ct(this.element_.getRootNode(),wt.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var n=new ro(wt.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}},r.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new ro(e.type,this.map_,e,n))},r.prototype.handleTouchMove_=function(e){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&e.preventDefault()},r.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Nt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Nt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Nt),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},r}(hu),j6=U6,yd=1/0,G6=function(){function t(r,e){this.priorityFunction_=r,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,fu(this.queuedElements_)},t.prototype.dequeue=function(){var r=this.elements_,e=this.priorities_,n=r[0];1==r.length?(r.length=0,e.length=0):(r[0]=r.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(r){Xe(!(this.keyFunction_(r)in this.queuedElements_),31);var e=this.priorityFunction_(r);return e!=yd&&(this.elements_.push(r),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(r){return 2*r+1},t.prototype.getRightChildIndex_=function(r){return 2*r+2},t.prototype.getParentIndex_=function(r){return r-1>>1},t.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(r){return r in this.queuedElements_},t.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},t.prototype.siftUp_=function(r){for(var e=this.elements_,n=this.priorities_,i=e.length,a=e[r],o=n[r],s=r;r<i>>1;){var u=this.getLeftChildIndex_(r),l=this.getRightChildIndex_(r),c=l<i&&n[l]<n[u]?l:u;e[r]=e[c],n[r]=n[c],r=c}e[r]=a,n[r]=o,this.siftDown_(s,r)},t.prototype.siftDown_=function(r,e){for(var n=this.elements_,i=this.priorities_,a=n[e],o=i[e];e>r;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=a,i[e]=o},t.prototype.reprioritize=function(){var o,s,u,r=this.priorityFunction_,e=this.elements_,n=this.priorities_,i=0,a=e.length;for(s=0;s<a;++s)(u=r(o=e[s]))==yd?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=u,e[i++]=o);e.length=i,n.length=i,this.heapify_()},t}(),z6=G6,W6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),q6=function(t){function r(e,n){var i=t.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return W6(r,t),r.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(e){var n=e.target,i=n.getState();if(n.hifi&&2===i||3===i||4===i){n.removeEventListener("change",this.boundHandleTileChange_);var a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(e,n){for(var o,s,i=0;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=(o=this.dequeue()[0]).getKey(),0===o.getState()&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())},r}(z6),K6=q6;function YA(t,r,e){return function(n,i,a,o,s){if(n){var u=r?0:a[0]*i,l=r?0:a[1]*i,c=s?s[0]:0,f=s?s[1]:0,h=t[0]+u/2+c,d=t[2]-u/2+c,v=t[1]+l/2+f,p=t[3]-l/2+f;h>d&&(d=h=(d+h)/2),v>p&&(p=v=(p+v)/2);var y=Sn(n[0],h,d),C=Sn(n[1],v,p),_=30*i;return o&&e&&(y+=-_*Math.log(1+Math.max(0,h-n[0])/_)+_*Math.log(1+Math.max(0,n[0]-d)/_),C+=-_*Math.log(1+Math.max(0,v-n[1])/_)+_*Math.log(1+Math.max(0,n[1]-p)/_)),[y,C]}}}function X6(t){return t}function Uy(t,r,e,n){var i=jt(r)/e[0],a=Ei(r)/e[1];return n?Math.min(t,Math.max(i,a)):Math.min(t,Math.min(i,a))}function jy(t,r,e){var n=Math.min(t,r);return n*=Math.log(1+50*Math.max(0,t/r-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),Sn(n,e/2,2*r)}function ZA(t,r,e,n,i){return function(a,o,s,u){if(void 0!==a){var l=n?Uy(t,n,s,i):t;return(void 0===e||e)&&u?jy(a,l,r):Sn(a,r,l)}}}function Gy(t){if(void 0!==t)return 0}function XA(t){if(void 0!==t)return t}function QA(t,r,e,n,i,a,o){var f,s=t[r],u=t[r+1],l=t[e]-s,c=t[e+1]-u;if(0===l&&0===c)f=r;else{var h=((i-s)*l+(a-u)*c)/(l*l+c*c);if(h>1)f=e;else{if(h>0){for(var d=0;d<n;++d)o[d]=jo(t[r+d],t[e+d],h);return void(o.length=n)}f=r}}for(d=0;d<n;++d)o[d]=t[f+d];o.length=n}function $A(t,r,e,n,i){var a=t[r],o=t[r+1];for(r+=n;r<e;r+=n){var s=t[r],u=t[r+1],l=vu(a,o,s,u);l>i&&(i=l),a=s,o=u}return i}function eO(t,r,e,n,i,a,o,s,u,l,c){if(r==e)return l;var f,h;if(0===i){if((h=vu(o,s,t[r],t[r+1]))<l){for(f=0;f<n;++f)u[f]=t[r+f];return u.length=n,h}return l}for(var d=c||[NaN,NaN],v=r+n;v<e;)if(QA(t,v-n,v,n,o,s,d),(h=vu(o,s,d[0],d[1]))<l){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n,v+=n}else v+=n*Math.max((Math.sqrt(h)-Math.sqrt(l))/i|0,1);if(a&&(QA(t,e-n,r,n,o,s,d),(h=vu(o,s,d[0],d[1]))<l)){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n}return l}function nO(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=o*s-a*u,a=s,o=u}return i/2}var tK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nK=function(t){function r(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return tK(r,t),r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(e,n,i,a){return a<UI(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($A(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.getArea=function(){return nO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return dd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=function Ay(t,r,e,n,i,a,o){var s=(e-r)/n;if(s<3){for(;r<e;r+=n)a[o++]=t[r],a[o++]=t[r+1];return o}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[r,e-n],c=0;l.length>0;){for(var f=l.pop(),h=l.pop(),d=0,v=t[h],p=t[h+1],y=t[f],C=t[f+1],_=h+n;_<f;_+=n){var S=g5(t[_],t[_+1],v,p,y,C);S>d&&(c=_,d=S)}d>i&&(u[(c-r)/n]=1,h+n<c&&l.push(h,c),c+n<f&&l.push(c,f))}for(_=0;_<s;++_)u[_]&&(a[o++]=t[r+_*n],a[o++]=t[r+_*n+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new r(n,"XY")},r.prototype.getType=function(){return"LinearRing"},r.prototype.intersectsExtent=function(e){return!1},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oA(this.flatCoordinates,0,e,this.stride),this.changed()},r}(Sy),iO=nK;function rK(t,r,e,n,i){return!WI(i,function(o){return!Xo(t,r,e,n,o[0],o[1])})}function Xo(t,r,e,n,i,a){for(var o=0,s=t[e-n],u=t[e-n+1];r<e;r+=n){var l=t[r],c=t[r+1];u<=a?c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0&&o++:c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0&&o--,s=l,u=c}return 0!==o}function zy(t,r,e,n,i,a){if(0===e.length||!Xo(t,r,e[0],n,i,a))return!1;for(var o=1,s=e.length;o<s;++o)if(Xo(t,e[o-1],e[o],n,i,a))return!1;return!0}function Wy(t,r,e,n,i){var a=zI([1/0,1/0,-1/0,-1/0],t,r,e,n);return!!_r(i,a)&&(!!(mu(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3])||function iK(t,r,e,n,i){for(var s,a=[t[r],t[r+1]],o=[];r+n<e;r+=n){if(o[0]=t[r+n],o[1]=t[r+n+1],s=i(a,o))return s;a[0]=o[0],a[1]=o[1]}return!1}(t,r,e,n,function(o,s){return function Y5(t,r,e){var n=!1,i=py(t,r),a=py(t,e);if(1===i||1===a)n=!0;else{var o=t[0],s=t[1],u=t[2],l=t[3],h=e[0],d=e[1],v=(d-r[1])/(h-r[0]),p=void 0,y=void 0;!!(2&a)&&!(2&i)&&(n=(p=h-(d-l)/v)>=o&&p<=u),n||!(4&a)||4&i||(n=(y=d-(h-u)*v)>=s&&y<=l),n||!(8&a)||8&i||(n=(p=h-(d-s)/v)>=o&&p<=u),!n&&16&a&&!(16&i)&&(n=(y=d-(h-o)*v)>=s&&y<=l)}return n}(i,o,s)}))}function oK(t,r,e,n){for(;r<e-n;){for(var i=0;i<n;++i){var a=t[r+i];t[r+i]=t[e-n+i],t[e-n+i]=a}r+=n,e-=n}}function sO(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=(s-a)*(u+o),a=s,o=u}return 0===i?void 0:i>0}function qy(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=sO(t,r,u,n);(0===o?a&&l||!a&&!l:a&&!l||!a&&l)&&oK(t,r,u,n),r=u}return r}var sK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_d=function(t){function r(e,n,i){var a=t.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&i?(a.setFlatCoordinates(n,e),a.ends_=i):a.setCoordinates(e,n),a}return sK(r,t),r.prototype.appendLinearRing=function(e){this.flatCoordinates?Uh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){return a<UI(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function JA(t,r,e,n,i){for(var a=0,o=e.length;a<o;++a){var s=e[a];i=$A(t,r,s,n,i),r=s}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function tO(t,r,e,n,i,a,o,s,u,l,c){for(var f=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var v=e[h];l=eO(t,r,v,n,i,a,o,s,u,l,f),r=v}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.containsXY=function(e,n){return zy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},r.prototype.getArea=function(){return function rO(t,r,e,n){for(var i=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=nO(t,r,s,n),r=s}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(e){var n;return void 0!==e?qy(n=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):n=this.flatCoordinates,Iy(n,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Eu(this.getExtent());this.flatInteriorPoint_=function aO(t,r,e,n,i,a,o){for(var s,u,l,c,f,h,d,v=i[a+1],p=[],y=0,C=e.length;y<C;++y){var _=e[y];for(c=t[_-n],h=t[_-n+1],s=r;s<_;s+=n)f=t[s],d=t[s+1],(v<=h&&d<=v||h<=v&&v<=d)&&p.push(l=(v-h)/(d-h)*(f-c)+c),c=f,h=d}var E=NaN,w=-1/0;for(p.sort(Ho),c=p[0],s=1,u=p.length;s<u;++s){f=p[s];var S=Math.abs(f-c);S>w&&zy(t,r,e,n,l=(c+f)/2,v)&&(E=l,w=S),c=f}return isNaN(E)&&(E=i[a]),o?(o.push(E,v,w),o):[E,v,w]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new by(this.getFlatInteriorPoint(),"XYM")},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new iO(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},r.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,a=[],o=0,s=0,u=i.length;s<u;++s){var l=i[s],c=new iO(n.slice(o,l),e);a.push(c),o=l}return a},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function uO(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=sO(t,r,u,n);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;r=u}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qy(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[],i=[];return n.length=function kA(t,r,e,n,i,a,o,s){for(var u=0,l=e.length;u<l;++u){var c=e[u];o=hq(t,r,c,n,i,a,o),s.push(o),r=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new r(n,"XY",i)},r.prototype.getType=function(){return"Polygon"},r.prototype.intersectsExtent=function(e){return function oO(t,r,e,n,i){if(!function aK(t,r,e,n,i){return!!(Wy(t,r,e,n,i)||Xo(t,r,e,n,i[0],i[1])||Xo(t,r,e,n,i[0],i[3])||Xo(t,r,e,n,i[2],i[1])||Xo(t,r,e,n,i[2],i[3]))}(t,r,e[0],n,i))return!1;if(1===e.length)return!0;for(var a=1,o=e.length;a<o;++a)if(rK(t,e[a-1],e[a],n,i)&&!Wy(t,e[a-1],e[a],n,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function sA(t,r,e,n,i){for(var a=i||[],o=0,s=0,u=e.length;s<u;++s){var l=oA(t,r,e[s],n);a[o++]=l,r=l}return a.length=o,a}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},r}(Sy),uK=_d;function lO(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=[r,e,r,i,n,i,n,e,r,e];return new _d(a,"XY",[a.length])}var cK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fK=function(t){function r(e){var n=t.call(this)||this,i=Fn({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=Cy(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=Ta(i.center)),i.extent&&(i.extent=Wo(i.extent)),n.applyOptions_(i),n}return cK(r,t),r.prototype.applyOptions_=function(e){var i=function dK(t){var r,e,n,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=Cy(t.projection,"EPSG:3857"),d=h.getExtent(),v=t.constrainOnlyCenter,p=t.extent;if(!l&&!p&&h.isGlobal()&&(v=!1,p=d),void 0!==t.resolutions){var y=t.resolutions;e=y[o],n=void 0!==y[s]?y[s]:y[y.length-1],r=t.constrainResolution?function Q6(t,r,e,n){return function(i,a,o,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=e?Uy(u,e,o,n):u;if(s)return void 0===r||r?jy(i,c,l):Sn(i,l,c);var h=Math.min(c,i),d=Math.floor(ay(t,h,a));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(y,c,!v&&p,f):ZA(e,n,c,!v&&p,f)}else{var _=(d?Math.max(jt(d),Ei(d)):360*ba[Qa.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),E=_/Math.pow(2,28);void 0!==(e=t.maxResolution)?o=0:e=_/Math.pow(u,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(u,s):_/Math.pow(u,s):E),s=o+Math.floor(Math.log(e/n)/Math.log(u)),n=e/Math.pow(u,s-o),r=t.constrainResolution?function $6(t,r,e,n,i,a){return function(o,s,u,l){if(void 0!==o){var c=i?Uy(r,i,u,a):r,f=void 0!==e?e:0;if(l)return void 0===n||n?jy(o,c,f):Sn(o,f,c);var v=Math.ceil(Math.log(r/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,y=Math.min(c,o),C=Math.floor(Math.log(r/y)/Math.log(t)+p),_=Math.max(v,C);return Sn(r/Math.pow(t,_),f,c)}}}(u,e,n,c,!v&&p,f):ZA(e,n,c,!v&&p,f)}return{constraint:r,maxResolution:e,minResolution:n,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=i.minZoom;var a=function hK(t){if(void 0!==t.extent)return YA(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=Cy(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,YA(n,!1,!1)}return X6}(e),o=i.constraint,s=function vK(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function eK(t){var r=t||Yh(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=r?0:e:void 0}}():!1===e?XA:"number"==typeof e?function J6(t){var r=2*Math.PI/t;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/r+.5)*r:void 0}}(e):XA}return Gy}(e);this.constraints_={center:a,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},r.prototype.getUpdatedOptions_=function(e){var n=Fn({},this.options_);return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Fn({},n,e)},r.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var a=arguments[i];a.center&&((a=Fn({},a)).center=Ta(a.center,this.getProjection())),a.anchor&&((a=Fn({},a)).anchor=Ta(a.anchor,this.getProjection())),n[i]=a}this.animateInternal.apply(this,n)},r.prototype.animateInternal=function(e){var i,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n),!this.isDef()){var a=arguments[n-1];return a.center&&this.setCenterInternal(a.center),void 0!==a.zoom&&this.setZoom(a.zoom),void 0!==a.rotation&&this.setRotation(a.rotation),void(i&&Cd(i,!0))}for(var o=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<n;++f){var h=arguments[f],d={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||fy,callback:i};if(h.center&&(d.sourceCenter=s,d.targetCenter=h.center.slice(),s=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=u,d.targetResolution=this.getResolutionForZoom(h.zoom),u=d.targetResolution):h.resolution&&(d.sourceResolution=u,d.targetResolution=h.resolution,u=d.targetResolution),void 0!==h.rotation){d.sourceRotation=l;var v=pu(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+v,l=d.targetRotation}pK(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[0]>0},r.prototype.getInteracting=function(){return this.hints_[1]>0},r.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,n=0,i=this.animations_.length;n<i;++n){var a=this.animations_[n];if(a[0].callback&&Cd(a[0].callback,!1),!e)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e},r.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],o=!0,s=0,u=a.length;s<u;++s){var l=a[s];if(!l.complete){var f=l.duration>0?(e-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):o=!1;var h=l.easing(f);if(l.sourceCenter){var d=l.sourceCenter[0],v=l.sourceCenter[1];this.targetCenter_=[d+h*(l.targetCenter[0]-d),v+h*(l.targetCenter[1]-v)]}if(l.sourceResolution&&l.targetResolution){var E=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var w=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(E,0,w,!0);this.targetCenter_=this.calculateCenterZoom(S,l.anchor)}this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var k=1===h?pu(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var I=this.constraints_.rotation(k,!0);this.targetCenter_=this.calculateCenterRotate(I,l.anchor)}this.targetRotation_=k}if(this.applyTargetState_(!0),n=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var R=a[0].callback;R&&Cd(R,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(e,n){var i,a=this.getCenterInternal();return void 0!==a&&(Ly(i=[a[0]-n[0],a[1]-n[1]],e-this.getRotation()),function s6(t,r){t[0]+=+r[0],t[1]+=+r[1]}(i,n)),i},r.prototype.calculateCenterZoom=function(e,n){var i,a=this.getCenterInternal(),o=this.getResolution();return void 0!==a&&void 0!==o&&(i=[n[0]-e*(n[0]-a[0])/o,n[1]-e*(n[1]-a[1])/o]),i},r.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var i=n[0],a=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return n},r.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Ey(e,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get("center")},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},r.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},r.prototype.calculateExtent=function(e){return wy(this.calculateExtentInternal(e),this.getProjection())},r.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSize_(),i=this.getCenterInternal();Xe(i,1);var a=this.getResolution();Xe(void 0!==a,2);var o=this.getRotation();return Xe(void 0!==o,3),qI(i,a,o,n)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},r.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get("resolution")},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(Wo(e,this.getProjection()),n)},r.prototype.getResolutionForExtentInternal=function(e,n){var i=n||this.getViewportSize_(),a=jt(e)/i[0],o=Ei(e)/i[1];return Math.max(a,o)},r.prototype.getResolutionForValueFunction=function(e){var n=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/Math.log(n);return function(s){return i/Math.pow(n,s*o)}},r.prototype.getRotation=function(){return this.get("rotation")},r.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/n;return function(s){return Math.log(i/s)/n/o}},r.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),i=this.padding;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},r.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),o=this.padding;if(o){var s=this.getViewportSizeMinusPadding_();a=Yy(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:a.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var e,n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e},r.prototype.getZoomForResolution=function(e){var i,a,n=this.minZoom_||0;if(this.resolutions_){var o=ay(this.resolutions_,e,1);n=o,i=this.resolutions_[o],a=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(i/e)/Math.log(a)},r.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=Sn(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Sn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},r.prototype.fit=function(e,n){var i;if(Xe(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Xe(!gy(e),25),i=lO(a=Wo(e,this.getProjection()));else if("Circle"===e.getType()){var a;(i=lO(a=Wo(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),Eu(a))}else{var o=nA();i=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(i,n)},r.prototype.fitInternal=function(e,n){var i=n||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var u,o=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=e.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),h=Math.sin(-c),d=1/0,v=1/0,p=-1/0,y=-1/0,C=e.getStride(),_=0,E=l.length;_<E;_+=C){var w=l[_]*f-l[_+1]*h,S=l[_]*h+l[_+1]*f;d=Math.min(d,w),v=Math.min(v,S),p=Math.max(p,w),y=Math.max(y,S)}var k=this.getResolutionForExtentInternal([d,v,p,y],[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);k=isNaN(k)?u:Math.max(k,u),k=this.getConstrainedResolution(k,s?0:1);var I=(d+p)/2,R=(v+y)/2,G=this.getConstrainedCenter([(I+=(o[1]-o[3])/2*k)*f-(R+=(o[0]-o[2])/2*k)*(h=-h),R*f+I*h],k),ee=i.callback?i.callback:Uo;void 0!==i.duration?this.animateInternal({resolution:k,center:G,duration:i.duration,easing:i.easing},ee):(this.targetResolution_=k,this.targetCenter_=G,this.applyTargetState_(!1,!0),Cd(ee,!0))},r.prototype.centerOn=function(e,n,i){this.centerOnInternal(Ta(e,this.getProjection()),n,i)},r.prototype.centerOnInternal=function(e,n,i){this.setCenterInternal(Yy(e,n,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(e,n,i,a){var o,s=this.padding;if(s&&e){var u=this.getViewportSizeMinusPadding_(-i),l=Yy(e,a,[u[0]/2+s[3],u[1]/2+s[0]],n,i);o=[e[0]-l[0],e[1]-l[1]]}return o},r.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},r.prototype.adjustCenter=function(e){var n=Ey(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustResolution=function(e,n){var i=n&&Ta(n,this.getProjection());this.adjustResolutionInternal(e,i)},r.prototype.adjustResolutionInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()},r.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},r.prototype.adjustRotation=function(e,n){n&&(n=Ta(n,this.getProjection())),this.adjustRotationInternal(e,n)},r.prototype.adjustRotationInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=e,this.applyTargetState_()},r.prototype.setCenter=function(e){this.setCenterInternal(Ta(e,this.getProjection()))},r.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},r.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},r.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},r.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},r.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},r.prototype.applyTargetState_=function(e,n){var i=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get("rotation")!==a&&this.set("rotation",a),this.get("resolution")!==s&&this.set("resolution",s),(!this.get("center")||!Fy(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(e,n,i){var a=void 0!==e?e:200,o=n||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,o,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,s,u));if(0===a&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===a?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!Fy(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:a,easing:gu,anchor:f}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},r.prototype.endInteraction=function(e,n,i){var a=i&&Ta(i,this.getProjection());this.endInteractionInternal(e,n,a)},r.prototype.endInteractionInternal=function(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)},r.prototype.getConstrainedCenter=function(e,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(e,n){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},r.prototype.getConstrainedResolution=function(e,n){var i=n||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,a)},r}(Gi);function Cd(t,r){setTimeout(function(){t(r)},0)}function pK(t){return!(t.sourceCenter&&t.targetCenter&&!Fy(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Yy(t,r,e,n,i){var a=Math.cos(-i),o=Math.sin(-i),s=t[0]*a-t[1]*o,u=t[1]*a+t[0]*o;return[(s+=(r[0]/2-e[0])*n)*a-(u+=(e[1]-r[1]/2)*n)*(o=-o),u*a+s*o]}var cO=fK,gK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mK=function(t){function r(e){var n=t.call(this)||this,i=function yK(t){var r=null;void 0!==t.keyboardEventTarget&&(r="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,a,o,e={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new F6({layers:t.layers});return e.layergroup=n,e.target=t.target,e.view=void 0!==t.view?t.view:new cO,void 0!==t.controls&&(Array.isArray(t.controls)?i=new Kr(t.controls.slice()):(Xe("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?a=new Kr(t.interactions.slice()):(Xe("function"==typeof t.interactions.getArray,48),a=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Kr(t.overlays.slice()):(Xe("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Kr,{controls:i,interactions:a,keyboardEventTarget:r,overlays:o,values:e}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:zh,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new Kr,n.interactions=i.interactions||new Kr,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new K6(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(ji("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(ji("view"),n.handleViewChanged_),n.addEventListener(ji("size"),n.handleSizeChanged_),n.addEventListener(ji("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.controls.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener("remove",function(a){var s=a.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],a.element.setMap(null)}.bind(n)),n}return gK(r,t),r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(e){this.getControls().push(e)},r.prototype.addInteraction=function(e){this.getInteractions().push(e)},r.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},r.prototype.addOverlay=function(e){this.getOverlays().push(e)},r.prototype.addOverlayInternal_=function(e){var n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(e,n,i){if(this.frameState_){var a=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:Xa,null)}},r.prototype.getFeaturesAtPixel=function(e,n){var i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},n),i},r.prototype.forEachLayerAtPixel=function(e,n,i){if(this.frameState_){var a=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==a.hitTolerance?a.hitTolerance:0,n,a.layerFilter||Xa)}},r.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:Xa,null)},r.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},r.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},r.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]},r.prototype.getTarget=function(){return this.get("target")},r.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},r.prototype.getCoordinateFromPixel=function(e){return Ey(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?Ut(n.pixelToCoordinateTransform,e.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get("layergroup")},r.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},r.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var o=e[n].layer.getSource();if(o&&o.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(e){var n=Ta(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},r.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?Ut(n.coordinateToPixelTransform,e.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get("size")},r.prototype.getView=function(){return this.get("view")},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},r.prototype.getTilePriority=function(e,n,i,a){return function Y6(t,r,e,n,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][r.getKey()])return yd;var a=t.viewState.center,o=n[0]-a[0],s=n[1]-a[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i}(this.frameState_,e,n,i,a)},r.prototype.handleBrowserEvent=function(e,n){var a=new ro(n||e.type,this,e);this.handleMapBrowserEvent(a)},r.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s="host"in o?o.elementFromPoint(n.clientX,n.clientY):n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},r.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,a=i;if(e){var o=e.viewHints;if(o[0]||o[1]){var s=!bI&&Date.now()-e.time>8;i=s?0:8,a=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}e&&this.hasListener("rendercomplete")&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",e);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,e);u.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var n=0,i=this.keyHandlerKeys_.length;n<i;++n)Nt(this.keyHandlerKeys_[n]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,uy(this.viewport_)}if(e){for(var a in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new j6(this,this.moveTolerance_),wt)this.mapBrowserEventHandler_.addEventListener(wt[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!TI&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[ct(o,"keydown",this.handleBrowserEvent,this),ct(o,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Nt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Nt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=ct(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ct(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Nt),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[ct(e,"propertychange",this.render,this),ct(e,"change",this.render,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var a=e[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(e){return this.getControls().remove(e)},r.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},r.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},r.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},r.prototype.renderFrame_=function(e){var n=this,i=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(void 0!==i&&function A8(t){return t[0]>0&&t[1]>0}(i)&&a&&a.isDef()){var u=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=a.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:qI(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!gy(this.previousExtent_)&&!cc(s.extent,this.previousExtent_))&&(this.dispatchEvent(new md("movestart",this,o)),this.previousExtent_=yu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!cc(s.extent,this.previousExtent_)&&(this.dispatchEvent(new md("moveend",this,s)),HI(s.extent,this.previousExtent_))),this.dispatchEvent(new md("postrender",this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},r.prototype.setLayerGroup=function(e){this.set("layergroup",e)},r.prototype.setSize=function(e){this.set("size",e)},r.prototype.setTarget=function(e){this.set("target",e)},r.prototype.setView=function(e){this.set("view",e)},r.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var n=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}},r}(Gi),_K=mK,CK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EK=function(t){function r(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return CK(r,t),r.prototype.getActive=function(){return this.get("active")},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(e){return!0},r.prototype.setActive=function(e){this.set("active",e)},r.prototype.setMap=function(e){this.map_=e},r}(Gi);function Zy(t,r,e,n){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+r),o=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:e,duration:void 0!==n?n:250,easing:gu})}}var Ru=EK,SK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bK=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return SK(r,t),r.prototype.handleEvent=function(e){var n=!1;if(e.type==wt.DBLCLICK){var i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;Zy(e.map.getView(),s,o,this.duration_),i.preventDefault(),n=!0}return!n},r}(Ru),TK=bK,DK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kK=function(t){function r(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return DK(r,t),r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==wt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==wt.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==wt.POINTERDOWN){var a=this.handleDownEvent(e);this.handlingDownUpSequence=a,n=this.stopDown(a)}else e.type==wt.POINTERMOVE&&this.handleMoveEvent(e);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(e){if(function IK(t){var r=t.type;return r===wt.POINTERDOWN||r===wt.POINTERDRAG||r===wt.POINTERUP}(e)){var n=e.originalEvent,i=n.pointerId.toString();e.type==wt.POINTERUP?delete this.trackedPointers_[i]:(e.type==wt.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=n),this.targetPointers=CI(this.trackedPointers_)}},r}(Ru);function Xy(t){for(var r=t.length,e=0,n=0,i=0;i<r;i++)e+=t[i].clientX,n+=t[i].clientY;return[e/r,n/r]}var Dc=kK;function Qy(t){var r=arguments;return function(e){for(var n=!0,i=0,a=r.length;i<a&&(n=n&&r[i](e));++i);return n}}var t_,AK=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},hO=function(r){return!r.map.getTargetElement().hasAttribute("tabindex")||function(r){return r.target.getTargetElement().contains(document.activeElement)}(r)},MK=Xa,RK=function(r){return r.type==wt.CLICK},dO=function(r){var e=r.originalEvent;return 0==e.button&&!(a5&&o5&&e.ctrlKey)},vO=ac,PK=function(r){return r.type==wt.SINGLECLICK},pO=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},gO=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},mO=function(r){var n=r.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},$y=function(r){var e=r.originalEvent;return Xe(void 0!==e,56),"mouse"==e.pointerType},xK=function(r){var e=r.originalEvent;return Xe(void 0!==e,56),e.isPrimary&&0===e.button},FK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LK=function(t){function r(e){var n=t.call(this,{stopDown:ac})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var a=i.condition?i.condition:Qy(pO,xK);return n.condition_=i.onFocusOnly?Qy(hO,a):a,n.noKinetic_=!1,n}return FK(r,t),r.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=Xy(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();(function c6(t,r){t[0]*=r,t[1]*=r})(a,s.getResolution()),Ly(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(e){var n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),u=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([u[0]-a*Math.cos(o),u[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:gu})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},r}(Dc),NK=LK,VK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BK=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:ac})||this).condition_=i.condition?i.condition:AK,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return VK(r,t),r.prototype.handleDragEvent=function(e){if($y(e)){var n=e.map,i=n.getView();if(i.getConstraints().rotation!==Gy){var a=n.getSize(),o=e.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},r.prototype.handleUpEvent=function(e){return!$y(e)||(e.map.getView().endInteraction(this.duration_),!1)},r.prototype.handleDownEvent=function(e){return!(!$y(e)||!dO(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},r}(Dc),HK=BK,UK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jK=function(t){function r(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return UK(r,t),r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],n[0])+i,a.top=Math.min(e[1],n[1])+i,a.width=Math.abs(n[0]-e[0])+i,a.height=Math.abs(n[1]-e[1])+i},r.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,a=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new uK([a])},r.prototype.getGeometry=function(){return this.geometry_},r}(ry),GK=jK,yO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jy=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.coordinate=n,a.mapBrowserEvent=i,a}return yO(r,t),r}(Sa),zK=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.box_=new GK(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:dO,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return yO(r,t),r.prototype.defaultBoxEndCondition=function(e,n,i){var a=i[0]-n[0],o=i[1]-n[1];return a*a+o*o>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Jy("boxdrag",e.coordinate,e))},r.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Jy(n?"boxend":"boxcancel",e.coordinate,e)),!1},r.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Jy("boxstart",e.coordinate,e)),!0)},r.prototype.onBoxEnd=function(e){},r}(Dc),WK=zK,qK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KK=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:gO,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return qK(r,t),r.prototype.onBoxEnd=function(e){var n=this.getMap(),i=n.getView(),a=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(a),u=function H5(t,r){return function GI(t,r){for(var e=0,n=r.length;e<n;++e)_u(t,r[e]);return t}(yu(r),t)}([n.getPixelFromCoordinateInternal(Cu(o)),n.getPixelFromCoordinateInternal(Su(o))]);(function K5(t,r){var e=(t[2]-t[0])/2*(r-1),n=(t[3]-t[1])/2*(r-1);t[0]-=e,t[2]+=e,t[1]-=n,t[3]+=n})(s,1/i.getResolutionForExtentInternal(u,a)),o=s}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,a)),f=i.getConstrainedCenter(Eu(o),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:gu})},r}(WK),YK=KK,ZK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XK=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(a){return pO(a)&&mO(a)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return ZK(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type){var i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(40==a||37==a||39==a||38==a)){var s=e.map.getView(),u=s.getResolution()*this.pixelDelta_,l=0,c=0;40==a?c=-u:37==a?l=-u:39==a?l=u:c=u;var f=[l,c];Ly(f,s.getRotation()),function wK(t,r,e){var n=t.getCenterInternal();n&&t.animateInternal({duration:void 0!==e?e:250,easing:T5,center:t.getConstrainedCenter([n[0]+r[0],n[1]+r[1]])})}(s,f,this.duration_),i.preventDefault(),n=!0}}return!n},r}(Ru),QK=XK,$K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JK=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:mO,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return $K(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,a=i.charCode;if(this.condition_(e)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=e.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_;Zy(o.getView(),s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},r}(Ru),eY=JK,tY=function(){function t(r,e,n){this.decay_=r,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(r,e){this.points_.push(r,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<r)return!1;for(var n=e-3;n>0&&this.points_[n+2]>r;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var a=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),nY=tY,rY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iY=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var a=i.condition?i.condition:MK;return n.condition_=i.onFocusOnly?Qy(hO,a):a,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return rY(r,t),r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var o,i=e.map,a=e.originalEvent;if(a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=a.deltaY,i5&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=zh),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;var s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},r.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var i=-Sn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Zy(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},r}(Ru),aY=iY,oY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sY=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=ac),(n=t.call(this,a)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return oY(r,t),r.prototype.handleDragEvent=function(e){var n=0,i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=o;var u=e.map,l=u.getView();if(l.getConstraints().rotation!==Gy){var c=u.getViewport().getBoundingClientRect(),f=Xy(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(n,this.anchor_))}},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(Dc),uY=sY,lY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cY=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=ac),(n=t.call(this,a)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return lY(r,t),r.prototype.handleDragEvent=function(e){var n=1,i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/u),this.lastDistance_=u;var l=e.map,c=l.getView();1!=n&&(this.lastScaleDelta_=n);var f=l.getViewport().getBoundingClientRect(),h=Xy(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),c.adjustResolutionInternal(n,this.anchor_)},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(Dc),fY=cY,dY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vY=function(t){function r(e){return(e=Fn({},e)).controls||(e.controls=NI()),e.interactions||(e.interactions=function hY(t){var r=t||{},e=new Kr,n=new nY(-.005,.05,100);return(void 0===r.altShiftDragRotate||r.altShiftDragRotate)&&e.push(new HK),(void 0===r.doubleClickZoom||r.doubleClickZoom)&&e.push(new TK({delta:r.zoomDelta,duration:r.zoomDuration})),(void 0===r.dragPan||r.dragPan)&&e.push(new NK({onFocusOnly:r.onFocusOnly,kinetic:n})),(void 0===r.pinchRotate||r.pinchRotate)&&e.push(new uY),(void 0===r.pinchZoom||r.pinchZoom)&&e.push(new fY({duration:r.zoomDuration})),(void 0===r.keyboard||r.keyboard)&&(e.push(new QK),e.push(new eY({delta:r.zoomDelta,duration:r.zoomDuration}))),(void 0===r.mouseWheelZoom||r.mouseWheelZoom)&&e.push(new aY({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(void 0===r.shiftDragZoom||r.shiftDragZoom)&&e.push(new YK({duration:r.zoomDuration})),e}({onFocusOnly:!0})),t.call(this,e)||this}return dY(r,t),r.prototype.createRenderer=function(){return new R6(this)},r}(_K),pY=vY,gY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mY=function(t){function r(e,n,i){var a=t.call(this)||this,o=i||{};return a.tileCoord=e,a.state=n,a.interimTile=null,a.hifi=!0,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a}return gY(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},r.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},r.prototype.load=function(){We()},r.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=n;var a=n-i+1e3/60;return a>=this.transition_?1:LI(a/this.transition_)},r.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},r.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},r}(hu),_O=mY,yY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_Y=function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,s)||this;return u.crossOrigin_=a,u.src_=i,u.key=i,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.tileLoadFunction_=o,u}return yY(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function CY(){var t=er(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},r.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},r.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Ry(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(_O),EY=_Y,bY=function(){function t(r,e,n,i,a,o){this.sourceProj_=r,this.targetProj_=e;var s={},u=mc(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var w=E[0]+"/"+E[1];return s[w]||(s[w]=u(E)),s[w]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&jt(i)==jt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?jt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?jt(this.targetProj_.getExtent()):null;var l=$a(n),c=Su(n),f=fc(n),h=Cu(n),d=this.transformInv_(l),v=this.transformInv_(c),p=this.transformInv_(f),y=this.transformInv_(h),C=10+(o?Math.max(0,Math.ceil(p5(ed(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,f,h,d,v,p,y,C),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(E,w,S){_=Math.min(_,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-_>this.sourceWorldWidth_/2){var w=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];w[0][0]-_>this.sourceWorldWidth_/2&&(w[0][0]-=this.sourceWorldWidth_),w[1][0]-_>this.sourceWorldWidth_/2&&(w[1][0]-=this.sourceWorldWidth_),w[2][0]-_>this.sourceWorldWidth_/2&&(w[2][0]-=this.sourceWorldWidth_);var S=Math.min(w[0][0],w[1][0],w[2][0]);Math.max(w[0][0],w[1][0],w[2][0])-S<this.sourceWorldWidth_/2&&(E.source=w)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(r,e,n,i,a,o){this.triangles_.push({source:[i,a,o],target:[r,e,n]})},t.prototype.addQuad_=function(r,e,n,i,a,o,s,u,l){var c=BI([a,o,s,u]),f=this.sourceWorldWidth_?jt(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,v=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(v=jt(BI([r,e,n,i]))/this.targetWorldWidth_>.25||v),!d&&this.sourceProj_.isGlobal()&&f&&(v=f>.25||v)),!(!v&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||_r(c,this.maxSourceExtent_)){var C=0;if(!(v||isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)v=!0;else if(1!=(C=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=C&&4!=C&&8!=C)return;if(l>0){if(!v){var E=this.transformInv_([(r[0]+n[0])/2,(r[1]+n[1])/2]),w=void 0;w=d?(pu(a[0],h)+pu(s[0],h))/2-pu(E[0],h):(a[0]+s[0])/2-E[0];var k=(a[1]+s[1])/2-E[1];v=w*w+k*k>this.errorThresholdSquared_}if(v){if(Math.abs(r[0]-n[0])<=Math.abs(r[1]-n[1])){var R=[(e[0]+n[0])/2,(e[1]+n[1])/2],L=this.transformInv_(R),q=[(i[0]+r[0])/2,(i[1]+r[1])/2],G=this.transformInv_(q);this.addQuad_(r,e,R,q,a,o,L,G,l-1),this.addQuad_(q,R,n,i,G,L,s,u,l-1)}else{var ee=[(r[0]+e[0])/2,(r[1]+e[1])/2],de=this.transformInv_(ee),_e=[(n[0]+i[0])/2,(n[1]+i[1])/2],se=this.transformInv_(_e);this.addQuad_(r,ee,_e,i,a,de,se,u,l-1),this.addQuad_(ee,e,n,_e,de,o,s,se,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&C)&&this.addTriangle_(r,n,i,a,s,u),0==(14&C)&&this.addTriangle_(r,n,e,a,s,o),C&&(0==(13&C)&&this.addTriangle_(e,i,r,o,u,a),0==(7&C)&&this.addTriangle_(e,i,n,o,u,s))}},t.prototype.calculateSourceExtent=function(){var r=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var a=e.source;_u(r,a[0]),_u(r,a[1]),_u(r,a[2])}),r},t.prototype.getTriangles=function(){return this.triangles_},t}(),TY=bY,EO={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function wO(t,r,e,n,i){t.beginPath(),t.moveTo(0,0),t.lineTo(r,e),t.lineTo(n,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(r,n)+1,Math.max(e,i)),t.restore()}function n_(t,r){return Math.abs(t[4*r]-210)>2||Math.abs(t[4*r+3]-191.25)>2}function SO(t,r,e,n){var i=yc(e,r,t),a=$I(r,n,e),o=r.getMetersPerUnit();void 0!==o&&(a*=o);var s=t.getMetersPerUnit();void 0!==s&&(a/=s);var u=t.getExtent();if(!u||Jh(u,i)){var l=$I(t,a,i)/a;isFinite(l)&&l>0&&(a/=l)}return a}var AY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OY=function(t){function r(e,n,i,a,o,s,u,l,c,f,h,d){var v=t.call(this,o,0)||this;v.renderEdges_=void 0!==h&&h,v.contextOptions_=d,v.pixelRatio_=u,v.gutter_=l,v.canvas_=null,v.sourceTileGrid_=n,v.targetTileGrid_=a,v.wrappedTileCoord_=s||o,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var p=a.getTileCoordExtent(v.wrappedTileCoord_),y=v.targetTileGrid_.getExtent(),C=v.sourceTileGrid_.getExtent(),_=y?wu(p,y):p;if(0===ed(_))return v.state=4,v;var E=e.getExtent();E&&(C=C?wu(C,E):E);var w=a.getResolution(v.wrappedTileCoord_[0]),S=function kY(t,r,e,n){var i=Eu(e),a=SO(t,r,i,n);return(!isFinite(a)||a<=0)&&WI(e,function(o){return a=SO(t,r,o,n),isFinite(a)&&a>0}),a}(e,i,_,w);if(!isFinite(S)||S<=0)return v.state=4,v;if(v.triangulation_=new TY(e,i,_,C,S*(void 0!==f?f:.5),w),0===v.triangulation_.getTriangles().length)return v.state=4,v;v.sourceZ_=n.getZForResolution(S);var I=v.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(I[1]=Sn(I[1],C[1],C[3]),I[3]=Sn(I[3],C[1],C[3])):I=wu(I,C)),ed(I)){for(var R=n.getTileRangeForExtentAndZ(I,v.sourceZ_),L=R.minX;L<=R.maxX;L++)for(var q=R.minY;q<=R.maxY;q++){var G=c(v.sourceZ_,L,q,u);G&&v.sourceTiles_.push(G)}0===v.sourceTiles_.length&&(v.state=4)}else v.state=4;return v}return AY(r,t),r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,f,h){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),a="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(n),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function IY(t,r,e,n,i,a,o,s,u,l,c,f){var h=er(Math.round(e*t),Math.round(e*r));if(Fn(h,f),0===u.length)return h.canvas;function d(w){return Math.round(w*e)/e}h.scale(e,e),h.globalCompositeOperation="lighter";var v=[1/0,1/0,-1/0,-1/0];u.forEach(function(w,S,k){!function j5(t,r){r[0]<t[0]&&(t[0]=r[0]),r[2]>t[2]&&(t[2]=r[2]),r[1]<t[1]&&(t[1]=r[1]),r[3]>t[3]&&(t[3]=r[3])}(v,w.extent)});var p=jt(v),y=Ei(v),C=er(Math.round(e*p/n),Math.round(e*y/n));Fn(C,f);var _=e/n;u.forEach(function(w,S,k){var I=w.extent[0]-v[0],R=-(w.extent[3]-v[3]),L=jt(w.extent),q=Ei(w.extent);w.image.width>0&&w.image.height>0&&C.drawImage(w.image,l,l,w.image.width-2*l,w.image.height-2*l,I*_,R*_,L*_,q*_)});var E=$a(o);return s.getTriangles().forEach(function(w,S,k){var I=w.source,R=w.target,L=I[0][0],q=I[0][1],G=I[1][0],ee=I[1][1],de=I[2][0],_e=I[2][1],se=d((R[0][0]-E[0])/a),Oe=d(-(R[0][1]-E[1])/a),Te=d((R[1][0]-E[0])/a),nt=d(-(R[1][1]-E[1])/a),At=d((R[2][0]-E[0])/a),Pe=d(-(R[2][1]-E[1])/a),dt=L,B=q;L=0,q=0;var He=function m5(t){for(var r=t.length,e=0;e<r;e++){for(var n=e,i=Math.abs(t[e][e]),a=e+1;a<r;a++){var o=Math.abs(t[a][e]);o>i&&(i=o,n=a)}if(0===i)return null;var s=t[n];t[n]=t[e],t[e]=s;for(var u=e+1;u<r;u++)for(var l=-t[u][e]/t[e][e],c=e;c<r+1;c++)e==c?t[u][c]=0:t[u][c]+=l*t[e][c]}for(var f=new Array(r),h=r-1;h>=0;h--){f[h]=t[h][r]/t[h][h];for(var d=h-1;d>=0;d--)t[d][r]-=t[d][h]*f[h]}return f}([[G-=dt,ee-=B,0,0,Te-se],[de-=dt,_e-=B,0,0,At-se],[0,0,G,ee,nt-Oe],[0,0,de,_e,Pe-Oe]]);if(He){if(h.save(),h.beginPath(),function DY(){if(void 0===t_){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",wO(t,4,5,4,0),wO(t,4,5,0,5);var r=t.getImageData(0,0,3,3).data;t_=n_(r,0)||n_(r,4)||n_(r,8)}return t_}()||f===EO){h.moveTo(Te,nt);for(var _n=se-Te,Yt=Oe-nt,sn=0;sn<4;sn++)h.lineTo(Te+d((sn+1)*_n/4),nt+d(sn*Yt/3)),3!=sn&&h.lineTo(Te+d((sn+1)*_n/4),nt+d((sn+1)*Yt/3));h.lineTo(At,Pe)}else h.moveTo(Te,nt),h.lineTo(se,Oe),h.lineTo(At,Pe);h.clip(),h.transform(He[0],He[2],He[1],He[3],se,Oe),h.translate(v[0]-dt,v[3]-B),h.scale(n/e,-n/e),h.drawImage(C.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(w,S,k){var I=w.target,R=(I[0][0]-E[0])/a,L=-(I[0][1]-E[1])/a,q=(I[1][0]-E[0])/a,G=-(I[1][1]-E[1])/a,ee=(I[2][0]-E[0])/a,de=-(I[2][1]-E[1])/a;h.beginPath(),h.moveTo(q,G),h.lineTo(R,L),h.lineTo(ee,de),h.closePath(),h.stroke()}),h.restore()),h.canvas}(a,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},r.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,a){var o=n.getState();if(0==o||1==o){e++;var s=ct(n,"change",function(u){var l=n.getState();(2==l||3==l||4==l)&&(Nt(s),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(n,i,a){0==n.getState()&&n.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Nt),this.sourcesListenerKeys_=null},r}(_O),MY=OY,RY=function(){function t(r){this.highWaterMark=void 0!==r?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},t.prototype.forEach=function(r){for(var e=this.oldest_;e;)r(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(r,e){var n=this.entries_[r];return Xe(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(r){var e=this.entries_[r];return Xe(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[r],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.key_;return r},t.prototype.getValues=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.value_;return r},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},t.prototype.replace=function(r,e){this.get(r),this.entries_[r].value_=e},t.prototype.set=function(r,e){Xe(!(r in this.entries_),16);var n={key_:r,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[r]=n,++this.count_},t.prototype.setSize=function(r){this.highWaterMark=r},t}(),PY=RY;function bO(t,r,e,n){return void 0!==n?(n[0]=t,n[1]=r,n[2]=e,n):[t,r,e]}function wd(t,r,e){return t+"/"+r+"/"+e}function TO(t){return wd(t[0],t[1],t[2])}var NY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VY=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return NY(r,t),r.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},r.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var n=function xY(t){return t.split("/").map(Number)}(this.peekFirstKey()),i=n[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(TO(a.tileCoord)),a.release())}.bind(this))}},r}(PY),DO=VY,BY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HY=function(t){function r(e){var n=t.call(this)||this;return n.projection_=tr(e.projection),n.attributions_=kO(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return BY(r,t),r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolutions=function(){return We()},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getContextOptions=function(){},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(e){this.attributions_=kO(e),this.changed()},r.prototype.setState=function(e){this.state_=e,this.changed()},r}(Gi);function kO(t){return t?Array.isArray(t)?function(r){return t}:"function"==typeof t?t:function(r){return[t]}:null}var IO=HY,UY=[0,0,0],jY=function(){function t(r){var e;if(this.minZoom=void 0!==r.minZoom?r.minZoom:0,this.resolutions_=r.resolutions,Xe(function Z4(t,r,e){var n=r||Ho;return t.every(function(i,a){if(0===a)return!0;var o=n(t[a-1],i);return!(o>0||e&&0===o)})}(this.resolutions_,function(o,s){return s-o},!0),17),!r.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==r.origin?r.origin:null,this.origins_=null,void 0!==r.origins&&(this.origins_=r.origins,Xe(this.origins_.length==this.resolutions_.length,20));var a=r.extent;void 0!==a&&!this.origin_&&!this.origins_&&(this.origin_=$a(a)),Xe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==r.tileSizes&&(this.tileSizes_=r.tileSizes,Xe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==r.tileSize?r.tileSize:this.tileSizes_?null:256,Xe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==r.sizes?this.fullTileRanges_=r.sizes.map(function(o,s){var u=new qA(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var l=this.getTileRangeForExtentAndZ(a,s);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(r,e,n){for(var i=this.getTileRangeForExtentAndZ(r,e),a=i.minX,o=i.maxX;a<=o;++a)for(var s=i.minY,u=i.maxY;s<=u;++s)n([e,a,s])},t.prototype.forEachTileCoordParentTileRange=function(r,e,n,i){var o,s,u=null,l=r[0]-1;for(2===this.zoomFactor_?(o=r[1],s=r[2]):u=this.getTileCoordExtent(r,i);l>=this.minZoom;){if(e(l,2===this.zoomFactor_?Ny(o=Math.floor(o/2),o,s=Math.floor(s/2),s,n):this.getTileRangeForExtentAndZ(u,l,n)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},t.prototype.getResolution=function(r){return this.resolutions_[r]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(r,e,n){if(r[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*r[1],a=2*r[2];return Ny(i,i+1,a,a+1,e)}var o=this.getTileCoordExtent(r,n);return this.getTileRangeForExtentAndZ(o,r[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(r,e,n){var i=this.getOrigin(r),a=this.getResolution(r),o=Yr(this.getTileSize(r),this.tmpSize_);return qi(i[0]+e.minX*o[0]*a,i[1]+e.minY*o[1]*a,i[0]+(e.maxX+1)*o[0]*a,i[1]+(e.maxY+1)*o[1]*a,n)},t.prototype.getTileRangeForExtentAndZ=function(r,e,n){var i=UY;this.getTileCoordForXYAndZ_(r[0],r[3],e,!1,i);var a=i[1],o=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],e,!0,i),Ny(a,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(r){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),i=Yr(this.getTileSize(r[0]),this.tmpSize_);return[e[0]+(r[1]+.5)*i[0]*n,e[1]-(r[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(r,e){var n=this.getOrigin(r[0]),i=this.getResolution(r[0]),a=Yr(this.getTileSize(r[0]),this.tmpSize_),o=n[0]+r[1]*a[0]*i,s=n[1]-(r[2]+1)*a[1]*i;return qi(o,s,o+a[0]*i,s+a[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(r,e,n){return this.getTileCoordForXYAndResolution_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(r,e,n,i,a){var o=this.getZForResolution(n),s=n/this.getResolution(o),u=this.getOrigin(o),l=Yr(this.getTileSize(o),this.tmpSize_),f=i?.5:0,h=Math.floor((r-u[0])/n+(i?.5:0)),d=Math.floor((u[1]-e)/n+f),v=s*h/l[0],p=s*d/l[1];return i?(v=Math.ceil(v)-1,p=Math.ceil(p)-1):(v=Math.floor(v),p=Math.floor(p)),bO(o,v,p,a)},t.prototype.getTileCoordForXYAndZ_=function(r,e,n,i,a){var o=this.getOrigin(n),s=this.getResolution(n),u=Yr(this.getTileSize(n),this.tmpSize_),c=i?.5:0,f=Math.floor((r-o[0])/s+(i?.5:0)),h=Math.floor((o[1]-e)/s+c),d=f/u[0],v=h/u[1];return i?(d=Math.ceil(d)-1,v=Math.ceil(v)-1):(d=Math.floor(d),v=Math.floor(v)),bO(n,d,v,a)},t.prototype.getTileCoordForCoordAndZ=function(r,e,n){return this.getTileCoordForXYAndZ_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},t.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},t.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},t.prototype.getZForResolution=function(r,e){return Sn(ay(this.resolutions_,r,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(r){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=n},t}(),AO=jY;function OO(t){var r=t.getDefaultTileGrid();return r||(r=function qY(t,r,e,n){return function zY(t,r,e,n){var i=void 0!==n?n:"top-left",a=MO(t,r,e);return new AO({extent:t,origin:W5(t,i),resolutions:a,tileSize:e})}(i_(t),r,e,n)}(t),t.setDefaultTileGrid(r)),r}function MO(t,r,e,n){for(var i=void 0!==r?r:42,a=Ei(t),o=jt(t),s=Yr(void 0!==e?e:256),u=n>0?n:Math.max(o/s[0],a/s[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function i_(t){var r=(t=tr(t)).getExtent();if(!r){var e=180*ba[Qa.DEGREES]/t.getMetersPerUnit();r=qi(-e,-e,e,e)}return r}var RO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KY=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var a=e.tileGrid;return a&&Yr(a.getTileSize(a.getMinZoom()),[256,256]),n.tileCache=new DO(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return RO(r,t),r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);i&&i.expireCache(n)},r.prototype.forEachLoadedTile=function(e,n,i,a){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,l,c,s=!0,f=i.minX;f<=i.maxX;++f)for(var h=i.minY;h<=i.maxY;++h)l=wd(n,f,h),c=!1,o.containsKey(l)&&(c=2===(u=o.get(l)).getState())&&(c=!1!==a(u)),c||(s=!1);return s},r.prototype.getGutterForProjection=function(e){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},r.prototype.getOpaque=function(e){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(e,n,i,a,o){return We()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:OO(e)},r.prototype.getTileCacheForProjection=function(e){return Xe(Tu(this.getProjection(),e),68),this.tileCache},r.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(e,n,i){var a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=Yr(a.getTileSize(e),this.tmpSize);return 1==o?s:function O8(t,r,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*r+.5|0,e[1]=t[1]*r+.5|0,e}(s,o,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(e,n){var i=void 0!==n?n:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function GY(t,r,e){var n=r[0],i=t.getTileCoordCenter(r),a=i_(e);if(Jh(a,i))return r;var o=jt(a),s=Math.ceil((a[0]-i[0])/o);return i[0]+=o*s,t.getTileCoordForCoordAndZ(i,n)}(a,e,i)),function LY(t,r){var e=t[0],n=t[1],i=t[2];if(r.getMinZoom()>e||e>r.getMaxZoom())return!1;var a=r.getFullTileRange(e);return!a||a.containsXY(n,i)}(e,a)?e:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(e,n){var i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)},r.prototype.useTile=function(e,n,i,a){},r}(IO),YY=function(t){function r(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return RO(r,t),r}(Sa),ZY=KY;function XY(t,r){var e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return t.replace(e,o[0].toString()).replace(n,o[1].toString()).replace(i,o[2].toString()).replace(a,function(){var c=r.getFullTileRange(o[0]);return Xe(c,55),(c.getHeight()-o[2]-1).toString()})}}var eZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tZ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===r.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return eZ(r,t),r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(e){var o,n=e.target,i=Ze(n),a=n.getState();1==a?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==a?"tileloaderror":2==a?"tileloadend":void 0),null!=o&&this.dispatchEvent(new YY(o,n))},r.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},r.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==n?this.setKey(n):this.changed()},r.prototype.setUrl=function(e){var n=function JY(t){var r=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var n=e[1].charCodeAt(0),i=e[2].charCodeAt(0),a=void 0;for(a=n;a<=i;++a)r.push(t.replace(e[0],String.fromCharCode(a)));return r}if(e=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(e[2],10),s=parseInt(e[1],10);s<=o;s++)r.push(t.replace(e[0],s.toString()));return r}return r.push(t),r}(e);this.urls=n,this.setUrls(n)},r.prototype.setUrls=function(e){this.urls=e;var n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function QY(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i)n[i]=XY(t[i],r);return function $Y(t){return 1===t.length?t[0]:function(r,e,n){if(r){var i=function FY(t){return(t[1]<<t[0])+t[2]}(r),a=pu(i,t.length);return t[a](r,e,n)}}}(n)}(e,this.tileGrid),n):this.setKey(n)},r.prototype.tileUrlFunction=function(e,n,i){},r.prototype.useTile=function(e,n,i){var a=wd(e,n,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},r}(ZY),nZ=tZ,rZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iZ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:aZ,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:EY,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?EO:void 0,n.renderReprojectionEdges_=!1,n}return rZ(r,t),r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);for(var a in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==i?n:{})}},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Tu(this.getProjection(),e)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},r.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Tu(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},r.prototype.getTileGridForProjection=function(e){var n=this.getProjection();if(this.tileGrid&&(!n||Tu(n,e)))return this.tileGrid;var i=Ze(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=OO(e)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();if(!n||Tu(n,e))return this.tileCache;var i=Ze(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new DO(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(e,n,i,a,o,s){var u=[e,n,i],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,a,o):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener("change",this.handleTileChange.bind(this)),f},r.prototype.getTile=function(e,n,i,a,o){var s=this.getProjection();if(!s||!o||Tu(s,o))return this.getTileInternal(e,n,i,a,s||o);var u=this.getTileCacheForProjection(o),l=[e,n,i],c=void 0,f=TO(l);u.containsKey(f)&&(c=u.get(f));var h=this.getKey();if(c&&c.key==h)return c;var d=this.getTileGridForProjection(s),v=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(l,o),y=new MY(s,d,o,v,l,p,this.getTilePixelRatio(a),this.getGutter(),function(C,_,E,w){return this.getTileInternal(C,_,E,w,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return y.key=h,c?(y.interimTile=c,y.refreshInterimChain(),u.replace(f,y)):u.set(f,y),y},r.prototype.getTileInternal=function(e,n,i,a,o){var s=null,u=wd(e,n,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((s=this.tileCache.get(u)).key!=l){var c=s;(s=this.createTile_(e,n,i,a,o,l)).interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(u,s)}}else s=this.createTile_(e,n,i,a,o,l),this.tileCache.set(u,s);return s},r.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var n in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},r.prototype.setTileGridForProjection=function(e,n){var i=tr(e);if(i){var a=Ze(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}},r}(nZ);function aZ(t,r){t.getImage().src=r}var oZ=iZ,sZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uZ=function(t){function r(e){var i=e||{},a=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function WY(t){var r=t||{},e=r.extent||tr("EPSG:3857").getExtent(),n={extent:e,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:MO(e,r.maxZoom,r.tileSize,r.maxResolution)};return new AO(n)}({extent:i_(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return sZ(r,t),r}(oZ),lZ=uZ,cZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hZ=function(t){function r(e){var i=e||{};return t.call(this,{attributions:void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:void 0!==i.crossOrigin?i.crossOrigin:"anonymous",imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:i.wrapX})||this}return cZ(r,t),r}(lZ),dZ=hZ,vZ=function(){function t(r){this.rbush_=new(uA())(r),this.items_={}}return t.prototype.insert=function(r,e){var n={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:e};this.rbush_.insert(n),this.items_[Ze(e)]=n},t.prototype.load=function(r,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=r[i],s=e[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=u,this.items_[Ze(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(r){var e=Ze(r),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(r,e){var n=this.items_[Ze(e)];cc([n.minX,n.minY,n.maxX,n.maxY],r)||(this.remove(e),this.insert(r,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},t.prototype.getInExtent=function(r){return this.rbush_.search({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}).map(function(i){return i.value})},t.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},t.prototype.forEachInExtent=function(r,e){return this.forEach_(this.getInExtent(r),e)},t.prototype.forEach_=function(r,e){for(var n,i=0,a=r.length;i<a;i++)if(n=e(r[i]))return n;return n},t.prototype.isEmpty=function(){return oc(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(r){var e=this.rbush_.toJSON();return qi(e.minX,e.minY,e.maxX,e.maxY,r)},t.prototype.concat=function(r){for(var e in this.rbush_.load(r.rbush_.all()),r.items_)this.items_[e]=r.items_[e]},t}(),PO=vZ;function pZ(t,r){return[[-1/0,-1/0,1/0,1/0]]}function FO(t,r){return function(e,n,i,a,o){var s=this;!function gZ(t,r,e,n,i,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(e,n,i):t,!0),"arraybuffer"==r.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var l=r.getType(),c=void 0;"json"==l||"text"==l?c=s.responseText:"xml"==l?(c=s.responseXML)||(c=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(c=s.response),c?a(r.readFeatures(c,{extent:e,featureProjection:i}),r.readProjection(c)):o()}else o()},s.onerror=o,s.send()}(t,r,e,n,i,function(u,l){void 0!==a&&a(u),s.addFeatures(u)},o||Uo)}}var LO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),io=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.feature=n,a.features=i,a}return LO(r,t),r}(Sa),mZ=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Uo,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Xe(n.format_,7),n.loader_=FO(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:pZ;var o,s,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new PO:null,n.loadedExtentsRtree_=new PO,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?s=i.features:i.features&&(s=(o=i.features).getArray()),!a&&void 0===o&&(o=new Kr(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==o&&n.bindFeaturesCollection_(o),n}return LO(r,t),r.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},r.prototype.addFeatureInternal=function(e){var n=Ze(e);if(this.addToIndex_(n,e)){this.setupChangeEvents_(n,e);var i=e.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new io("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},r.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[ct(n,"change",this.handleFeatureChange_,this),ct(n,"propertychange",this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(e,n){var i=!0,a=n.getId();return void 0!==a&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=n),i&&(Xe(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),i},r.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},r.prototype.addFeaturesInternal=function(e){for(var n=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=Ze(u=e[o]);this.addToIndex_(l,u)&&i.push(u)}o=0;for(var c=i.length;o<c;o++){var u;l=Ze(u=i[o]),this.setupChangeEvents_(l,u);var f=u.getGeometry();if(f){var h=f.getExtent();n.push(h),a.push(u)}else this.nullGeometryFeatures_[l]=u}this.featuresRtree_&&this.featuresRtree_.load(n,a),o=0;for(var d=i.length;o<d;o++)this.dispatchEvent(new io("addfeature",i[o]))},r.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener("addfeature",function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener("removefeature",function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener("add",function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),e.addEventListener("remove",function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=e},r.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(Nt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var a in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new io("clear");this.dispatchEvent(o),this.changed()},r.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureAtCoordinateDirect=function(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(a){if(a.getGeometry().intersectsCoordinate(e))return n(a)})},r.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},r.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var o=n(i);if(o)return o}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),oc(this.nullGeometryFeatures_)||Uh(e,CI(this.nullGeometryFeatures_))),e},r.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n},r.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},r.prototype.getClosestFeatureToCoordinate=function(e,n){var i=e[0],a=e[1],o=null,s=[NaN,NaN],u=1/0,l=[-1/0,-1/0,1/0,1/0],c=n||Xa;return this.featuresRtree_.forEachInExtent(l,function(f){if(c(f)){var h=f.getGeometry(),d=u;if((u=h.closestPointXY(i,a,s,u))<d){o=f;var v=Math.sqrt(u);l[0]=i-v,l[1]=a-v,l[2]=i+v,l[3]=a+v}}}),o},r.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},r.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return void 0!==n?n:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(e){var n=e.target,i=Ze(n),a=n.getGeometry();if(a){var o=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);var s=n.getId();if(void 0!==s){var u=s.toString();this.idIndex_[u]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[u]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new io("changefeature",n))},r.prototype.hasFeature=function(e){var n=e.getId();return void 0!==n?n in this.idIndex_:Ze(e)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&oc(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(e,n,i){var a=this.loadedExtentsRtree_,o=this.strategy_(e,n);this.loading=!1;for(var s=function(h,d){var v=o[h];a.forEachInExtent(v,function(y){return mu(y.extent,v)})||(u.dispatchEvent(new io("featuresloadstart")),u.loader_.call(u,v,n,i,function(y){this.dispatchEvent(new io("featuresloadend",void 0,y))}.bind(u),function(){this.dispatchEvent(new io("featuresloaderror"))}.bind(u)),a.insert(v,{extent:v.slice()}),u.loading=u.loader_!==Uo)},u=this,l=0,c=o.length;l<c;++l)s(l)},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(e){var i,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(a){if(cc(a.extent,e))return i=a,!0}),i&&n.remove(i)},r.prototype.removeFeature=function(e){var n=Ze(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},r.prototype.removeFeatureInternal=function(e){var n=Ze(e);this.featureChangeKeys_[n].forEach(Nt),delete this.featureChangeKeys_[n];var i=e.getId();void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new io("removefeature",e))},r.prototype.removeFromIdIndex_=function(e){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}return n},r.prototype.setLoader=function(e){this.loader_=e},r.prototype.setUrl=function(e){Xe(this.format_,7),this.setLoader(FO(e,this.format_))},r}(IO),NO=mZ,VO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_Z=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.selected=n,o.deselected=i,o.mapBrowserEvent=a,o}return VO(r,t),r}(Sa),Sd={},CZ=function(t){function r(e){var a,n=t.call(this)||this,i=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=i.condition?i.condition:PK,n.addCondition_=i.addCondition?i.addCondition:vO,n.removeCondition_=i.removeCondition?i.removeCondition:vO,n.toggleCondition_=i.toggleCondition?i.toggleCondition:gO,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:Xa,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.style_=void 0!==i.style?i.style:function EZ(){var t=function X8(){var t={},r=[255,255,255,1],e=[0,153,255,1];return t.Polygon=[new Ou({fill:new Au({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Ou({stroke:new fd({color:r,width:5})}),new Ou({stroke:new fd({color:e,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Ou({image:new EA({radius:6,fill:new Au({color:e}),stroke:new fd({color:r,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}();return Uh(t.Polygon,t.LineString),Uh(t.GeometryCollection,t.LineString),function(r){return r.getGeometry()?t[r.getGeometry().getType()]:null}}(),n.features_=i.features||new Kr,i.layers)if("function"==typeof i.layers)a=i.layers;else{var o=i.layers;a=function(u){return iy(o,u)}}else a=Xa;return n.layerFilter_=a,n.featureLayerAssociation_={},n}return VO(r,t),r.prototype.addFeatureLayerAssociation_=function(e,n){this.featureLayerAssociation_[Ze(e)]=n},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(e){return this.featureLayerAssociation_[Ze(e)]},r.prototype.setHitTolerance=function(e){this.hitTolerance_=e},r.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},r.prototype.addFeature_=function(e){this.style_&&this.applySelectedStyle_(e.element)},r.prototype.removeFeature_=function(e){this.style_&&this.restorePreviousStyle_(e.element)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(e){var n=Ze(e);n in Sd||(Sd[n]=e.getStyle()),e.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(e){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var a=n[i];if(a!==this&&a instanceof r&&a.getStyle()&&-1!==a.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(a.getStyle())}var o=Ze(e);e.setStyle(Sd[o]),delete Sd[o]},r.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Ze(e)]},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var n=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!n&&!i&&!a,s=e.map,u=this.getFeatures(),l=[],c=[];if(o){fu(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(p,y){if(this.filter_(p,y))return c.push(p),this.addFeatureLayerAssociation_(p,y),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=u.getLength()-1;f>=0;--f){var h=u.item(f),d=c.indexOf(h);d>-1?c.splice(d,1):(u.remove(h),l.push(h))}0!==c.length&&u.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,function(p,y){if(this.filter_(p,y))return!n&&!a||iy(u.getArray(),p)?(i||a)&&iy(u.getArray(),p)&&(l.push(p),this.removeFeatureLayerAssociation_(p)):(c.push(p),this.addFeatureLayerAssociation_(p,y)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new _Z("select",c,l,e)),!0},r}(Ru),wZ=CZ,bZ=function(){function t(r){var e=r||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Yr(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Au({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var r=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(r){this.overflow_=r},t.prototype.setFont=function(r){this.font_=r},t.prototype.setMaxAngle=function(r){this.maxAngle_=r},t.prototype.setOffsetX=function(r){this.offsetX_=r},t.prototype.setOffsetY=function(r){this.offsetY_=r},t.prototype.setPlacement=function(r){this.placement_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setFill=function(r){this.fill_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Yr(void 0!==r?r:1)},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.setText=function(r){this.text_=r},t.prototype.setTextAlign=function(r){this.textAlign_=r},t.prototype.setTextBaseline=function(r){this.textBaseline_=r},t.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},t.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},t.prototype.setPadding=function(r){this.padding_=r},t}(),TZ=bZ;function a_(t,r){if(t){var e=t.getProperties(),i=r?"assets/marker_blue.png":"assets/marker.png";t.setStyle(new SA({text:new TZ({text:e.info&&r?e.info:"",font:"bold 13px sans-serif",backgroundFill:new Au({color:"#ffffff"}),offsetY:-50,fill:new Au({color:"#555588"})}),image:new Py({src:i,imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.7})}))}}var AZ=function(){var t=function(){function r(e){m(this,r),this.mapDataService=e,this.markers=[],this.unsubscribe$=new it,this.onMarkerClicked=new Se}return g(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.map||this.initilizeMap(),this.mapDataService.mapInput$.pipe(qa(this.unsubscribe$)).subscribe(function(i){i&&n.setupMap(i)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"setupMap",value:function(n){this.positions=n.markerPosisitons,this.userPos=n.userPos;var i=this.map.getView();this.positions.length>0?i.setCenter(pc([this.positions[0].lng,this.positions[0].lat])):this.userPos&&this.userPos.lat&&this.userPos.lng&&i.setCenter(pc([this.userPos.lng,this.userPos.lat])),i.setZoom(this.positions.length<2?r.ZoomLevelSingleMarker:r.ZoomLevelSeveralMarkers),this.updateMarkers(this.positions,!0),this.updateUserMarker(this.userPos)}},{key:"updateUserMarker",value:function(n){this.userPos=n,this.userMarker.setGeometry(null),n&&(this.userMarker.setGeometry(new by(pc([n.lng,n.lat]))),function kZ(t){!t||t.setStyle(new SA({image:new Py({src:"assets/user.png",imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.5})}))}(this.userMarker))}},{key:"updateMarkers",value:function(n,i){for(var a=0;a<r.MaxNumMarkers;a++)this.markers[a].setGeometry(null);if(this.positions=n,n)for(var o=0;o<Math.min(n.length,r.MaxNumMarkers);o++){var s=n[o],u=this.markers[o];u.setId(s.id),u.setGeometry(new by(pc([s.lng,s.lat]))),u.setProperties({info:s.info}),a_(u,!1)}}},{key:"initilizeMap",value:function(){var n=this;this.markers=[];for(var i=0;i<r.MaxNumMarkers;i++)this.markers.push(new VI({}));this.userMarker=new VI;var a=new PI({target:"attribution"}),o=new zA({source:new NO({features:this.markers})});this.map=new pY({controls:NI({attribution:!1}).extend([a]),target:"map",layers:[new T6({source:new dZ}),o,new zA({source:new NO({features:[this.userMarker]})})],view:new cO({center:pc([0,0]),zoom:r.ZoomLevelSingleMarker})}),function IZ(t,r,e,n){var i=new wZ({style:null,condition:RK,toggleCondition:function(){return!0},layers:[r]});t.addInteraction(i),i.on("select",function(a){!function DZ(t){!t||t.forEach(function(r){a_(r,!1)})}(e);var o=null;if(a.selected&&a.selected.length>0?o=a.selected:a.deselected&&a.deselected.length>0&&(o=a.deselected),o){var s=o[0];a_(s,!0),n(s.getId())}})}(this.map,o,this.markers,function(s){return n.onMarkerClicked.emit(s)})}}]),r}();return t.MaxNumMarkers=200,t.ZoomLevelSingleMarker=13,t.ZoomLevelSeveralMarkers=6,t.\u0275fac=function(e){return new(e||t)(T(yI))},t.\u0275cmp=Jt({type:t,selectors:[["app-map"]],outputs:{onMarkerClicked:"onMarkerClicked"},decls:2,vars:0,consts:[["id","attribution"],["id","map",1,"map"]],template:function(e,n){1&e&&Vt(0,"div",0)(1,"div",1)},styles:["#map[_ngcontent-%COMP%]{height:90vh;width:100%}[_nghost-%COMP%]  .ol-zoom-in, [_nghost-%COMP%]  .ol-zoom-out, [_nghost-%COMP%]  .ol-rotate-reset{width:1.8em;height:1.8em;font-size:1.5em;font-weight:700;opacity:.8;margin:5px;padding:0;border:2;border-radius:0;background-color:#d3d3d3}[_nghost-%COMP%]  .ol-zoom{max-width:60px}[_nghost-%COMP%]  .ol-hidden{display:none}[_nghost-%COMP%]  .ol-attribution>button{display:none}[_nghost-%COMP%]  .ol-attribution ul{list-style-type:none;padding:0;margin:0}[_nghost-%COMP%]  .ol-attribution{font-size:.7em;padding-bottom:5px}[_nghost-%COMP%]  .ol-compass{margin-left:-3px}"]}),t}();function OZ(t,r){if(1&t){var e=nn();U(0,"p-sidebar",1),ue("visibleChange",function(a){return he(e),N().isVisible=a}),U(1,"div",2)(2,"i",3),ue("click",function(){return he(e),N().close()}),j()(),Vt(3,"app-info-card",4),j()}if(2&t){var n=N();M("visible",n.isVisible)("showCloseIcon",!1),x(3),M("message",n.trafficMessage)}}var MZ=function(){var t=function(){function r(e,n){m(this,r),this.broker=e,this.service=n,this.unsubscribe$=new it,this.isVisible=!1}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(qa(this.unsubscribe$),wn(function(i){return i instanceof mI})).subscribe(function(i){n.trafficMessage=n.service.getCachedMessageFromId(i.id),n.trafficMessage&&(n.isVisible=!0)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(xo),T(VD))},t.\u0275cmp=Jt({type:t,selectors:[["app-info-sidebar"]],decls:1,vars:1,consts:[["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-down","close-button","clickable",3,"click"],[3,"message"]],template:function(e,n){1&e&&ce(0,OZ,4,3,"p-sidebar",0),2&e&&M("ngIf",!0)},directives:[Ur,_I,fI],encapsulation:2}),t}();function RZ(t,r){if(1&t){var e=nn();U(0,"p-sidebar",1),ue("visibleChange",function(a){return he(e),N().isVisible=a}),U(1,"div",2)(2,"i",3),ue("click",function(){return he(e),N().close()}),j(),pt(3),j(),U(4,"div")(5,"div"),pt(6),j()(),Vt(7,"hr"),U(8,"app-map",4),ue("onMarkerClicked",function(a){return he(e),N().onMapMarkerClicked(a)}),j()()}if(2&t){var n=N();M("visible",n.isVisible)("showCloseIcon",!1),x(3),Xn(" ",n.title," "),x(3),Xn(" ",n.details," ")}}var PZ=function(){var t=function(){function r(e,n){m(this,r),this.broker=e,this.mapDataService=n,this.unsubscribe$=new it,this.isVisible=!1}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(qa(this.unsubscribe$),wn(function(i){return i instanceof wh})).subscribe(function(i){var a=new F4;a.markerPosisitons=i.positions,a.userPos=i.userPos,n.title=i.title,n.details=i.details,n.isVisible=!0,n.mapDataService.addNewMapInput(a)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}},{key:"onMapMarkerClicked",value:function(n){this.broker.sendMessage(new mI(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(xo),T(yI))},t.\u0275cmp=Jt({type:t,selectors:[["app-map-sidebar"]],decls:2,vars:1,consts:[["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-left","close-button","clickable",3,"click"],[3,"onMarkerClicked"]],template:function(e,n){1&e&&(ce(0,RZ,9,4,"p-sidebar",0),Vt(1,"app-info-sidebar")),2&e&&M("ngIf",n.isVisible)},directives:[Ur,_I,AZ,MZ],encapsulation:2}),t}(),BO=["container"],xZ=function(r,e,n,i){return{"pi-info-circle":r,"pi-exclamation-triangle":e,"pi-times-circle":n,"pi-check":i}};function FZ(t,r){if(1&t&&(Lr(0),Vt(1,"span",6),U(2,"div",7)(3,"div",8),pt(4),j(),U(5,"div",9),pt(6),j()(),Nr()),2&t){var e=N();x(1),vr("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),M("ngClass",Pf(5,xZ,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),x(3),di(e.message.summary),x(2),di(e.message.detail)}}function LZ(t,r){1&t&&jn(0)}function NZ(t,r){if(1&t){var e=nn();U(0,"button",10),ue("click",function(i){return he(e),N().onCloseIconClick(i)})("keydown.enter",function(i){return he(e),N().onCloseIconClick(i)}),Vt(1,"span",11),j()}}var VZ=function(r){return[r,"p-toast-message"]},BZ=function(r,e,n,i){return{showTransformParams:r,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:i}},HZ=function(r){return{value:"visible",params:r}},UZ=function(r){return{$implicit:r}};function jZ(t,r){if(1&t){var e=nn();U(0,"p-toastItem",3),ue("onClose",function(s){return he(e),N().onMessageClose(s)})("@toastAnimation.start",function(s){return he(e),N().onAnimationStart(s)})("@toastAnimation.done",function(s){return he(e),N().onAnimationEnd(s)}),j()}if(2&t){var n=r.$implicit,i=r.index,a=N();M("message",n)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}var GZ=function(){var t=function(){function r(e){m(this,r),this.zone=e,this.onClose=new Se}return g(r,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var n=this;this.message.sticky||this.zone.runOutsideAngular(function(){n.timeout=setTimeout(function(){n.onClose.emit({index:n.index,message:n.message})},n.message.life||3e3)})}},{key:"clearTimeout",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)})},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(gt))},t.\u0275cmp=Jt({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,n){var i;1&e&&gi(BO,5),2&e&&pn(i=gn())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(U(0,"div",0,1),ue("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),U(2,"div",2),ce(3,FZ,7,10,"ng-container",3),ce(4,LZ,1,0,"ng-container",4),ce(5,NZ,2,0,"button",5),j()()),2&e&&(vr(n.message.styleClass),M("ngClass",vn(10,VZ,"p-toast-message-"+n.message.severity))("@messageState",vn(17,HZ,Pf(12,BZ,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),kt("id",n.message.id),x(2),M("ngClass",n.message.contentStyleClass),x(1),M("ngIf",!n.template),x(1),M("ngTemplateOutlet",n.template)("ngTemplateOutletContext",vn(19,UZ,n.message)),x(1),M("ngIf",!1!==n.message.closable))},directives:[Bi,Ur,$s,Em],encapsulation:2,data:{animation:[$l("messageState",[Mm("visible",qr({transform:"translateY(0)",opacity:1})),Ea("void => *",[qr({transform:"{{showTransformParams}}",opacity:0}),Ka("{{showTransitionParams}}")]),Ea("* => void",[Ka("{{hideTransitionParams}}",qr({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t}(),zZ=function(){var t=function(){function r(e,n,i){m(this,r),this.messageService=e,this.cd=n,this.config=i,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new Se,this.id=UD()}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.messageSubscription=this.messageService.messageObserver.subscribe(function(i){if(i)if(i instanceof Array){var a=i.filter(function(o){return n.canAdd(o)});n.add(a)}else n.canAdd(i)&&n.add([i])}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(i){i?n.key===i&&(n.messages=null):n.messages=null,n.cd.markForCheck()})}},{key:"ngAfterViewInit",value:function(){this.breakpoints&&this.createStyle()}},{key:"add",value:function(n){this.messages=this.messages?[].concat(K(this.messages),K(n)):K(n),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(K(this.messagesArchieve),K(n)):K(n)),this.cd.markForCheck()}},{key:"canAdd",value:function(n){var i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i}},{key:"containsMessage",value:function(n,i){return!!n&&null!=n.find(function(a){return a.summary===i.summary&&a.detail==i.detail&&a.severity===i.severity})}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.template=i.template})}},{key:"onMessageClose",value:function(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}},{key:"onAnimationStart",value:function(n){"void"===n.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Wr.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&this.autoZIndex&&Wr.clear(this.containerViewChild.nativeElement)}},{key:"createStyle",value:function(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);var n="";for(var i in this.breakpoints){var a="";for(var o in this.breakpoints[i])a+=o+":"+this.breakpoints[i][o]+" !important;";n+="\n                    @media screen and (max-width: ".concat(i,") {\n                        .p-toast[").concat(this.id,"] {\n                           ").concat(a,"\n                        }\n                    }\n                ")}this.styleElement.innerHTML=n}}},{key:"destroyStyle",value:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Wr.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Cm),T(pr),T(Yl))},t.\u0275cmp=Jt({type:t,selectors:[["p-toast"]],contentQueries:function(e,n,i){var a;1&e&&va(i,Sh,4),2&e&&pn(a=gn())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&gi(BO,5),2&e&&pn(i=gn())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,n){1&e&&(U(0,"div",0,1),ce(2,jZ,1,8,"p-toastItem",2),j()),2&e&&(vr(n.styleClass),M("ngClass","p-toast p-component p-toast-"+n.position)("ngStyle",n.style),x(2),M("ngForOf",n.messages))},directives:[GZ,Bi,za,Qf],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[$l("toastAnimation",[Ea(":enter, :leave",[B3("@*",V3())])])]},changeDetection:0}),t}(),WZ=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr,Th],bh]}),t}(),qZ=function(){var t=function(){function r(e,n,i){m(this,r),this.broker=e,this.primeNGmessageService=n,this.translationService=i,this.title="sr-traffic",this.isLoading=!1,this.unsubscribe$=new it}return g(r,[{key:"ngOnInit",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){var a,i=this;return at().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.translationService.defaultLangCode="en",this.translationService.currentLocale=navigator.language,(a=this.broker.getMessage()).pipe(qa(this.unsubscribe$),wn(function(u){return u instanceof M4})).subscribe(function(u){i.primeNGmessageService.add({severity:"success",summary:"",detail:u.info})}),a.pipe(qa(this.unsubscribe$),wn(function(u){return u instanceof au})).subscribe(function(u){i.primeNGmessageService.add({severity:"error",summary:"",detail:u.errorMessage})}),s.next=7,this.fetchBaseData();case 7:case"end":return s.stop()}},n,this)}))}},{key:"fetchBaseData",value:function(){return Jn(this,void 0,void 0,at().mark(function n(){return at().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{this.isLoading=!0}finally{this.isLoading=!1}case 1:case"end":return a.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(xo),T(Cm),T(x4))},t.\u0275cmp=Jt({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","top-center"]],template:function(e,n){1&e&&(U(0,"div"),Vt(1,"app-map-sidebar"),j(),U(2,"div"),Vt(3,"router-outlet"),j(),Vt(4,"p-toast",0))},directives:[PZ,nm,zZ],styles:[".content[_ngcontent-%COMP%]{padding-top:210px}.header[_ngcontent-%COMP%]{overflow:hidden;position:fixed;top:-8px;width:calc(100% - 16px);z-index:1000;margin-left:0;background-color:#fff;opacity:1;max-height:230px;min-height:230px}[_nghost-%COMP%]     .p-toast.p-component.p-toast-top-center{max-width:300px}"]}),t}(),ZZ=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({imports:[[gr]]}),t}(),Qe=!1;function HO(t){return new J(3e3,Qe)}function mX(t){return new J(3502,Qe)}function _X(){return new J(3300,Qe)}function CX(t){return new J(3504,Qe)}function IX(){return"undefined"!=typeof window&&void 0!==window.document}function o_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ao(t){switch(t.length){case 0:return new Jl;case 1:return t[0];default:return new hk(t)}}function UO(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(n.forEach(function(c){var f=c.offset,h=f==u,d=h&&l||{};Object.keys(c).forEach(function(v){var p=v,y=c[v];if("offset"!==v)switch(p=r.normalizePropertyName(p,o),y){case"!":y=i[v];break;case Ca:y=a[v];break;default:y=r.normalizeStyleValue(v,p,y,o)}d[p]=y}),h||s.push(d),l=d,u=f}),o.length)throw mX();return s}function s_(t,r,e,n){switch(r){case"start":t.onStart(function(){return n(e&&u_(e,"start",t))});break;case"done":t.onDone(function(){return n(e&&u_(e,"done",t))});break;case"destroy":t.onDestroy(function(){return n(e&&u_(e,"destroy",t))})}}function u_(t,r,e){var n=e.totalTime,a=l_(t.element,t.triggerName,t.fromState,t.toState,r||t.phaseName,null==n?t.totalTime:n,!!e.disabled),o=t._data;return null!=o&&(a._data=o),a}function l_(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:r,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function Er(t,r,e){var n;return t instanceof Map?(n=t.get(r))||t.set(r,n=e):(n=t[r])||(n=t[r]=e),n}function jO(t){var r=t.indexOf(":");return[t.substring(1,r),t.substr(r+1)]}var c_=function(r,e){return!1},GO=function(r,e,n){return[]},zO=null;function f_(t){var r=t.parentNode||t.host;return r===zO?null:r}(o_()||"undefined"!=typeof Element)&&(IX()?(zO=function(){return document.documentElement}(),c_=function(r,e){for(;e;){if(e===r)return!0;e=f_(e)}return!1}):c_=function(r,e){return r.contains(e)},GO=function(r,e,n){if(n)return Array.from(r.querySelectorAll(e));var i=r.querySelector(e);return i?[i]:[]});var $o=null,WO=!1;function qO(t){$o||($o=function MX(){return"undefined"!=typeof document?document.body:null}()||{},WO=!!$o.style&&"WebkitAppearance"in $o.style);var r=!0;return $o.style&&!function OX(t){return"ebkit"==t.substring(1,6)}(t)&&!(r=t in $o.style)&&WO&&(r="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in $o.style),r}var KO=c_,YO=GO,ZO=function(){var t=function(){function r(){m(this,r)}return g(r,[{key:"validateStyleProperty",value:function(n){return qO(n)}},{key:"matchesElement",value:function(n,i){return!1}},{key:"containsElement",value:function(n,i){return KO(n,i)}},{key:"getParentElement",value:function(n){return f_(n)}},{key:"query",value:function(n,i,a){return YO(n,i,a)}},{key:"computeStyle",value:function(n,i,a){return a||""}},{key:"animate",value:function(n,i,a,o,s){return new Jl(a,o)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),h_=function(){var t=g(function r(){m(this,r)});return t.NOOP=new ZO,t}(),QO="ng-enter",d_="ng-leave",Td="ng-trigger",Dd=".ng-trigger",$O="ng-animating",v_=".ng-animating";function Jo(t){if("number"==typeof t)return t;var r=t.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:p_(parseFloat(r[1]),r[2])}function p_(t,r){return"s"===r?1e3*t:t}function kd(t,r,e){return t.hasOwnProperty("duration")?t:function xX(t,r,e){var i,a=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return r.push(HO()),{duration:0,delay:0,easing:""};i=p_(parseFloat(s[1]),s[2]);var u=s[3];null!=u&&(a=p_(parseFloat(u),s[4]));var l=s[5];l&&(o=l)}else i=t;if(!e){var c=!1,f=r.length;i<0&&(r.push(function XZ(){return new J(3100,Qe)}()),c=!0),a<0&&(r.push(function QZ(){return new J(3101,Qe)}()),c=!0),c&&r.splice(f,0,HO())}return{duration:i,delay:a,easing:o}}(t,r,e)}function Pu(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function oo(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)for(var n in t)e[n]=t[n];else Pu(t,e);return e}function JO(t,r,e){return e?r+":"+e+";":""}function eM(t){for(var r="",e=0;e<t.style.length;e++){var n=t.style.item(e);r+=JO(0,n,t.style.getPropertyValue(n))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=JO(0,NX(i),t.style[i]));t.setAttribute("style",r)}function Xi(t,r,e){t.style&&(Object.keys(r).forEach(function(n){var i=m_(n);e&&!e.hasOwnProperty(n)&&(e[n]=t.style[i]),t.style[i]=r[n]}),o_()&&eM(t))}function es(t,r){t.style&&(Object.keys(r).forEach(function(e){var n=m_(e);t.style[n]=""}),o_()&&eM(t))}function Ic(t){return Array.isArray(t)?1==t.length?t[0]:uk(t):t}var g_=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function tM(t){var r=[];if("string"==typeof t){for(var e;e=g_.exec(t);)r.push(e[1]);g_.lastIndex=0}return r}function Id(t,r,e){var n=t.toString(),i=n.replace(g_,function(a,o){var s=r[o];return r.hasOwnProperty(o)||(e.push(function JZ(t){return new J(3003,Qe)}()),s=""),s.toString()});return i==n?t:i}function Ad(t){for(var r=[],e=t.next();!e.done;)r.push(e.value),e=t.next();return r}var LX=/-+([a-z0-9])/g;function m_(t){return t.replace(LX,function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function NX(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function VX(t,r){return 0===t||0===r}function BX(t,r,e){var n=Object.keys(e);if(n.length&&r.length){var i=r[0],a=[];if(n.forEach(function(u){i.hasOwnProperty(u)||a.push(u),i[u]=e[u]}),a.length)for(var o=function(){var l=r[s];a.forEach(function(c){l[c]=nM(t,c)})},s=1;s<r.length;s++)o()}return r}function wr(t,r,e){switch(r.type){case 7:return t.visitTrigger(r,e);case 0:return t.visitState(r,e);case 1:return t.visitTransition(r,e);case 2:return t.visitSequence(r,e);case 3:return t.visitGroup(r,e);case 4:return t.visitAnimate(r,e);case 5:return t.visitKeyframes(r,e);case 6:return t.visitStyle(r,e);case 8:return t.visitReference(r,e);case 9:return t.visitAnimateChild(r,e);case 10:return t.visitAnimateRef(r,e);case 11:return t.visitQuery(r,e);case 12:return t.visitStagger(r,e);default:throw function eX(t){return new J(3004,Qe)}()}}function nM(t,r){return window.getComputedStyle(t)[r]}function HX(t,r){var e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(n){return function UX(t,r,e){if(":"==t[0]){var n=function jX(t,r){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,n){return parseFloat(n)>parseFloat(e)};case":decrement":return function(e,n){return parseFloat(n)<parseFloat(e)};default:return r.push(function pX(t){return new J(3016,Qe)}()),"* => *"}}(t,e);if("function"==typeof n)return void r.push(n);t=n}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function vX(t){return new J(3015,Qe)}()),r;var a=i[1],o=i[2],s=i[3];r.push(rM(a,s)),"<"==o[0]&&!("*"==a&&"*"==s)&&r.push(rM(s,a))}(n,e,r)}):e.push(t),e}var Md=new Set(["true","1"]),Rd=new Set(["false","0"]);function rM(t,r){var e=Md.has(t)||Rd.has(t),n=Md.has(r)||Rd.has(r);return function(i,a){var o="*"==t||t==i,s="*"==r||r==a;return!o&&e&&"boolean"==typeof i&&(o=i?Md.has(t):Rd.has(t)),!s&&n&&"boolean"==typeof a&&(s=a?Md.has(r):Rd.has(r)),o&&s}}var GX=new RegExp("s*".concat(":self","s*,?"),"g");function aM(t,r,e){return new zX(t).build(r,e)}var zX=function(){function t(r){m(this,t),this._driver=r}return g(t,[{key:"build",value:function(e,n){var i=new KX(n);return this._resetContextStyleTimingState(i),wr(this,Ic(e),i)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,n){var i=this,a=n.queryCount=0,o=n.depCount=0,s=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push(function nX(){return new J(3006,Qe)}()),e.definitions.forEach(function(l){if(i._resetContextStyleTimingState(n),0==l.type){var c=l,f=c.name;f.toString().split(/\s*,\s*/).forEach(function(d){c.name=d,s.push(i.visitState(c,n))}),c.name=f}else if(1==l.type){var h=i.visitTransition(l,n);a+=h.queryCount,o+=h.depCount,u.push(h)}else n.errors.push(function rX(){return new J(3007,Qe)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:a,depCount:o,options:null}}},{key:"visitState",value:function(e,n){var i=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var o=new Set,s=a||{};i.styles.forEach(function(l){if(Pd(l)){var c=l;Object.keys(c).forEach(function(f){tM(c[f]).forEach(function(h){s.hasOwnProperty(h)||o.add(h)})})}}),o.size&&(Ad(o.values()),n.errors.push(function iX(t,r){return new J(3008,Qe)}()))}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,n){n.queryCount=0,n.depCount=0;var i=wr(this,Ic(e.animation),n);return{type:1,matchers:HX(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ts(e.options)}}},{key:"visitSequence",value:function(e,n){var i=this;return{type:2,steps:e.steps.map(function(a){return wr(i,a,n)}),options:ts(e.options)}}},{key:"visitGroup",value:function(e,n){var i=this,a=n.currentTime,o=0,s=e.steps.map(function(u){n.currentTime=a;var l=wr(i,u,n);return o=Math.max(o,n.currentTime),l});return n.currentTime=o,{type:3,steps:s,options:ts(e.options)}}},{key:"visitAnimate",value:function(e,n){var i=function ZX(t,r){var e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return y_(kd(t,r).duration,0,"");var i=t,a=i.split(/\s+/).some(function(s){return"{"==s.charAt(0)&&"{"==s.charAt(1)});if(a){var o=y_(0,0,"");return o.dynamic=!0,o.strValue=i,o}return y_((e=e||kd(i,r)).duration,e.delay,e.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;var a,o=e.styles?e.styles:qr({});if(5==o.type)a=this.visitKeyframes(o,n);else{var s=e.styles,u=!1;if(!s){u=!0;var l={};i.easing&&(l.easing=i.easing),s=qr(l)}n.currentTime+=i.duration+i.delay;var c=this.visitStyle(s,n);c.isEmptyStep=u,a=c}return n.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,n){var i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}},{key:"_makeStyleAst",value:function(e,n){var i=[];Array.isArray(e.styles)?e.styles.forEach(function(s){"string"==typeof s?s==Ca?i.push(s):n.errors.push(function aX(t){return new J(3002,Qe)}()):i.push(s)}):i.push(e.styles);var a=!1,o=null;return i.forEach(function(s){if(Pd(s)){var u=s,l=u.easing;if(l&&(o=l,delete u.easing),!a)for(var c in u)if(u[c].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}},{key:"_validateStyleAst",value:function(e,n){var i=this,a=n.currentAnimateTimings,o=n.currentTime,s=n.currentTime;a&&s>0&&(s-=a.duration+a.delay),e.styles.forEach(function(u){"string"!=typeof u&&Object.keys(u).forEach(function(l){if(i._driver.validateStyleProperty(l)){var c=n.collectedStyles[n.currentQuerySelector],f=c[l],h=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(n.errors.push(function sX(t,r,e,n,i){return new J(3010,Qe)}()),h=!1),s=f.startTime),h&&(c[l]={startTime:s,endTime:o}),n.options&&function FX(t,r,e){var n=r.params||{},i=tM(t);i.length&&i.forEach(function(a){n.hasOwnProperty(a)||e.push(function $Z(t){return new J(3001,Qe)}())})}(u[l],n.options,n.errors)}else n.errors.push(function oX(t){return new J(3009,Qe)}())})})}},{key:"visitKeyframes",value:function(e,n){var i=this,a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function uX(){return new J(3011,Qe)}()),a;var s=0,u=[],l=!1,c=!1,f=0,h=e.steps.map(function(E){var w=i._makeStyleAst(E,n),S=null!=w.offset?w.offset:function YX(t){if("string"==typeof t)return null;var r=null;if(Array.isArray(t))t.forEach(function(n){if(Pd(n)&&n.hasOwnProperty("offset")){var i=n;r=parseFloat(i.offset),delete i.offset}});else if(Pd(t)&&t.hasOwnProperty("offset")){var e=t;r=parseFloat(e.offset),delete e.offset}return r}(w.styles),k=0;return null!=S&&(s++,k=w.offset=S),c=c||k<0||k>1,l=l||k<f,f=k,u.push(k),w});c&&n.errors.push(function lX(){return new J(3012,Qe)}()),l&&n.errors.push(function cX(){return new J(3200,Qe)}());var d=e.steps.length,v=0;s>0&&s<d?n.errors.push(function fX(){return new J(3202,Qe)}()):0==s&&(v=1/(d-1));var p=d-1,y=n.currentTime,C=n.currentAnimateTimings,_=C.duration;return h.forEach(function(E,w){var S=v>0?w==p?1:v*w:u[w],k=S*_;n.currentTime=y+C.delay+k,C.duration=k,i._validateStyleAst(E,n),E.offset=S,a.styles.push(E)}),a}},{key:"visitReference",value:function(e,n){return{type:8,animation:wr(this,Ic(e.animation),n),options:ts(e.options)}}},{key:"visitAnimateChild",value:function(e,n){return n.depCount++,{type:9,options:ts(e.options)}}},{key:"visitAnimateRef",value:function(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ts(e.options)}}},{key:"visitQuery",value:function(e,n){var i=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;var o=function WX(t){var r=!!t.split(/\s*,\s*/).find(function(e){return":self"==e});return r&&(t=t.replace(GX,"")),t=t.replace(/@\*/g,Dd).replace(/@\w+/g,function(e){return Dd+"-"+e.substr(1)}).replace(/:animating/g,v_),[t,r]}(e.selector),s=W(o,2),u=s[0],l=s[1];n.currentQuerySelector=i.length?i+" "+u:u,Er(n.collectedStyles,n.currentQuerySelector,{});var c=wr(this,Ic(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:ts(e.options)}}},{key:"visitStagger",value:function(e,n){n.currentQuery||n.errors.push(function hX(){return new J(3013,Qe)}());var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:kd(e.timings,n.errors,!0);return{type:12,animation:wr(this,Ic(e.animation),n),timings:i,options:null}}}]),t}(),KX=g(function t(r){m(this,t),this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function Pd(t){return!Array.isArray(t)&&"object"==typeof t}function ts(t){return t?(t=Pu(t)).params&&(t.params=function qX(t){return t?Pu(t):null}(t.params)):t={},t}function y_(t,r,e){return{duration:t,delay:r,easing:e}}function __(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:r,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var C_=function(){function t(){m(this,t),this._map=new Map}return g(t,[{key:"get",value:function(e){return this._map.get(e)||[]}},{key:"append",value:function(e,n){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,K(n))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),$X=new RegExp(":enter","g"),e7=new RegExp(":leave","g");function sM(t,r,e,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new t7).buildKeyframes(t,r,e,n,i,a,o,s,u,l)}var t7=function(){function t(){m(this,t)}return g(t,[{key:"buildKeyframes",value:function(e,n,i,a,o,s,u,l,c){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new C_;var h=new n7(e,n,c,a,o,f,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),wr(this,i,h);var d=h.timelines.filter(function(C){return C.containsAnimation()});if(Object.keys(u).length){for(var v,p=d.length-1;p>=0;p--){var y=d[p];if(y.element===n){v=y;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([u],null,h.errors,l)}return d.length?d.map(function(C){return C.buildKeyframes()}):[__(n,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,n){}},{key:"visitState",value:function(e,n){}},{key:"visitTransition",value:function(e,n){}},{key:"visitAnimateChild",value:function(e,n){var i=n.subInstructions.get(n.element);if(i){var a=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,a,a.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}},{key:"visitAnimateRef",value:function(e,n){var i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}},{key:"_visitSubInstructions",value:function(e,n,i){var o=n.currentTimeline.currentTime,s=null!=i.duration?Jo(i.duration):null,u=null!=i.delay?Jo(i.delay):null;return 0!==s&&e.forEach(function(l){var c=n.appendInstructionToTimeline(l,s,u);o=Math.max(o,c.duration+c.delay)}),o}},{key:"visitReference",value:function(e,n){n.updateOptions(e.options,!0),wr(this,e.animation,n),n.previousNode=e}},{key:"visitSequence",value:function(e,n){var i=this,a=n.subContextCount,o=n,s=e.options;if(s&&(s.params||s.delay)&&((o=n.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=xd);var u=Jo(s.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(function(l){return wr(i,l,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),n.previousNode=e}},{key:"visitGroup",value:function(e,n){var i=this,a=[],o=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Jo(e.options.delay):0;e.steps.forEach(function(u){var l=n.createSubContext(e.options);s&&l.delayNextStep(s),wr(i,u,l),o=Math.max(o,l.currentTimeline.currentTime),a.push(l.currentTimeline)}),a.forEach(function(u){return n.currentTimeline.mergeTimelineCollectedStyles(u)}),n.transformIntoNewTimeline(o),n.previousNode=e}},{key:"_visitTiming",value:function(e,n){if(e.dynamic){var i=e.strValue;return kd(n.params?Id(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,n){var i=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}},{key:"visitStyle",value:function(e,n){var i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}},{key:"visitKeyframes",value:function(e,n){var i=n.currentAnimateTimings,a=n.currentTimeline.duration,o=i.duration,u=n.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(function(l){u.forwardTime((l.offset||0)*o),u.setStyles(l.styles,l.easing,n.errors,n.options),u.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(u),n.transformIntoNewTimeline(a+o),n.previousNode=e}},{key:"visitQuery",value:function(e,n){var i=this,a=n.currentTimeline.currentTime,o=e.options||{},s=o.delay?Jo(o.delay):0;s&&(6===n.previousNode.type||0==a&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=xd);var u=a,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=l.length;var c=null;l.forEach(function(f,h){n.currentQueryIndex=h;var d=n.createSubContext(e.options,f);s&&d.delayNextStep(s),f===n.element&&(c=d.currentTimeline),wr(i,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}},{key:"visitStagger",value:function(e,n){var i=n.parentContext,a=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),u=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=u-l;break;case"full":l=i.currentStaggerTime}var f=n.currentTimeline;l&&f.delayNextStep(l);var h=f.currentTime;wr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=a.currentTime-h+(a.startTime-i.currentTimeline.startTime)}}]),t}(),xd={},n7=function(){function t(r,e,n,i,a,o,s,u){m(this,t),this._driver=r,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new uM(this._driver,e,0),s.push(this.currentTimeline)}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,n){var i=this;if(e){var a=e,o=this.options;null!=a.duration&&(o.duration=Jo(a.duration)),null!=a.delay&&(o.delay=Jo(a.delay));var s=a.params;if(s){var u=o.params;u||(u=this.options.params={}),Object.keys(s).forEach(function(l){(!n||!u.hasOwnProperty(l))&&(u[l]=Id(s[l],u,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var n=this.options.params;if(n){var i=e.params={};Object.keys(n).forEach(function(a){i[a]=n[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,o=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=xd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,n,i){var a={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new r7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(o),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,n,i,a,o,s){var u=[];if(a&&u.push(this.element),e.length>0){e=(e=e.replace($X,"."+this._enterClassName)).replace(e7,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),u.push.apply(u,K(c))}return!o&&0==u.length&&s.push(function dX(t){return new J(3014,Qe)}()),u}}]),t}(),uM=function(){function t(r,e,n,i){m(this,t),this._driver=r,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return g(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,n){this._localTimelineStyles[e]=n,this._globalTimelineStyles[e]=n,this._styleSummary[e]={time:this.currentTime,value:n}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var n=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(i){n._backFill[i]=n._globalTimelineStyles[i]||Ca,n._currentKeyframe[i]=Ca}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,n,i,a){var o=this;n&&(this._previousKeyframe.easing=n);var s=a&&a.params||{},u=function i7(t,r){var n,e={};return t.forEach(function(i){"*"===i?(n=n||Object.keys(r)).forEach(function(a){e[a]=Ca}):oo(i,!1,e)}),e}(e,this._globalTimelineStyles);Object.keys(u).forEach(function(l){var c=Id(u[l],s,i);o._pendingStyles[l]=c,o._localTimelineStyles.hasOwnProperty(l)||(o._backFill[l]=o._globalTimelineStyles.hasOwnProperty(l)?o._globalTimelineStyles[l]:Ca),o._updateStyle(l,c)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(function(a){e._currentKeyframe[a]=n[a]}),Object.keys(this._localTimelineStyles).forEach(function(a){e._currentKeyframe.hasOwnProperty(a)||(e._currentKeyframe[a]=e._localTimelineStyles[a])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(n){var i=e._localTimelineStyles[n];e._pendingStyles[n]=i,e._updateStyle(n,i)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var n in this._currentKeyframe)e.push(n);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var n=this;Object.keys(e._styleSummary).forEach(function(i){var a=n._styleSummary[i],o=e._styleSummary[i];(!a||o.time>a.time)&&n._updateStyle(i,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var n=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(f,h){var d=oo(f,!0);Object.keys(d).forEach(function(v){var p=d[v];"!"==p?n.add(v):p==Ca&&i.add(v)}),a||(d.offset=h/e.duration),o.push(d)});var s=n.size?Ad(n.values()):[],u=i.size?Ad(i.values()):[];if(a){var l=o[0],c=Pu(l);l.offset=0,c.offset=1,o=[l,c]}return __(this.element,o,s,u,this.duration,this.startTime,this.easing,!1)}}]),t}(),r7=function(t){A(e,t);var r=O(e);function e(n,i,a,o,s,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return m(this,e),(l=r.call(this,n,i,u.delay)).keyframes=a,l.preStyleProps=o,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return g(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var i=this.keyframes,a=this.timings,o=a.delay,s=a.duration,u=a.easing;if(this._stretchStartingKeyframe&&o){var l=[],c=s+o,f=o/c,h=oo(i[0],!1);h.offset=0,l.push(h);var d=oo(i[0],!1);d.offset=lM(f),l.push(d);for(var v=i.length-1,p=1;p<=v;p++){var y=oo(i[p],!1);y.offset=lM((o+y.offset*s)/c),l.push(y)}s=c,o=0,u="",i=l}return __(this.element,i,this.preStyleProps,this.postStyleProps,s,o,u,!0)}}]),e}(uM);function lM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.pow(10,r-1);return Math.round(t*e)/e}var E_=g(function t(){m(this,t)}),a7=function(t){A(e,t);var r=O(e);function e(){return m(this,e),r.apply(this,arguments)}return g(e,[{key:"normalizePropertyName",value:function(i,a){return m_(i)}},{key:"normalizeStyleValue",value:function(i,a,o,s){var u="",l=o.toString().trim();if(o7[a]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{var c=o.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push(function tX(t,r){return new J(3005,Qe)}())}return l+u}}]),e}(E_),o7=function(){return function s7(t){var r={};return t.forEach(function(e){return r[e]=!0}),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function cM(t,r,e,n,i,a,o,s,u,l,c,f,h){return{type:0,element:t,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:f,errors:h}}var w_={},fM=function(){function t(r,e,n){m(this,t),this._triggerName=r,this.ast=e,this._stateStyles=n}return g(t,[{key:"match",value:function(e,n,i,a){return function u7(t,r,e,n,i){return t.some(function(a){return a(r,e,n,i)})}(this.ast.matchers,e,n,i,a)}},{key:"buildStyles",value:function(e,n,i){var a=this._stateStyles["*"],o=this._stateStyles[e],s=a?a.buildStyles(n,i):{};return o?o.buildStyles(n,i):s}},{key:"build",value:function(e,n,i,a,o,s,u,l,c,f){var h=[],d=this.ast.options&&this.ast.options.params||w_,p=this.buildStyles(i,u&&u.params||w_,h),y=l&&l.params||w_,C=this.buildStyles(a,y,h),_=new Set,E=new Map,w=new Map,S="void"===a,k={params:Object.assign(Object.assign({},d),y)},I=f?[]:sM(e,n,this.ast.animation,o,s,p,C,k,c,h),R=0;if(I.forEach(function(q){R=Math.max(q.duration+q.delay,R)}),h.length)return cM(n,this._triggerName,i,a,S,p,C,[],[],E,w,R,h);I.forEach(function(q){var G=q.element,ee=Er(E,G,{});q.preStyleProps.forEach(function(_e){return ee[_e]=!0});var de=Er(w,G,{});q.postStyleProps.forEach(function(_e){return de[_e]=!0}),G!==n&&_.add(G)});var L=Ad(_.values());return cM(n,this._triggerName,i,a,S,p,C,I,L,E,w,R)}}]),t}(),l7=function(){function t(r,e,n){m(this,t),this.styles=r,this.defaultParams=e,this.normalizer=n}return g(t,[{key:"buildStyles",value:function(e,n){var i=this,a={},o=Pu(this.defaultParams);return Object.keys(e).forEach(function(s){var u=e[s];null!=u&&(o[s]=u)}),this.styles.styles.forEach(function(s){if("string"!=typeof s){var u=s;Object.keys(u).forEach(function(l){var c=u[l];c.length>1&&(c=Id(c,o,n));var f=i.normalizer.normalizePropertyName(l,n);c=i.normalizer.normalizeStyleValue(l,f,c,n),a[f]=c})}}),a}}]),t}(),f7=function(){function t(r,e,n){var i=this;m(this,t),this.name=r,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(function(a){i.states[a.name]=new l7(a.style,a.options&&a.options.params||{},n)}),hM(this.states,"true","1"),hM(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new fM(r,a,i.states))}),this.fallbackTransition=function h7(t,r,e){return new fM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(o,s){return!0}],options:null,queryCount:0,depCount:0},r)}(r,this.states)}return g(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,n,i,a){return this.transitionFactories.find(function(s){return s.match(e,n,i,a)})||null}},{key:"matchStyles",value:function(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}]),t}();function hM(t,r,e){t.hasOwnProperty(r)?t.hasOwnProperty(e)||(t[e]=t[r]):t.hasOwnProperty(e)&&(t[r]=t[e])}var d7=new C_,v7=function(){function t(r,e,n){m(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return g(t,[{key:"register",value:function(e,n){var i=[],a=aM(this._driver,n,i);if(i.length)throw function yX(t){return new J(3503,Qe)}();this._animations[e]=a}},{key:"_buildPlayer",value:function(e,n,i){var a=e.element,o=UO(this._driver,this._normalizer,a,e.keyframes,n,i);return this._driver.animate(a,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,n){var u,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],l=new Map;if(s?(u=sM(this._driver,n,s,QO,d_,{},{},a,d7,o)).forEach(function(h){var d=Er(l,h.element,{});h.postStyleProps.forEach(function(v){return d[v]=null})}):(o.push(_X()),u=[]),o.length)throw CX();l.forEach(function(h,d){Object.keys(h).forEach(function(v){h[v]=i._driver.computeStyle(d,v,Ca)})});var c=u.map(function(h){var d=l.get(h.element);return i._buildPlayer(h,{},d)}),f=ao(c);return this._playersById[e]=f,f.onDestroy(function(){return i.destroy(e)}),this.players.push(f),f}},{key:"destroy",value:function(e){var n=this._getPlayer(e);n.destroy(),delete this._playersById[e];var i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var n=this._playersById[e];if(!n)throw function EX(t){return new J(3301,Qe)}();return n}},{key:"listen",value:function(e,n,i,a){var o=l_(n,"","","");return s_(this._getPlayer(e),i,o,a),function(){}}},{key:"command",value:function(e,n,i,a){if("register"!=i)if("create"!=i){var s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,n,a[0]||{});else this.register(e,a[0])}}]),t}(),dM="ng-animate-queued",S_="ng-animate-disabled",m7="ng-star-inserted",_7=[],vM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed",b_=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m(this,t),this.namespaceId=e;var n=r&&r.hasOwnProperty("value"),i=n?r.value:r;if(this.value=b7(i),n){var a=Pu(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var n=e.params;if(n){var i=this.options.params;Object.keys(n).forEach(function(a){null==i[a]&&(i[a]=n[a])})}}}]),t}(),Ac="void",T_=new b_(Ac),E7=function(){function t(r,e,n){m(this,t),this.id=r,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Qr(e,this._hostClassName)}return g(t,[{key:"listen",value:function(e,n,i,a){var o=this;if(!this._triggers.hasOwnProperty(n))throw function wX(t,r){return new J(3302,Qe)}();if(null==i||0==i.length)throw function SX(t){return new J(3303,Qe)}();if(!function T7(t){return"start"==t||"done"==t}(i))throw function bX(t,r){return new J(3400,Qe)}();var s=Er(this._elementListeners,e,[]),u={name:n,phase:i,callback:a};s.push(u);var l=Er(this._engine.statesByElement,e,{});return l.hasOwnProperty(n)||(Qr(e,Td),Qr(e,Td+"-"+n),l[n]=T_),function(){o._engine.afterFlush(function(){var c=s.indexOf(u);c>=0&&s.splice(c,1),o._triggers[n]||delete l[n]})}}},{key:"register",value:function(e,n){return!this._triggers[e]&&(this._triggers[e]=n,!0)}},{key:"_getTrigger",value:function(e){var n=this._triggers[e];if(!n)throw function TX(t){return new J(3401,Qe)}();return n}},{key:"trigger",value:function(e,n,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(n),u=new D_(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Qr(e,Td),Qr(e,Td+"-"+n),this._engine.statesByElement.set(e,l={}));var c=l[n],f=new b_(i,this.id),h=i&&i.hasOwnProperty("value");!h&&c&&f.absorbOptions(c.options),l[n]=f,c||(c=T_);var d=f.value===Ac;if(d||c.value!==f.value){var C=Er(this._engine.playersByElement,e,[]);C.forEach(function(w){w.namespaceId==a.id&&w.triggerName==n&&w.queued&&w.destroy()});var _=s.matchTransition(c.value,f.value,e,f.params),E=!1;if(!_){if(!o)return;_=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:f,player:u,isFallbackTransition:E}),E||(Qr(e,dM),u.onStart(function(){xu(e,dM)})),u.onDone(function(){var w=a.players.indexOf(u);w>=0&&a.players.splice(w,1);var S=a._engine.playersByElement.get(e);if(S){var k=S.indexOf(u);k>=0&&S.splice(k,1)}}),this.players.push(u),C.push(u),u}if(!I7(c.params,f.params)){var v=[],p=s.matchStyles(c.value,c.params,v),y=s.matchStyles(f.value,f.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(function(){es(e,p),Xi(e,y)})}}},{key:"deregister",value:function(e){var n=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(i,a){delete i[e]}),this._elementListeners.forEach(function(i,a){n._elementListeners.set(a,i.filter(function(o){return o.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var n=this._engine.playersByElement.get(e);n&&(n.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var i=this,a=this._engine.driver.query(e,Dd,!0);a.forEach(function(o){if(!o[Xr]){var s=i._engine.fetchNamespacesByElement(o);s.size?s.forEach(function(u){return u.triggerLeaveAnimation(o,n,!1,!0)}):i.clearElementCache(o)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(o){return i.clearElementCache(o)})})}},{key:"triggerLeaveAnimation",value:function(e,n,i,a){var o=this,s=this._engine.statesByElement.get(e),u=new Map;if(s){var l=[];if(Object.keys(s).forEach(function(c){if(u.set(c,s[c].value),o._triggers[c]){var f=o.trigger(e,c,Ac,a);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,u),i&&ao(l).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var n=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var o=new Set;i.forEach(function(s){var u=s.name;if(!o.has(u)){o.add(u);var c=n._triggers[u].fallbackTransition,f=a[u]||T_,h=new b_(Ac),d=new D_(n.id,u,e);n._engine.totalQueuedPlayers++,n._queue.push({element:e,triggerName:u,transition:c,fromState:f,toState:h,player:d,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,n){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),!this.triggerLeaveAnimation(e,n,!0)){var o=!1;if(a.totalAnimations){var s=a.players.length?a.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else for(var u=e;u=u.parentNode;)if(a.statesByElement.get(u)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)a.markElementAsRemoved(this.id,e,!1,n);else{var c=e[Xr];(!c||c===vM)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,n))}}}},{key:"insertNode",value:function(e,n){Qr(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var n=this,i=[];return this._queue.forEach(function(a){var o=a.player;if(!o.destroyed){var s=a.element,u=n._elementListeners.get(s);u&&u.forEach(function(l){if(l.name==a.triggerName){var c=l_(s,a.triggerName,a.fromState.value,a.toState.value);c._data=e,s_(a.player,l.phase,c,l.callback)}}),o.markedForDestroy?n._engine.afterFlush(function(){o.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,o){var s=a.transition.ast.depCount,u=o.transition.ast.depCount;return 0==s||0==u?s-u:n._engine.driver.containsElement(a.element,o.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(n){return n.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var n=!1;return this._elementListeners.has(e)&&(n=!0),!!this._queue.find(function(i){return i.element===e})||n}}]),t}(),w7=function(){function t(r,e,n){m(this,t),this.bodyNode=r,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(i,a){}}return g(t,[{key:"_onRemovalComplete",value:function(e,n){this.onRemovalComplete(e,n)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(n){n.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,n){var i=new E7(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,n){var i=this._namespaceList,a=this.namespacesByHostElement,o=i.length-1;if(o>=0){var s=!1;if(void 0!==this.driver.getParentElement)for(var u=this.driver.getParentElement(n);u;){var l=a.get(u);if(l){var c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}u=this.driver.getParentElement(u)}else for(var f=o;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,n)){i.splice(f+1,0,e),s=!0;break}s||i.unshift(e)}else i.push(e);return a.set(n,e),e}},{key:"register",value:function(e,n){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}},{key:"registerTrigger",value:function(e,n,i){var a=this._namespaceLookup[e];a&&a.register(n,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,n){var i=this;if(e){var a=this._fetchNamespace(e);this.afterFlush(function(){i.namespacesByHostElement.delete(a.hostElement),delete i._namespaceLookup[e];var o=i._namespaceList.indexOf(a);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return a.destroy(n)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var n=new Set,i=this.statesByElement.get(e);if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=i[a[o]].namespaceId;if(s){var u=this._fetchNamespace(s);u&&n.add(u)}}return n}},{key:"trigger",value:function(e,n,i,a){if(Fd(n)){var o=this._fetchNamespace(e);if(o)return o.trigger(n,i,a),!0}return!1}},{key:"insertNode",value:function(e,n,i,a){if(Fd(n)){var o=n[Xr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){var u=this._fetchNamespace(e);u&&u.insertNode(n,i)}a&&this.collectEnterElement(n)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qr(e,S_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xu(e,S_))}},{key:"removeNode",value:function(e,n,i,a){if(Fd(n)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,a):this.markElementAsRemoved(e,n,!1,a),i){var s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,a)}}else this._onRemovalComplete(n,a)}},{key:"markElementAsRemoved",value:function(e,n,i,a,o){this.collectedLeaveElements.push(n),n[Xr]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}},{key:"listen",value:function(e,n,i,a,o){return Fd(n)?this._fetchNamespace(e).listen(n,i,a,o):function(){}}},{key:"_buildInstruction",value:function(e,n,i,a,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,n,o)}},{key:"destroyInnerAnimations",value:function(e){var n=this,i=this.driver.query(e,Dd,!0);i.forEach(function(a){return n.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,v_,!0)).forEach(function(a){return n.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var n=this.playersByElement.get(e);n&&n.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var n=this.playersByQueriedElement.get(e);n&&n.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(n){if(e.players.length)return ao(e.players).onDone(function(){return n()});n()})}},{key:"processLeaveNode",value:function(e){var i,n=this,a=e[Xr];if(a&&a.setForRemoval){if(e[Xr]=vM,a.namespaceId){this.destroyInnerAnimations(e);var o=this._fetchNamespace(a.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,a.setForRemoval)}(null===(i=e.classList)||void 0===i?void 0:i.contains(S_))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(s){n.markElementAsDisabled(s,!1)})}},{key:"flush",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(h,d){return e._balanceNamespaceList(h,d)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++){var o=this.collectedEnterElements[a];Qr(o,m7)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var s=[];try{i=this._flushAnimations(s,n)}finally{for(var u=0;u<s.length;u++)s[u]()}}else for(var l=0;l<this.collectedLeaveElements.length;l++){var c=this.collectedLeaveElements[l];this.processLeaveNode(c)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(h){return h()}),this._flushFns=[],this._whenQuietFns.length){var f=this._whenQuietFns;this._whenQuietFns=[],i.length?ao(i).onDone(function(){f.forEach(function(h){return h()})}):f.forEach(function(h){return h()})}}},{key:"reportError",value:function(e){throw function DX(t){return new J(3402,Qe)}()}},{key:"_flushAnimations",value:function(e,n){var i=this,a=new C_,o=[],s=new Map,u=[],l=new Map,c=new Map,f=new Map,h=new Set;this.disabledNodes.forEach(function(Z){h.add(Z);for(var fe=i.driver.query(Z,".ng-animate-queued",!0),pe=0;pe<fe.length;pe++)h.add(fe[pe])});var d=this.bodyNode,v=Array.from(this.statesByElement.keys()),p=mM(v,this.collectedEnterElements),y=new Map,C=0;p.forEach(function(Z,fe){var pe=QO+C++;y.set(fe,pe),Z.forEach(function(St){return Qr(St,pe)})});for(var _=[],E=new Set,w=new Set,S=0;S<this.collectedLeaveElements.length;S++){var k=this.collectedLeaveElements[S],I=k[Xr];I&&I.setForRemoval&&(_.push(k),E.add(k),I.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(Z){return E.add(Z)}):w.add(k))}var R=new Map,L=mM(v,Array.from(E));L.forEach(function(Z,fe){var pe=d_+C++;R.set(fe,pe),Z.forEach(function(St){return Qr(St,pe)})}),e.push(function(){p.forEach(function(Z,fe){var pe=y.get(fe);Z.forEach(function(St){return xu(St,pe)})}),L.forEach(function(Z,fe){var pe=R.get(fe);Z.forEach(function(St){return xu(St,pe)})}),_.forEach(function(Z){i.processLeaveNode(Z)})});for(var q=[],G=[],ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(n).forEach(function(Z){var fe=Z.player,pe=Z.element;if(q.push(fe),i.collectedEnterElements.length){var St=pe[Xr];if(St&&St.setForMove){if(St.previousTriggersValues&&St.previousTriggersValues.has(Z.triggerName)){var $r=St.previousTriggersValues.get(Z.triggerName),Sr=i.statesByElement.get(Z.element);Sr&&Sr[Z.triggerName]&&(Sr[Z.triggerName].value=$r)}return void fe.destroy()}}var bi=!d||!i.driver.containsElement(d,pe),$i=R.get(pe),uo=y.get(pe),Pt=i._buildInstruction(Z,a,uo,$i,bi);if(Pt.errors&&Pt.errors.length)G.push(Pt);else{if(bi)return fe.onStart(function(){return es(pe,Pt.fromStyles)}),fe.onDestroy(function(){return Xi(pe,Pt.toStyles)}),void o.push(fe);if(Z.isFallbackTransition)return fe.onStart(function(){return es(pe,Pt.fromStyles)}),fe.onDestroy(function(){return Xi(pe,Pt.toStyles)}),void o.push(fe);var br=[];Pt.timelines.forEach(function(Tr){Tr.stretchStartingKeyframe=!0,i.disabledNodes.has(Tr.element)||br.push(Tr)}),Pt.timelines=br,a.append(pe,Pt.timelines),u.push({instruction:Pt,player:fe,element:pe}),Pt.queriedElements.forEach(function(Tr){return Er(l,Tr,[]).push(fe)}),Pt.preStyleProps.forEach(function(Tr,Ji){var ea=Object.keys(Tr);if(ea.length){var Vn=c.get(Ji);Vn||c.set(Ji,Vn=new Set),ea.forEach(function(Dr){return Vn.add(Dr)})}}),Pt.postStyleProps.forEach(function(Tr,Ji){var ea=Object.keys(Tr),Vn=f.get(Ji);Vn||f.set(Ji,Vn=new Set),ea.forEach(function(Dr){return Vn.add(Dr)})})}});if(G.length){var _e=[];G.forEach(function(Z){_e.push(function kX(t,r){return new J(3505,Qe)}())}),q.forEach(function(Z){return Z.destroy()}),this.reportError(_e)}var se=new Map,Oe=new Map;u.forEach(function(Z){var fe=Z.element;a.has(fe)&&(Oe.set(fe,fe),i._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,se))}),o.forEach(function(Z){var fe=Z.element;i._getPreviousPlayers(fe,!1,Z.namespaceId,Z.triggerName,null).forEach(function(St){Er(se,fe,[]).push(St),St.destroy()})});var Te=_.filter(function(Z){return _M(Z,c,f)}),nt=new Map;gM(nt,this.driver,w,f,Ca).forEach(function(Z){_M(Z,c,f)&&Te.push(Z)});var Pe=new Map;p.forEach(function(Z,fe){gM(Pe,i.driver,new Set(Z),c,"!")}),Te.forEach(function(Z){var fe=nt.get(Z),pe=Pe.get(Z);nt.set(Z,Object.assign(Object.assign({},fe),pe))});var dt=[],B=[],yn={};u.forEach(function(Z){var fe=Z.element,pe=Z.player,St=Z.instruction;if(a.has(fe)){if(h.has(fe))return pe.onDestroy(function(){return Xi(fe,St.toStyles)}),pe.disabled=!0,pe.overrideTotalTime(St.totalTime),void o.push(pe);var $r=yn;if(Oe.size>1){for(var Sr=fe,bi=[];Sr=Sr.parentNode;){var $i=Oe.get(Sr);if($i){$r=$i;break}bi.push(Sr)}bi.forEach(function(br){return Oe.set(br,$r)})}var uo=i._buildAnimation(pe.namespaceId,St,se,s,Pe,nt);if(pe.setRealPlayer(uo),$r===yn)dt.push(pe);else{var Pt=i.playersByElement.get($r);Pt&&Pt.length&&(pe.parentPlayer=ao(Pt)),o.push(pe)}}else es(fe,St.fromStyles),pe.onDestroy(function(){return Xi(fe,St.toStyles)}),B.push(pe),h.has(fe)&&o.push(pe)}),B.forEach(function(Z){var fe=s.get(Z.element);if(fe&&fe.length){var pe=ao(fe);Z.setRealPlayer(pe)}}),o.forEach(function(Z){Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(var He=0;He<_.length;He++){var et=_[He],_n=et[Xr];if(xu(et,d_),!_n||!_n.hasAnimation){var Yt=[];if(l.size){var sn=l.get(et);sn&&sn.length&&Yt.push.apply(Yt,K(sn));for(var Nn=this.driver.query(et,v_,!0),Qi=0;Qi<Nn.length;Qi++){var nr=l.get(Nn[Qi]);nr&&nr.length&&Yt.push.apply(Yt,K(nr))}}var ns=Yt.filter(function(Z){return!Z.destroyed});ns.length?D7(this,et,ns):this.processLeaveNode(et)}}return _.length=0,dt.forEach(function(Z){i.players.push(Z),Z.onDone(function(){Z.destroy();var fe=i.players.indexOf(Z);i.players.splice(fe,1)}),Z.play()}),dt}},{key:"elementContainsData",value:function(e,n){var i=!1,a=n[Xr];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,n,i,a,o){var s=[];if(n){var u=this.playersByQueriedElement.get(e);u&&(s=u)}else{var l=this.playersByElement.get(e);if(l){var c=!o||o==Ac;l.forEach(function(f){f.queued||!c&&f.triggerName!=a||s.push(f)})}}return(i||a)&&(s=s.filter(function(f){return!(i&&i!=f.namespaceId||a&&a!=f.triggerName)})),s}},{key:"_beforeAnimationBuild",value:function(e,n,i){var f,a=this,s=n.element,u=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName,c=b(n.timelines);try{var h=function(){var p=f.value.element,y=p!==s,C=Er(i,p,[]);a._getPreviousPlayers(p,y,u,l,n.toState).forEach(function(E){var w=E.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),E.destroy(),C.push(E)})};for(c.s();!(f=c.n()).done;)h()}catch(d){c.e(d)}finally{c.f()}es(s,n.fromStyles)}},{key:"_buildAnimation",value:function(e,n,i,a,o,s){var u=this,l=n.triggerName,c=n.element,f=[],h=new Set,d=new Set,v=n.timelines.map(function(y){var C=y.element;h.add(C);var _=C[Xr];if(_&&_.removedBeforeQueried)return new Jl(y.duration,y.delay);var E=C!==c,w=function k7(t){var r=[];return yM(t,r),r}((i.get(C)||_7).map(function(q){return q.getRealPlayer()})).filter(function(q){return!!q.element&&q.element===C}),S=o.get(C),k=s.get(C),I=UO(u.driver,u._normalizer,C,y.keyframes,S,k),R=u._buildPlayer(y,I,w);if(y.subTimeline&&a&&d.add(C),E){var L=new D_(e,l,C);L.setRealPlayer(R),f.push(L)}return R});f.forEach(function(y){Er(u.playersByQueriedElement,y.element,[]).push(y),y.onDone(function(){return function S7(t,r,e){var n;if(t instanceof Map){if(n=t.get(r)){if(n.length){var i=n.indexOf(e);n.splice(i,1)}0==n.length&&t.delete(r)}}else if(n=t[r]){if(n.length){var a=n.indexOf(e);n.splice(a,1)}0==n.length&&delete t[r]}return n}(u.playersByQueriedElement,y.element,y)})}),h.forEach(function(y){return Qr(y,$O)});var p=ao(v);return p.onDestroy(function(){h.forEach(function(y){return xu(y,$O)}),Xi(c,n.toStyles)}),d.forEach(function(y){Er(a,y,[]).push(p)}),p}},{key:"_buildPlayer",value:function(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Jl(e.duration,e.delay)}}]),t}(),D_=function(){function t(r,e,n){m(this,t),this.namespaceId=r,this.triggerName=e,this.element=n,this._player=new Jl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(t,[{key:"setRealPlayer",value:function(e){var n=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(i){n._queuedCallbacks[i].forEach(function(a){return s_(e,i,void 0,a)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var n=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return n.finish()}),e.onDestroy(function(){return n.destroy()})}},{key:"_queueEvent",value:function(e,n){Er(this._queuedCallbacks,e,[]).push(n)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var n=this._player;n.triggerCallback&&n.triggerCallback(e)}}]),t}();function b7(t){return null!=t?t:null}function Fd(t){return t&&1===t.nodeType}function pM(t,r){var e=t.style.display;return t.style.display=null!=r?r:"none",e}function gM(t,r,e,n,i){var a=[];e.forEach(function(u){return a.push(pM(u))});var o=[];n.forEach(function(u,l){var c={};u.forEach(function(f){var h=c[f]=r.computeStyle(l,f,i);(!h||0==h.length)&&(l[Xr]=C7,o.push(l))}),t.set(l,c)});var s=0;return e.forEach(function(u){return pM(u,a[s++])}),o}function mM(t,r){var e=new Map;if(t.forEach(function(s){return e.set(s,[])}),0==r.length)return e;var i=new Set(r),a=new Map;function o(s){if(!s)return 1;var u=a.get(s);if(u)return u;var l=s.parentNode;return u=e.has(l)?l:i.has(l)?1:o(l),a.set(s,u),u}return r.forEach(function(s){var u=o(s);1!==u&&e.get(u).push(s)}),e}function Qr(t,r){var e;null===(e=t.classList)||void 0===e||e.add(r)}function xu(t,r){var e;null===(e=t.classList)||void 0===e||e.remove(r)}function D7(t,r,e){ao(e).onDone(function(){return t.processLeaveNode(r)})}function yM(t,r){for(var e=0;e<t.length;e++){var n=t[e];n instanceof hk?yM(n.players,r):r.push(n)}}function I7(t,r){var e=Object.keys(t),n=Object.keys(r);if(e.length!=n.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!r.hasOwnProperty(a)||t[a]!==r[a])return!1}return!0}function _M(t,r,e){var n=e.get(t);if(!n)return!1;var i=r.get(t);return i?n.forEach(function(a){return i.add(a)}):r.set(t,n),e.delete(t),!0}var Ld=function(){function t(r,e,n){var i=this;m(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=function(a,o){},this._transitionEngine=new w7(r,e,n),this._timelineEngine=new v7(r,e,n),this._transitionEngine.onRemovalComplete=function(a,o){return i.onRemovalComplete(a,o)}}return g(t,[{key:"registerTrigger",value:function(e,n,i,a,o){var s=e+"-"+a,u=this._triggerCache[s];if(!u){var l=[],c=aM(this._driver,o,l);if(l.length)throw function gX(t,r){return new J(3404,Qe)}();u=function c7(t,r,e){return new f7(t,r,e)}(a,c,this._normalizer),this._triggerCache[s]=u}this._transitionEngine.registerTrigger(n,a,u)}},{key:"register",value:function(e,n){this._transitionEngine.register(e,n)}},{key:"destroy",value:function(e,n){this._transitionEngine.destroy(e,n)}},{key:"onInsert",value:function(e,n,i,a){this._transitionEngine.insertNode(e,n,i,a)}},{key:"onRemove",value:function(e,n,i,a){this._transitionEngine.removeNode(e,n,a||!1,i)}},{key:"disableAnimations",value:function(e,n){this._transitionEngine.markElementAsDisabled(e,n)}},{key:"process",value:function(e,n,i,a){if("@"==i.charAt(0)){var s=W(jO(i),2);this._timelineEngine.command(s[0],n,s[1],a)}else this._transitionEngine.trigger(e,n,i,a)}},{key:"listen",value:function(e,n,i,a,o){if("@"==i.charAt(0)){var u=W(jO(i),2);return this._timelineEngine.listen(u[0],n,u[1],o)}return this._transitionEngine.listen(e,n,i,a,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function A7(t,r){var e=null,n=null;return Array.isArray(r)&&r.length?(e=k_(r[0]),r.length>1&&(n=k_(r[r.length-1]))):r&&(e=k_(r)),e||n?new O7(t,e,n):null}var O7=function(){var t=function(){function r(e,n,i){m(this,r),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a={}),this._initialStyles=a}return g(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Xi(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Xi(this._element,this._initialStyles),this._endStyles&&(Xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),Xi(this._element,this._initialStyles),this._state=3)}}]),r}();return t.initialStylesByElement=new WeakMap,t}();function k_(t){for(var r=null,e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];M7(i)&&((r=r||{})[i]=t[i])}return r}function M7(t){return"display"===t||"position"===t}var CM=function(){function t(r,e,n,i){m(this,t),this.element=r,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,n,i){return e.animate(n,i)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,n={};if(this.hasStarted()){var i=this._finalKeyframe;Object.keys(i).forEach(function(a){"offset"!=a&&(n[a]=e._finished?i[a]:nM(e.element,a))})}this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),R7=function(){function t(){m(this,t)}return g(t,[{key:"validateStyleProperty",value:function(e){return qO(e)}},{key:"matchesElement",value:function(e,n){return!1}},{key:"containsElement",value:function(e,n){return KO(e,n)}},{key:"getParentElement",value:function(e){return f_(e)}},{key:"query",value:function(e,n,i){return YO(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=0==a?"both":"forwards",l={duration:i,delay:a,fill:u};o&&(l.easing=o);var c={},f=s.filter(function(d){return d instanceof CM});VX(i,a)&&f.forEach(function(d){var v=d.currentSnapshot;Object.keys(v).forEach(function(p){return c[p]=v[p]})});var h=A7(e,n=BX(e,n=n.map(function(d){return oo(d,!1)}),c));return new CM(e,n,l,h)}}]),t}(),P7=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a){var o;return m(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=i.createRenderer(a.body,{id:"0",encapsulation:ii.None,styles:[],data:{animation:[]}}),o}return g(n,[{key:"build",value:function(a){var o=this._nextAnimationId.toString();this._nextAnimationId++;var s=Array.isArray(a)?uk(a):a;return EM(this._renderer,null,o,"register",[s]),new x7(o,this._renderer)}}]),n}(sk);return t.\u0275fac=function(e){return new(e||t)(z(_l),z(En))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),x7=function(t){A(e,t);var r=O(e);function e(n,i){var a;return m(this,e),(a=r.call(this))._id=n,a._renderer=i,a}return g(e,[{key:"create",value:function(i,a){return new F7(this._id,i,a||{},this._renderer)}}]),e}(N3),F7=function(){function t(r,e,n,i){m(this,t),this.id=r,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return g(t,[{key:"_listen",value:function(e,n){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),n)}},{key:"_command",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return EM(this._renderer,this.element,this.id,e,i)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,n;return null!==(n=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==n?n:0}}]),t}();function EM(t,r,e,n,i){return t.setProperty(r,"@@".concat(e,":").concat(n),i)}var wM="@.disabled",L7=function(){var t=function(){function r(e,n,i){m(this,r),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(a,o){var s=null==o?void 0:o.parentNode(a);s&&o.removeChild(s,a)}}return g(r,[{key:"createRenderer",value:function(n,i){var a=this,s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){var u=this._rendererCache.get(s);return u||(u=new SM("",s,this.engine),this._rendererCache.set(s,u)),u}var l=i.id,c=i.id+"-"+this._currentId;return this._currentId++,this.engine.register(c,n),i.data.animation.forEach(function d(v){Array.isArray(v)?v.forEach(d):a.engine.registerTrigger(l,c,n,v.name,v)}),new N7(this,c,s,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var n=this;this.promise.then(function(){n._microtaskId++})}},{key:"scheduleListenerCallback",value:function(n,i,a){var o=this;n>=0&&n<this._microtaskId?this._zone.run(function(){return i(a)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){o._zone.run(function(){o._animationCallbacksBuffer.forEach(function(s){var u=W(s,2);(0,u[0])(u[1])}),o._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}},{key:"end",value:function(){var n=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){n._scheduleCountTask(),n.engine.flush(n._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(_l),z(Ld),z(gt))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),SM=function(){function t(r,e,n){m(this,t),this.namespaceId=r,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(i){return e.destroyNode(i)}:null}return g(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,n){return this.delegate.createElement(e,n)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}},{key:"insertBefore",value:function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,a)}},{key:"removeChild",value:function(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}},{key:"selectRootElement",value:function(e,n){return this.delegate.selectRootElement(e,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,n,i,a){this.delegate.setAttribute(e,n,i,a)}},{key:"removeAttribute",value:function(e,n,i){this.delegate.removeAttribute(e,n,i)}},{key:"addClass",value:function(e,n){this.delegate.addClass(e,n)}},{key:"removeClass",value:function(e,n){this.delegate.removeClass(e,n)}},{key:"setStyle",value:function(e,n,i,a){this.delegate.setStyle(e,n,i,a)}},{key:"removeStyle",value:function(e,n,i){this.delegate.removeStyle(e,n,i)}},{key:"setProperty",value:function(e,n,i){"@"==n.charAt(0)&&n==wM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}},{key:"setValue",value:function(e,n){this.delegate.setValue(e,n)}},{key:"listen",value:function(e,n,i){return this.delegate.listen(e,n,i)}},{key:"disableAnimations",value:function(e,n){this.engine.disableAnimations(e,n)}}]),t}(),N7=function(t){A(e,t);var r=O(e);function e(n,i,a,o){var s;return m(this,e),(s=r.call(this,i,a,o)).factory=n,s.namespaceId=i,s}return g(e,[{key:"setProperty",value:function(i,a,o){"@"==a.charAt(0)?"."==a.charAt(1)&&a==wM?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,a.substr(1),o):this.delegate.setProperty(i,a,o)}},{key:"listen",value:function(i,a,o){var s=this;if("@"==a.charAt(0)){var u=function V7(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i),l=a.substr(1),c="";if("@"!=l.charAt(0)){var f=function B7(t){var r=t.indexOf(".");return[t.substring(0,r),t.substr(r+1)]}(l),h=W(f,2);l=h[0],c=h[1]}return this.engine.listen(this.namespaceId,u,l,c,function(d){s.factory.scheduleListenerCallback(d._data||-1,o,d)})}return this.delegate.listen(i,a,o)}}]),e}(SM),H7=function(){var t=function(r){A(n,r);var e=O(n);function n(i,a,o){return m(this,n),e.call(this,i.body,a,o)}return g(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Ld);return t.\u0275fac=function(e){return new(e||t)(z(En),z(h_),z(E_))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),bM=new we("AnimationModuleType"),TM=[{provide:sk,useClass:P7},{provide:E_,useFactory:function U7(){return new a7}},{provide:Ld,useClass:H7},{provide:_l,useFactory:function j7(t,r,e){return new L7(t,r,e)},deps:[nh,Ld,gt]}],DM=[{provide:h_,useFactory:function(){return new R7}},{provide:bM,useValue:"BrowserAnimations"}].concat(TM),G7=[{provide:h_,useClass:ZO},{provide:bM,useValue:"NoopAnimations"}].concat(TM),z7=function(){var t=function(){function r(){m(this,r)}return g(r,null,[{key:"withConfig",value:function(n){return{ngModule:r,providers:n.disableAnimations?G7:DM}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:DM,imports:[cT]}),t}();function I_(t,r){var e=be(t)?t:function(){return t},n=function(a){return a.error(e())};return new tt(r?function(i){return r.schedule(n,0,i)}:n)}var so=new tt(Zt);function W7(t){return new tt(function(r){return t.subscribe(r)})}var q7={connector:function(){return new it}};function kM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q7,e=r.connector;return Ft(function(n,i){var a=e();ln(t(W7(a))).subscribe(i),i.add(n.subscribe(a))})}function IM(t,r){return r?function(e){return Pl(r.pipe(Ir(1),function Z7(){return Ft(function(t,r){t.subscribe(new Tt(r,Zt))})}()),e.pipe(IM(t)))}:Xt(function(e,n){return t(e,n).pipe(Ir(1),function X7(t){return je(function(){return t})}(e))})}function AM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KD,e=ZD(t,r);return IM(function(){return e})}var Oc="Service workers are disabled or not supported by this browser",Vd=function(){function t(r){if(m(this,t),this.serviceWorker=r,r){var n=uu(r,"controllerchange").pipe(je(function(){return r.controller})),a=Pl(ih(function(){return me(r.controller)}),n);this.worker=a.pipe(wn(function(c){return!!c})),this.registration=this.worker.pipe(Gr(function(){return r.getRegistration()}));var l=uu(r,"message").pipe(je(function(c){return c.data})).pipe(wn(function(c){return c&&c.type})).pipe(function Y7(t){return t?function(r){return kM(t)(r)}:function(r){return function K7(t,r){var e=be(t)?t:function(){return t};return be(r)?kM(r,{connector:e}):function(n){return new mT(n,e)}}(new it)(r)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function Q7(t){return ih(function(){return I_(new Error(t))})}(Oc)}return g(t,[{key:"postMessage",value:function(e,n){return this.worker.pipe(Ir(1),$n(function(i){i.postMessage(Object.assign({action:e},n))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(e,n,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(e,n);return Promise.all([o,a]).then(function(s){return W(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(wn("string"==typeof e?function(a){return a.type===e}:function(a){return e.includes(a.type)}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(Ir(1))}},{key:"waitForOperationCompleted",value:function(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(wn(function(n){return n.nonce===e}),Ir(1),je(function(n){if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),$7=function(){var t=function(){function r(e){if(m(this,r),this.sw=e,this.subscriptionChanges=new it,!e.isEnabled)return this.messages=so,this.notificationClicks=so,void(this.subscription=so);this.messages=this.sw.eventsOfType("PUSH").pipe(je(function(i){return i.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(je(function(i){return i.data})),this.pushManager=this.sw.registration.pipe(je(function(i){return i.pushManager}));var n=this.pushManager.pipe(Gr(function(i){return i.getSubscription()}));this.subscription=Qd(n,this.subscriptionChanges)}return g(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(n){var i=this;if(!this.sw.isEnabled)return Promise.reject(new Error(Oc));for(var a={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length)),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return a.applicationServerKey=s,this.pushManager.pipe(Gr(function(l){return l.subscribe(a)}),Ir(1)).toPromise().then(function(l){return i.subscriptionChanges.next(l),l})}},{key:"unsubscribe",value:function(){var n=this;return this.sw.isEnabled?this.subscription.pipe(Ir(1),Gr(function(o){if(null===o)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(function(s){if(!s)throw new Error("Unsubscribe failed!");n.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Oc))}},{key:"decodeBase64",value:function(n){return atob(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Vd))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),J7=function(){var t=function(){function r(e){if(m(this,r),this.sw=e,!e.isEnabled)return this.versionUpdates=so,this.available=so,this.activated=so,void(this.unrecoverable=so);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(wn(function(n){return"VERSION_READY"===n.type}),je(function(n){return{type:"UPDATE_AVAILABLE",current:n.currentVersion,available:n.latestVersion}})),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return g(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oc));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oc));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Vd))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),A_=g(function t(){m(this,t)}),OM=new we("NGSW_REGISTER_SCRIPT");function e9(t,r,e,n){return function(){if(Fg(n)&&"serviceWorker"in navigator&&!1!==e.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{var u=function qe(t){return H(t)||Ce(t)||D(t)||ne()}((e.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=me(null);break;case"registerWithDelay":o=MM(+c[0]||0);break;case"registerWhenStable":o=c[0]?Qd(RM(t),MM(+c[0])):RM(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(e.registrationStrategy))}}t.get(gt).runOutsideAngular(function(){return o.pipe(Ir(1)).subscribe(function(){return navigator.serviceWorker.register(r,{scope:e.scope}).catch(function(h){return console.error("Service worker registration failed with:",h)})})})}}}function MM(t){return me(null).pipe(AM(t))}function RM(t){return t.get(Xs).isStable.pipe(wn(function(e){return e}))}function t9(t,r){return new Vd(Fg(r)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var n9=function(){var t=function(){function r(){m(this,r)}return g(r,null,[{key:"register",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:r,providers:[{provide:OM,useValue:n},{provide:A_,useValue:i},{provide:Vd,useFactory:t9,deps:[A_,ko]},{provide:Tl,useFactory:e9,deps:[hn,OM,A_,ko],multi:!0}]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=st({providers:[$7,J7]}),t}();var a9=function(){var t=function(){function r(e,n){m(this,r),this.messageService=e,this.logging=n}return g(r,[{key:"intercept",value:function(n,i){var a=this;return i.handle(n).pipe(function i9(t,r){var e=r;return function(n){return n.pipe(function r9(t){return Ft(function(r,e){var n,a,i=!1;!function s(){n=r.subscribe(new Tt(e,void 0,void 0,function(u){a||(a=new it,t(a).subscribe(new Tt(e,function(){return n?s():i=!0}))),a&&a.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,s())}()})}(function(i){return i.pipe(AM(t),Xt(function(a){return e-- >0?me(a):I_("Network problem, try again.")}))}))}}(1e3,3),ma(function(o){return a.handleError(o,a.messageService)}))}},{key:"handleError",value:function(n,i){return n&&"string"==typeof n?(this.logging.logError("err: "+n),i.sendMessage(new au(n))):n&&(0===n.status?(this.logging.logError("Connection error."),i.sendMessage(new au("Connection error."))):(this.logging.logError("An error has occurred."),i.sendMessage(new au("An error has occurred.")))),I_(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(xo),z(ql))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),o9=function(){var t=g(function r(){m(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ht({type:t,bootstrap:[qZ]}),t.\u0275inj=st({providers:[Cm,ql,{provide:gm,useClass:a9,multi:!0,deps:[xo,ql]}],imports:[[cT,O4,PG,ZZ,z7,W4,WZ,jG,jW,Zz,s4,w4,p4,a4,n9.register("ngsw-worker.js",{enabled:true})]]}),t}();(function TV(){false})(),HH().bootstrapModule(o9).catch(function(t){return console.error(t)})},402:function(ta){ta.exports=function(){"use strict";function ki(D,b,H,te,ne){!function W(ie,Ce,qe,Ue,Ot){for(;Ue>qe;){if(Ue-qe>600){var K=Ue-qe+1,rt=Ce-qe+1,ni=Math.log(K),yt=.5*Math.exp(2*ni/3),be=.5*Math.sqrt(ni*yt*(K-yt)/K)*(rt-K/2<0?-1:1);W(ie,Ce,Math.max(qe,Math.floor(Ce-rt*yt/K+be)),Math.min(Ue,Math.floor(Ce+(K-rt)*yt/K+be)),Ot)}var F=ie[Ce],V=qe,$=Ue;for(mt(ie,qe,Ce),Ot(ie[Ue],F)>0&&mt(ie,qe,Ue);V<$;){for(mt(ie,V,$),V++,$--;Ot(ie[V],F)<0;)V++;for(;Ot(ie[$],F)>0;)$--}0===Ot(ie[qe],F)?mt(ie,qe,$):mt(ie,++$,Ue),$<=Ce&&(qe=$+1),Ce<=$&&(Ue=$-1)}}(D,b,H||0,te||D.length-1,ne||Ve)}function mt(D,b,H){var te=D[b];D[b]=D[H],D[H]=te}function Ve(D,b){return D<b?-1:D>b?1:0}var $e=function(b){void 0===b&&(b=9),this._maxEntries=Math.max(4,b),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Me(D,b,H){if(!H)return b.indexOf(D);for(var te=0;te<b.length;te++)if(H(D,b[te]))return te;return-1}function ir(D,b){g(D,0,D.children.length,b,D)}function g(D,b,H,te,ne){ne||(ne=O(null)),ne.minX=1/0,ne.minY=1/0,ne.maxX=-1/0,ne.maxY=-1/0;for(var W=b;W<H;W++){var ie=D.children[W];m(ne,D.leaf?te(ie):ie)}return ne}function m(D,b){return D.minX=Math.min(D.minX,b.minX),D.minY=Math.min(D.minY,b.minY),D.maxX=Math.max(D.maxX,b.maxX),D.maxY=Math.max(D.maxY,b.maxY),D}function ei(D,b){return D.minX-b.minX}function A(D,b){return D.minY-b.minY}function na(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function kr(D){return D.maxX-D.minX+(D.maxY-D.minY)}function xt(D,b){return D.minX<=b.minX&&D.minY<=b.minY&&b.maxX<=D.maxX&&b.maxY<=D.maxY}function Ma(D,b){return b.minX<=D.maxX&&b.minY<=D.maxY&&b.maxX>=D.minX&&b.maxY>=D.minY}function O(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ti(D,b,H,te,ne){for(var W=[b,H];W.length;)if(!((H=W.pop())-(b=W.pop())<=te)){var ie=b+Math.ceil((H-b)/te/2)*te;ki(D,ie,b,H,ne),W.push(b,ie,ie,H)}}return $e.prototype.all=function(){return this._all(this.data,[])},$e.prototype.search=function(D){var b=this.data,H=[];if(!Ma(D,b))return H;for(var te=this.toBBox,ne=[];b;){for(var W=0;W<b.children.length;W++){var ie=b.children[W],Ce=b.leaf?te(ie):ie;Ma(D,Ce)&&(b.leaf?H.push(ie):xt(D,Ce)?this._all(ie,H):ne.push(ie))}b=ne.pop()}return H},$e.prototype.collides=function(D){var b=this.data;if(!Ma(D,b))return!1;for(var H=[];b;){for(var te=0;te<b.children.length;te++){var ne=b.children[te],W=b.leaf?this.toBBox(ne):ne;if(Ma(D,W)){if(b.leaf||xt(D,W))return!0;H.push(ne)}}b=H.pop()}return!1},$e.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var b=0;b<D.length;b++)this.insert(D[b]);return this}var H=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===H.height)this._splitRoot(this.data,H);else{if(this.data.height<H.height){var te=this.data;this.data=H,H=te}this._insert(H,this.data.height-H.height-1,!0)}else this.data=H;return this},$e.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},$e.prototype.clear=function(){return this.data=O([]),this},$e.prototype.remove=function(D,b){if(!D)return this;for(var H,te,ne,W=this.data,ie=this.toBBox(D),Ce=[],qe=[];W||Ce.length;){if(W||(W=Ce.pop(),te=Ce[Ce.length-1],H=qe.pop(),ne=!0),W.leaf){var Ue=Me(D,W.children,b);if(-1!==Ue)return W.children.splice(Ue,1),Ce.push(W),this._condense(Ce),this}ne||W.leaf||!xt(W,ie)?te?(H++,W=te.children[H],ne=!1):W=null:(Ce.push(W),qe.push(H),H=0,te=W,W=W.children[0])}return this},$e.prototype.toBBox=function(D){return D},$e.prototype.compareMinX=function(D,b){return D.minX-b.minX},$e.prototype.compareMinY=function(D,b){return D.minY-b.minY},$e.prototype.toJSON=function(){return this.data},$e.prototype.fromJSON=function(D){return this.data=D,this},$e.prototype._all=function(D,b){for(var H=[];D;)D.leaf?b.push.apply(b,D.children):H.push.apply(H,D.children),D=H.pop();return b},$e.prototype._build=function(D,b,H,te){var ne,W=H-b+1,ie=this._maxEntries;if(W<=ie)return ir(ne=O(D.slice(b,H+1)),this.toBBox),ne;te||(te=Math.ceil(Math.log(W)/Math.log(ie)),ie=Math.ceil(W/Math.pow(ie,te-1))),(ne=O([])).leaf=!1,ne.height=te;var Ce=Math.ceil(W/ie),qe=Ce*Math.ceil(Math.sqrt(ie));ti(D,b,H,qe,this.compareMinX);for(var Ue=b;Ue<=H;Ue+=qe){var Ot=Math.min(Ue+qe-1,H);ti(D,Ue,Ot,Ce,this.compareMinY);for(var K=Ue;K<=Ot;K+=Ce){var rt=Math.min(K+Ce-1,Ot);ne.children.push(this._build(D,K,rt,te-1))}}return ir(ne,this.toBBox),ne},$e.prototype._chooseSubtree=function(D,b,H,te){for(;te.push(b),!b.leaf&&te.length-1!==H;){for(var ne=1/0,W=1/0,ie=void 0,Ce=0;Ce<b.children.length;Ce++){var qe=b.children[Ce],Ue=na(qe),Ot=(K=D,rt=qe,(Math.max(rt.maxX,K.maxX)-Math.min(rt.minX,K.minX))*(Math.max(rt.maxY,K.maxY)-Math.min(rt.minY,K.minY))-Ue);Ot<W?(W=Ot,ne=Ue<ne?Ue:ne,ie=qe):Ot===W&&Ue<ne&&(ne=Ue,ie=qe)}b=ie||b.children[0]}var K,rt;return b},$e.prototype._insert=function(D,b,H){var te=H?D:this.toBBox(D),ne=[],W=this._chooseSubtree(te,this.data,b,ne);for(W.children.push(D),m(W,te);b>=0&&ne[b].children.length>this._maxEntries;)this._split(ne,b),b--;this._adjustParentBBoxes(te,ne,b)},$e.prototype._split=function(D,b){var H=D[b],te=H.children.length,ne=this._minEntries;this._chooseSplitAxis(H,ne,te);var W=this._chooseSplitIndex(H,ne,te),ie=O(H.children.splice(W,H.children.length-W));ie.height=H.height,ie.leaf=H.leaf,ir(H,this.toBBox),ir(ie,this.toBBox),b?D[b-1].children.push(ie):this._splitRoot(H,ie)},$e.prototype._splitRoot=function(D,b){this.data=O([D,b]),this.data.height=D.height+1,this.data.leaf=!1,ir(this.data,this.toBBox)},$e.prototype._chooseSplitIndex=function(D,b,H){for(var te,ne,W,ie,Ce,qe,Ue,Ot=1/0,K=1/0,rt=b;rt<=H-b;rt++){var ni=g(D,0,rt,this.toBBox),yt=g(D,rt,H,this.toBBox),be=(ne=ni,W=yt,void 0,void 0,void 0,void 0,ie=Math.max(ne.minX,W.minX),Ce=Math.max(ne.minY,W.minY),qe=Math.min(ne.maxX,W.maxX),Ue=Math.min(ne.maxY,W.maxY),Math.max(0,qe-ie)*Math.max(0,Ue-Ce)),ar=na(ni)+na(yt);be<Ot?(Ot=be,te=rt,K=ar<K?ar:K):be===Ot&&ar<K&&(K=ar,te=rt)}return te||H-b},$e.prototype._chooseSplitAxis=function(D,b,H){var te=D.leaf?this.compareMinX:ei,ne=D.leaf?this.compareMinY:A;this._allDistMargin(D,b,H,te)<this._allDistMargin(D,b,H,ne)&&D.children.sort(te)},$e.prototype._allDistMargin=function(D,b,H,te){D.children.sort(te);for(var ne=this.toBBox,W=g(D,0,b,ne),ie=g(D,H-b,H,ne),Ce=kr(W)+kr(ie),qe=b;qe<H-b;qe++){var Ue=D.children[qe];m(W,D.leaf?ne(Ue):Ue),Ce+=kr(W)}for(var Ot=H-b-1;Ot>=b;Ot--){var K=D.children[Ot];m(ie,D.leaf?ne(K):K),Ce+=kr(ie)}return Ce},$e.prototype._adjustParentBBoxes=function(D,b,H){for(var te=H;te>=0;te--)m(b[te],D)},$e.prototype._condense=function(D){for(var b=D.length-1,H=void 0;b>=0;b--)0===D[b].children.length?b>0?(H=D[b-1].children).splice(H.indexOf(D[b]),1):this.clear():ir(D[b],this.toBBox)},$e}()},854:function(ta){var ki=function(mt){"use strict";var Me,Ve=Object.prototype,$e=Ve.hasOwnProperty,ir="function"==typeof Symbol?Symbol:{},g=ir.iterator||"@@iterator",m=ir.asyncIterator||"@@asyncIterator",ei=ir.toStringTag||"@@toStringTag";function A(Y,F,V){return Object.defineProperty(Y,F,{value:V,enumerable:!0,configurable:!0,writable:!0}),Y[F]}try{A({},"")}catch(Y){A=function(V,$,Be){return V[$]=Be}}function na(Y,F,V,$){var xe=Object.create((F&&F.prototype instanceof b?F:b).prototype),bt=new yt($||[]);return xe._invoke=function Ot(Y,F,V){var $=xt;return function(xe,bt){if($===O)throw new Error("Generator is already running");if($===ti){if("throw"===xe)throw bt;return ar()}for(V.method=xe,V.arg=bt;;){var un=V.delegate;if(un){var kn=K(un,V);if(kn){if(kn===D)continue;return kn}}if("next"===V.method)V.sent=V._sent=V.arg;else if("throw"===V.method){if($===xt)throw $=ti,V.arg;V.dispatchException(V.arg)}else"return"===V.method&&V.abrupt("return",V.arg);$=O;var Zt=kr(Y,F,V);if("normal"===Zt.type){if($=V.done?ti:Ma,Zt.arg===D)continue;return{value:Zt.arg,done:V.done}}"throw"===Zt.type&&($=ti,V.method="throw",V.arg=Zt.arg)}}}(Y,V,bt),xe}function kr(Y,F,V){try{return{type:"normal",arg:Y.call(F,V)}}catch($){return{type:"throw",arg:$}}}mt.wrap=na;var xt="suspendedStart",Ma="suspendedYield",O="executing",ti="completed",D={};function b(){}function H(){}function te(){}var ne={};A(ne,g,function(){return this});var W=Object.getPrototypeOf,ie=W&&W(W(be([])));ie&&ie!==Ve&&$e.call(ie,g)&&(ne=ie);var Ce=te.prototype=b.prototype=Object.create(ne);function qe(Y){["next","throw","return"].forEach(function(F){A(Y,F,function(V){return this._invoke(F,V)})})}function Ue(Y,F){function V(xe,bt,un,kn){var Zt=kr(Y[xe],Y,bt);if("throw"!==Zt.type){var Ra=Zt.arg,fo=Ra.value;return fo&&"object"==typeof fo&&$e.call(fo,"__await")?F.resolve(fo.__await).then(function(ra){V("next",ra,un,kn)},function(ra){V("throw",ra,un,kn)}):F.resolve(fo).then(function(ra){Ra.value=ra,un(Ra)},function(ra){return V("throw",ra,un,kn)})}kn(Zt.arg)}var $;this._invoke=function Be(xe,bt){function un(){return new F(function(kn,Zt){V(xe,bt,kn,Zt)})}return $=$?$.then(un,un):un()}}function K(Y,F){var V=Y.iterator[F.method];if(V===Me){if(F.delegate=null,"throw"===F.method){if(Y.iterator.return&&(F.method="return",F.arg=Me,K(Y,F),"throw"===F.method))return D;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var $=kr(V,Y.iterator,F.arg);if("throw"===$.type)return F.method="throw",F.arg=$.arg,F.delegate=null,D;var Be=$.arg;return Be?Be.done?(F[Y.resultName]=Be.value,F.next=Y.nextLoc,"return"!==F.method&&(F.method="next",F.arg=Me),F.delegate=null,D):Be:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,D)}function rt(Y){var F={tryLoc:Y[0]};1 in Y&&(F.catchLoc=Y[1]),2 in Y&&(F.finallyLoc=Y[2],F.afterLoc=Y[3]),this.tryEntries.push(F)}function ni(Y){var F=Y.completion||{};F.type="normal",delete F.arg,Y.completion=F}function yt(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(rt,this),this.reset(!0)}function be(Y){if(Y){var F=Y[g];if(F)return F.call(Y);if("function"==typeof Y.next)return Y;if(!isNaN(Y.length)){var V=-1,$=function Be(){for(;++V<Y.length;)if($e.call(Y,V))return Be.value=Y[V],Be.done=!1,Be;return Be.value=Me,Be.done=!0,Be};return $.next=$}}return{next:ar}}function ar(){return{value:Me,done:!0}}return H.prototype=te,A(Ce,"constructor",te),A(te,"constructor",H),H.displayName=A(te,ei,"GeneratorFunction"),mt.isGeneratorFunction=function(Y){var F="function"==typeof Y&&Y.constructor;return!!F&&(F===H||"GeneratorFunction"===(F.displayName||F.name))},mt.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,te):(Y.__proto__=te,A(Y,ei,"GeneratorFunction")),Y.prototype=Object.create(Ce),Y},mt.awrap=function(Y){return{__await:Y}},qe(Ue.prototype),A(Ue.prototype,m,function(){return this}),mt.AsyncIterator=Ue,mt.async=function(Y,F,V,$,Be){void 0===Be&&(Be=Promise);var xe=new Ue(na(Y,F,V,$),Be);return mt.isGeneratorFunction(F)?xe:xe.next().then(function(bt){return bt.done?bt.value:xe.next()})},qe(Ce),A(Ce,ei,"Generator"),A(Ce,g,function(){return this}),A(Ce,"toString",function(){return"[object Generator]"}),mt.keys=function(Y){var F=[];for(var V in Y)F.push(V);return F.reverse(),function $(){for(;F.length;){var Be=F.pop();if(Be in Y)return $.value=Be,$.done=!1,$}return $.done=!0,$}},mt.values=be,yt.prototype={constructor:yt,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=Me,this.done=!1,this.delegate=null,this.method="next",this.arg=Me,this.tryEntries.forEach(ni),!F)for(var V in this)"t"===V.charAt(0)&&$e.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=Me)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if("throw"===V.type)throw V.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var V=this;function $(Zt,Ra){return bt.type="throw",bt.arg=F,V.next=Zt,Ra&&(V.method="next",V.arg=Me),!!Ra}for(var Be=this.tryEntries.length-1;Be>=0;--Be){var xe=this.tryEntries[Be],bt=xe.completion;if("root"===xe.tryLoc)return $("end");if(xe.tryLoc<=this.prev){var un=$e.call(xe,"catchLoc"),kn=$e.call(xe,"finallyLoc");if(un&&kn){if(this.prev<xe.catchLoc)return $(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return $(xe.finallyLoc)}else if(un){if(this.prev<xe.catchLoc)return $(xe.catchLoc,!0)}else{if(!kn)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return $(xe.finallyLoc)}}}},abrupt:function(F,V){for(var $=this.tryEntries.length-1;$>=0;--$){var Be=this.tryEntries[$];if(Be.tryLoc<=this.prev&&$e.call(Be,"finallyLoc")&&this.prev<Be.finallyLoc){var xe=Be;break}}xe&&("break"===F||"continue"===F)&&xe.tryLoc<=V&&V<=xe.finallyLoc&&(xe=null);var bt=xe?xe.completion:{};return bt.type=F,bt.arg=V,xe?(this.method="next",this.next=xe.finallyLoc,D):this.complete(bt)},complete:function(F,V){if("throw"===F.type)throw F.arg;return"break"===F.type||"continue"===F.type?this.next=F.arg:"return"===F.type?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):"normal"===F.type&&V&&(this.next=V),D},finish:function(F){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.finallyLoc===F)return this.complete($.completion,$.afterLoc),ni($),D}},catch:function(F){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.tryLoc===F){var Be=$.completion;if("throw"===Be.type){var xe=Be.arg;ni($)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(F,V,$){return this.delegate={iterator:be(F),resultName:V,nextLoc:$},"next"===this.method&&(this.arg=Me),D}},mt}(ta.exports);try{regeneratorRuntime=ki}catch(mt){"object"==typeof globalThis?globalThis.regeneratorRuntime=ki:Function("r","regeneratorRuntime = r")(ki)}},757:function(ta,ki,mt){ta.exports=mt(854)}},function(ta){ta(ta.s=421)}]);