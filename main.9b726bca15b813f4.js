(self.webpackChunksr_traffic=self.webpackChunksr_traffic||[]).push([[179],{931:function($i){$i.exports=function(){"use strict";function Di(D,b,G,te,ne){!function K(ie,we,We,He,bt){for(;He>We;){if(He-We>600){var Z=He-We+1,Pt=we-We+1,U=Math.log(Z),xt=.5*Math.exp(2*U/3),Tr=.5*Math.sqrt(U*xt*(Z-xt)/Z)*(Pt-Z/2<0?-1:1);K(ie,we,Math.max(We,Math.floor(we-Pt*xt/Z+Tr)),Math.min(He,Math.floor(we+(Z-Pt)*xt/Z+Tr)),bt)}var V=ie[we],W=We,Q=He;for(dt(ie,We,we),bt(ie[He],V)>0&&dt(ie,We,He);W<Q;){for(dt(ie,W,Q),W++,Q--;bt(ie[W],V)<0;)W++;for(;bt(ie[Q],V)>0;)Q--}0===bt(ie[We],V)?dt(ie,We,Q):dt(ie,++Q,He),Q<=we&&(We=Q+1),we<=Q&&(He=Q-1)}}(D,b,G||0,te||D.length-1,ne||Re)}function dt(D,b,G){var te=D[b];D[b]=D[G],D[G]=te}function Re(D,b){return D<b?-1:D>b?1:0}var Xe=function(b){void 0===b&&(b=9),this._maxEntries=Math.max(4,b),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Se(D,b,G){if(!G)return b.indexOf(D);for(var te=0;te<b.length;te++)if(G(D,b[te]))return te;return-1}function rr(D,b){g(D,0,D.children.length,b,D)}function g(D,b,G,te,ne){ne||(ne=R(null)),ne.minX=1/0,ne.minY=1/0,ne.maxX=-1/0,ne.maxY=-1/0;for(var K=b;K<G;K++){var ie=D.children[K];y(ne,D.leaf?te(ie):ie)}return ne}function y(D,b){return D.minX=Math.min(D.minX,b.minX),D.minY=Math.min(D.minY,b.minY),D.maxX=Math.max(D.maxX,b.maxX),D.maxY=Math.max(D.maxY,b.maxY),D}function Qr(D,b){return D.minX-b.minX}function M(D,b){return D.minY-b.minY}function Ji(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function ir(D){return D.maxX-D.minX+(D.maxY-D.minY)}function It(D,b){return D.minX<=b.minX&&D.minY<=b.minY&&b.maxX<=D.maxX&&b.maxY<=D.maxY}function Oa(D,b){return b.minX<=D.maxX&&b.minY<=D.maxY&&b.maxX>=D.minX&&b.maxY>=D.minY}function R(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $r(D,b,G,te,ne){for(var K=[b,G];K.length;)if(!((G=K.pop())-(b=K.pop())<=te)){var ie=b+Math.ceil((G-b)/te/2)*te;Di(D,ie,b,G,ne),K.push(b,ie,ie,G)}}return Xe.prototype.all=function(){return this._all(this.data,[])},Xe.prototype.search=function(D){var b=this.data,G=[];if(!Oa(D,b))return G;for(var te=this.toBBox,ne=[];b;){for(var K=0;K<b.children.length;K++){var ie=b.children[K],we=b.leaf?te(ie):ie;Oa(D,we)&&(b.leaf?G.push(ie):It(D,we)?this._all(ie,G):ne.push(ie))}b=ne.pop()}return G},Xe.prototype.collides=function(D){var b=this.data;if(!Oa(D,b))return!1;for(var G=[];b;){for(var te=0;te<b.children.length;te++){var ne=b.children[te],K=b.leaf?this.toBBox(ne):ne;if(Oa(D,K)){if(b.leaf||It(D,K))return!0;G.push(ne)}}b=G.pop()}return!1},Xe.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var b=0;b<D.length;b++)this.insert(D[b]);return this}var G=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===G.height)this._splitRoot(this.data,G);else{if(this.data.height<G.height){var te=this.data;this.data=G,G=te}this._insert(G,this.data.height-G.height-1,!0)}else this.data=G;return this},Xe.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},Xe.prototype.clear=function(){return this.data=R([]),this},Xe.prototype.remove=function(D,b){if(!D)return this;for(var G,te,ne,K=this.data,ie=this.toBBox(D),we=[],We=[];K||we.length;){if(K||(K=we.pop(),te=we[we.length-1],G=We.pop(),ne=!0),K.leaf){var He=Se(D,K.children,b);if(-1!==He)return K.children.splice(He,1),we.push(K),this._condense(we),this}ne||K.leaf||!It(K,ie)?te?(G++,K=te.children[G],ne=!1):K=null:(we.push(K),We.push(G),G=0,te=K,K=K.children[0])}return this},Xe.prototype.toBBox=function(D){return D},Xe.prototype.compareMinX=function(D,b){return D.minX-b.minX},Xe.prototype.compareMinY=function(D,b){return D.minY-b.minY},Xe.prototype.toJSON=function(){return this.data},Xe.prototype.fromJSON=function(D){return this.data=D,this},Xe.prototype._all=function(D,b){for(var G=[];D;)D.leaf?b.push.apply(b,D.children):G.push.apply(G,D.children),D=G.pop();return b},Xe.prototype._build=function(D,b,G,te){var ne,K=G-b+1,ie=this._maxEntries;if(K<=ie)return rr(ne=R(D.slice(b,G+1)),this.toBBox),ne;te||(te=Math.ceil(Math.log(K)/Math.log(ie)),ie=Math.ceil(K/Math.pow(ie,te-1))),(ne=R([])).leaf=!1,ne.height=te;var we=Math.ceil(K/ie),We=we*Math.ceil(Math.sqrt(ie));$r(D,b,G,We,this.compareMinX);for(var He=b;He<=G;He+=We){var bt=Math.min(He+We-1,G);$r(D,He,bt,we,this.compareMinY);for(var Z=He;Z<=bt;Z+=we){var Pt=Math.min(Z+we-1,bt);ne.children.push(this._build(D,Z,Pt,te-1))}}return rr(ne,this.toBBox),ne},Xe.prototype._chooseSubtree=function(D,b,G,te){for(;te.push(b),!b.leaf&&te.length-1!==G;){for(var ne=1/0,K=1/0,ie=void 0,we=0;we<b.children.length;we++){var We=b.children[we],He=Ji(We),bt=(Z=D,Pt=We,(Math.max(Pt.maxX,Z.maxX)-Math.min(Pt.minX,Z.minX))*(Math.max(Pt.maxY,Z.maxY)-Math.min(Pt.minY,Z.minY))-He);bt<K?(K=bt,ne=He<ne?He:ne,ie=We):bt===K&&He<ne&&(ne=He,ie=We)}b=ie||b.children[0]}var Z,Pt;return b},Xe.prototype._insert=function(D,b,G){var te=G?D:this.toBBox(D),ne=[],K=this._chooseSubtree(te,this.data,b,ne);for(K.children.push(D),y(K,te);b>=0&&ne[b].children.length>this._maxEntries;)this._split(ne,b),b--;this._adjustParentBBoxes(te,ne,b)},Xe.prototype._split=function(D,b){var G=D[b],te=G.children.length,ne=this._minEntries;this._chooseSplitAxis(G,ne,te);var K=this._chooseSplitIndex(G,ne,te),ie=R(G.children.splice(K,G.children.length-K));ie.height=G.height,ie.leaf=G.leaf,rr(G,this.toBBox),rr(ie,this.toBBox),b?D[b-1].children.push(ie):this._splitRoot(G,ie)},Xe.prototype._splitRoot=function(D,b){this.data=R([D,b]),this.data.height=D.height+1,this.data.leaf=!1,rr(this.data,this.toBBox)},Xe.prototype._chooseSplitIndex=function(D,b,G){for(var te,ne,K,ie,we,We,He,bt=1/0,Z=1/0,Pt=b;Pt<=G-b;Pt++){var U=g(D,0,Pt,this.toBBox),xt=g(D,Pt,G,this.toBBox),Tr=(ne=U,K=xt,void 0,void 0,void 0,void 0,ie=Math.max(ne.minX,K.minX),we=Math.max(ne.minY,K.minY),We=Math.min(ne.maxX,K.maxX),He=Math.min(ne.maxY,K.maxY),Math.max(0,We-ie)*Math.max(0,He-we)),Tt=Ji(U)+Ji(xt);Tr<bt?(bt=Tr,te=Pt,Z=Tt<Z?Tt:Z):Tr===bt&&Tt<Z&&(Z=Tt,te=Pt)}return te||G-b},Xe.prototype._chooseSplitAxis=function(D,b,G){var te=D.leaf?this.compareMinX:Qr,ne=D.leaf?this.compareMinY:M;this._allDistMargin(D,b,G,te)<this._allDistMargin(D,b,G,ne)&&D.children.sort(te)},Xe.prototype._allDistMargin=function(D,b,G,te){D.children.sort(te);for(var ne=this.toBBox,K=g(D,0,b,ne),ie=g(D,G-b,G,ne),we=ir(K)+ir(ie),We=b;We<G-b;We++){var He=D.children[We];y(K,D.leaf?ne(He):He),we+=ir(K)}for(var bt=G-b-1;bt>=b;bt--){var Z=D.children[bt];y(ie,D.leaf?ne(Z):Z),we+=ir(ie)}return we},Xe.prototype._adjustParentBBoxes=function(D,b,G){for(var te=G;te>=0;te--)y(b[te],D)},Xe.prototype._condense=function(D){for(var b=D.length-1,G=void 0;b>=0;b--)0===D[b].children.length?b>0?(G=D[b-1].children).splice(G.indexOf(D[b]),1):this.clear():rr(D[b],this.toBBox)},Xe}()},452:function($i){var Di=function(dt){"use strict";var Se,Re=Object.prototype,Xe=Re.hasOwnProperty,rr="function"==typeof Symbol?Symbol:{},g=rr.iterator||"@@iterator",y=rr.asyncIterator||"@@asyncIterator",Qr=rr.toStringTag||"@@toStringTag";function M(F,V,W){return Object.defineProperty(F,V,{value:W,enumerable:!0,configurable:!0,writable:!0}),F[V]}try{M({},"")}catch(F){M=function(W,Q,pe){return W[Q]=pe}}function Ji(F,V,W,Q){var Fe=Object.create((V&&V.prototype instanceof b?V:b).prototype),Kt=new xt(Q||[]);return Fe._invoke=function(F,V,W){var Q=It;return function(Fe,Kt){if(Q===R)throw new Error("Generator is already running");if(Q===$r){if("throw"===Fe)throw Kt;return Tt()}for(W.method=Fe,W.arg=Kt;;){var Dn=W.delegate;if(Dn){var Yt=Z(Dn,W);if(Yt){if(Yt===D)continue;return Yt}}if("next"===W.method)W.sent=W._sent=W.arg;else if("throw"===W.method){if(Q===It)throw Q=$r,W.arg;W.dispatchException(W.arg)}else"return"===W.method&&W.abrupt("return",W.arg);Q=R;var _n=ir(F,V,W);if("normal"===_n.type){if(Q=W.done?$r:Oa,_n.arg===D)continue;return{value:_n.arg,done:W.done}}"throw"===_n.type&&(Q=$r,W.method="throw",W.arg=_n.arg)}}}(F,W,Kt),Fe}function ir(F,V,W){try{return{type:"normal",arg:F.call(V,W)}}catch(Q){return{type:"throw",arg:Q}}}dt.wrap=Ji;var It="suspendedStart",Oa="suspendedYield",R="executing",$r="completed",D={};function b(){}function G(){}function te(){}var ne={};M(ne,g,function(){return this});var K=Object.getPrototypeOf,ie=K&&K(K(Tr([])));ie&&ie!==Re&&Xe.call(ie,g)&&(ne=ie);var we=te.prototype=b.prototype=Object.create(ne);function We(F){["next","throw","return"].forEach(function(V){M(F,V,function(W){return this._invoke(V,W)})})}function He(F,V){function W(Fe,Kt,Dn,Yt){var _n=ir(F[Fe],F,Kt);if("throw"!==_n.type){var ea=_n.arg,ar=ea.value;return ar&&"object"==typeof ar&&Xe.call(ar,"__await")?V.resolve(ar.__await).then(function(ta){W("next",ta,Dn,Yt)},function(ta){W("throw",ta,Dn,Yt)}):V.resolve(ar).then(function(ta){ea.value=ta,Dn(ea)},function(ta){return W("throw",ta,Dn,Yt)})}Yt(_n.arg)}var Q;this._invoke=function(Fe,Kt){function Dn(){return new V(function(Yt,_n){W(Fe,Kt,Yt,_n)})}return Q=Q?Q.then(Dn,Dn):Dn()}}function Z(F,V){var W=F.iterator[V.method];if(W===Se){if(V.delegate=null,"throw"===V.method){if(F.iterator.return&&(V.method="return",V.arg=Se,Z(F,V),"throw"===V.method))return D;V.method="throw",V.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var Q=ir(W,F.iterator,V.arg);if("throw"===Q.type)return V.method="throw",V.arg=Q.arg,V.delegate=null,D;var pe=Q.arg;return pe?pe.done?(V[F.resultName]=pe.value,V.next=F.nextLoc,"return"!==V.method&&(V.method="next",V.arg=Se),V.delegate=null,D):pe:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,D)}function Pt(F){var V={tryLoc:F[0]};1 in F&&(V.catchLoc=F[1]),2 in F&&(V.finallyLoc=F[2],V.afterLoc=F[3]),this.tryEntries.push(V)}function U(F){var V=F.completion||{};V.type="normal",delete V.arg,F.completion=V}function xt(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(Pt,this),this.reset(!0)}function Tr(F){if(F){var V=F[g];if(V)return V.call(F);if("function"==typeof F.next)return F;if(!isNaN(F.length)){var W=-1,Q=function pe(){for(;++W<F.length;)if(Xe.call(F,W))return pe.value=F[W],pe.done=!1,pe;return pe.value=Se,pe.done=!0,pe};return Q.next=Q}}return{next:Tt}}function Tt(){return{value:Se,done:!0}}return G.prototype=te,M(we,"constructor",te),M(te,"constructor",G),G.displayName=M(te,Qr,"GeneratorFunction"),dt.isGeneratorFunction=function(F){var V="function"==typeof F&&F.constructor;return!!V&&(V===G||"GeneratorFunction"===(V.displayName||V.name))},dt.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,te):(F.__proto__=te,M(F,Qr,"GeneratorFunction")),F.prototype=Object.create(we),F},dt.awrap=function(F){return{__await:F}},We(He.prototype),M(He.prototype,y,function(){return this}),dt.AsyncIterator=He,dt.async=function(F,V,W,Q,pe){void 0===pe&&(pe=Promise);var Fe=new He(Ji(F,V,W,Q),pe);return dt.isGeneratorFunction(V)?Fe:Fe.next().then(function(Kt){return Kt.done?Kt.value:Fe.next()})},We(we),M(we,Qr,"Generator"),M(we,g,function(){return this}),M(we,"toString",function(){return"[object Generator]"}),dt.keys=function(F){var V=[];for(var W in F)V.push(W);return V.reverse(),function Q(){for(;V.length;){var pe=V.pop();if(pe in F)return Q.value=pe,Q.done=!1,Q}return Q.done=!0,Q}},dt.values=Tr,xt.prototype={constructor:xt,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=Se,this.done=!1,this.delegate=null,this.method="next",this.arg=Se,this.tryEntries.forEach(U),!V)for(var W in this)"t"===W.charAt(0)&&Xe.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=Se)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if("throw"===W.type)throw W.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var W=this;function Q(_n,ea){return Kt.type="throw",Kt.arg=V,W.next=_n,ea&&(W.method="next",W.arg=Se),!!ea}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Fe=this.tryEntries[pe],Kt=Fe.completion;if("root"===Fe.tryLoc)return Q("end");if(Fe.tryLoc<=this.prev){var Dn=Xe.call(Fe,"catchLoc"),Yt=Xe.call(Fe,"finallyLoc");if(Dn&&Yt){if(this.prev<Fe.catchLoc)return Q(Fe.catchLoc,!0);if(this.prev<Fe.finallyLoc)return Q(Fe.finallyLoc)}else if(Dn){if(this.prev<Fe.catchLoc)return Q(Fe.catchLoc,!0)}else{if(!Yt)throw new Error("try statement without catch or finally");if(this.prev<Fe.finallyLoc)return Q(Fe.finallyLoc)}}}},abrupt:function(V,W){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var pe=this.tryEntries[Q];if(pe.tryLoc<=this.prev&&Xe.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var Fe=pe;break}}Fe&&("break"===V||"continue"===V)&&Fe.tryLoc<=W&&W<=Fe.finallyLoc&&(Fe=null);var Kt=Fe?Fe.completion:{};return Kt.type=V,Kt.arg=W,Fe?(this.method="next",this.next=Fe.finallyLoc,D):this.complete(Kt)},complete:function(V,W){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&W&&(this.next=W),D},finish:function(V){for(var W=this.tryEntries.length-1;W>=0;--W){var Q=this.tryEntries[W];if(Q.finallyLoc===V)return this.complete(Q.completion,Q.afterLoc),U(Q),D}},catch:function(V){for(var W=this.tryEntries.length-1;W>=0;--W){var Q=this.tryEntries[W];if(Q.tryLoc===V){var pe=Q.completion;if("throw"===pe.type){var Fe=pe.arg;U(Q)}return Fe}}throw new Error("illegal catch attempt")},delegateYield:function(V,W,Q){return this.delegate={iterator:Tr(V),resultName:W,nextLoc:Q},"next"===this.method&&(this.arg=Se),D}},dt}($i.exports);try{regeneratorRuntime=Di}catch(dt){"object"==typeof globalThis?globalThis.regeneratorRuntime=Di:Function("r","regeneratorRuntime = r")(Di)}},503:function($i,Di,dt){"use strict";function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Se(t,r,e){return Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(i,a,o){var s=function(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=Re(t)););return t}(i,a);if(s){var u=Object.getOwnPropertyDescriptor(s,a);return u.get?u.get.call(o):u.value}},Se(t,r,e||t)}function rr(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,r,e){return r&&rr(t.prototype,r),e&&rr(t,e),t}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Qr(t,r){return(Qr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(t,r)}function M(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&Qr(t,r)}function Ji(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function It(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oa(t,r){if(r&&("object"===ir(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return It(t)}function R(t){var r=Ji();return function(){var i,n=Re(t);if(r){var a=Re(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Oa(this,i)}}function $r(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function D(t,r){if(t){if("string"==typeof t)return $r(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $r(t,r)}}function b(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=D(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=e.return&&e.return()}finally{if(o)throw s}}}}function G(t){if(Array.isArray(t))return t}function ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(t,r){return G(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var o,s,n=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(o=e.next()).done)&&(n.push(o.value),!r||n.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw s}}return n}}(t,r)||D(t,r)||ne()}function ie(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function we(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Z(t){return function(t){if(Array.isArray(t))return $r(t)}(t)||we(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function U(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?Pt(Object(e),!0).forEach(function(n){ie(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Pt(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function xt(t,r,e){return(xt=Ji()?Reflect.construct:function(i,a,o){var s=[null];s.push.apply(s,a);var l=new(Function.bind.apply(i,s));return o&&Qr(l,o.prototype),l}).apply(null,arguments)}function Tt(t){var r="function"==typeof Map?new Map:void 0;return Tt=function(n){if(null===n||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return xt(n,arguments,Re(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Qr(i,n)},Tt(t)}function F(t){return"function"==typeof t}function V(t){var e=t(function(i){Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var W=V(function(t){return function(e){t(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(n,i){return"".concat(i+1,") ").concat(n.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e}});function Q(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var t,pe=function(){function t(r){y(this,t),this.initialTeardown=r,this.closed=!1,this._parentage=null,this._teardowns=null}return g(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n)){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)a.value.remove(this)}catch(h){i.e(h)}finally{i.f()}}else n.remove(this);var s=this.initialTeardown;if(F(s))try{s()}catch(h){e=h instanceof W?h.errors:[h]}var u=this._teardowns;if(u){this._teardowns=null;var c,l=b(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;try{Dn(f)}catch(h){e=null!=e?e:[],h instanceof W?e=[].concat(Z(e),Z(h.errors)):e.push(h)}}}catch(h){l.e(h)}finally{l.f()}}if(e)throw new W(e)}}},{key:"add",value:function(e){var n;if(e&&e!==this)if(this.closed)Dn(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}},{key:"_hasParent",value:function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)}},{key:"_addParent",value:function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}},{key:"_removeParent",value:function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&Q(n,e)}},{key:"remove",value:function(e){var n=this._teardowns;n&&Q(n,e),e instanceof t&&e._removeParent(this)}}]),t}();pe.EMPTY=((t=new pe).closed=!0,t);var Fe=pe.EMPTY;function Kt(t){return t instanceof pe||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function Dn(t){F(t)?t():t.unsubscribe()}var _n={setTimeout:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=_n.delegate;return((null==t?void 0:t.setTimeout)||setTimeout).apply(void 0,arguments)}),clearTimeout:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=_n.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(t)}),delegate:void 0};function ea(t){_n.setTimeout(function(){throw t})}function ar(){}var ta=qd("C",void 0,void 0);function qd(t,r,e){return{kind:t,value:r,error:e}}function Fc(t){t()}var Kd=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).isStopped=!1,n?(i.destination=n,Kt(n)&&n.add(It(i))):i.destination=r1,i}return g(e,[{key:"next",value:function(i){this.isStopped?Xd(function(t){return qd("N",t,void 0)}(i),this):this._next(i)}},{key:"error",value:function(i){this.isStopped?Xd(function(t){return qd("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped?Xd(ta,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Se(Re(e.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){try{this.destination.error(i)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(i,a,o){return new Yd(i,a,o)}}]),e}(pe),Yd=function(t){M(e,t);var r=R(e);function e(n,i,a){var o,s;if(y(this,e),o=r.call(this),F(n))s=n;else if(n){var u;s=n.next,i=n.error,a=n.complete,It(o),u=n,s=null==s?void 0:s.bind(u),i=null==i?void 0:i.bind(u),a=null==a?void 0:a.bind(u)}return o.destination={next:s?Zd(s,It(o)):ar,error:Zd(null!=i?i:U_,It(o)),complete:a?Zd(a,It(o)):ar},o}return g(e)}(Kd);function Zd(t,r){return function(){try{t.apply(void 0,arguments)}catch(e){ea(e)}}}function U_(t){throw t}function Xd(t,r){var e=null;e&&_n.setTimeout(function(){return e(t,r)})}var r1={closed:!0,next:ar,error:U_,complete:ar},Qd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ma(t){return t}function j_(t){return 0===t.length?Ma:1===t.length?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var et=function(){var t=function(){function r(e){y(this,r),e&&(this._subscribe=e)}return g(r,[{key:"lift",value:function(n){var i=new r;return i.source=this,i.operator=n,i}},{key:"subscribe",value:function(n,i,a){var o=this,s=function(t){return t&&t instanceof Kd||function(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}(t)&&Kt(t)}(n)?n:new Yd(n,i,a);return Fc(function(){var u=o.operator,l=o.source;s.add(u?u.call(s,l):l?o._subscribe(s):o._trySubscribe(s))}),s}},{key:"_trySubscribe",value:function(n){try{return this._subscribe(n)}catch(i){n.error(i)}}},{key:"forEach",value:function(n,i){var a=this;return new(i=G_(i))(function(o,s){var u;u=a.subscribe(function(l){try{n(l)}catch(c){s(c),null==u||u.unsubscribe()}},s,o)})}},{key:"_subscribe",value:function(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}},{key:Qd,value:function(){return this}},{key:"pipe",value:function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return j_(i)(this)}},{key:"toPromise",value:function(n){var i=this;return new(n=G_(n))(function(a,o){var s;i.subscribe(function(u){return s=u},function(u){return o(u)},function(){return a(s)})})}}]),r}();return t.create=function(r){return new t(r)},t}();function G_(t){var r;return null!==(r=null!=t?t:undefined)&&void 0!==r?r:Promise}var s1=V(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),nt=function(){var t=function(r){M(n,r);var e=R(n);function n(){var i;return y(this,n),(i=e.call(this)).closed=!1,i.observers=[],i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return g(n,[{key:"lift",value:function(a){var o=new z_(this,this);return o.operator=a,o}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new s1}},{key:"next",value:function(a){var o=this;Fc(function(){if(o._throwIfClosed(),!o.isStopped){var l,u=b(o.observers.slice());try{for(u.s();!(l=u.n()).done;)l.value.next(a)}catch(f){u.e(f)}finally{u.f()}}})}},{key:"error",value:function(a){var o=this;Fc(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=a;for(var s=o.observers;s.length;)s.shift().error(a)}})}},{key:"complete",value:function(){var a=this;Fc(function(){if(a._throwIfClosed(),!a.isStopped){a.isStopped=!0;for(var o=a.observers;o.length;)o.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}},{key:"_trySubscribe",value:function(a){return this._throwIfClosed(),Se(Re(n.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}},{key:"_innerSubscribe",value:function(a){var u=this.observers;return this.hasError||this.isStopped?Fe:(u.push(a),new pe(function(){return Q(u,a)}))}},{key:"_checkFinalizedStatuses",value:function(a){var u=this.isStopped;this.hasError?a.error(this.thrownError):u&&a.complete()}},{key:"asObservable",value:function(){var a=new et;return a.source=this,a}}]),n}(et);return t.create=function(r,e){return new z_(r,e)},t}(),z_=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this)).destination=n,a.source=i,a}return g(e,[{key:"next",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===o||o.call(a,i)}},{key:"error",value:function(i){var a,o;null===(o=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===o||o.call(a,i)}},{key:"complete",value:function(){var i,a;null===(a=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===a||a.call(i)}},{key:"_subscribe",value:function(i){var a,o;return null!==(o=null===(a=this.source)||void 0===a?void 0:a.subscribe(i))&&void 0!==o?o:Fe}}]),e}(nt);function W_(t){return F(null==t?void 0:t.lift)}function At(t){return function(r){if(W_(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ct=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s){var u,l,c,f;return y(this,e),(f=r.call(this,n)).onFinalize=s,f._next=i?function(h){try{i(h)}catch(d){n.error(d)}}:Se((u=It(f),Re(e.prototype)),"_next",u),f._error=o?function(h){try{o(h)}catch(d){n.error(d)}finally{this.unsubscribe()}}:Se((l=It(f),Re(e.prototype)),"_error",l),f._complete=a?function(){try{a()}catch(h){n.error(h)}finally{this.unsubscribe()}}:Se((c=It(f),Re(e.prototype)),"_complete",c),f}return g(e,[{key:"unsubscribe",value:function(){var i,a=this.closed;Se(Re(e.prototype),"unsubscribe",this).call(this),!a&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}]),e}(Kd);function Ue(t,r){return At(function(e,n){var i=0;e.subscribe(new Ct(n,function(a){n.next(t.call(r,a,i++))}))})}var u1=dt(774),rt=dt.n(u1);function ho(t){return this instanceof ho?(this.v=t,this):new ho(t)}function f1(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=e.apply(t,r||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(d){return new Promise(function(v,p){a.push([h,d,v,p])>1||s(h,d)})})}function s(h,d){try{!function(h){h.value instanceof ho?Promise.resolve(h.value.v).then(l,c):f(a[0][2],h)}(n[h](d))}catch(v){f(a[0][3],v)}}function l(h){s("next",h)}function c(h){s("throw",h)}function f(h,d){h(d),a.shift(),a.length&&s(a[0][0],a[0][1])}}function h1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(a){e[a]=t[a]&&function(o){return new Promise(function(s,u){!function(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}(s,u,(o=t[a](o)).done,o.value)})}}}var Jd=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function Z_(t){return F(null==t?void 0:t.then)}function X_(t){return F(t[Qd])}function Q_(t){return Symbol.asyncIterator&&F(null==t?void 0:t[Symbol.asyncIterator])}function $_(t){return new TypeError("You provided ".concat(null!==t&&"object"==typeof t?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var J_="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function eC(t){return F(null==t?void 0:t[J_])}function tC(t){return f1(this,arguments,rt().mark(function r(){var e,n,i;return rt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=t.getReader(),s.prev=1;case 2:return s.next=5,ho(e.read());case 5:if(i=(n=s.sent).value,!n.done){s.next=12;break}return s.next=11,ho(void 0);case 11:return s.abrupt("return",s.sent);case 12:return s.next=14,ho(i);case 14:return s.next=16,s.sent;case 16:s.next=2;break;case 18:return s.prev=18,e.releaseLock(),s.finish(18);case 21:case"end":return s.stop()}},r,null,[[1,,18,21]])}))}function nC(t){return F(null==t?void 0:t.getReader)}function or(t){if(t instanceof et)return t;if(null!=t){if(X_(t))return function(t){return new et(function(r){var e=t[Qd]();if(F(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Jd(t))return function(t){return new et(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}(t);if(Z_(t))return function(t){return new et(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,ea)})}(t);if(Q_(t))return rC(t);if(eC(t))return function(t){return new et(function(r){var n,e=b(t);try{for(e.s();!(n=e.n()).done;)if(r.next(n.value),r.closed)return}catch(a){e.e(a)}finally{e.f()}r.complete()})}(t);if(nC(t))return function(t){return rC(tC(t))}(t)}throw $_(t)}function rC(t){return new et(function(r){(function(t,r){var e,n,i,a;return function(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,rt().mark(function o(){return rt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,e=h1(t);case 2:return l.next=4,e.next();case 4:if((n=l.sent).done){l.next=12;break}if(r.next(n.value),!r.closed){l.next=10;break}return l.abrupt("return");case 10:l.next=2;break;case 12:l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),i={error:l.t0};case 17:if(l.prev=17,l.prev=18,!n||n.done||!(a=e.return)){l.next=22;break}return l.next=22,a.call(e);case 22:if(l.prev=22,!i){l.next=25;break}throw i.error;case 25:return l.finish(22);case 26:return l.finish(17);case 27:r.complete();case 28:case"end":return l.stop()}},o,null,[[0,14,17,27],[18,,22,26]])}))})(t,r).catch(function(e){return r.error(e)})})}function na(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(a),!i)return a}function E1(t,r,e,n,i,a,o,s){var u=[],l=0,c=0,f=!1,h=function(){f&&!u.length&&!l&&r.complete()},d=function(m){return l<n?v(m):u.push(m)},v=function p(m){a&&r.next(m),l++;var C=!1;or(e(m,c++)).subscribe(new Ct(r,function(_){null==i||i(_),a?d(_):r.next(_)},function(){C=!0},void 0,function(){if(C)try{l--;for(var _=function(){var S=u.shift();o?na(r,o,function(){return p(S)}):p(S)};u.length&&l<n;)_();h()}catch(E){r.error(E)}}))};return t.subscribe(new Ct(r,d,function(){f=!0,h()})),function(){null==s||s()}}function Zt(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return F(r)?Zt(function(n,i){return Ue(function(a,o){return r(n,a,i,o)})(or(t(n,i)))},e):("number"==typeof r&&(e=r),At(function(n,i){return E1(n,i,t,e)}))}function Lu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Zt(Ma,t)}var ra=new et(function(t){return t.complete()});function iC(t){return t&&F(t.schedule)}function ev(t){return t[t.length-1]}function aC(t){return F(ev(t))?t.pop():void 0}function Nu(t){return iC(ev(t))?t.pop():void 0}function w1(t,r){return"number"==typeof ev(t)?t.pop():r}function oC(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At(function(e,n){e.subscribe(new Ct(n,function(i){return na(n,t,function(){return n.next(i)},r)},function(){return na(n,t,function(){return n.complete()},r)},function(i){return na(n,t,function(){return n.error(i)},r)}))})}function sC(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return At(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}function uC(t,r){if(!t)throw new Error("Iterable cannot be null");return new et(function(e){na(e,r,function(){var n=t[Symbol.asyncIterator]();na(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function un(t,r){return r?function(t,r){if(null!=t){if(X_(t))return function(t,r){return or(t).pipe(sC(r),oC(r))}(t,r);if(Jd(t))return function(t,r){return new et(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,r);if(Z_(t))return function(t,r){return or(t).pipe(sC(r),oC(r))}(t,r);if(Q_(t))return uC(t,r);if(eC(t))return function(t,r){return new et(function(e){var n;return na(e,r,function(){n=t[J_](),na(e,r,function(){var i,a;try{var o=n.next();i=o.value,a=o.done}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),function(){return F(null==n?void 0:n.return)&&n.return()}})}(t,r);if(nC(t))return function(t,r){return uC(tC(t),r)}(t,r)}throw $_(t)}(t,r):or(t)}function tv(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r),i=w1(r,1/0),a=r;return a.length?1===a.length?or(a[0]):Lu(i)(un(a,n)):ra}function Dr(t){return t<=0?function(){return ra}:At(function(r,e){var n=0;r.subscribe(new Ct(e,function(i){++n<=t&&(e.next(i),t<=n&&e.complete())}))})}function lC(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.connector,e=void 0===r?function(){return new nt}:r,n=t.resetOnError,i=void 0===n||n,a=t.resetOnComplete,o=void 0===a||a,s=t.resetOnRefCountZero,u=void 0===s||s;return function(l){var c=null,f=null,h=null,d=0,v=!1,p=!1,m=function(){null==f||f.unsubscribe(),f=null},C=function(){m(),c=h=null,v=p=!1},_=function(){var S=c;C(),null==S||S.unsubscribe()};return At(function(E,S){d++,!p&&!v&&m();var w=h=null!=h?h:e();S.add(function(){0==--d&&!p&&!v&&(f=nv(_,u))}),w.subscribe(S),c||(c=new Yd({next:function(I){return w.next(I)},error:function(I){p=!0,m(),f=nv(C,i,I),w.error(I)},complete:function(){v=!0,m(),f=nv(C,o),w.complete()}}),un(E).subscribe(c))})(l)}}function nv(t,r){if(!0===r)return t(),null;if(!1===r)return null;for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return r.apply(void 0,n).pipe(Dr(1)).subscribe(function(){return t()})}function vt(t){for(var r in t)if(t[r]===vt)return r;throw Error("Could not find renamed property on target object.")}function rv(t,r){for(var e in r)r.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=r[e])}function Qe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var r=t.toString();if(null==r)return""+r;var e=r.indexOf("\n");return-1===e?r:r.substring(0,e)}function iv(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}var O1=vt({__forward_ref__:vt});function it(t){return t.__forward_ref__=it,t.toString=function(){return Qe(this())},t}function Le(t){return cC(t)?t():t}function cC(t){return"function"==typeof t&&t.hasOwnProperty(O1)&&t.__forward_ref__===it}var sr=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,function(t,r){var e=t?"NG0".concat(t,": "):"";return"".concat(e).concat(r)}(n,i))).code=n,a}return g(e)}(Tt(Error));function ke(t){return"string"==typeof t?t:null==t?"":String(t)}function Vn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ke(t)}function Lc(t,r){var e=r?" in ".concat(r):"";throw new sr("201","No provider for ".concat(Vn(t)," found").concat(e))}function lr(t,r){null==t&&function(t,r,e,n){throw new Error("ASSERTION ERROR: ".concat(t)+(null==n?"":" [Expected=> ".concat(e," ").concat(n," ").concat(r," <=Actual]")))}(r,t,null,"!=")}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{providers:t.providers||[],imports:t.imports||[]}}function ov(t){return fC(t,Nc)||fC(t,dC)}function fC(t,r){return t.hasOwnProperty(r)?t[r]:null}function hC(t){return t&&(t.hasOwnProperty(sv)||t.hasOwnProperty(N1))?t[sv]:null}var uv,Nc=vt({"\u0275prov":vt}),sv=vt({"\u0275inj":vt}),dC=vt({ngInjectableDef:vt}),N1=vt({ngInjectorDef:vt}),Pe=function(){return(Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe}();function V1(){return uv}function Ra(t){var r=uv;return uv=t,r}function vC(t,r,e){var n=ov(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Pe.Optional?null:void 0!==r?r:void Lc(Qe(t),"Injector")}function Pa(t){return{toString:t}.toString()}var kr=function(){return(kr=kr||{})[kr.OnPush=0]="OnPush",kr[kr.Default=1]="Default",kr}(),Jr=function(){return function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(Jr||(Jr={})),Jr}(),B1="undefined"!=typeof globalThis&&globalThis,H1="undefined"!=typeof window&&window,U1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j1="undefined"!=typeof global&&global,ft=B1||j1||H1||U1,ts={},pt=[],Vc=vt({"\u0275cmp":vt}),lv=vt({"\u0275dir":vt}),cv=vt({"\u0275pipe":vt}),pC=vt({"\u0275mod":vt}),aa=vt({"\u0275fac":vt}),Vu=vt({__NG_ELEMENT_ID__:vt}),G1=0;function $t(t){return Pa(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Jr.Emulated,id:"c",styles:t.styles||pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,a=t.features,o=t.pipes;return n.id+=G1++,n.inputs=_C(t.inputs,e),n.outputs=_C(t.outputs),a&&a.forEach(function(s){return s(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(gC)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(yC)}:null,n})}function gC(t){return In(t)||function(t){return t[lv]||null}(t)}function yC(t){return function(t){return t[cv]||null}(t)}var mC={};function st(t){return Pa(function(){var r={type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(mC[t.id]=t.type),r})}function _C(t,r){if(null==t)return ts;var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=n,r&&(r[i]=a)}return e}var le=$t;function qn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[Vc]||null}function Ir(t,r){var e=t[pC]||null;if(!e&&!0===r)throw new Error("Type ".concat(Qe(t)," does not have '\u0275mod' property."));return e}function ki(t){return Array.isArray(t)&&"object"==typeof t[1]}function ti(t){return Array.isArray(t)&&!0===t[1]}function dv(t){return 0!=(8&t.flags)}function jc(t){return 2==(2&t.flags)}function Gc(t){return 1==(1&t.flags)}function ni(t){return null!==t.template}function Z1(t){return 0!=(512&t[2])}function mo(t,r){return t.hasOwnProperty(aa)?t[aa]:null}var $1=function(){function t(r,e,n){y(this,t),this.previousValue=r,this.currentValue=e,this.firstChange=n}return g(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Bn(){return EC}function EC(t){return t.type.prototype.ngOnChanges&&(t.setInput=eR),J1}function J1(){var t=wC(this),r=null==t?void 0:t.current;if(r){var e=t.previous;if(e===ts)t.previous=r;else for(var n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function eR(t,r,e,n){var i=wC(t)||function(t,r){return t[SC]=r}(t,{previous:ts,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[e],u=o[s];a[s]=new $1(u&&u.currentValue,r,o===ts),t[n]=r}Bn.ngInherit=!0;var SC="__ngSimpleChanges__";function wC(t){return t[SC]||null}var gv=void 0;function Ut(t){return!!t.listen}var DC={createRenderer:function(r,e){return void 0!==gv?gv:"undefined"!=typeof document?document:void 0}};function Jt(t){for(;Array.isArray(t);)t=t[0];return t}function zc(t,r){return Jt(r[t])}function Mr(t,r){return Jt(r[t.index])}function mv(t,r){return t.data[r]}function os(t,r){return t[r]}function fr(t,r){var e=r[t];return ki(e)?e:e[0]}function kC(t){return 4==(4&t[2])}function _v(t){return 128==(128&t[2])}function Fa(t,r){return null==r?null:t[r]}function IC(t){t[18]=0}function Cv(t,r){t[5]+=r;for(var e=t,n=t[3];null!==n&&(1===r&&1===e[5]||-1===r&&0===e[5]);)n[5]+=r,e=n,n=n[3]}var be={lFrame:LC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function AC(){return be.bindingsEnabled}function L(){return be.lFrame.lView}function $e(){return be.lFrame.tView}function he(t){return be.lFrame.contextLView=t,t[8]}function ln(){for(var t=OC();null!==t&&64===t.type;)t=t.parent;return t}function OC(){return be.lFrame.currentTNode}function Ii(t,r){var e=be.lFrame;e.currentTNode=t,e.isParent=r}function Ev(){return be.lFrame.isParent}function Sv(){be.lFrame.isParent=!1}function Wc(){return be.isInCheckNoChangesMode}function qc(t){be.isInCheckNoChangesMode=t}function Hn(){var t=be.lFrame,r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ss(){return be.lFrame.bindingIndex++}function sa(t){var r=be.lFrame,e=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,e}function pR(t,r){var e=be.lFrame;e.bindingIndex=e.bindingRootIndex=t,wv(r)}function wv(t){be.lFrame.currentDirectiveIndex=t}function PC(){return be.lFrame.currentQueryIndex}function Tv(t){be.lFrame.currentQueryIndex=t}function yR(t){var r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function xC(t,r,e){if(e&Pe.SkipSelf){for(var n=r,i=t;!(null!==(n=n.parent)||e&Pe.Host||null===(n=yR(i))||(i=i[15],10&n.type)););if(null===n)return!1;r=n,t=i}var a=be.lFrame=FC();return a.currentTNode=r,a.lView=t,!0}function Kc(t){var r=FC(),e=t[1];be.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function FC(){var t=be.lFrame,r=null===t?null:t.child;return null===r?LC(t):r}function LC(t){var r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function NC(){var t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var VC=NC;function Yc(){var t=NC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mR(t){var r=be.lFrame.contextLView=function(t,r){for(;t>0;)r=r[15],t--;return r}(t,be.lFrame.contextLView);return r[8]}function Un(){return be.lFrame.selectedIndex}function La(t){be.lFrame.selectedIndex=t}function jt(){var t=be.lFrame;return mv(t.tView,t.selectedIndex)}function Zc(t,r){for(var e=r.directiveStart,n=r.directiveEnd;e<n;e++){var a=t.data[e].type.prototype,o=a.ngAfterContentInit,s=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),s&&((t.contentHooks||(t.contentHooks=[])).push(e,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,s)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function Xc(t,r,e){BC(t,r,3,e)}function Qc(t,r,e,n){(3&t[2])===e&&BC(t,r,e,n)}function Dv(t,r){var e=t[2];(3&e)===r&&(e&=2047,t[2]=e+=1)}function BC(t,r,e,n){for(var a=null!=n?n:-1,o=r.length-1,s=0,u=void 0!==n?65535&t[18]:0;u<o;u++)if("number"==typeof r[u+1]){if(s=r[u],null!=n&&s>=n)break}else r[u]<0&&(t[18]+=65536),(s<a||-1==a)&&(DR(t,e,r,u),t[18]=(4294901760&t[18])+u+2),u++}function DR(t,r,e,n){var i=e[n]<0,a=e[n+1],s=t[i?-e[n]:e[n]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}var Gu=g(function t(r,e,n){y(this,t),this.factory=r,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n});function $c(t,r,e){for(var n=Ut(t),i=0;i<e.length;){var a=e[i];if("number"==typeof a){if(0!==a)break;i++;var o=e[i++],s=e[i++],u=e[i++];n?t.setAttribute(r,s,u,o):r.setAttributeNS(o,s,u)}else{var l=a,c=e[++i];Iv(l)?n&&t.setProperty(r,l,c):n?t.setAttribute(r,l,c):r.setAttribute(l,c),i++}}return i}function HC(t){return 3===t||4===t||6===t}function Iv(t){return 64===t.charCodeAt(0)}function Jc(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else for(var e=-1,n=0;n<r.length;n++){var i=r[n];"number"==typeof i?e=i:0===e||UC(t,e,i,null,-1===e||2===e?r[++n]:null)}return t}function UC(t,r,e,n,i){var a=0,o=t.length;if(-1===r)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===r){o=-1;break}if(s>r){o=a-1;break}}}for(;a<t.length;){var u=t[a];if("number"==typeof u)break;if(u===e){if(null===n)return void(null!==i&&(t[a+1]=i));if(n===t[a+1])return void(t[a+2]=i)}a++,null!==n&&a++,null!==i&&a++}-1!==o&&(t.splice(o,0,r),a=o+1),t.splice(a++,0,e),null!==n&&t.splice(a++,0,n),null!==i&&t.splice(a++,0,i)}function jC(t){return-1!==t}function us(t){return 32767&t}function ls(t,r){for(var e=function(t){return t>>16}(t),n=r;e>0;)n=n[15],e--;return n}var Av=!0;function ef(t){var r=Av;return Av=t,r}var PR=0;function Wu(t,r){var e=Mv(t,r);if(-1!==e)return e;var n=r[1];n.firstCreatePass&&(t.injectorIndex=r.length,Ov(n.data,t),Ov(r,null),Ov(n.blueprint,null));var i=tf(t,r),a=t.injectorIndex;if(jC(i))for(var o=us(i),s=ls(i,r),u=s[1].data,l=0;l<8;l++)r[a+l]=s[o+l]|u[o+l];return r[a+8]=i,a}function Ov(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Mv(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function tf(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var e=0,n=null,i=r;null!==i;){var a=i[1],o=a.type;if(null===(n=2===o?a.declTNode:1===o?i[6]:null))return-1;if(e++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function nf(t,r,e){!function(t,r,e){var n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Vu)&&(n=e[Vu]),null==n&&(n=e[Vu]=PR++);var i=255&n;r.data[t+(i>>5)]|=1<<i}(t,r,e)}function WC(t,r,e){if(e&Pe.Optional)return t;Lc(r,"NodeInjector")}function qC(t,r,e,n){if(e&Pe.Optional&&void 0===n&&(n=null),0==(e&(Pe.Self|Pe.Host))){var i=t[9],a=Ra(void 0);try{return i?i.get(r,n,e&Pe.Optional):vC(r,n,e&Pe.Optional)}finally{Ra(a)}}return WC(n,r,e)}function KC(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pe.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=VR(e);if("function"==typeof a){if(!xC(r,t,n))return n&Pe.Host?WC(i,e,n):qC(r,e,n,i);try{var o=a(n);if(null!=o||n&Pe.Optional)return o;Lc(e)}finally{VC()}}else if("number"==typeof a){var s=null,u=Mv(t,r),l=-1,c=n&Pe.Host?r[16][6]:null;for((-1===u||n&Pe.SkipSelf)&&(-1!==(l=-1===u?tf(t,r):r[u+8])&&XC(n,!1)?(s=r[1],u=us(l),r=ls(l,r)):u=-1);-1!==u;){var f=r[1];if(ZC(a,u,f.data)){var h=NR(u,r,e,s,n,c);if(h!==YC)return h}-1!==(l=r[u+8])&&XC(n,r[1].data[u+8]===c)&&ZC(a,u,r)?(s=f,u=us(l),r=ls(l,r)):u=-1}}}return qC(r,e,n,i)}var YC={};function LR(){return new cs(ln(),L())}function NR(t,r,e,n,i,a){var o=r[1],s=o.data[t+8],c=rf(s,o,e,null==n?jc(s)&&Av:n!=o&&0!=(3&s.type),i&Pe.Host&&a===s);return null!==c?qu(r,o,c,s):YC}function rf(t,r,e,n,i){for(var a=t.providerIndexes,o=r.data,s=1048575&a,u=t.directiveStart,c=a>>20,h=i?s+c:t.directiveEnd,d=n?s:s+c;d<h;d++){var v=o[d];if(d<u&&e===v||d>=u&&v.type===e)return d}if(i){var p=o[u];if(p&&ni(p)&&p.type===e)return u}return null}function qu(t,r,e,n){var i=t[e],a=r.data;if(function(t){return t instanceof Gu}(i)){var o=i;o.resolving&&function(t,r){throw new sr("200","Circular dependency in DI detected for ".concat(t).concat(""))}(Vn(a[e]));var s=ef(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?Ra(o.injectImpl):null;xC(t,n,Pe.Default);try{i=t[e]=o.factory(void 0,a,t,n),r.firstCreatePass&&e>=n.directiveStart&&function(t,r,e){var n=r.type.prototype,a=n.ngOnInit,o=n.ngDoCheck;if(n.ngOnChanges){var s=EC(r);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,a[e],r)}finally{null!==u&&Ra(u),ef(s),o.resolving=!1,VC()}}return i}function VR(t){if("string"==typeof t)return t.charCodeAt(0)||0;var r=t.hasOwnProperty(Vu)?t[Vu]:void 0;return"number"==typeof r?r>=0?255&r:LR:r}function ZC(t,r,e){return!!(e[r+(t>>5)]&1<<t)}function XC(t,r){return!(t&Pe.Self||t&Pe.Host&&r)}var cs=function(){function t(r,e){y(this,t),this._tNode=r,this._lView=e}return g(t,[{key:"get",value:function(e,n,i){return KC(this._tNode,this._lView,e,i,n)}}]),t}();function Rv(t){return cC(t)?function(){var r=Rv(Le(t));return r&&r()}:mo(t)}var hs="__parameters__";function vs(t,r,e){return Pa(function(){var n=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(r);function i(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(this instanceof i)return n.apply(this,o),this;var u=xt(i,o);return l.annotation=u,l;function l(c,f,h){for(var d=c.hasOwnProperty(hs)?c[hs]:Object.defineProperty(c,hs,{value:[]})[hs];d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(u),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Te=function(){function t(r,e){y(this,t),this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=re({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return g(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),HR=new Te("AnalyzeForEntryComponents");function Rr(t,r){void 0===r&&(r=t);for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)?(r===t&&(r=t.slice(0,e)),Rr(n,r)):r!==t&&r.push(n)}return r}function Ai(t,r){t.forEach(function(e){return Array.isArray(e)?Ai(e,r):r(e)})}function QC(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function af(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Qu(t,r){for(var e=[],n=0;n<t;n++)e.push(r);return e}function dr(t,r,e){var n=ps(t,r);return n>=0?t[1|n]=e:function(t,r,e,n){var i=t.length;if(i==r)t.push(e,n);else if(1===i)t.push(n,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>r;)t[i]=t[i-2],i--;t[r]=e,t[r+1]=n}}(t,n=~n,r,e),n}function Fv(t,r){var e=ps(t,r);if(e>=0)return t[1|e]}function ps(t,r){return function(t,r,e){for(var n=0,i=t.length>>e;i!==n;){var a=n+(i-n>>1),o=t[a<<e];if(r===o)return a<<e;o>r?i=a:n=a+1}return~(i<<e)}(t,r,1)}var $u={},Nv="__NG_DI_FLAG__",sf="ngTempTokenPath",QR=/\n/gm,nE="__source",JR=vt({provide:String,useValue:vt}),Ju=void 0;function rE(t){var r=Ju;return Ju=t,r}function eP(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.Default;if(void 0===Ju)throw new Error("inject() must be called from an injection context");return null===Ju?vC(t,void 0,r):Ju.get(t,r&Pe.Optional?null:void 0,r)}function z(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.Default;return(V1()||eP)(Le(t),r)}var tP=z;function Vv(t){for(var r=[],e=0;e<t.length;e++){var n=Le(t[e]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Pe.Default,o=0;o<n.length;o++){var s=n[o],u=nP(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}r.push(z(i,a))}else r.push(z(n))}return r}function el(t,r){return t[Nv]=r,t.prototype[Nv]=r,t}function nP(t){return t[Nv]}function rP(t,r,e,n){var i=t[sf];throw r[nE]&&i.unshift(r[nE]),t.message=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Qe(r);if(Array.isArray(r))i=r.map(Qe).join(" -> ");else if("object"==typeof r){var a=[];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Qe(s)))}i="{".concat(a.join(", "),"}")}return"".concat(e).concat(n?"("+n+")":"","[").concat(i,"]: ").concat(t.replace(QR,"\n  "))}("\n"+t.message,i,e,n),t.ngTokenPath=i,t[sf]=null,t}var tl=el(vs("Inject",function(t){return{token:t}}),-1),Oi=el(vs("Optional"),8),gs=el(vs("SkipSelf"),4),hE=function(){function t(r){y(this,t),this.changingThisBreaksApplicationSecurity=r}return g(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}();function Va(t){return t instanceof hE?t.changingThisBreaksApplicationSecurity:t}var SE="__ngContext__";function On(t,r){t[SE]=r}function Yv(t){var r=function(t){return t[SE]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function Xv(t){return t.ngOriginalError}function ex(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var _s=function(){function t(){y(this,t),this._console=console}return g(t,[{key:"handleError",value:function(e){var n=this._findOriginalError(e),i=function(t){return t&&t.ngErrorLogger||ex}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n)}},{key:"_findOriginalError",value:function(e){for(var n=e&&Xv(e);n&&Xv(n);)n=Xv(n);return n||null}}]),t}(),kE=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ft)}();function Ri(t){return t instanceof Function?t():t}var vr=function(){return(vr=vr||{})[vr.Important=1]="Important",vr[vr.DashCase=2]="DashCase",vr}();function $v(t,r){return undefined(t,r)}function sl(t){var r=t[3];return ti(r)?r[3]:r}function Jv(t){return RE(t[13])}function ep(t){return RE(t[4])}function RE(t){for(;null!==t&&!ti(t);)t=t[4];return t}function Es(t,r,e,n,i){if(null!=n){var a,o=!1;ti(n)?a=n:ki(n)&&(o=!0,n=n[0]);var s=Jt(n);0===t&&null!==e?null==i?VE(r,e,s):_o(r,e,s,i||null,!0):1===t&&null!==e?_o(r,e,s,i||null,!0):2===t?function(t,r,e){var n=df(t,r);n&&function(t,r,e,n){Ut(t)?t.removeChild(r,e,n):r.removeChild(e)}(t,n,r,e)}(r,s,o):3===t&&r.destroyNode(s),null!=a&&function(t,r,e,n,i){var a=e[7];a!==Jt(e)&&Es(r,t,n,a,i);for(var s=10;s<e.length;s++){var u=e[s];ul(u[1],u,t,r,n,a)}}(r,t,a,e,i)}}function tp(t,r){return Ut(t)?t.createText(r):t.createTextNode(r)}function np(t,r,e){return Ut(t)?t.createElement(r,e):null===e?t.createElement(r):t.createElementNS(e,r)}function xE(t,r){var e=t[9],n=e.indexOf(r),i=r[3];1024&r[2]&&(r[2]&=-1025,Cv(i,-1)),e.splice(n,1)}function rp(t,r){if(!(t.length<=10)){var e=10+r,n=t[e];if(n){var i=n[17];null!==i&&i!==t&&xE(i,n),r>0&&(t[e-1][4]=n[4]);var a=af(t,10+r);!function(t,r){ul(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(n[1],n);var o=a[19];null!==o&&o.detachView(a[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}}function FE(t,r){if(!(256&r[2])){var e=r[11];Ut(e)&&e.destroyNode&&ul(t,r,e,3,null,null),function(t){var r=t[13];if(!r)return ip(t[1],t);for(;r;){var e=null;if(ki(r))e=r[13];else{var n=r[10];n&&(e=n)}if(!e){for(;r&&!r[4]&&r!==t;)ki(r)&&ip(r[1],r),r=r[3];null===r&&(r=t),ki(r)&&ip(r[1],r),e=r&&r[4]}r=e}}(r)}}function ip(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(t,r){var e;if(null!=t&&null!=(e=t.destroyHooks))for(var n=0;n<e.length;n+=2){var i=r[e[n]];if(!(i instanceof Gu)){var a=e[n+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(t,r),function(t,r){var e=t.cleanup,n=r[7],i=-1;if(null!==e)for(var a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){var o=e[a+1],s="function"==typeof o?o(r):Jt(r[o]),u=n[i=e[a+2]],l=e[a+3];"boolean"==typeof l?s.removeEventListener(e[a],u,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),a+=2}else{var c=n[i=e[a+1]];e[a].call(c)}if(null!==n){for(var f=i+1;f<n.length;f++)(0,n[f])();r[7]=null}}(t,r),1===r[1].type&&Ut(r[11])&&r[11].destroy();var e=r[17];if(null!==e&&ti(r[3])){e!==r[3]&&xE(e,r);var n=r[19];null!==n&&n.detachView(t)}}}function LE(t,r,e){return function(t,r,e){for(var n=r;null!==n&&40&n.type;)n=(r=n).parent;if(null===n)return e[0];if(2&n.flags){var i=t.data[n.directiveStart].encapsulation;if(i===Jr.None||i===Jr.Emulated)return null}return Mr(n,e)}(t,r.parent,e)}function _o(t,r,e,n,i){Ut(t)?t.insertBefore(r,e,n,i):r.insertBefore(e,n,i)}function VE(t,r,e){Ut(t)?t.appendChild(r,e):r.appendChild(e)}function BE(t,r,e,n,i){null!==n?_o(t,r,e,n,i):VE(t,r,e)}function df(t,r){return Ut(t)?t.parentNode(r):r.parentNode}function HE(t,r,e){return jE(t,r,e)}var jE=function(t,r,e){return 40&t.type?Mr(t,e):null};function vf(t,r,e,n){var i=LE(t,n,r),a=r[11],s=HE(n.parent||r[6],n,r);if(null!=i)if(Array.isArray(e))for(var u=0;u<e.length;u++)BE(a,i,e[u],s,!1);else BE(a,i,e,s,!1)}function pf(t,r){if(null!==r){var e=r.type;if(3&e)return Mr(r,t);if(4&e)return op(-1,t[r.index]);if(8&e){var n=r.child;if(null!==n)return pf(t,n);var i=t[r.index];return ti(i)?op(-1,i):Jt(i)}if(32&e)return $v(r,t)()||Jt(t[r.index]);var s=zE(t,r);return null!==s?Array.isArray(s)?s[0]:pf(sl(t[16]),s):pf(t,r.next)}return null}function zE(t,r){return null!==r?t[16][6].projection[r.projection]:null}function op(t,r){var e=10+t+1;if(e<r.length){var n=r[e],i=n[1].firstChild;if(null!==i)return pf(n,i)}return r[7]}function sp(t,r,e,n,i,a,o){for(;null!=e;){var s=n[e.index],u=e.type;if(o&&0===r&&(s&&On(Jt(s),n),e.flags|=4),64!=(64&e.flags))if(8&u)sp(t,r,e.child,n,i,a,!1),Es(r,t,i,s,a);else if(32&u){for(var l=$v(e,n),c=void 0;c=l();)Es(r,t,i,c,a);Es(r,t,i,s,a)}else 16&u?qE(t,r,n,e,i,a):Es(r,t,i,s,a);e=o?e.projectionNext:e.next}}function ul(t,r,e,n,i,a){sp(e,n,t.firstChild,r,i,a,!1)}function Tx(t,r,e){qE(r[11],0,r,e,LE(t,e,r),HE(e.parent||r[6],e,r))}function qE(t,r,e,n,i,a){var o=e[16],u=o[6].projection[n.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)Es(r,t,i,u[l],a);else sp(t,r,u,o[3],i,a,!0)}function KE(t,r,e){Ut(t)?t.setAttribute(r,"style",e):r.style.cssText=e}function up(t,r,e){Ut(t)?""===e?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e):r.className=e}function YE(t,r,e){for(var n=t.length;;){var i=t.indexOf(r,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var a=r.length;if(i+a===n||t.charCodeAt(i+a)<=32)return i}e=i+1}}var ZE="ng-template";function Ix(t,r,e){for(var n=0;n<t.length;){var i=t[n++];if(e&&"class"===i){if(-1!==YE((i=t[n]).toLowerCase(),r,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===r)return!0;return!1}}return!1}function XE(t){return 4===t.type&&t.value!==ZE}function Ax(t,r,e){return r===(4!==t.type||e?t.value:ZE)}function Ox(t,r,e){for(var n=4,i=t.attrs||[],a=function(t){for(var r=0;r<t.length;r++)if(HC(t[r]))return r;return t.length}(i),o=!1,s=0;s<r.length;s++){var u=r[s];if("number"!=typeof u){if(!o)if(4&n){if(n=2|1&n,""!==u&&!Ax(t,u,e)||""===u&&1===r.length){if(ri(n))return!1;o=!0}}else{var l=8&n?u:r[++s];if(8&n&&null!==t.attrs){if(!Ix(t.attrs,l,e)){if(ri(n))return!1;o=!0}continue}var f=Mx(8&n?"class":u,i,XE(t),e);if(-1===f){if(ri(n))return!1;o=!0;continue}if(""!==l){var h;h=f>a?"":i[f+1].toLowerCase();var d=8&n?h:null;if(d&&-1!==YE(d,l,0)||2&n&&l!==h){if(ri(n))return!1;o=!0}}}}else{if(!o&&!ri(n)&&!ri(u))return!1;if(o&&ri(u))continue;o=!1,n=u|1&n}}return ri(n)||o}function ri(t){return 0==(1&t)}function Mx(t,r,e,n){if(null===r)return-1;var i=0;if(n||!e){for(var a=!1;i<r.length;){var o=r[i];if(o===t)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=r[++i];"string"==typeof s;)s=r[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(t,r){var e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){var n=t[e];if("number"==typeof n)return-1;if(n===r)return e;e++}return-1}(r,t)}function QE(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<r.length;n++)if(Ox(t,r[n],e))return!0;return!1}function Fx(t,r){e:for(var e=0;e<r.length;e++){var n=r[e];if(t.length===n.length){for(var i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function $E(t,r){return t?":not("+r.trim()+")":r}function Lx(t){for(var r=t[0],e=1,n=2,i="",a=!1;e<t.length;){var o=t[e];if("string"==typeof o)if(2&n){var s=t[++e];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""!==i&&!ri(o)&&(r+=$E(a,i),i=""),n=o,a=a||!ri(n);e++}return""!==i&&(r+=$E(a,i)),r}var Ie={};function N(t){JE($e(),L(),Un()+t,Wc())}function JE(t,r,e,n){if(!n)if(3==(3&r[2])){var a=t.preOrderCheckHooks;null!==a&&Xc(r,a,e)}else{var o=t.preOrderHooks;null!==o&&Qc(r,o,0,e)}La(e)}function gf(t,r){return t<<17|r<<2}function ii(t){return t>>17&32767}function lp(t){return 2|t}function ua(t){return(131068&t)>>2}function cp(t,r){return-131069&t|r<<2}function fp(t){return 1|t}function f0(t,r){var e=t.contentQueries;if(null!==e)for(var n=0;n<e.length;n+=2){var a=e[n+1];if(-1!==a){var o=t.data[a];Tv(e[n]),o.contentQueries(2,r[a],a)}}}function ll(t,r,e,n,i,a,o,s,u,l){var c=r.blueprint.slice();return c[0]=i,c[2]=140|n,IC(c),c[3]=c[15]=t,c[8]=e,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=a,c[16]=2==r.type?t[16]:c,c}function Ss(t,r,e,n,i){var a=t.data[r];if(null===a)a=function(t,r,e,n,i){var a=OC(),o=Ev(),u=t.data[r]=function(t,r,e,n,i,a){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,e,r,n,i);return null===t.firstChild&&(t.firstChild=u),null!==a&&(o?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(t,r,e,n,i),be.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=n,a.attrs=i;var o=function(){var t=be.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ii(a,!0),a}function ws(t,r,e,n){if(0===e)return-1;for(var i=r.length,a=0;a<e;a++)r.push(n),t.blueprint.push(n),t.data.push(null);return i}function cl(t,r,e){Kc(r);try{var n=t.viewQuery;null!==n&&Ap(1,n,e);var i=t.template;null!==i&&h0(t,r,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&f0(t,r),t.staticViewQueries&&Ap(2,t.viewQuery,e);var a=t.components;null!==a&&function(t,r){for(var e=0;e<r.length;e++)mF(t,r[e])}(r,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{r[2]&=-5,Yc()}}function bs(t,r,e,n){var i=r[2];if(256!=(256&i)){Kc(r);var a=Wc();try{IC(r),function(t){be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&h0(t,r,e,2,n);var o=3==(3&i);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&Xc(r,s,null)}else{var u=t.preOrderHooks;null!==u&&Qc(r,u,0,null),Dv(r,0)}if(function(t){for(var r=Jv(t);null!==r;r=ep(r))if(r[2])for(var e=r[9],n=0;n<e.length;n++){var i=e[n];0==(1024&i[2])&&Cv(i[3],1),i[2]|=1024}}(r),function(t){for(var r=Jv(t);null!==r;r=ep(r))for(var e=10;e<r.length;e++){var n=r[e],i=n[1];_v(n)&&bs(i,n,i.template,n[8])}}(r),null!==t.contentQueries&&f0(t,r),!a)if(o){var l=t.contentCheckHooks;null!==l&&Xc(r,l)}else{var c=t.contentHooks;null!==c&&Qc(r,c,1),Dv(r,1)}!function(t,r){var e=t.hostBindingOpCodes;if(null!==e)try{for(var n=0;n<e.length;n++){var i=e[n];if(i<0)La(~i);else{var a=i,o=e[++n],s=e[++n];pR(o,a),s(2,r[a])}}}finally{La(-1)}}(t,r);var f=t.components;null!==f&&function(t,r){for(var e=0;e<r.length;e++)yF(t,r[e])}(r,f);var h=t.viewQuery;if(null!==h&&Ap(2,h,n),!a)if(o){var d=t.viewCheckHooks;null!==d&&Xc(r,d)}else{var v=t.viewHooks;null!==v&&Qc(r,v,2),Dv(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Cv(r[3],-1))}finally{Yc()}}}function $x(t,r,e,n){var i=r[10],a=!Wc(),o=kC(r);try{a&&!o&&i.begin&&i.begin(),o&&cl(t,r,n),bs(t,r,e,n)}finally{a&&!o&&i.end&&i.end()}}function h0(t,r,e,n,i){var a=Un(),o=2&n;try{La(-1),o&&r.length>20&&JE(t,r,20,Wc()),e(n,i)}finally{La(a)}}function d0(t,r,e){if(dv(r))for(var i=r.directiveEnd,a=r.directiveStart;a<i;a++){var o=t.data[a];o.contentQueries&&o.contentQueries(1,e[a],a)}}function Ep(t,r,e){!AC()||(function(t,r,e,n){var i=e.directiveStart,a=e.directiveEnd;t.firstCreatePass||Wu(e,r),On(n,r);for(var o=e.initialInputs,s=i;s<a;s++){var u=t.data[s],l=ni(u);l&&hF(r,e,u);var c=qu(r,t,s,e);On(c,r),null!==o&&dF(0,s-i,c,u,0,o),l&&(fr(e.index,r)[8]=c)}}(t,r,e,Mr(e,r)),128==(128&e.flags)&&function(t,r,e){var n=e.directiveStart,i=e.directiveEnd,o=e.index,s=be.lFrame.currentDirectiveIndex;try{La(o);for(var u=n;u<i;u++){var l=t.data[u],c=r[u];wv(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&E0(l,c)}}finally{La(-1),wv(s)}}(t,r,e))}function Sp(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mr,n=r.localNames;if(null!==n)for(var i=r.index+1,a=0;a<n.length;a+=2){var o=n[a+1],s=-1===o?e(r,t):t[o];t[i++]=s}}function v0(t){var r=t.tView;return null===r||r.incompleteFirstPass?t.tView=_f(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function _f(t,r,e,n,i,a,o,s,u,l){var c=20+n,f=c+i,h=function(t,r){for(var e=[],n=0;n<r;n++)e.push(n<t?null:Ie);return e}(c,f),d="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:r,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function y0(t,r,e,n){var i=k0(r);null===e?i.push(n):(i.push(e),t.firstCreatePass&&I0(t).push(n,i.length-1))}function m0(t,r,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(r,i):e[n]=[r,i]}return e}function wp(t,r,e,n){var i=!1;if(AC()){var a=function(t,r,e){var n=t.directiveRegistry,i=null;if(n)for(var a=0;a<n.length;a++){var o=n[a];QE(e,o.selectors,!1)&&(i||(i=[]),nf(Wu(e,r),t,o.type),ni(o)?(S0(t,e),i.unshift(o)):i.push(o))}return i}(t,r,e),o=null===n?null:{"":-1};if(null!==a){i=!0,w0(e,t.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=ws(t,r,a.length,null),h=0;h<a.length;h++){var d=a[h];e.mergedAttrs=Jc(e.mergedAttrs,d.hostAttrs),b0(t,e,r,f,d),fF(f,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);var v=d.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function(t,r){for(var n=r.directiveEnd,i=t.data,a=r.attrs,o=[],s=null,u=null,l=r.directiveStart;l<n;l++){var c=i[l],f=c.inputs,h=null===a||XE(r)?null:vF(f,a);o.push(h),s=m0(f,l,s),u=m0(c.outputs,l,u)}null!==s&&(s.hasOwnProperty("class")&&(r.flags|=16),s.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=o,r.inputs=s,r.outputs=u}(t,e)}o&&function(t,r,e){if(r)for(var n=t.localNames=[],i=0;i<r.length;i+=2){var a=e[r[i+1]];if(null==a)throw new sr("301","Export of name '".concat(r[i+1],"' not found!"));n.push(r[i],a)}}(e,n,o)}return e.mergedAttrs=Jc(e.mergedAttrs,e.attrs),i}function C0(t,r,e,n,i,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~r.index;(function(t){for(var r=t.length;r>0;){var e=t[--r];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(n,i,o)}}function E0(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function S0(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function fF(t,r,e){if(e){if(r.exportAs)for(var n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;ni(r)&&(e[""]=t)}}function w0(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function b0(t,r,e,n,i){t.data[n]=i;var a=i.factory||(i.factory=mo(i.type)),o=new Gu(a,ni(i),null);t.blueprint[n]=o,e[n]=o,C0(t,r,0,n,ws(t,e,i.hostVars,Ie),i)}function hF(t,r,e){var n=Mr(r,t),i=v0(e),a=t[10],o=Cf(t,ll(t,i,null,e.onPush?64:16,n,r,a,a.createRenderer(n,e),null,null));t[r.index]=o}function Pi(t,r,e,n,i,a){var o=Mr(t,r);!function(t,r,e,n,i,a,o){if(null==a)Ut(t)?t.removeAttribute(r,i,e):r.removeAttribute(i);else{var s=null==o?ke(a):o(a,n||"",i);Ut(t)?t.setAttribute(r,i,s,e):e?r.setAttributeNS(e,i,s):r.setAttribute(i,s)}}(r[11],o,a,t.value,e,n,i)}function dF(t,r,e,n,i,a){var o=a[r];if(null!==o)for(var s=n.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],f=o[u++];null!==s?n.setInput(e,f,l,c):e[c]=f}}function vF(t,r){for(var e=null,n=0;n<r.length;){var i=r[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],r[n+1])),n+=2}else n+=2;else n+=4}return e}function T0(t,r,e,n){return new Array(t,!0,!1,r,null,0,n,e,null,null)}function yF(t,r){var e=fr(r,t);if(_v(e)){var n=e[1];80&e[2]?bs(n,e,n.template,e[8]):e[5]>0&&Tp(e)}}function Tp(t){for(var r=Jv(t);null!==r;r=ep(r))for(var e=10;e<r.length;e++){var n=r[e];if(1024&n[2]){var i=n[1];bs(i,n,i.template,n[8])}else n[5]>0&&Tp(n)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=fr(o[s],t);_v(u)&&u[5]>0&&Tp(u)}}function mF(t,r){var e=fr(r,t),n=e[1];(function(t,r){for(var e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])})(n,e),cl(n,e,e[8])}function Cf(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Dp(t){for(;t;){t[2]|=64;var r=sl(t);if(Z1(t)&&!r)return t;t=r}return null}function Ip(t,r,e){var n=r[10];n.begin&&n.begin();try{bs(t,r,t.template,e)}catch(i){throw O0(r,i),i}finally{n.end&&n.end()}}function D0(t){!function(t){for(var r=0;r<t.components.length;r++){var e=t.components[r],n=Yv(e),i=n[1];$x(i,n,i.template,e)}}(t[8])}function Ap(t,r,e){Tv(0),r(t,e)}var wF=function(){return Promise.resolve(null)}();function k0(t){return t[7]||(t[7]=[])}function I0(t){return t.cleanup||(t.cleanup=[])}function O0(t,r){var e=t[9],n=e?e.get(_s,null):null;n&&n.handleError(r)}function M0(t,r,e,n,i){for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=r[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,n,s):u[s]=i}}function la(t,r,e){var n=zc(r,t);!function(t,r,e){Ut(t)?t.setValue(r,e):r.textContent=e}(t[11],n,e)}function Ef(t,r,e){var n=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==r)for(var o=0;o<r.length;o++){var s=r[o];"number"==typeof s?a=s:1==a?i=iv(i,s):2==a&&(n=iv(n,s+": "+r[++o]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=i:t.classesWithoutHost=i}var Op=new Te("INJECTOR",-1),R0=function(){function t(){y(this,t)}return g(t,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u;if(n===$u){var i=new Error("NullInjectorError: No provider for ".concat(Qe(e),"!"));throw i.name="NullInjectorError",i}return n}}]),t}(),Mp=new Te("Set Injector scope."),fl={},DF={},Rp=void 0;function P0(){return void 0===Rp&&(Rp=new R0),Rp}function x0(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0,i=F0(t,r,e,n);return i._resolveInjectorDefTypes(),i}function F0(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return new kF(t,e,r||P0(),n)}var kF=function(){function t(r,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(this,t),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&Ai(e,function(u){return i.processProvider(u,r,e)}),Ai([r],function(u){return i.processInjectorType(u,[],o)}),this.records.set(Op,Ts(void 0,this));var s=this.records.get(Mp);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof r?null:Qe(r))}return g(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$u,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe.Default;this.assertNotDestroyed();var a=rE(this),o=Ra(void 0);try{if(!(i&Pe.SkipSelf)){var s=this.records.get(e);if(void 0===s){var u=FF(e)&&ov(e);s=u&&this.injectableDefInScope(u)?Ts(Pp(e),fl):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}var l=i&Pe.Self?P0():this.parent;return l.get(e,n=i&Pe.Optional&&n===$u?null:n)}catch(f){if("NullInjectorError"===f.name){var c=f[sf]=f[sf]||[];if(c.unshift(Qe(e)),a)throw f;return rP(f,e,"R3InjectorError",this.source)}throw f}finally{Ra(o),rE(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(n){return e.get(n)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(i,a){return e.push(Qe(a))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,n,i){var a=this;if(!(e=Le(e)))return!1;var o=hC(e),s=null==o&&e.ngModule||void 0,u=void 0===s?e:s,f=-1!==i.indexOf(u);if(void 0!==s&&(o=hC(s)),null==o)return!1;if(null!=o.imports&&!f){var h;i.push(u);try{Ai(o.imports,function(_){a.processInjectorType(_,n,i)&&(void 0===h&&(h=[]),h.push(_))})}finally{}if(void 0!==h)for(var d=function(E){var S=h[E],w=S.ngModule,k=S.providers;Ai(k,function(I){return a.processProvider(I,w,k||pt)})},v=0;v<h.length;v++)d(v)}this.injectorDefTypes.add(u);var p=mo(u)||function(){return new u};this.records.set(u,Ts(p,fl));var m=o.providers;if(null!=m&&!f){var C=e;Ai(m,function(_){return a.processProvider(_,C,m)})}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,n,i){var a=Ds(e=Le(e))?e:Le(e&&e.provide),o=function(t,r,e){return N0(t)?Ts(void 0,t.useValue):Ts(L0(t),fl)}(e);if(Ds(e)||!0!==e.multi)this.records.get(a);else{var s=this.records.get(a);s||((s=Ts(void 0,fl,!0)).factory=function(){return Vv(s.multi)},this.records.set(a,s)),a=e,s.multi.push(e)}this.records.set(a,o)}},{key:"hydrate",value:function(e,n){return n.value===fl&&(n.value=DF,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var n=Le(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}]),t}();function Pp(t){var r=ov(t),e=null!==r?r.factory:mo(t);if(null!==e)return e;if(t instanceof Te)throw new Error("Token ".concat(Qe(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var r=t.length;if(r>0){var e=Qu(r,"?");throw new Error("Can't resolve all parameters for ".concat(Qe(t),": (").concat(e.join(", "),")."))}var n=function(t){var r=t&&(t[Nc]||t[dC]);if(r){var e=function(t){if(t.hasOwnProperty("name"))return t.name;var r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(e,'" class.')),r}return null}(t);return null!==n?function(){return n.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function L0(t,r,e){var n=void 0;if(Ds(t)){var i=Le(t);return mo(i)||Pp(i)}if(N0(t))n=function(){return Le(t.useValue)};else if(function(t){return!(!t||!t.useFactory)}(t))n=function(){return t.useFactory.apply(t,Z(Vv(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))n=function(){return z(Le(t.useExisting))};else{var a=Le(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mo(a)||Pp(a);n=function(){return xt(a,Z(Vv(t.deps)))}}return n}function Ts(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:r,multi:e?[]:void 0}}function N0(t){return null!==t&&"object"==typeof t&&JR in t}function Ds(t){return"function"==typeof t}function FF(t){return"function"==typeof t||"object"==typeof t&&t instanceof Te}var fn=function(){var t=function(){function r(){y(this,r)}return g(r,null,[{key:"create",value:function(n,i){if(Array.isArray(n))return x0({name:""},i,n,"");var a,o=null!==(a=n.name)&&void 0!==a?a:"";return x0({name:o},n.parent,n.providers,o)}}]),r}();return t.THROW_IF_NOT_FOUND=$u,t.NULL=new R0,t.\u0275prov=re({token:t,providedIn:"any",factory:function(){return z(Op)}}),t.__NG_ELEMENT_ID__=-1,t}();function qF(t,r){Zc(Yv(t)[1],ln())}function gt(t){for(var r=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0,n=[t];r;){var i=void 0;if(ni(t))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");i=r.\u0275dir}if(i){if(e){n.push(i);var a=t;a.inputs=Fp(t.inputs),a.declaredInputs=Fp(t.declaredInputs),a.outputs=Fp(t.outputs);var o=i.hostBindings;o&&XF(t,o);var s=i.viewQuery,u=i.contentQueries;if(s&&YF(t,s),u&&ZF(t,u),rv(t.inputs,i.inputs),rv(t.declaredInputs,i.declaredInputs),rv(t.outputs,i.outputs),ni(i)&&i.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var f=0;f<c.length;f++){var h=c[f];h&&h.ngInherit&&h(t),h===gt&&(e=!1)}}r=Object.getPrototypeOf(r)}!function(t){for(var r=0,e=null,n=t.length-1;n>=0;n--){var i=t[n];i.hostVars=r+=i.hostVars,i.hostAttrs=Jc(i.hostAttrs,e=Jc(e,i.hostAttrs))}}(n)}function Fp(t){return t===ts?{}:t===pt?[]:t}function YF(t,r){var e=t.viewQuery;t.viewQuery=e?function(n,i){r(n,i),e(n,i)}:r}function ZF(t,r){var e=t.contentQueries;t.contentQueries=e?function(n,i,a){r(n,i,a),e(n,i,a)}:r}function XF(t,r){var e=t.hostBindings;t.hostBindings=e?function(n,i){r(n,i),e(n,i)}:r}var Sf=null;function ks(){if(!Sf){var t=ft.Symbol;if(t&&t.iterator)Sf=t.iterator;else for(var r=Object.getOwnPropertyNames(Map.prototype),e=0;e<r.length;++e){var n=r[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Sf=n)}}return Sf}function hl(t){return!!Lp(t)&&(Array.isArray(t)||!(t instanceof Map)&&ks()in t)}function Lp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xi(t,r,e){return t[r]=e}function Mn(t,r,e){return!Object.is(t[r],e)&&(t[r]=e,!0)}function Co(t,r,e,n){var i=Mn(t,r,e);return Mn(t,r+1,n)||i}function xr(t,r,e,n,i,a){var o=Co(t,r,e,n);return Co(t,r+2,i,a)||o}function yt(t,r,e,n){var i=L();return Mn(i,ss(),r)&&($e(),Pi(jt(),i,t,r,e,n)),yt}function Os(t,r,e,n,i,a){var s=Co(t,be.lFrame.bindingIndex,e,i);return sa(2),s?r+ke(e)+n+ke(i)+a:Ie}function ce(t,r,e,n,i,a,o,s){var u=L(),l=$e(),c=t+20,f=l.firstCreatePass?function(t,r,e,n,i,a,o,s,u){var l=r.consts,c=Ss(r,t,4,o||null,Fa(l,s));wp(r,e,c,Fa(l,u)),Zc(r,c);var f=c.tViews=_f(2,c,n,i,a,r.directiveRegistry,r.pipeRegistry,null,r.schemas,l);return null!==r.queries&&(r.queries.template(r,c),f.queries=r.queries.embeddedTView(c)),c}(c,l,u,r,e,n,i,a,o):l.data[c];Ii(f,!1);var h=u[11].createComment("");vf(l,u,h,f),On(h,u),Cf(u,u[c]=T0(h,u,h,f)),Gc(f)&&Ep(l,u,f),null!=o&&Sp(u,f,s)}function ca(t){return os(be.lFrame.contextLView,20+t)}function T(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.Default,e=L();if(null===e)return z(t,r);var n=ln();return KC(n,e,Le(t),r)}function Hp(){throw new Error("invalid")}function P(t,r,e){var n=L();return Mn(n,ss(),r)&&function(t,r,e,n,i,a,o,s){var c,u=Mr(r,e),l=r.inputs;!s&&null!=l&&(c=l[n])?(M0(t,e,c,n,i),jc(r)&&function(t,r){var e=fr(r,t);16&e[2]||(e[2]|=64)}(e,r.index)):3&r.type&&(n=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=o?o(i,r.value||"",n):i,Ut(a)?a.setProperty(u,n,i):Iv(n)||(u.setProperty?u.setProperty(n,i):u[n]=i))}($e(),jt(),n,t,r,n[11],e,!1),P}function Up(t,r,e,n,i){var o=i?"class":"style";M0(t,e,r.inputs[o],o,n)}function A(t,r,e,n){var i=L(),a=$e(),o=20+t,s=i[11],u=i[o]=np(s,r,be.lFrame.currentNamespace),l=a.firstCreatePass?function(t,r,e,n,i,a,o){var s=r.consts,l=Ss(r,t,2,i,Fa(s,a));return wp(r,e,l,Fa(s,o)),null!==l.attrs&&Ef(l,l.attrs,!1),null!==l.mergedAttrs&&Ef(l,l.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,l),l}(o,a,i,0,r,e,n):a.data[o];Ii(l,!0);var c=l.mergedAttrs;null!==c&&$c(s,u,c);var f=l.classes;null!==f&&up(s,u,f);var h=l.styles;null!==h&&KE(s,u,h),64!=(64&l.flags)&&vf(a,i,u,l),0===be.lFrame.elementDepthCount&&On(u,i),be.lFrame.elementDepthCount++,Gc(l)&&(Ep(a,i,l),d0(a,l,i)),null!==n&&Sp(i,l)}function O(){var t=ln();Ev()?Sv():Ii(t=t.parent,!1);var r=t;be.lFrame.elementDepthCount--;var e=$e();e.firstCreatePass&&(Zc(e,t),dv(t)&&e.queries.elementEnd(t)),null!=r.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(r)&&Up(e,r,L(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(r)&&Up(e,r,L(),r.stylesWithoutHost,!1)}function Ft(t,r,e,n){A(t,r,e,n),O()}function oi(t,r,e){var n=L(),i=$e(),a=t+20,o=i.firstCreatePass?function(t,r,e,n,i){var a=r.consts,o=Fa(a,n),s=Ss(r,t,8,"ng-container",o);return null!==o&&Ef(s,o,!0),wp(r,e,s,Fa(a,i)),null!==r.queries&&r.queries.elementStart(r,s),s}(a,i,n,r,e):i.data[a];Ii(o,!0);var s=n[a]=n[11].createComment("");vf(i,n,s,o),On(s,n),Gc(o)&&(Ep(i,n,o),d0(i,o,n)),null!=e&&Sp(n,o)}function si(){var t=ln(),r=$e();Ev()?Sv():Ii(t=t.parent,!1),r.firstCreatePass&&(Zc(r,t),dv(t)&&r.queries.elementEnd(t))}function Yn(t,r,e){oi(t,r,e),si()}function tn(){return L()}function vl(t){return!!t&&"function"==typeof t.then}var jp=function(t){return!!t&&"function"==typeof t.subscribe};function ue(t,r,e,n){var i=L(),a=$e(),o=ln();return function(t,r,e,n,i,a,o,s){var u=Gc(n),c=t.firstCreatePass&&I0(t),f=r[8],h=k0(r),d=!0;if(3&n.type||s){var v=Mr(n,r),p=s?s(v):v,m=h.length,C=s?function(se){return s(Jt(se[n.index]))}:n.index;if(Ut(e)){var _=null;if(!s&&u&&(_=function(t,r,e,n){var i=t.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===e&&i[a+1]===n){var s=r[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(t,r,i,n.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=a,_.__ngLastListenerFn__=a,d=!1;else{a=Gp(n,r,f,a,!1);var S=e.listen(p,i,a);h.push(a,S),c&&c.push(i,C,m,m+1)}}else a=Gp(n,r,f,a,!0),p.addEventListener(i,a,o),h.push(a),c&&c.push(i,C,m,o)}else a=Gp(n,r,f,a,!1);var k,w=n.outputs;if(d&&null!==w&&(k=w[i])){var I=k.length;if(I)for(var x=0;x<I;x+=2){var de=r[k[x]][k[x+1]].subscribe(a),_e=h.length;h.push(a,de),c&&c.push(i,n.index,_e,-(_e+1))}}}(a,i,i[11],o,t,r,!!e,n),ue}function pS(t,r,e,n){try{return!1!==e(n)}catch(i){return O0(t,i),!1}}function Gp(t,r,e,n,i){return function a(o){if(o===Function)return n;var s=2&t.flags?fr(t.index,r):r;0==(32&r[2])&&Dp(s);for(var u=pS(r,0,n,o),l=a.__ngNextListenerFn__;l;)u=pS(r,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return mR(t)}function TL(t,r){for(var e=null,n=function(t){var r=t.attrs;if(null!=r){var e=r.indexOf(5);if(0==(1&e))return r[e+1]}return null}(t),i=0;i<r.length;i++){var a=r[i];if("*"!==a){if(null===n?QE(t,a,!0):Fx(n,a))return i}else e=i}return e}function Vs(t){var r=L()[16][6];if(!r.projection)for(var n=r.projection=Qu(t?t.length:1,null),i=n.slice(),a=r.child;null!==a;){var o=t?TL(a,t):0;null!==o&&(i[o]?i[o].projectionNext=a:n[o]=a,i[o]=a),a=a.next}}function Eo(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,n=L(),i=$e(),a=Ss(i,20+t,16,null,e||null);null===a.projection&&(a.projection=r),Sv(),64!=(64&a.flags)&&Tx(i,n,a)}function TS(t,r,e,n,i){for(var a=t[e+1],o=null===r,s=n?ii(a):ua(a),u=!1;0!==s&&(!1===u||o);){var c=t[s+1];IL(t[s],r)&&(u=!0,t[s+1]=n?fp(c):lp(c)),s=n?ii(c):ua(c)}u&&(t[e+1]=n?lp(a):fp(a))}function IL(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ps(t,r)>=0}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DS(t){return t.substring(hn.key,hn.keyEnd)}function kS(t,r){var e=hn.textEnd;return e===r?-1:(r=hn.keyEnd=function(t,r,e){for(;r<e&&t.charCodeAt(r)>32;)r++;return r}(t,hn.key=r,e),Bs(t,r,e))}function Bs(t,r,e){for(;r<e&&t.charCodeAt(r)<=32;)r++;return r}function bf(t,r,e){return ui(t,r,e,!1),bf}function So(t,r){return ui(t,r,null,!0),So}function gr(t){!function(t,r,e,n){var i=$e(),a=sa(2);i.firstUpdatePass&&PS(i,null,a,n);var o=L();if(e!==Ie&&Mn(o,a,e)){var s=i.data[Un()];if(NS(s,n)&&!RS(i,a)){var l=n?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=iv(l,e||"")),Up(i,s,o,e,n)}else!function(t,r,e,n,i,a,o,s){i===Ie&&(i=pt);for(var u=0,l=0,c=0<i.length?i[0]:null,f=0<a.length?a[0]:null;null!==c||null!==f;){var h=u<i.length?i[u+1]:void 0,d=l<a.length?a[l+1]:void 0,v=null,p=void 0;c===f?(u+=2,l+=2,h!==d&&(v=f,p=d)):null===f||null!==c&&c<f?(u+=2,v=c):(l+=2,v=f,p=d),null!==v&&FS(t,r,e,n,v,p,o,s),c=u<i.length?i[u]:null,f=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(t,r,e){if(null==e||""===e)return pt;var n=[],i=Va(e);if(Array.isArray(i))for(var a=0;a<i.length;a++)t(n,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&t(n,o,i[o]);else"string"==typeof i&&r(n,i);return n}(t,r,e),n,a)}}(dr,Li,t,!0)}function Li(t,r){for(var e=function(t){return function(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}(t),kS(t,Bs(t,0,hn.textEnd))}(r);e>=0;e=kS(r,e))dr(t,DS(r),!0)}function ui(t,r,e,n){var i=L(),a=$e(),o=sa(2);a.firstUpdatePass&&PS(a,t,o,n),r!==Ie&&Mn(i,o,r)&&FS(a,a.data[Un()],i,i[11],t,i[o+1]=function(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Qe(Va(t)))),t}(r,e),n,o)}function RS(t,r){return r>=t.expandoStartIndex}function PS(t,r,e,n){var i=t.data;if(null===i[e+1]){var a=i[Un()],o=RS(t,e);NS(a,n)&&null===r&&!o&&(r=!1),r=function(t,r,e,n){var i=function(t){var r=be.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t),a=n?r.residualClasses:r.residualStyles;if(null===i)0===(n?r.classBindings:r.styleBindings)&&(e=pl(e=Wp(null,t,r,e,n),r.attrs,n),a=null);else{var s=r.directiveStylingLast;if(-1===s||t[s]!==i)if(e=Wp(i,t,r,e,n),null===a){var l=function(t,r,e){var n=e?r.classBindings:r.styleBindings;if(0!==ua(n))return t[ii(n)]}(t,r,n);void 0!==l&&Array.isArray(l)&&function(t,r,e,n){t[ii(e?r.classBindings:r.styleBindings)]=n}(t,r,n,l=pl(l=Wp(null,t,r,l[1],n),r.attrs,n))}else a=function(t,r,e){for(var n=void 0,i=r.directiveEnd,a=1+r.directiveStylingLast;a<i;a++)n=pl(n,t[a].hostAttrs,e);return pl(n,r.attrs,e)}(t,r,n)}return void 0!==a&&(n?r.residualClasses=a:r.residualStyles=a),e}(i,a,r,n),function(t,r,e,n,i,a){var o=a?r.classBindings:r.styleBindings,s=ii(o),u=ua(o);t[n]=e;var c,l=!1;if(Array.isArray(e)?(null===(c=e[1])||ps(e,c)>0)&&(l=!0):c=e,i)if(0!==u){var d=ii(t[s+1]);t[n+1]=gf(d,s),0!==d&&(t[d+1]=cp(t[d+1],n)),t[s+1]=function(t,r){return 131071&t|r<<17}(t[s+1],n)}else t[n+1]=gf(s,0),0!==s&&(t[s+1]=cp(t[s+1],n)),s=n;else t[n+1]=gf(u,0),0===s?s=n:t[u+1]=cp(t[u+1],n),u=n;l&&(t[n+1]=lp(t[n+1])),TS(t,c,n,!0),TS(t,c,n,!1),function(t,r,e,n,i){var a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof r&&ps(a,r)>=0&&(e[n+1]=fp(e[n+1]))}(r,c,t,n,a),o=gf(s,u),a?r.classBindings=o:r.styleBindings=o}(i,a,r,e,o,n)}}function Wp(t,r,e,n,i){var a=null,o=e.directiveEnd,s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<o&&(n=pl(n,(a=r[s]).hostAttrs,i),a!==t);)s++;return null!==t&&(e.directiveStylingLast=s),n}function pl(t,r,e){var n=e?1:2,i=-1;if(null!==r)for(var a=0;a<r.length;a++){var o=r[a];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dr(t,o,!!e||r[++a]))}return void 0===t?null:t}function FS(t,r,e,n,i,a,o,s){if(3&r.type){var u=t.data,l=u[s+1];Tf(function(t){return 1==(1&t)}(l)?LS(u,r,e,i,ua(l),o):void 0)||(Tf(a)||function(t){return 2==(2&t)}(l)&&(a=LS(u,null,e,i,s,o)),function(t,r,e,n,i){var a=Ut(t);if(r)i?a?t.addClass(e,n):e.classList.add(n):a?t.removeClass(e,n):e.classList.remove(n);else{var o=-1===n.indexOf("-")?void 0:vr.DashCase;if(null==i)a?t.removeStyle(e,n,o):e.style.removeProperty(n);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=vr.Important),a?t.setStyle(e,n,i,o):e.style.setProperty(n,i,s?"important":"")}}}(n,o,zc(Un(),e),i,a))}}function LS(t,r,e,n,i,a){for(var o=null===r,s=void 0;i>0;){var u=t[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c,h=e[i+1];h===Ie&&(h=f?pt:void 0);var d=f?Fv(h,n):c===n?h:void 0;if(l&&!Tf(d)&&(d=Fv(u,n)),Tf(d)&&(s=d,o))return s;var v=t[i+1];i=o?ii(v):ua(v)}if(null!==r){var p=a?r.residualClasses:r.residualStyles;null!=p&&(s=Fv(p,n))}return s}function Tf(t){return void 0!==t}function NS(t,r){return 0!=(t.flags&(r?16:32))}function ht(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=L(),n=$e(),i=t+20,a=n.firstCreatePass?Ss(n,i,1,r,null):n.data[i],o=e[i]=tp(e[11],r);vf(n,e,o,a),Ii(a,!1)}function ci(t){return Zn("",t,""),ci}function Zn(t,r,e){var n=L(),i=function(t,r,e,n){return Mn(t,ss(),e)?r+ke(e)+n:Ie}(n,t,r,e);return i!==Ie&&la(n,Un(),i),Zn}function qp(t,r,e,n,i){var a=L(),o=Os(a,t,r,e,n,i);return o!==Ie&&la(a,Un(),o),qp}var wo=void 0,uN=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Hs={};function jn(t){var r=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),e=rw(r);if(e)return e;var n=r.split("-")[0];if(e=rw(n))return e;if("en"===n)return uN;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function rw(t){return t in Hs||(Hs[t]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[t]),Hs[t]}var X=function(){return(X=X||{})[X.LocaleId=0]="LocaleId",X[X.DayPeriodsFormat=1]="DayPeriodsFormat",X[X.DayPeriodsStandalone=2]="DayPeriodsStandalone",X[X.DaysFormat=3]="DaysFormat",X[X.DaysStandalone=4]="DaysStandalone",X[X.MonthsFormat=5]="MonthsFormat",X[X.MonthsStandalone=6]="MonthsStandalone",X[X.Eras=7]="Eras",X[X.FirstDayOfWeek=8]="FirstDayOfWeek",X[X.WeekendRange=9]="WeekendRange",X[X.DateFormat=10]="DateFormat",X[X.TimeFormat=11]="TimeFormat",X[X.DateTimeFormat=12]="DateTimeFormat",X[X.NumberSymbols=13]="NumberSymbols",X[X.NumberFormats=14]="NumberFormats",X[X.CurrencyCode=15]="CurrencyCode",X[X.CurrencySymbol=16]="CurrencySymbol",X[X.CurrencyName=17]="CurrencyName",X[X.Currencies=18]="Currencies",X[X.Directionality=19]="Directionality",X[X.PluralCase=20]="PluralCase",X[X.ExtraData=21]="ExtraData",X}(),Df="en-US";function a2(t,r,e){var n=$e();if(n.firstCreatePass){var i=ni(t);Zp(e,n.data,n.blueprint,i,!0),Zp(r,n.data,n.blueprint,i,!1)}}function Zp(t,r,e,n,i){if(t=Le(t),Array.isArray(t))for(var a=0;a<t.length;a++)Zp(t[a],r,e,n,i);else{var o=$e(),s=L(),u=Ds(t)?t:Le(t.provide),l=L0(t),c=ln(),f=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Ds(t)||!t.multi){var v=new Gu(l,i,T),p=Qp(u,r,i?f:f+d,h);-1===p?(nf(Wu(c,s),o,u),Xp(o,t,r.length),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(v),s.push(v)):(e[p]=v,s[p]=v)}else{var m=Qp(u,r,f+d,h),C=Qp(u,r,f,f+d),E=C>=0&&e[C];if(i&&!E||!i&&!(m>=0&&e[m])){nf(Wu(c,s),o,u);var S=function(t,r,e,n,i){var a=new Gu(t,e,T);return a.multi=[],a.index=r,a.componentProviders=0,Iw(a,i,n&&!e),a}(i?s2:o2,e.length,i,n,l);!i&&E&&(e[C].providerFactory=S),Xp(o,t,r.length,0),r.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(S),s.push(S)}else Xp(o,t,m>-1?m:C,Iw(e[i?C:m],l,!i&&n));!i&&n&&E&&e[C].componentProviders++}}}function Xp(t,r,e,n){var i=Ds(r),a=function(t){return!!t.useClass}(r);if(i||a){var u=(a?Le(r.useClass):r).prototype.ngOnDestroy;if(u){var l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&r.multi){var c=l.indexOf(e);-1===c?l.push(e,[n,u]):l[c+1].push(n,u)}else l.push(e,u)}}}function Iw(t,r,e){return e&&t.componentProviders++,t.multi.push(r)-1}function Qp(t,r,e,n){for(var i=e;i<n;i++)if(r[i]===t)return i;return-1}function o2(t,r,e,n){return $p(this.multi,[])}function s2(t,r,e,n){var a,i=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=qu(e,e[1],this.providerFactory.index,n);$p(i,a=s.slice(0,o));for(var u=o;u<s.length;u++)a.push(s[u])}else $p(i,a=[]);return a}function $p(t,r){for(var e=0;e<t.length;e++)r.push((0,t[e])());return r}function ot(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(e){e.providersResolver=function(n,i){return a2(n,i?i(t):t,r)}}}var l2=g(function t(){y(this,t)}),Aw=g(function t(){y(this,t)}),f2=function(){function t(){y(this,t)}return g(t,[{key:"resolveComponentFactory",value:function(e){throw function(t){var r=Error("No component factory found for ".concat(Qe(t),". Did you add it to @NgModule.entryComponents?"));return r.ngComponent=t,r}(e)}}]),t}(),js=function(){var t=g(function r(){y(this,r)});return t.NULL=new f2,t}();function h2(){return Gs(ln(),L())}function Gs(t,r){return new Lt(Mr(t,r))}var Lt=function(){var t=g(function r(e){y(this,r),this.nativeElement=e});return t.__NG_ELEMENT_ID__=h2,t}();function d2(t){return t instanceof Lt?t.nativeElement:t}var Cl=g(function t(){y(this,t)}),fi=function(){var t=g(function r(){y(this,r)});return t.__NG_ELEMENT_ID__=function(){return function(){var t=L(),e=fr(ln().index,t);return function(t){return t[11]}(ki(e)?e:t)}()},t}(),g2=function(){var t=g(function r(){y(this,r)});return t.\u0275prov=re({token:t,providedIn:"root",factory:function(){return null}}),t}(),El=g(function t(r){y(this,t),this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}),y2=new El("13.0.3"),Jp={};function Mf(t,r,e,n){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==e;){var a=r[e.index];if(null!==a&&n.push(Jt(a)),ti(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&Mf(s[1],s,u,n)}var l=e.type;if(8&l)Mf(t,r,e.child,n);else if(32&l)for(var c=$v(e,r),f=void 0;f=c();)n.push(f);else if(16&l){var h=zE(r,e);if(Array.isArray(h))n.push.apply(n,Z(h));else{var d=sl(r[16]);Mf(d[1],d,h,n,!0)}}e=i?e.projectionNext:e.next}return n}var Sl=function(){function t(r,e){y(this,t),this._lView=r,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}return g(t,[{key:"rootNodes",get:function(){var e=this._lView,n=e[1];return Mf(n,e,n.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(ti(e)){var n=e[8],i=n?n.indexOf(this):-1;i>-1&&(rp(e,i),af(n,i))}this._attachedToViewContainer=!1}FE(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){y0(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Dp(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ip(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,r,e){qc(!0);try{Ip(t,r,e)}finally{qc(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(t,r){ul(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),t}(),m2=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this,n))._view=n,i}return g(e,[{key:"detectChanges",value:function(){D0(this._view)}},{key:"checkNoChanges",value:function(){!function(t){qc(!0);try{D0(t)}finally{qc(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(Sl),Mw=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).ngModule=n,i}return g(e,[{key:"resolveComponentFactory",value:function(i){var a=In(i);return new eg(a,this.ngModule)}}]),e}(js);function Rw(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push({propName:t[e],templateName:e});return r}var C2=new Te("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return kE}}),eg=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this)).componentDef=n,a.ngModule=i,a.componentType=n.type,a.selector=function(t){return t.map(Lx).join(",")}(n.selectors),a.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],a.isBoundToModule=!!i,a}return g(e,[{key:"inputs",get:function(){return Rw(this.componentDef.inputs)}},{key:"outputs",get:function(){return Rw(this.componentDef.outputs)}},{key:"create",value:function(i,a,o,s){var _,E,u=(s=s||this.ngModule)?function(t,r){return{get:function(n,i,a){var o=t.get(n,Jp,a);return o!==Jp||i===Jp?o:r.get(n,i,a)}}}(i,s.injector):i,l=u.get(Cl,DC),c=u.get(g2,null),f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=o?function(t,r,e){if(Ut(t))return t.selectRootElement(r,e===Jr.ShadowDom);var i="string"==typeof r?t.querySelector(r):r;return i.textContent="",i}(f,o,this.componentDef.encapsulation):np(l.createRenderer(null,this.componentDef),h,function(t){var r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(h)),v=this.componentDef.onPush?576:528,p=function(t,r){return{components:[],scheduler:t||kE,clean:wF,playerHandler:r||null,flags:0}}(),m=_f(0,null,null,1,0,null,null,null,null,null),C=ll(null,m,p,v,null,null,l,f,c,u);Kc(C);try{var S=function(t,r,e,n,i,a){var o=e[1];e[20]=t;var u=Ss(o,20,2,"#host",null),l=u.mergedAttrs=r.hostAttrs;null!==l&&(Ef(u,l,!0),null!==t&&($c(i,t,l),null!==u.classes&&up(i,t,u.classes),null!==u.styles&&KE(i,t,u.styles)));var c=n.createRenderer(t,r),f=ll(e,v0(r),null,r.onPush?64:16,e[20],u,n,c,a||null,null);return o.firstCreatePass&&(nf(Wu(u,e),o,r.type),S0(o,u),w0(u,e.length,1)),Cf(e,f),e[20]=f}(d,this.componentDef,C,l,f);if(d)if(o)$c(f,d,["ng-version",y2.full]);else{var w=function(t){for(var r=[],e=[],n=1,i=2;n<t.length;){var a=t[n];if("string"==typeof a)2===i?""!==a&&r.push(a,t[++n]):8===i&&e.push(a);else{if(!ri(i))break;i=a}n++}return{attrs:r,classes:e}}(this.componentDef.selectors[0]),k=w.attrs,I=w.classes;k&&$c(f,d,k),I&&I.length>0&&up(f,d,I.join(" "))}if(E=mv(m,20),void 0!==a)for(var x=E.projection=[],B=0;B<this.ngContentSelectors.length;B++){var Y=a[B];x.push(null!=Y?Array.from(Y):null)}_=function(t,r,e,n,i){var a=e[1],o=function(t,r,e){var n=ln();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),b0(t,n,r,ws(t,r,1,null),e));var a=qu(r,t,n.directiveStart,n);On(a,r);var o=Mr(n,r);return o&&On(o,r),a}(a,e,r);if(n.components.push(o),t[8]=o,i&&i.forEach(function(c){return c(o,r)}),r.contentQueries){var s=ln();r.contentQueries(1,o,s.directiveStart)}var u=ln();return!a.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(La(u.index),C0(e[1],u,0,u.directiveStart,u.directiveEnd,r),E0(r,o)),o}(S,this.componentDef,C,p,[qF]),cl(m,C,null)}finally{Yc()}return new w2(this.componentType,_,Gs(E,C),C,E)}}]),e}(Aw),w2=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s){var u;return y(this,e),(u=r.call(this)).location=a,u._rootLView=o,u._tNode=s,u.instance=i,u.hostView=u.changeDetectorRef=new m2(o),u.componentType=n,u}return g(e,[{key:"injector",get:function(){return new cs(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),e}(l2),fa=g(function t(){y(this,t)}),Pw=g(function t(){y(this,t)}),zs=new Map;var Lw=function(t){M(e,t);var r=R(e);function e(n,i){var a;y(this,e),(a=r.call(this))._parent=i,a._bootstrapComponents=[],a.injector=It(a),a.destroyCbs=[],a.componentFactoryResolver=new Mw(It(a));var o=Ir(n);return a._bootstrapComponents=Ri(o.bootstrap),a._r3Injector=F0(n,i,[{provide:fa,useValue:It(a)},{provide:js,useValue:a.componentFactoryResolver}],Qe(n)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(n),a}return g(e,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn.THROW_IF_NOT_FOUND,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe.Default;return i===fn||i===fa||i===Op?this:this._r3Injector.get(i,a,o)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),e}(fa),tg=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).moduleType=n,null!==Ir(n)&&function(t){var r=new Set;!function e(n){var i=Ir(n,!0),a=i.id;null!==a&&(function(t,r,e){if(r&&r!==e)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Qe(r)," vs ").concat(Qe(r.name)))}(a,zs.get(a),n),zs.set(a,n));var l,u=b(Ri(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;r.has(c)||(r.add(c),e(c))}}catch(f){u.e(f)}finally{u.f()}}(t)}(n),i}return g(e,[{key:"create",value:function(i){return new Lw(this.moduleType,i)}}]),e}(Pw);function dn(t,r,e,n){return function(t,r,e,n,i,a){var o=r+e;return Mn(t,o,i)?xi(t,o+1,a?n.call(a,i):n(i)):wl(t,o+1)}(L(),Hn(),t,r,e,n)}function bo(t,r,e,n,i){return Bw(L(),Hn(),t,r,e,n,i)}function To(t,r,e,n,i,a){return function(t,r,e,n,i,a,o,s){var u=r+e;return function(t,r,e,n,i){var a=Co(t,r,e,n);return Mn(t,r+2,i)||a}(t,u,i,a,o)?xi(t,u+3,s?n.call(s,i,a,o):n(i,a,o)):wl(t,u+3)}(L(),Hn(),t,r,e,n,i,a)}function Rf(t,r,e,n,i,a,o){return function(t,r,e,n,i,a,o,s,u){var l=r+e;return xr(t,l,i,a,o,s)?xi(t,l+4,u?n.call(u,i,a,o,s):n(i,a,o,s)):wl(t,l+4)}(L(),Hn(),t,r,e,n,i,a,o)}function wl(t,r){var e=t[r];return e===Ie?void 0:e}function Bw(t,r,e,n,i,a,o){var s=r+e;return Co(t,s,i,a)?xi(t,s+2,o?n.call(o,i,a):n(i,a)):wl(t,s+2)}var L2=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y(this,e),(n=r.call(this)).__isAsync=i,n}return g(e,[{key:"emit",value:function(i){Se(Re(e.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,o){var s=i,u=a||function(){return null},l=o;if(i&&"object"==typeof i){var c,f,h,d=i;s=null===(c=d.next)||void 0===c?void 0:c.bind(d),u=null===(f=d.error)||void 0===f?void 0:f.bind(d),l=null===(h=d.complete)||void 0===h?void 0:h.bind(d)}this.__isAsync&&(u=ng(u),s&&(s=ng(s)),l&&(l=ng(l)));var v=Se(Re(e.prototype),"subscribe",this).call(this,{next:s,error:u,complete:l});return i instanceof pe&&i.add(v),v}}]),e}(nt);function ng(t){return function(r){setTimeout(t,void 0,r)}}var Ce=L2;function N2(){return this._results[ks()]()}var V2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y(this,t),this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var e=ks(),n=t.prototype;n[e]||(n[e]=N2)}return g(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Ce)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,n){return this._results.reduce(e,n)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,n){var i=this;i.dirty=!1;var a=Rr(e);(this._changesDetected=!function(t,r,e){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],a=r[n];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(i._results,a,n))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var hi=function(){var t=g(function r(){y(this,r)});return t.__NG_ELEMENT_ID__=U2,t}(),H2=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this))._declarationLView=n,o._declarationTContainer=i,o.elementRef=a,o}return g(e,[{key:"createEmbeddedView",value:function(i){var a=this._declarationTContainer.tViews,o=ll(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];var u=this._declarationLView[19];return null!==u&&(o[19]=u.createEmbeddedView(a)),cl(a,o,i),new Sl(o)}}]),e}(hi);function U2(){return Pf(ln(),L())}function Pf(t,r){return 4&t.type?new H2(r,t,Gs(t,r)):null}var Fr=function(){var t=g(function r(){y(this,r)});return t.__NG_ELEMENT_ID__=j2,t}();function j2(){return Kw(ln(),L())}var Ww=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this))._lContainer=n,o._hostTNode=i,o._hostLView=a,o}return g(e,[{key:"element",get:function(){return Gs(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new cs(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=tf(this._hostTNode,this._hostLView);if(jC(i)){var a=ls(i,this._hostLView),o=us(i);return new cs(a[1].data[o+8],a)}return new cs(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=qw(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,o){var s=i.createEmbeddedView(a||{});return this.insert(s,o),s}},{key:"createComponent",value:function(i,a,o,s,u){var c,l=i&&!function(t){return"function"==typeof t}(i);if(l)c=a;else{var f=a||{};c=f.index,o=f.injector,s=f.projectableNodes,u=f.ngModuleRef}var h=l?i:new eg(In(i)),d=o||this.parentInjector;if(!u&&null==h.ngModule&&d){var v=d.get(fa,null);v&&(u=v)}var p=h.create(d,s,void 0,u);return this.insert(p.hostView,c),p}},{key:"insert",value:function(i,a){var o=i._lView,s=o[1];if(function(t){return ti(t[3])}(o)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=o[3],c=new Ww(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),h=this._lContainer;!function(t,r,e,n){var i=10+n,a=e.length;n>0&&(e[i-1][4]=r),n<a-10?(r[4]=e[i],QC(e,10+n,r)):(e.push(r),r[4]=null),r[3]=e;var o=r[17];null!==o&&e!==o&&function(t,r){var e=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===e?t[9]=[r]:e.push(r)}(o,r);var s=r[19];null!==s&&s.insertView(t),r[2]|=128}(s,o,h,f);var d=op(f,h),v=o[11],p=df(v,h[7]);return null!==p&&function(t,r,e,n,i,a){n[0]=i,n[6]=r,ul(t,n,e,1,i,a)}(s,h[6],v,o,p,d),i.attachToViewContainerRef(),QC(rg(h),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=qw(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),o=rp(this._lContainer,a);o&&(af(rg(this._lContainer),a),FE(o[1],o))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),o=rp(this._lContainer,a);return o&&null!=af(rg(this._lContainer),a)?new Sl(o):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),e}(Fr);function qw(t){return t[8]}function rg(t){return t[8]||(t[8]=[])}function Kw(t,r){var e,n=r[t.index];if(ti(n))e=n;else{var i;if(8&t.type)i=Jt(n);else{var a=r[11];i=a.createComment("");var o=Mr(t,r);_o(a,df(a,o),i,function(t,r){return Ut(t)?t.nextSibling(r):r.nextSibling}(a,o),!1)}r[t.index]=e=T0(n,r,i,t),Cf(r,e)}return new Ww(e,t,r)}var q2=function(){function t(r){y(this,t),this.queryList=r,this.matches=null}return g(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),K2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,t),this.queries=r}return g(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,a=[],o=0;o<i;o++){var s=n.getByIndex(o);a.push(this.queries[s.indexInDeclarationView].clone())}return new t(a)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var n=0;n<this.queries.length;n++)null!==$w(e,n).matches&&this.queries[n].setDirty()}}]),t}(),Yw=g(function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,t),this.predicate=r,this.flags=e,this.read=n}),Y2=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,t),this.queries=r}return g(t,[{key:"elementStart",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}},{key:"elementEnd",value:function(e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var a=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,a);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(e,n){for(var i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),t}(),Z2=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;y(this,t),this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return g(t,[{key:"elementStart",value:function(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,n){this.elementStart(e,n)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var n=this._declarationNodeIndex,i=e.parent;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,n){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var o=i[a];this.matchTNodeWithReadOption(e,n,X2(n,o)),this.matchTNodeWithReadOption(e,n,rf(n,e,o,!1,!1))}else i===hi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,rf(n,e,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,n,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Lt||a===Fr||a===hi&&4&n.type)this.addMatch(n.index,-2);else{var o=rf(n,e,a,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}},{key:"addMatch",value:function(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}]),t}();function X2(t,r){var e=t.localNames;if(null!==e)for(var n=0;n<e.length;n+=2)if(e[n]===r)return e[n+1];return null}function $2(t,r,e,n){return-1===e?function(t,r){return 11&t.type?Gs(t,r):4&t.type?Pf(t,r):null}(r,t):-2===e?function(t,r,e){return e===Lt?Gs(r,t):e===hi?Pf(r,t):e===Fr?Kw(r,t):void 0}(t,r,n):qu(t,t[1],e,r)}function Zw(t,r,e,n){var i=r[19].queries[n];if(null===i.matches){for(var a=t.data,o=e.matches,s=[],u=0;u<o.length;u+=2){var l=o[u];s.push(l<0?null:$2(r,a[l],o[u+1],e.metadata.read))}i.matches=s}return i.matches}function ig(t,r,e,n){var i=t.queries.getByIndex(e),a=i.matches;if(null!==a)for(var o=Zw(t,r,i,e),s=0;s<a.length;s+=2){var u=a[s];if(u>0)n.push(o[s/2]);else{for(var l=a[s+1],c=r[-u],f=10;f<c.length;f++){var h=c[f];h[17]===h[3]&&ig(h[1],h,l,n)}if(null!==c[9])for(var d=c[9],v=0;v<d.length;v++){var p=d[v];ig(p[1],p,l,n)}}}return n}function vn(t){var r=L(),e=$e(),n=PC();Tv(n+1);var i=$w(e,n);if(t.dirty&&kC(r)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var a=i.crossesNgTemplate?ig(e,r,n,[]):Zw(e,r,i,n);t.reset(a,d2),t.notifyOnChanges()}return!0}return!1}function di(t,r,e){var n=$e();n.firstCreatePass&&(Qw(n,new Yw(t,r,e),-1),2==(2&r)&&(n.staticViewQueries=!0)),Xw(n,L(),r)}function ha(t,r,e,n){var i=$e();if(i.firstCreatePass){var a=ln();Qw(i,new Yw(r,e,n),a.index),function(t,r){var e=t.contentQueries||(t.contentQueries=[]);r!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,r)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}Xw(i,L(),e)}function pn(){return function(t,r){return t[19].queries[r].queryList}(L(),PC())}function Xw(t,r,e){var n=new V2(4==(4&e));y0(t,r,n,n.destroy),null===r[19]&&(r[19]=new K2),r[19].queries.push(new q2(n))}function Qw(t,r,e){null===t.queries&&(t.queries=new Y2),t.queries.track(new Z2(r,e))}function $w(t,r){return t.queries.getByIndex(r)}function xf(t,r){return Pf(t,r)}function Nf(){}var Dl=new Te("Application Initializer"),qs=function(){var t=function(){function r(e){var n=this;y(this,r),this.appInits=e,this.resolve=Nf,this.reject=Nf,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){n.resolve=i,n.reject=a})}return g(r,[{key:"runInitializers",value:function(){var n=this;if(!this.initialized){var i=[],a=function(){n.done=!0,n.resolve()};if(this.appInits)for(var o=function(l){var c=n.appInits[l]();if(vl(c))i.push(c);else if(jp(c)){var f=new Promise(function(h,d){c.subscribe({complete:h,error:d})});i.push(f)}},s=0;s<this.appInits.length;s++)o(s);Promise.all(i).then(function(){a()}).catch(function(u){n.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Dl,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),kl=new Te("AppId"),EV={provide:kl,useFactory:function(){return"".concat(cg()).concat(cg()).concat(cg())},deps:[]};function cg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var gb=new Te("Platform Initializer"),Ua=new Te("Platform ID"),yb=new Te("appBootstrapListener"),mb=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"log",value:function(n){console.log(n)}},{key:"warn",value:function(n){console.warn(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),ja=new Te("LocaleId"),_b=new Te("DefaultCurrencyCode"),SV=g(function t(r,e){y(this,t),this.ngModuleFactory=r,this.componentFactories=e}),Vf=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"compileModuleSync",value:function(n){return new tg(n)}},{key:"compileModuleAsync",value:function(n){return Promise.resolve(this.compileModuleSync(n))}},{key:"compileModuleAndAllComponentsSync",value:function(n){var i=this.compileModuleSync(n),o=Ri(Ir(n).declarations).reduce(function(s,u){var l=In(u);return l&&s.push(new eg(l)),s},[]);return new SV(i,o)}},{key:"compileModuleAndAllComponentsAsync",value:function(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}},{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(n){}},{key:"getModuleId",value:function(n){}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),bV=function(){return Promise.resolve(0)}();function fg(t){"undefined"==typeof Zone?bV.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ut=function(){function t(r){var e=r.enableLongStackTrace,n=void 0!==e&&e,i=r.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=r.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(y(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var t=ft.requestAnimationFrame,r=ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){var e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);var n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(t){var r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ft,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,dg(t),t.isCheckStableRunning=!0,hg(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),dg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,a,o,s,u){try{return Cb(t),n.invokeTask(a,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&r(),Eb(t)}},onInvoke:function(n,i,a,o,s,u,l){try{return Cb(t),n.invoke(a,o,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&r(),Eb(t)}},onHasTask:function(n,i,a,o){n.hasTask(a,o),i===a&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,dg(t),hg(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:function(n,i,a,o){return n.handleError(a,o),t.runOutsideAngular(function(){return t.onError.emit(o)}),!1}})}(u)}return g(t,[{key:"run",value:function(e,n,i){return this._inner.run(e,n,i)}},{key:"runTask",value:function(e,n,i,a){var o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+a,e,DV,Nf,Nf);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}},{key:"runGuarded",value:function(e,n,i){return this._inner.runGuarded(e,n,i)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),DV={};function hg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function dg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Cb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eb(t){t._nesting--,hg(t)}var vi,AV=function(){function t(){y(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}return g(t,[{key:"run",value:function(e,n,i){return e.apply(n,i)}},{key:"runGuarded",value:function(e,n,i){return e.apply(n,i)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,n,i,a){return e.apply(n,i)}}]),t}(),vg=function(){var t=function(){function r(e){var n=this;y(this,r),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(r,[{key:"_watchAngularEvents",value:function(){var n=this;this._ngZone.onUnstable.subscribe({next:function(){n._didWork=!0,n._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){n._ngZone.onStable.subscribe({next:function(){ut.assertNotInAngularZone(),fg(function(){n._isZoneStable=!0,n._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var n=this;if(this.isStable())fg(function(){for(;0!==n._callbacks.length;){var a=n._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(n._didWork)}n._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(n){return{source:n.source,creationLocation:n.creationLocation,data:n.data}}):[]}},{key:"addCallback",value:function(n,i,a){var o=this,s=-1;i&&i>0&&(s=setTimeout(function(){o._callbacks=o._callbacks.filter(function(u){return u.timeoutId!==s}),n(o._didWork,o.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:a})}},{key:"whenStable",value:function(n,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(n,i,a){return[]}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(ut))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Sb=function(){var t=function(){function r(){y(this,r),this._applications=new Map,pg.addToWindow(this)}return g(r,[{key:"registerApplication",value:function(n,i){this._applications.set(n,i)}},{key:"unregisterApplication",value:function(n){this._applications.delete(n)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(n){return this._applications.get(n)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pg.findTestabilityInTree(this,n,i)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),OV=function(){function t(){y(this,t)}return g(t,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,n,i){return null}}]),t}(),pg=new OV;function RV(t,r,e){var n=new tg(e);return Promise.resolve(n)}var wb=new Te("AllowMultipleToken"),bb=g(function t(r,e){y(this,t),this.name=r,this.token=e});function FV(t){if(vi&&!vi.destroyed&&!vi.injector.get(wb,!1))throw new sr("400","");vi=t.get(kb);var e=t.get(gb,null);return e&&e.forEach(function(n){return n()}),vi}function Tb(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="Platform: ".concat(r),i=new Te(n);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Db();if(!o||o.injector.get(wb,!1))if(t)t(e.concat(a).concat({provide:i,useValue:!0}));else{var s=e.concat(a).concat({provide:i,useValue:!0},{provide:Mp,useValue:"platform"});FV(fn.create({providers:s,name:n}))}return LV()}}function LV(t){var r=Db();if(!r)throw new sr("401","");return r}function Db(){return vi&&!vi.destroyed?vi:null}var kb=function(){var t=function(){function r(e){y(this,r),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(r,[{key:"bootstrapModuleFactory",value:function(n,i){var a=this,l=function(t,r){return"noop"===t?new AV:("zone.js"===t?void 0:t)||new ut({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(null==r||!r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!(null==r||!r.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:ut,useValue:l}];return l.run(function(){var f=fn.create({providers:c,parent:a.injector,name:n.moduleType.name}),h=n.create(f),d=h.injector.get(_s,null);if(!d)throw new sr("402","");return l.runOutsideAngular(function(){var p=l.onError.subscribe({next:function(C){d.handleError(C)}});h.onDestroy(function(){gg(a._modules,h),p.unsubscribe()})}),function(t,r,e){try{var n=((p=h.injector.get(qs)).runInitializers(),p.donePromise.then(function(){return function(t){lr(t,"Expected localeId to be defined"),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}(h.injector.get(ja,Df)||Df),a._moduleDoBootstrap(h),h}));return vl(n)?n.catch(function(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}):n}catch(i){throw r.runOutsideAngular(function(){return t.handleError(i)}),i}var p}(d,l)})}},{key:"bootstrapModule",value:function(n){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Ib({},a);return RV(0,0,n).then(function(s){return i.bootstrapModuleFactory(s,o)})}},{key:"_moduleDoBootstrap",value:function(n){var i=n.injector.get(Ks);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(function(o){return i.bootstrap(o)});else{if(!n.instance.ngDoBootstrap)throw new sr("403","");n.instance.ngDoBootstrap(i)}this._modules.push(n)}},{key:"onDestroy",value:function(n){this._destroyListeners.push(n)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new sr("404","");this._modules.slice().forEach(function(i){return i.destroy()}),this._destroyListeners.forEach(function(i){return i()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function Ib(t,r){return Array.isArray(r)?r.reduce(Ib,t):U(U({},t),r)}var Ks=function(){var t=function(){function r(e,n,i,a,o){var s=this;y(this,r),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new et(function(c){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){c.next(s._stable),c.complete()})}),l=new et(function(c){var f;s._zone.runOutsideAngular(function(){f=s._zone.onStable.subscribe(function(){ut.assertNotInAngularZone(),fg(function(){!s._stable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks&&(s._stable=!0,c.next(!0))})})});var h=s._zone.onUnstable.subscribe(function(){ut.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){c.next(!1)}))});return function(){f.unsubscribe(),h.unsubscribe()}});this.isStable=tv(u,l.pipe(lC()))}return g(r,[{key:"bootstrap",value:function(n,i){var s,a=this;if(!this._initStatus.done)throw new sr("405","");s=n instanceof Aw?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(s.componentType);var u=function(t){return t.isBoundToModule}(s)?void 0:this._injector.get(fa),c=s.create(fn.NULL,[],i||s.selector,u),f=c.location.nativeElement,h=c.injector.get(vg,null),d=h&&c.injector.get(Sb);return h&&d&&d.registerApplication(f,h),c.onDestroy(function(){a.detachView(c.hostView),gg(a.components,c),d&&d.unregisterApplication(f)}),this._loadComponent(c),c}},{key:"tick",value:function(){var n=this;if(this._runningTick)throw new sr("101","");try{this._runningTick=!0;var o,a=b(this._views);try{for(a.s();!(o=a.n()).done;)o.value.detectChanges()}catch(f){a.e(f)}finally{a.f()}}catch(f){this._zone.runOutsideAngular(function(){return n._exceptionHandler.handleError(f)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(n){var i=n;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(n){var i=n;gg(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(yb,[]).concat(this._bootstrapListeners).forEach(function(a){return a(n)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(n){return n.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(ut),z(fn),z(_s),z(js),z(qs))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function gg(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var Lr=function(){var t=g(function r(){y(this,r)});return t.__NG_ELEMENT_ID__=UV,t}();function UV(t){return function(t,r,e){if(jc(t)&&!e){var n=fr(t.index,r);return new Sl(n,n)}return 47&t.type?new Sl(r[16],r):null}(ln(),L(),16==(16&t))}var Fb=function(){function t(){y(this,t)}return g(t,[{key:"supports",value:function(e){return hl(e)}},{key:"create",value:function(e){return new qV(e)}}]),t}(),WV=function(r,e){return e},qV=function(){function t(r){y(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||WV}return g(t,[{key:"forEachItem",value:function(e){var n;for(n=this._itHead;null!==n;n=n._next)e(n)}},{key:"forEachOperation",value:function(e){for(var n=this._itHead,i=this._removalsHead,a=0,o=null;n||i;){var s=!i||n&&n.currentIndex<Nb(i,a,o)?n:i,u=Nb(s,a,o),l=s.currentIndex;if(s===i)a--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)a++;else{o||(o=[]);var c=u-a,f=l-a;if(c!=f){for(var h=0;h<c;h++){var d=h<o.length?o[h]:o[h]=0,v=d+h;f<=v&&v<c&&(o[h]=d+1)}o[s.previousIndex]=f-c}}u!==l&&e(s,u,l)}}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachMovedItem",value:function(e){var n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"forEachIdentityChange",value:function(e){var n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!hl(e))throw new Error("Error trying to diff '".concat(Qe(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var o,s,u,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,s=e[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,s,u,l)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,u,l),a=!0),i=i._next}else o=0,function(t,r){if(Array.isArray(t))for(var e=0;e<t.length;e++)r(t[e]);else for(var i,n=t[ks()]();!(i=n.next()).done;)r(i.value)}(e,function(c){u=n._trackByFn(o,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=n._verifyReinsertion(i,c,u,o)),Object.is(i.item,c)||n._addIdentityChange(i,c)):(i=n._mismatch(i,c,u,o),a=!0),i=i._next,o++}),this.length=o;return this._truncate(i),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,n,i,a){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,a)):e=this._addAfter(new KV(n,i),o,a),e}},{key:"_verifyReinsertion",value:function(e,n,i,a){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var a=e._prevRemoved,o=e._nextRemoved;return null===a?this._removalsHead=o:a._nextRemoved=o,null===o?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_moveAfter",value:function(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}},{key:"_addAfter",value:function(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,n,i){var a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Lb),this._linkedRecords.put(e),e.currentIndex=i,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}},{key:"_addToMoves",value:function(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),t}(),KV=g(function t(r,e){y(this,t),this.item=r,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),YV=function(){function t(){y(this,t),this._head=null,this._tail=null}return g(t,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,n){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}},{key:"remove",value:function(e){var n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}]),t}(),Lb=function(){function t(){y(this,t),this.map=new Map}return g(t,[{key:"put",value:function(e){var n=e.trackById,i=this.map.get(n);i||(i=new YV,this.map.set(n,i)),i.add(e)}},{key:"get",value:function(e,n){var a=this.map.get(e);return a?a.get(e,n):null}},{key:"remove",value:function(e){var n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Nb(t,r,e){var n=t.previousIndex;if(null===n)return n;var i=0;return e&&n<e.length&&(i=e[n]),n+r+i}var Vb=function(){function t(){y(this,t)}return g(t,[{key:"supports",value:function(e){return e instanceof Map||Lp(e)}},{key:"create",value:function(){return new ZV}}]),t}(),ZV=function(){function t(){y(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var n;for(n=this._mapHead;null!==n;n=n._next)e(n)}},{key:"forEachPreviousItem",value:function(e){var n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}},{key:"forEachChangedItem",value:function(e){var n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}},{key:"forEachAddedItem",value:function(e){var n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}},{key:"forEachRemovedItem",value:function(e){var n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Lp(e)))throw new Error("Error trying to diff '".concat(Qe(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(o,s){if(i&&i.key===s)n._maybeAddToChanges(i,o),n._appendAfter=i,i=i._next;else{var u=n._getOrCreateRecordForKey(s,o);i=n._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,n){if(e){var i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}},{key:"_getOrCreateRecordForKey",value:function(e,n){if(this._records.has(e)){var i=this._records.get(e);this._maybeAddToChanges(i,n);var a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}var s=new XV(e);return this._records.set(e,s),s.currentValue=n,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(function(i){return n(e[i],i)})}}]),t}(),XV=g(function t(r){y(this,t),this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function Bb(){return new Ys([new Fb])}var Ys=function(){var t=function(){function r(e){y(this,r),this.factories=e}return g(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'"))}}],[{key:"create",value:function(n,i){if(null!=i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||Bb())},deps:[[r,new gs,new Oi]]}}}]),r}();return t.\u0275prov=re({token:t,providedIn:"root",factory:Bb}),t}();function Hb(){return new Zs([new Vb])}var Zs=function(){var t=function(){function r(e){y(this,r),this.factories=e}return g(r,[{key:"find",value:function(n){var i=this.factories.find(function(a){return a.supports(n)});if(i)return i;throw new Error("Cannot find a differ supporting object '".concat(n,"'"))}}],[{key:"create",value:function(n,i){if(i){var a=i.factories.slice();n=n.concat(a)}return new r(n)}},{key:"extend",value:function(n){return{provide:r,useFactory:function(a){return r.create(n,a||Hb())},deps:[[r,new gs,new Oi]]}}}]),r}();return t.\u0275prov=re({token:t,providedIn:"root",factory:Hb}),t}(),$V=[new Vb],eB=new Ys([new Fb]),tB=new Zs($V),rB=Tb(null,"core",[{provide:Ua,useValue:"unknown"},{provide:kb,deps:[fn]},{provide:Sb,deps:[]},{provide:mb,deps:[]}]),uB=[{provide:Ks,useClass:Ks,deps:[ut,fn,_s,js,qs]},{provide:C2,deps:[ut],useFactory:function(t){var r=[];return t.onStable.subscribe(function(){for(;r.length;)r.pop()()}),function(e){r.push(e)}}},{provide:qs,useClass:qs,deps:[[new Oi,Dl]]},{provide:Vf,useClass:Vf,deps:[]},EV,{provide:Ys,useFactory:function(){return eB},deps:[]},{provide:Zs,useFactory:function(){return tB},deps:[]},{provide:ja,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Df},deps:[[new tl(ja),new Oi,new gs]]},{provide:_b,useValue:"USD"}],cB=function(){var t=g(function r(e){y(this,r)});return t.\u0275fac=function(e){return new(e||t)(z(Ks))},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:uB}),t}(),Bf=null;function Ni(){return Bf}var dB=g(function t(){y(this,t)}),nn=new Te("DocumentToken"),ko=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:function(){return z(Ub)},providedIn:"platform"}),t}(),pB=new Te("Location Initialized"),Ub=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return y(this,n),(a=e.call(this))._doc=i,a._init(),a}return g(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return Ni().getBaseHref(this._doc)}},{key:"onPopState",value:function(a){var o=Ni().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",a,!1),function(){return o.removeEventListener("popstate",a)}}},{key:"onHashChange",value:function(a){var o=Ni().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",a,!1),function(){return o.removeEventListener("hashchange",a)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(a){this.location.pathname=a}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(a,o,s){jb()?this._history.pushState(a,o,s):this.location.hash=s}},{key:"replaceState",value:function(a,o,s){jb()?this._history.replaceState(a,o,s):this.location.hash=s}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(a)}},{key:"getState",value:function(){return this._history.state}}]),n}(ko);return t.\u0275fac=function(e){return new(e||t)(z(nn))},t.\u0275prov=re({token:t,factory:function(){return new Ub(z(nn))},providedIn:"platform"}),t}();function jb(){return!!window.history.pushState}function Sg(t,r){if(0==t.length)return r;if(0==r.length)return t;var e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r}function Gb(t){var r=t.match(/#|\?|$/),e=r&&r.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function da(t){return t&&"?"!==t[0]?"?"+t:t}var Xs=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"historyGo",value:function(n){throw new Error("Not implemented")}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:function(){return r=z(nn).location,new zb(z(ko),r&&r.origin||"");var r},providedIn:"root"}),t}(),wg=new Te("appBaseHref"),zb=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;if(y(this,n),(o=e.call(this))._platformLocation=i,o._removeListenerFns=[],null==a&&(a=o._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=a,o}return g(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(a){return Sg(this._baseHref,a)}},{key:"path",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this._platformLocation.pathname+da(this._platformLocation.search),s=this._platformLocation.hash;return s&&a?"".concat(o).concat(s):o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+da(u));this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+da(u));this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,s)}}]),n}(Xs);return t.\u0275fac=function(e){return new(e||t)(z(ko),z(wg,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),mB=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;return y(this,n),(o=e.call(this))._platformLocation=i,o._baseHref="",o._removeListenerFns=[],null!=a&&(o._baseHref=a),o}return g(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}},{key:"prepareExternalUrl",value:function(a){var o=Sg(this._baseHref,a);return o.length>0?"#"+o:o}},{key:"pushState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+da(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(a,o,l)}},{key:"replaceState",value:function(a,o,s,u){var l=this.prepareExternalUrl(s+da(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(a,o,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(a=(o=this._platformLocation).historyGo)||void 0===a||a.call(o,s)}}]),n}(Xs);return t.\u0275fac=function(e){return new(e||t)(z(ko),z(wg,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),bg=function(){var t=function(){function r(e,n){var i=this;y(this,r),this._subject=new Ce,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Gb(Wb(a)),this._platformStrategy.onPopState(function(o){i._subject.emit({url:i.path(!0),pop:!0,state:o.state,type:o.type})})}return g(r,[{key:"path",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(n))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(n+da(i))}},{key:"normalize",value:function(n){return r.stripTrailingSlash(function(t,r){return t&&r.startsWith(t)?r.substring(t.length):r}(this._baseHref,Wb(n)))}},{key:"prepareExternalUrl",value:function(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}},{key:"go",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+da(i)),a)}},{key:"replaceState",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(a,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+da(i)),a)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(n=(i=this._platformStrategy).historyGo)||void 0===n||n.call(i,a)}},{key:"onUrlChange",value:function(n){var i=this;this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(a){i._notifyUrlChangeListeners(a.url,a.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(a){return a(n,i)})}},{key:"subscribe",value:function(n,i,a){return this._subject.subscribe({next:n,error:i,complete:a})}}]),r}();return t.normalizeQueryParams=da,t.joinWithSlash=Sg,t.stripTrailingSlash=Gb,t.\u0275fac=function(e){return new(e||t)(z(Xs),z(ko))},t.\u0275prov=re({token:t,factory:function(){return new bg(z(Xs),z(ko))},providedIn:"root"}),t}();function Wb(t){return t.replace(/\/index.html$/,"")}var rn=function(){return(rn=rn||{})[rn.Zero=0]="Zero",rn[rn.One=1]="One",rn[rn.Two=2]="Two",rn[rn.Few=3]="Few",rn[rn.Many=4]="Many",rn[rn.Other=5]="Other",rn}(),Qt=function(){return(Qt=Qt||{})[Qt.Format=0]="Format",Qt[Qt.Standalone=1]="Standalone",Qt}(),qe=function(){return(qe=qe||{})[qe.Narrow=0]="Narrow",qe[qe.Abbreviated=1]="Abbreviated",qe[qe.Wide=2]="Wide",qe[qe.Short=3]="Short",qe}(),Nt=function(){return(Nt=Nt||{})[Nt.Short=0]="Short",Nt[Nt.Medium=1]="Medium",Nt[Nt.Long=2]="Long",Nt[Nt.Full=3]="Full",Nt}(),ve=function(){return(ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Group=1]="Group",ve[ve.List=2]="List",ve[ve.PercentSign=3]="PercentSign",ve[ve.PlusSign=4]="PlusSign",ve[ve.MinusSign=5]="MinusSign",ve[ve.Exponential=6]="Exponential",ve[ve.SuperscriptingExponent=7]="SuperscriptingExponent",ve[ve.PerMille=8]="PerMille",ve[ve.Infinity=9]="Infinity",ve[ve.NaN=10]="NaN",ve[ve.TimeSeparator=11]="TimeSeparator",ve[ve.CurrencyDecimal=12]="CurrencyDecimal",ve[ve.CurrencyGroup=13]="CurrencyGroup",ve}();function Hf(t,r){return Vr(jn(t)[X.DateFormat],r)}function Uf(t,r){return Vr(jn(t)[X.TimeFormat],r)}function jf(t,r){return Vr(jn(t)[X.DateTimeFormat],r)}function Nr(t,r){var e=jn(t),n=e[X.NumberSymbols][r];if(void 0===n){if(r===ve.CurrencyDecimal)return e[X.NumberSymbols][ve.Decimal];if(r===ve.CurrencyGroup)return e[X.NumberSymbols][ve.Group]}return n}var kB=function(t){return jn(t)[X.PluralCase]};function Kb(t){if(!t[X.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[X.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Vr(t,r){for(var e=r;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function Dg(t){var e=K(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var PB=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Il={},xB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,gn=function(){return(gn=gn||{})[gn.Short=0]="Short",gn[gn.ShortGMT=1]="ShortGMT",gn[gn.Long=2]="Long",gn[gn.Extended=3]="Extended",gn}(),ye=function(){return(ye=ye||{})[ye.FullYear=0]="FullYear",ye[ye.Month=1]="Month",ye[ye.Date=2]="Date",ye[ye.Hours=3]="Hours",ye[ye.Minutes=4]="Minutes",ye[ye.Seconds=5]="Seconds",ye[ye.FractionalSeconds=6]="FractionalSeconds",ye[ye.Day=7]="Day",ye}(),Ve=function(){return(Ve=Ve||{})[Ve.DayPeriods=0]="DayPeriods",Ve[Ve.Days=1]="Days",Ve[Ve.Months=2]="Months",Ve[Ve.Eras=3]="Eras",Ve}();function FB(t,r,e,n){var i=function(t){if(Xb(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var e=K(t.split("-").map(function(f){return+f}),3),i=e[1],o=e[2];return Gf(e[0],(void 0===i?1:i)-1,void 0===o?1:o)}var l,u=parseFloat(t);if(!isNaN(t-u))return new Date(u);if(l=t.match(PB))return function(t){var r=new Date(0),e=0,n=0,i=t[8]?r.setUTCFullYear:r.setFullYear,a=t[8]?r.setUTCHours:r.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(r,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-e,s=Number(t[5]||0)-n,u=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(r,o,s,u,l),r}(l)}var c=new Date(t);if(!Xb(c))throw new Error('Unable to convert "'.concat(t,'" into a date'));return c}(t);r=va(e,r)||r;for(var s,o=[];r;){if(!(s=xB.exec(r))){o.push(r);break}var u=(o=o.concat(s.slice(1))).pop();if(!u)break;r=u}var l=i.getTimezoneOffset();n&&(l=Zb(n,l),i=function(t,r,e){var i=t.getTimezoneOffset();return function(t,r){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+r),t}(t,-1*(Zb(r,i)-i))}(i,n));var c="";return o.forEach(function(f){var h=function(t){if(Ig[t])return Ig[t];var r;switch(t){case"G":case"GG":case"GGG":r=St(Ve.Eras,qe.Abbreviated);break;case"GGGG":r=St(Ve.Eras,qe.Wide);break;case"GGGGG":r=St(Ve.Eras,qe.Narrow);break;case"y":r=an(ye.FullYear,1,0,!1,!0);break;case"yy":r=an(ye.FullYear,2,0,!0,!0);break;case"yyy":r=an(ye.FullYear,3,0,!1,!0);break;case"yyyy":r=an(ye.FullYear,4,0,!1,!0);break;case"Y":r=Kf(1);break;case"YY":r=Kf(2,!0);break;case"YYY":r=Kf(3);break;case"YYYY":r=Kf(4);break;case"M":case"L":r=an(ye.Month,1,1);break;case"MM":case"LL":r=an(ye.Month,2,1);break;case"MMM":r=St(Ve.Months,qe.Abbreviated);break;case"MMMM":r=St(Ve.Months,qe.Wide);break;case"MMMMM":r=St(Ve.Months,qe.Narrow);break;case"LLL":r=St(Ve.Months,qe.Abbreviated,Qt.Standalone);break;case"LLLL":r=St(Ve.Months,qe.Wide,Qt.Standalone);break;case"LLLLL":r=St(Ve.Months,qe.Narrow,Qt.Standalone);break;case"w":r=kg(1);break;case"ww":r=kg(2);break;case"W":r=kg(1,!0);break;case"d":r=an(ye.Date,1);break;case"dd":r=an(ye.Date,2);break;case"c":case"cc":r=an(ye.Day,1);break;case"ccc":r=St(Ve.Days,qe.Abbreviated,Qt.Standalone);break;case"cccc":r=St(Ve.Days,qe.Wide,Qt.Standalone);break;case"ccccc":r=St(Ve.Days,qe.Narrow,Qt.Standalone);break;case"cccccc":r=St(Ve.Days,qe.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":r=St(Ve.Days,qe.Abbreviated);break;case"EEEE":r=St(Ve.Days,qe.Wide);break;case"EEEEE":r=St(Ve.Days,qe.Narrow);break;case"EEEEEE":r=St(Ve.Days,qe.Short);break;case"a":case"aa":case"aaa":r=St(Ve.DayPeriods,qe.Abbreviated);break;case"aaaa":r=St(Ve.DayPeriods,qe.Wide);break;case"aaaaa":r=St(Ve.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":r=St(Ve.DayPeriods,qe.Abbreviated,Qt.Standalone,!0);break;case"bbbb":r=St(Ve.DayPeriods,qe.Wide,Qt.Standalone,!0);break;case"bbbbb":r=St(Ve.DayPeriods,qe.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":r=St(Ve.DayPeriods,qe.Abbreviated,Qt.Format,!0);break;case"BBBB":r=St(Ve.DayPeriods,qe.Wide,Qt.Format,!0);break;case"BBBBB":r=St(Ve.DayPeriods,qe.Narrow,Qt.Format,!0);break;case"h":r=an(ye.Hours,1,-12);break;case"hh":r=an(ye.Hours,2,-12);break;case"H":r=an(ye.Hours,1);break;case"HH":r=an(ye.Hours,2);break;case"m":r=an(ye.Minutes,1);break;case"mm":r=an(ye.Minutes,2);break;case"s":r=an(ye.Seconds,1);break;case"ss":r=an(ye.Seconds,2);break;case"S":r=an(ye.FractionalSeconds,1);break;case"SS":r=an(ye.FractionalSeconds,2);break;case"SSS":r=an(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=Wf(gn.Short);break;case"ZZZZZ":r=Wf(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Wf(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=Wf(gn.Long);break;default:return null}return Ig[t]=r,r}(f);c+=h?h(i,e,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Gf(t,r,e){var n=new Date(0);return n.setFullYear(t,r,e),n.setHours(0,0,0),n}function va(t,r){var e=function(t){return jn(t)[X.LocaleId]}(t);if(Il[e]=Il[e]||{},Il[e][r])return Il[e][r];var n="";switch(r){case"shortDate":n=Hf(t,Nt.Short);break;case"mediumDate":n=Hf(t,Nt.Medium);break;case"longDate":n=Hf(t,Nt.Long);break;case"fullDate":n=Hf(t,Nt.Full);break;case"shortTime":n=Uf(t,Nt.Short);break;case"mediumTime":n=Uf(t,Nt.Medium);break;case"longTime":n=Uf(t,Nt.Long);break;case"fullTime":n=Uf(t,Nt.Full);break;case"short":var i=va(t,"shortTime"),a=va(t,"shortDate");n=zf(jf(t,Nt.Short),[i,a]);break;case"medium":var o=va(t,"mediumTime"),s=va(t,"mediumDate");n=zf(jf(t,Nt.Medium),[o,s]);break;case"long":var u=va(t,"longTime"),l=va(t,"longDate");n=zf(jf(t,Nt.Long),[u,l]);break;case"full":var c=va(t,"fullTime"),f=va(t,"fullDate");n=zf(jf(t,Nt.Full),[c,f])}return n&&(Il[e][r]=n),n}function zf(t,r){return r&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return null!=r&&n in r?r[n]:e})),t}function pi(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));for(var o=String(t);o.length<r;)o="0"+o;return n&&(o=o.substr(o.length-r)),a+o}function LB(t,r){return pi(t,3).substr(0,r)}function an(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=NB(t,a);if((e>0||s>-e)&&(s+=e),t===ye.Hours)0===s&&-12===e&&(s=12);else if(t===ye.FractionalSeconds)return LB(s,r);var u=Nr(o,ve.MinusSign);return pi(s,r,u,n,i)}}function NB(t,r){switch(t){case ye.FullYear:return r.getFullYear();case ye.Month:return r.getMonth();case ye.Date:return r.getDate();case ye.Hours:return r.getHours();case ye.Minutes:return r.getMinutes();case ye.Seconds:return r.getSeconds();case ye.FractionalSeconds:return r.getMilliseconds();case ye.Day:return r.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}function St(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt.Format,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return VB(i,a,t,r,e,n)}}function VB(t,r,e,n,i,a){switch(e){case Ve.Months:return function(t,r,e){var n=jn(t),a=Vr([n[X.MonthsFormat],n[X.MonthsStandalone]],r);return Vr(a,e)}(r,i,n)[t.getMonth()];case Ve.Days:return function(t,r,e){var n=jn(t),a=Vr([n[X.DaysFormat],n[X.DaysStandalone]],r);return Vr(a,e)}(r,i,n)[t.getDay()];case Ve.DayPeriods:var o=t.getHours(),s=t.getMinutes();if(a){var u=function(t){var r=jn(t);return Kb(r),(r[X.ExtraData][2]||[]).map(function(n){return"string"==typeof n?Dg(n):[Dg(n[0]),Dg(n[1])]})}(r),l=function(t,r,e){var n=jn(t);Kb(n);var a=Vr([n[X.ExtraData][0],n[X.ExtraData][1]],r)||[];return Vr(a,e)||[]}(r,i,n),c=u.findIndex(function(h){if(Array.isArray(h)){var d=K(h,2),v=d[0],p=d[1],m=o>=v.hours&&s>=v.minutes,C=o<p.hours||o===p.hours&&s<p.minutes;if(v.hours<p.hours){if(m&&C)return!0}else if(m||C)return!0}else if(h.hours===o&&h.minutes===s)return!0;return!1});if(-1!==c)return l[c]}return function(t,r,e){var n=jn(t),a=Vr([n[X.DayPeriodsFormat],n[X.DayPeriodsStandalone]],r);return Vr(a,e)}(r,i,n)[o<12?0:1];case Ve.Eras:return function(t,r){return Vr(jn(t)[X.Eras],r)}(r,n)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(e))}}function Wf(t){return function(r,e,n){var i=-1*n,a=Nr(e,ve.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case gn.Short:return(i>=0?"+":"")+pi(o,2,a)+pi(Math.abs(i%60),2,a);case gn.ShortGMT:return"GMT"+(i>=0?"+":"")+pi(o,1,a);case gn.Long:return"GMT"+(i>=0?"+":"")+pi(o,2,a)+":"+pi(Math.abs(i%60),2,a);case gn.Extended:return 0===n?"Z":(i>=0?"+":"")+pi(o,2,a)+":"+pi(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function HB(t){var r=Gf(t,0,1).getDay();return Gf(t,0,1+(r<=4?4:11)-r)}function Yb(t){return Gf(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function kg(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){var i;if(r){var a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+a)/7)}else{var s=Yb(e),u=HB(s.getFullYear()),l=s.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return pi(i,t,Nr(n,ve.MinusSign))}}function Kf(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,n){return pi(Yb(e).getFullYear(),t,Nr(n,ve.MinusSign),r)}}var Ig={};function Zb(t,r){t=t.replace(/:/g,"");var e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?r:e}function Xb(t){return t instanceof Date&&!isNaN(t.valueOf())}var Zf=g(function t(){y(this,t)}),nH=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return y(this,n),(a=e.call(this)).locale=i,a}return g(n,[{key:"getPluralCategory",value:function(a,o){switch(kB(o||this.locale)(a)){case rn.Zero:return"zero";case rn.One:return"one";case rn.Two:return"two";case rn.Few:return"few";case rn.Many:return"many";default:return"other"}}}]),n}(Zf);return t.\u0275fac=function(e){return new(e||t)(z(ja))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function eT(t,r){r=encodeURIComponent(r);var n,e=b(t.split(";"));try{for(e.s();!(n=e.n()).done;){var i=n.value,a=i.indexOf("="),s=K(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=s[1];if(s[0].trim()===r)return decodeURIComponent(l)}}catch(c){e.e(c)}finally{e.f()}return null}var Vi=function(){var t=function(){function r(e,n,i,a){y(this,r),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(r,[{key:"klass",set:function(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(hl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),n.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(n){var i=this;n.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Qe(a.item)));i._toggleClass(a.item,!0)}),n.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!!n[a])}))}},{key:"_removeClasses",value:function(n){var i=this;n&&(Array.isArray(n)||n instanceof Set?n.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(n).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(n,i){var a=this;(n=n.trim())&&n.split(/\s+/g).forEach(function(o){i?a._renderer.addClass(a._ngEl.nativeElement,o):a._renderer.removeClass(a._ngEl.nativeElement,o)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ys),T(Zs),T(Lt),T(fi))},t.\u0275dir=le({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),iH=function(){function t(r,e,n,i){y(this,t),this.$implicit=r,this.ngForOf=e,this.index=n,this.count=i}return g(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Xf=function(){var t=function(){function r(e,n,i){y(this,r),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(r,[{key:"ngForOf",set:function(n){this._ngForOf=n,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(n){this._trackByFn=n}},{key:"ngForTemplate",set:function(n){n&&(this._template=n)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(a){throw new Error("Cannot find a differ supporting object '".concat(n,"' of type '").concat(function(t){return t.name||typeof t}(n),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(n){var i=this,a=[];n.forEachOperation(function(c,f,h){if(null==c.previousIndex){var d=i._viewContainer.createEmbeddedView(i._template,new iH(null,i._ngForOf,-1,-1),null===h?void 0:h),v=new tT(c,d);a.push(v)}else if(null==h)i._viewContainer.remove(null===f?void 0:f);else if(null!==f){var p=i._viewContainer.get(f);i._viewContainer.move(p,h);var m=new tT(c,p);a.push(m)}});for(var o=0;o<a.length;o++)this._perViewChange(a[o].view,a[o].record);for(var s=0,u=this._viewContainer.length;s<u;s++){var l=this._viewContainer.get(s);l.context.index=s,l.context.count=u,l.context.ngForOf=this._ngForOf}n.forEachIdentityChange(function(c){i._viewContainer.get(c.currentIndex).context.$implicit=c.item})}},{key:"_perViewChange",value:function(n,i){n.context.$implicit=i.item}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Fr),T(hi),T(Ys))},t.\u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),tT=g(function t(r,e){y(this,t),this.record=r,this.view=e}),Br=function(){var t=function(){function r(e,n){y(this,r),this._viewContainer=e,this._context=new oH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return g(r,[{key:"ngIf",set:function(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}},{key:"ngIfThen",set:function(n){nT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(n){nT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(n,i){return!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Fr),T(hi))},t.\u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),oH=g(function t(){y(this,t),this.$implicit=null,this.ngIf=null});function nT(t,r){if(r&&!r.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Qe(r),"'."))}var Ga=function(){var t=function(){function r(e,n,i){y(this,r),this._ngEl=e,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return g(r,[{key:"ngStyle",set:function(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}},{key:"_setStyle",value:function(n,i){var o=K(n.split("."),2),s=o[0],u=o[1];null!=(i=null!=i&&u?"".concat(i).concat(u):i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}},{key:"_applyChanges",value:function(n){var i=this;n.forEachRemovedItem(function(a){return i._setStyle(a.key,null)}),n.forEachAddedItem(function(a){return i._setStyle(a.key,a.currentValue)}),n.forEachChangedItem(function(a){return i._setStyle(a.key,a.currentValue)})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(Zs),T(fi))},t.\u0275dir=le({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}(),Qs=function(){var t=function(){function r(e){y(this,r),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return g(r,[{key:"ngOnChanges",value:function(n){if(n.ngTemplateOutlet){var i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Fr))},t.\u0275dir=le({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Bn]}),t}();function gi(t,r){return Error("InvalidPipeArgument: '".concat(r,"' for pipe '").concat(Qe(t),"'"))}var _H=new Te("DATE_PIPE_DEFAULT_TIMEZONE"),iT=function(){var t=function(){function r(e,n){y(this,r),this.locale=e,this.defaultTimezone=n}return g(r,[{key:"transform",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==n||""===n||n!=n)return null;try{var s;return FB(n,i,o||this.locale,null!==(s=null!=a?a:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(u){throw gi(r,u.message)}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(ja,16),T(_H,24))},t.\u0275pipe=qn({name:"date",type:t,pure:!0}),t}(),yr=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:[{provide:Zf,useClass:nH}]}),t}(),oT="browser";function Ng(t){return t===oT}var PH=function(){var t=g(function r(){y(this,r)});return t.\u0275prov=re({token:t,providedIn:"root",factory:function(){return new xH(z(nn),window)}}),t}(),xH=function(){function t(r,e){y(this,t),this.document=r,this.window=e,this.offset=function(){return[0,0]}}return g(t,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var n=function(t,r){var e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(r)||a.querySelector('[name="'.concat(r,'"]'));if(o)return o}i=n.nextNode()}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],a-o[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=sT(this.window.history)||sT(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(n){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),t}();function sT(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Qf,Vg=g(function t(){y(this,t)}),LH=function(t){M(e,t);var r=R(e);function e(){var n;return y(this,e),(n=r.apply(this,arguments)).supportsDOMEvents=!0,n}return g(e)}(dB),NH=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e,[{key:"onAndCancel",value:function(i,a,o){return i.addEventListener(a,o,!1),function(){i.removeEventListener(a,o,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=(Ol=Ol||document.querySelector("base"))?Ol.getAttribute("href"):null;return null==a?null:function(t){(Qf=Qf||document.createElement("a")).setAttribute("href",t);var r=Qf.pathname;return"/"===r.charAt(0)?r:"/".concat(r)}(a)}},{key:"resetBaseElement",value:function(){Ol=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return eT(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function(t){Bf||(Bf=t)}(new e)}}]),e}(LH),Ol=null,uT=new Te("TRANSITION_ID"),UH=[{provide:Dl,useFactory:function(t,r,e){return function(){e.get(qs).donePromise.then(function(){for(var n=Ni(),i=r.querySelectorAll('style[ng-transition="'.concat(t,'"]')),a=0;a<i.length;a++)n.remove(i[a])})}},deps:[uT,nn,fn],multi:!0}],jH=function(){function t(){y(this,t)}return g(t,[{key:"addToWindow",value:function(e){ft.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.findTestabilityInTree(i,a);if(null==o)throw new Error("Could not find testability for element.");return o},ft.getAllAngularTestabilities=function(){return e.getAllTestabilities()},ft.getAllAngularRootElements=function(){return e.getAllRootElements()},ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(function(a){var o=ft.getAllAngularTestabilities(),s=o.length,u=!1,l=function(f){u=u||f,0==--s&&a(u)};o.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(e,n,i){if(null==n)return null;var a=e.getTestability(n);return null!=a?a:i?Ni().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}],[{key:"init",value:function(){!function(t){pg=t}(new t)}}]),t}(),GH=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"build",value:function(){return new XMLHttpRequest}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),$f=new Te("EventManagerPlugins"),Jf=function(){var t=function(){function r(e,n){var i=this;y(this,r),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(a){return a.manager=i}),this._plugins=e.slice().reverse()}return g(r,[{key:"addEventListener",value:function(n,i,a){return this._findPluginFor(i).addEventListener(n,i,a)}},{key:"addGlobalEventListener",value:function(n,i,a){return this._findPluginFor(i).addGlobalEventListener(n,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(n){var i=this._eventNameToPlugin.get(n);if(i)return i;for(var a=this._plugins,o=0;o<a.length;o++){var s=a[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error("No event manager plugin found for event ".concat(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z($f),z(ut))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),lT=function(){function t(r){y(this,t),this._doc=r}return g(t,[{key:"addGlobalEventListener",value:function(e,n,i){var a=Ni().getGlobalEventTarget(this._doc,e);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(n));return this.addEventListener(a,n,i)}}]),t}(),cT=function(){var t=function(){function r(){y(this,r),this._stylesSet=new Set}return g(r,[{key:"addStyles",value:function(n){var i=this,a=new Set;n.forEach(function(o){i._stylesSet.has(o)||(i._stylesSet.add(o),a.add(o))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(n){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Ml=function(){var t=function(r){M(n,r);var e=R(n);function n(i){var a;return y(this,n),(a=e.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return g(n,[{key:"_addStylesToHost",value:function(a,o,s){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,s.push(o.appendChild(c))})}},{key:"addHost",value:function(a){var o=[];this._addStylesToHost(this._stylesSet,a,o),this._hostNodes.set(a,o)}},{key:"removeHost",value:function(a){var o=this._hostNodes.get(a);o&&o.forEach(fT),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var o=this;this._hostNodes.forEach(function(s,u){o._addStylesToHost(a,u,s)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(fT)})}}]),n}(cT);return t.\u0275fac=function(e){return new(e||t)(z(nn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function fT(t){Ni().remove(t)}var Bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hg=/%COMP%/g,zH="_nghost-".concat("%COMP%"),WH="_ngcontent-".concat("%COMP%");function eh(t,r,e){for(var n=0;n<r.length;n++){var i=r[n];Array.isArray(i)?eh(t,i,e):(i=i.replace(Hg,t),e.push(i))}return e}function vT(t){return function(r){if("__ngUnwrap__"===r)return t;!1===t(r)&&(r.preventDefault(),r.returnValue=!1)}}var th=function(){var t=function(){function r(e,n,i){y(this,r),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ug(e)}return g(r,[{key:"createRenderer",value:function(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Jr.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new ZH(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(n),a;case 1:case Jr.ShadowDom:return new XH(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){var o=eh(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Jf),z(Ml),z(kl))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Ug=function(){function t(r){y(this,t),this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}return g(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,n){return n?document.createElementNS(Bg[n]||n,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,n){e.appendChild(n)}},{key:"insertBefore",value:function(e,n,i){e&&e.insertBefore(n,i)}},{key:"removeChild",value:function(e,n){e&&e.removeChild(n)}},{key:"selectRootElement",value:function(e,n){var i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error('The selector "'.concat(e,'" did not match any elements'));return n||(i.textContent=""),i}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,n,i,a){if(a){n=a+":"+n;var o=Bg[a];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}},{key:"removeAttribute",value:function(e,n,i){if(i){var a=Bg[i];a?e.removeAttributeNS(a,n):e.removeAttribute("".concat(i,":").concat(n))}else e.removeAttribute(n)}},{key:"addClass",value:function(e,n){e.classList.add(n)}},{key:"removeClass",value:function(e,n){e.classList.remove(n)}},{key:"setStyle",value:function(e,n,i,a){a&(vr.DashCase|vr.Important)?e.style.setProperty(n,i,a&vr.Important?"important":""):e.style[n]=i}},{key:"removeStyle",value:function(e,n,i){i&vr.DashCase?e.style.removeProperty(n):e.style[n]=""}},{key:"setProperty",value:function(e,n,i){e[n]=i}},{key:"setValue",value:function(e,n){e.nodeValue=n}},{key:"listen",value:function(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,vT(i)):this.eventManager.addEventListener(e,n,vT(i))}}]),t}(),ZH=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;y(this,e),(s=r.call(this,n)).component=a;var u=eh(o+"-"+a.id,a.styles,[]);return i.addStyles(u),s.contentAttr=function(t){return WH.replace(Hg,t)}(o+"-"+a.id),s.hostAttr=function(t){return zH.replace(Hg,t)}(o+"-"+a.id),s}return g(e,[{key:"applyToHost",value:function(i){Se(Re(e.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var o=Se(Re(e.prototype),"createElement",this).call(this,i,a);return Se(Re(e.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),e}(Ug),XH=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;y(this,e),(s=r.call(this,n)).sharedStylesHost=i,s.hostEl=a,s.shadowRoot=a.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=eh(o.id,o.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],s.shadowRoot.appendChild(c)}return s}return g(e,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return Se(Re(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,o){return Se(Re(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,o)}},{key:"removeChild",value:function(i,a){return Se(Re(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(Se(Re(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),e}(Ug),QH=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return y(this,n),e.call(this,i)}return g(n,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,o,s){var u=this;return a.addEventListener(o,s,!1),function(){return u.removeEventListener(a,o,s)}}},{key:"removeEventListener",value:function(a,o,s){return a.removeEventListener(o,s)}}]),n}(lT);return t.\u0275fac=function(e){return new(e||t)(z(nn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),gT=["alt","control","meta","shift"],JH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eU={alt:function(r){return r.altKey},control:function(r){return r.ctrlKey},meta:function(r){return r.metaKey},shift:function(r){return r.shiftKey}},tU=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return y(this,n),e.call(this,i)}return g(n,[{key:"supports",value:function(a){return null!=n.parseEventName(a)}},{key:"addEventListener",value:function(a,o,s){var u=n.parseEventName(o),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Ni().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var o=a.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;var u=n._normalizeKey(o.pop()),l="";if(gT.forEach(function(f){var h=o.indexOf(f);h>-1&&(o.splice(h,1),l+=f+".")}),l+=u,0!=o.length||0===u.length)return null;var c={};return c.domEventName=s,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var o="",s=function(t){var r=t.key;if(null==r){if(null==(r=t.keyIdentifier))return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===t.location&&yT.hasOwnProperty(r)&&(r=yT[r]))}return JH[r]||r}(a);return" "===(s=s.toLowerCase())?s="space":"."===s&&(s="dot"),gT.forEach(function(u){u!=s&&(0,eU[u])(a)&&(o+=u+".")}),o+=s}},{key:"eventCallback",value:function(a,o,s){return function(u){n.getEventFullKey(u)===a&&s.runGuarded(function(){return o(u)})}}},{key:"_normalizeKey",value:function(a){return"esc"===a?"escape":a}}]),n}(lT);return t.\u0275fac=function(e){return new(e||t)(z(nn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),oU=[{provide:Ua,useValue:oT},{provide:gb,useValue:function(){NH.makeCurrent(),jH.init()},multi:!0},{provide:nn,useFactory:function(){return function(t){gv=t}(document),document},deps:[]}],sU=Tb(rB,"browser",oU),uU=[{provide:Mp,useValue:"root"},{provide:_s,useFactory:function(){return new _s},deps:[]},{provide:$f,useClass:QH,multi:!0,deps:[nn,ut,Ua]},{provide:$f,useClass:tU,multi:!0,deps:[nn]},{provide:th,useClass:th,deps:[Jf,Ml,kl]},{provide:Cl,useExisting:th},{provide:cT,useExisting:Ml},{provide:Ml,useClass:Ml,deps:[nn]},{provide:vg,useClass:vg,deps:[ut]},{provide:Jf,useClass:Jf,deps:[$f,ut]},{provide:Vg,useClass:GH,deps:[]}],mT=function(){var t=function(){function r(e){if(y(this,r),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(r,null,[{key:"withServerTransition",value:function(n){return{ngModule:r,providers:[{provide:kl,useValue:n.appId},{provide:uT,useExisting:kl},UH]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(t,12))},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:uU,imports:[yr,cB]}),t}();function me(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r);return un(r,n)}"undefined"!=typeof window&&window;var Hr=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this))._value=n,i}return g(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(i){var a=Se(Re(e.prototype),"_subscribe",this).call(this,i);return!a.closed&&i.next(this._value),a}},{key:"getValue",value:function(){var o=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),o}},{key:"next",value:function(i){Se(Re(e.prototype),"next",this).call(this,this._value=i)}}]),e}(nt),yU=Array.isArray,mU=Object.getPrototypeOf,_U=Object.prototype,CU=Object.keys;function ET(t){if(1===t.length){var r=t[0];if(yU(r))return{args:r,keys:null};if(function(t){return t&&"object"==typeof t&&mU(t)===_U}(r)){var e=CU(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}var SU=Array.isArray;function Gg(t){return Ue(function(r){return function(t,r){return SU(r)?t.apply(void 0,Z(r)):t(r)}(t,r)})}function ST(t,r){return t.reduce(function(e,n,i){return e[n]=r[i],e},{})}function TU(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma;return function(n){wT(r,function(){for(var i=t.length,a=new Array(i),o=i,s=i,u=function(f){wT(r,function(){var h=un(t[f],r),d=!1;h.subscribe(new Ct(n,function(v){a[f]=v,d||(d=!0,s--),s||n.next(e(a.slice()))},function(){--o||n.complete()}))},n)},l=0;l<i;l++)u(l)},n)}}function wT(t,r,e){t?na(e,t,r):r()}var nh=V(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function DU(){return Lu(1)}function Rl(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return DU()(un(r,Nu(r)))}function rh(t){return new et(function(r){or(t()).subscribe(r)})}function bT(){return At(function(t,r){var e=null;t._refCount++;var n=new Ct(r,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)e=null;else{var i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),r.unsubscribe()}});t.subscribe(n),n.closed||(e=t.connect())})}var TT=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this)).source=n,a.subjectFactory=i,a._subject=null,a._refCount=0,a._connection=null,W_(n)&&(a.lift=n.lift),a}return g(e,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var i=this._connection;this._subject=this._connection=null,null==i||i.unsubscribe()}},{key:"connect",value:function(){var i=this,a=this._connection;if(!a){a=this._connection=new pe;var o=this.getSubject();a.add(this.source.subscribe(new Ct(o,void 0,function(){i._teardown(),o.complete()},function(s){i._teardown(),o.error(s)},function(){return i._teardown()}))),a.closed&&(this._connection=null,a=pe.EMPTY)}return a}},{key:"refCount",value:function(){return bT()(this)}}]),e}(et);function Ur(t,r){return At(function(e,n){var i=null,a=0,o=!1,s=function(){return o&&!i&&n.complete()};e.subscribe(new Ct(n,function(u){null==i||i.unsubscribe();var l=0,c=a++;or(t(u,c)).subscribe(i=new Ct(n,function(f){return n.next(r?r(u,f,c,l++):f)},function(){i=null,s()}))},function(){o=!0,s()}))})}function zg(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r);return At(function(i,a){(n?Rl(r,i,n):Rl(r,i)).subscribe(a)})}function kU(t,r,e,n,i){return function(a,o){var s=e,u=r,l=0;a.subscribe(new Ct(o,function(c){var f=l++;u=s?t(u,c,f):(s=!0,c),n&&o.next(u)},i&&function(){s&&o.next(u),o.complete()}))}}function DT(t,r){return At(kU(t,r,arguments.length>=2,!0))}function En(t,r){return At(function(e,n){var i=0;e.subscribe(new Ct(n,function(a){return t.call(r,a,i++)&&n.next(a)}))})}function pa(t){return At(function(r,e){var a,n=null,i=!1;n=r.subscribe(new Ct(e,void 0,void 0,function(o){a=or(t(o,pa(t)(r))),n?(n.unsubscribe(),n=null,a.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,a.subscribe(e))})}function $s(t,r){return F(r)?Zt(t,r,1):Zt(t,1)}function Wg(t){return t<=0?function(){return ra}:At(function(r,e){var n=[];r.subscribe(new Ct(e,function(i){n.push(i),t<n.length&&n.shift()},function(){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)e.next(a.value)}catch(s){i.e(s)}finally{i.f()}e.complete()},void 0,function(){n=null}))})}function kT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IU;return At(function(r,e){var n=!1;r.subscribe(new Ct(e,function(i){n=!0,e.next(i)},function(){return n?e.complete():e.error(t())}))})}function IU(){return new nh}function IT(t){return At(function(r,e){var n=!1;r.subscribe(new Ct(e,function(i){n=!0,e.next(i)},function(){n||e.next(t),e.complete()}))})}function Js(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?En(function(i,a){return t(i,a,n)}):Ma,Dr(1),e?IT(r):kT(function(){return new nh}))}}function Qn(t,r,e){var n=F(t)||r||e?{next:t,error:r,complete:e}:t;return n?At(function(i,a){var o;null===(o=n.subscribe)||void 0===o||o.call(n);var s=!0;i.subscribe(new Ct(a,function(u){var l;null===(l=n.next)||void 0===l||l.call(n,u),a.next(u)},function(){var u;s=!1,null===(u=n.complete)||void 0===u||u.call(n),a.complete()},function(u){var l;s=!1,null===(l=n.error)||void 0===l||l.call(n,u),a.error(u)},function(){var u,l;s&&(null===(u=n.unsubscribe)||void 0===u||u.call(n)),null===(l=n.finalize)||void 0===l||l.call(n)}))}):Ma}var ga=g(function t(r,e){y(this,t),this.id=r,this.url=e}),qg=function(t){M(e,t);var r=R(e);function e(n,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,e),(a=r.call(this,n,i)).navigationTrigger=o,a.restoredState=s,a}return g(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ga),Pl=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this,n,i)).urlAfterRedirects=a,o}return g(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(ga),AT=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this,n,i)).reason=a,o}return g(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(ga),MU=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this,n,i)).error=a,o}return g(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(ga),RU=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ga),PU=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ga),xU=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s){var u;return y(this,e),(u=r.call(this,n,i)).urlAfterRedirects=a,u.state=o,u.shouldActivate=s,u}return g(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(ga),FU=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ga),LU=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this,n,i)).urlAfterRedirects=a,s.state=o,s}return g(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(ga),OT=function(){function t(r){y(this,t),this.route=r}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),MT=function(){function t(r){y(this,t),this.route=r}return g(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),NU=function(){function t(r){y(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),VU=function(){function t(r){y(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),BU=function(){function t(r){y(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),HU=function(){function t(r){y(this,t),this.snapshot=r}return g(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),RT=function(){function t(r,e,n){y(this,t),this.routerEvent=r,this.position=e,this.anchor=n}return g(t,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),t}(),Ge="primary",UU=function(){function t(r){y(this,t),this.params=r||{}}return g(t,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n[0]:n}return null}},{key:"getAll",value:function(e){if(this.has(e)){var n=this.params[e];return Array.isArray(n)?n:[n]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function eu(t){return new UU(t)}var PT="ngNavigationCancelingError";function Kg(t){var r=Error("NavigationCancelingError: "+t);return r[PT]=!0,r}function GU(t,r,e){var n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(r.hasChildren()||n.length<t.length))return null;for(var i={},a=0;a<n.length;a++){var o=n[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function Bi(t,r){var e=t?Object.keys(t):void 0,n=r?Object.keys(r):void 0;if(!e||!n||e.length!=n.length)return!1;for(var i,a=0;a<e.length;a++)if(!xT(t[i=e[a]],r[i]))return!1;return!0}function xT(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;var e=Z(t).sort(),n=Z(r).sort();return e.every(function(i,a){return n[a]===i})}return t===r}function FT(t){return Array.prototype.concat.apply([],t)}function LT(t){return t.length>0?t[t.length-1]:null}function kn(t,r){for(var e in t)t.hasOwnProperty(e)&&r(t[e],e)}function Hi(t){return jp(t)?t:vl(t)?un(Promise.resolve(t)):me(t)}var qU={exact:function BT(t,r,e){if(!Ao(t.segments,r.segments)||!ih(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children)if(!t.children[n]||!BT(t.children[n],r.children[n],e))return!1;return!0},subset:HT},NT={exact:function(t,r){return Bi(t,r)},subset:function(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(function(e){return xT(t[e],r[e])})},ignored:function(){return!0}};function VT(t,r,e){return qU[e.paths](t.root,r.root,e.matrixParams)&&NT[e.queryParams](t.queryParams,r.queryParams)&&!("exact"===e.fragment&&t.fragment!==r.fragment)}function HT(t,r,e){return UT(t,r,r.segments,e)}function UT(t,r,e,n){if(t.segments.length>e.length){var i=t.segments.slice(0,e.length);return!(!Ao(i,e)||r.hasChildren()||!ih(i,e,n))}if(t.segments.length===e.length){if(!Ao(t.segments,e)||!ih(t.segments,e,n))return!1;for(var a in r.children)if(!t.children[a]||!HT(t.children[a],r.children[a],n))return!1;return!0}var o=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Ao(t.segments,o)&&ih(t.segments,o,n)&&t.children[Ge])&&UT(t.children[Ge],r,s,n)}function ih(t,r,e){return r.every(function(n,i){return NT[e](t[i].parameters,n.parameters)})}var Io=function(){function t(r,e,n){y(this,t),this.root=r,this.queryParams=e,this.fragment=n}return g(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return QU.serialize(this)}}]),t}(),Ke=function(){function t(r,e){var n=this;y(this,t),this.segments=r,this.children=e,this.parent=null,kn(e,function(i,a){return i.parent=n})}return g(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return ah(this)}}]),t}(),xl=function(){function t(r,e){y(this,t),this.path=r,this.parameters=e}return g(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return qT(this)}}]),t}();function Ao(t,r){return t.length===r.length&&t.every(function(e,n){return e.path===r[n].path})}var jT=g(function t(){y(this,t)}),GT=function(){function t(){y(this,t)}return g(t,[{key:"parse",value:function(e){var n=new oj(e);return new Io(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}},{key:"serialize",value:function(e){var n="/".concat(Fl(e.root,!0)),i=function(t){var r=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(i){return"".concat(oh(e),"=").concat(oh(i))}).join("&"):"".concat(oh(e),"=").concat(oh(n))}).filter(function(e){return!!e});return r.length?"?".concat(r.join("&")):""}(e.queryParams),a="string"==typeof e.fragment?"#".concat(function(t){return encodeURI(t)}(e.fragment)):"";return"".concat(n).concat(i).concat(a)}}]),t}(),QU=new GT;function ah(t){return t.segments.map(function(r){return qT(r)}).join("/")}function Fl(t,r){if(!t.hasChildren())return ah(t);if(r){var e=t.children[Ge]?Fl(t.children[Ge],!1):"",n=[];return kn(t.children,function(a,o){o!==Ge&&n.push("".concat(o,":").concat(Fl(a,!1)))}),n.length>0?"".concat(e,"(").concat(n.join("//"),")"):e}var i=function(t,r){var e=[];return kn(t.children,function(n,i){i===Ge&&(e=e.concat(r(n,i)))}),kn(t.children,function(n,i){i!==Ge&&(e=e.concat(r(n,i)))}),e}(t,function(a,o){return o===Ge?[Fl(t.children[Ge],!1)]:["".concat(o,":").concat(Fl(a,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[Ge]?"".concat(ah(t),"/").concat(i[0]):"".concat(ah(t),"/(").concat(i.join("//"),")")}function zT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oh(t){return zT(t).replace(/%3B/gi,";")}function Yg(t){return zT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sh(t){return decodeURIComponent(t)}function WT(t){return sh(t.replace(/\+/g,"%20"))}function qT(t){return"".concat(Yg(t.path)).concat(function(t){return Object.keys(t).map(function(r){return";".concat(Yg(r),"=").concat(Yg(t[r]))}).join("")}(t.parameters))}var tj=/^[^\/()?;=#]+/;function uh(t){var r=t.match(tj);return r?r[0]:""}var nj=/^[^=?&#]+/,ij=/^[^&#]+/,oj=function(){function t(r){y(this,t),this.url=r,this.remaining=r}return g(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ge]=new Ke(e,n)),i}},{key:"parseSegment",value:function(){var e=uh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new xl(sh(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var n=uh(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=uh(this.remaining);a&&this.capture(i=a)}e[sh(n)]=sh(i)}}},{key:"parseQueryParam",value:function(e){var n=function(t){var r=t.match(nj);return r?r[0]:""}(this.remaining);if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var a=function(t){var r=t.match(ij);return r?r[0]:""}(this.remaining);a&&this.capture(i=a)}var o=WT(n),s=WT(i);if(e.hasOwnProperty(o)){var u=e[o];Array.isArray(u)||(e[o]=u=[u]),u.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=uh(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error("Cannot parse url '".concat(this.url,"'"));var o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ge);var s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Ge]:new Ke([],s),this.consumeOptional("//")}return n}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),t}(),KT=function(){function t(r){y(this,t),this._root=r}return g(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}},{key:"children",value:function(e){var n=Zg(e,this._root);return n?n.children.map(function(i){return i.value}):[]}},{key:"firstChild",value:function(e){var n=Zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}},{key:"siblings",value:function(e){var n=Xg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(function(a){return a.value}).filter(function(a){return a!==e})}},{key:"pathFromRoot",value:function(e){return Xg(e,this._root).map(function(n){return n.value})}}]),t}();function Zg(t,r){if(t===r.value)return r;var n,e=b(r.children);try{for(e.s();!(n=e.n()).done;){var a=Zg(t,n.value);if(a)return a}}catch(o){e.e(o)}finally{e.f()}return null}function Xg(t,r){if(t===r.value)return[r];var n,e=b(r.children);try{for(e.s();!(n=e.n()).done;){var a=Xg(t,n.value);if(a.length)return a.unshift(r),a}}catch(o){e.e(o)}finally{e.f()}return[]}var ya=function(){function t(r,e){y(this,t),this.value=r,this.children=e}return g(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function tu(t){var r={};return t&&t.children.forEach(function(e){return r[e.value.outlet]=e}),r}var YT=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,n)).snapshot=i,Qg(It(a),n),a}return g(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(KT);function ZT(t,r){var e=function(t,r){var o=new lh([],{},{},"",{},Ge,r,null,t.root,-1,{});return new QT("",new ya(o,[]))}(t,r),n=new Hr([new xl("",{})]),i=new Hr({}),a=new Hr({}),o=new Hr({}),s=new Hr(""),u=new nu(n,i,o,s,a,Ge,r,e.root);return u.snapshot=e.root,new YT(new ya(u,[]),e)}var nu=function(){function t(r,e,n,i,a,o,s,u){y(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return g(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Ue(function(e){return eu(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ue(function(e){return eu(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function XT(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",e=t.pathFromRoot,n=0;if("always"!==r)for(n=e.length-1;n>=1;){var i=e[n],a=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return uj(e.slice(n))}function uj(t){return t.reduce(function(r,e){return{params:U(U({},r.params),e.params),data:U(U({},r.data),e.data),resolve:U(U({},r.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var lh=function(){function t(r,e,n,i,a,o,s,u,l,c,f){y(this,t),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=f}return g(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(i){return i.toString()}).join("/"),n=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(n,"')")}}]),t}(),QT=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,i)).url=n,Qg(It(a),i),a}return g(e,[{key:"toString",value:function(){return $T(this._root)}}]),e}(KT);function Qg(t,r){r.value._routerState=t,r.children.forEach(function(e){return Qg(t,e)})}function $T(t){var r=t.children.length>0?" { ".concat(t.children.map($T).join(", ")," } "):"";return"".concat(t.value).concat(r)}function $g(t){if(t.snapshot){var r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Bi(r.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),r.fragment!==e.fragment&&t.fragment.next(e.fragment),Bi(r.params,e.params)||t.params.next(e.params),function(t,r){if(t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(!Bi(t[e],r[e]))return!1;return!0}(r.url,e.url)||t.url.next(e.url),Bi(r.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jg(t,r){var e=Bi(t.params,r.params)&&function(t,r){return Ao(t,r)&&t.every(function(e,n){return Bi(e.parameters,r[n].parameters)})}(t.url,r.url);return e&&!(!t.parent!=!r.parent)&&(!t.parent||Jg(t.parent,r.parent))}function Ll(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){var n=e.value;n._futureSnapshot=r.value;var i=function(t,r,e){return r.children.map(function(n){var a,i=b(e.children);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(t.shouldReuseRoute(n.value,o.value.snapshot))return Ll(t,n,o)}}catch(s){i.e(s)}finally{i.f()}return Ll(t,n)})}(t,r,e);return new ya(n,i)}if(t.shouldAttach(r.value)){var a=t.retrieve(r.value);if(null!==a){var o=a.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(function(l){return Ll(t,l)}),o}}var s=function(t){return new nu(new Hr(t.url),new Hr(t.params),new Hr(t.queryParams),new Hr(t.fragment),new Hr(t.data),t.outlet,t.component,t)}(r.value),u=r.children.map(function(l){return Ll(t,l)});return new ya(s,u)}function hj(t,r,e,n,i){if(0===e.length)return ey(r.root,r.root,r,n,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new eD(!0,0,t);var r=0,e=!1,n=t.reduce(function(i,a,o){if("object"==typeof a&&null!=a){if(a.outlets){var s={};return kn(a.outlets,function(u,l){s[l]="string"==typeof u?u.split("/"):u}),[].concat(Z(i),[{outlets:s}])}if(a.segmentPath)return[].concat(Z(i),[a.segmentPath])}return"string"!=typeof a?[].concat(Z(i),[a]):0===o?(a.split("/").forEach(function(u,l){0==l&&"."===u||(0==l&&""===u?e=!0:".."===u?r++:""!=u&&i.push(u))}),i):[].concat(Z(i),[a])},[]);return new eD(e,r,n)}(e);if(a.toRoot())return ey(r.root,new Ke([],{}),r,n,i);var o=function(t,r,e){if(t.isAbsolute)return new ty(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){var n=e.snapshot._urlSegment;return new ty(n,n===r.root,0)}var a=ch(t.commands[0])?0:1;return function(t,r,e){for(var n=t,i=r,a=e;a>i;){if(a-=i,!(n=n.parent))throw new Error("Invalid number of '../'");i=n.segments.length}return new ty(n,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(a,r,t),s=o.processChildren?fh(o.segmentGroup,o.index,a.commands):tD(o.segmentGroup,o.index,a.commands);return ey(o.segmentGroup,s,r,n,i)}function ch(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nl(t){return"object"==typeof t&&null!=t&&t.outlets}function ey(t,r,e,n,i){var a={};return n&&kn(n,function(o,s){a[s]=Array.isArray(o)?o.map(function(u){return"".concat(u)}):"".concat(o)}),new Io(e.root===t?r:JT(e.root,t,r),a,i)}function JT(t,r,e){var n={};return kn(t.children,function(i,a){n[a]=i===r?e:JT(i,r,e)}),new Ke(t.segments,n)}var eD=function(){function t(r,e,n){if(y(this,t),this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&ch(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(Nl);if(i&&i!==LT(n))throw new Error("{outlets:{}} has to be the last command")}return g(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ty=g(function t(r,e,n){y(this,t),this.segmentGroup=r,this.processChildren=e,this.index=n});function tD(t,r,e){if(t||(t=new Ke([],{})),0===t.segments.length&&t.hasChildren())return fh(t,r,e);var n=function(t,r,e){for(var n=0,i=r,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=e.length)return a;var o=t.segments[i],s=e[n];if(Nl(s))break;var u="".concat(s),l=n<e.length-1?e[n+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!rD(u,l,o))return a;n+=2}else{if(!rD(u,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var a=new Ke(t.segments.slice(0,n.pathIndex),{});return a.children[Ge]=new Ke(t.segments.slice(n.pathIndex),t.children),fh(a,0,i)}return n.match&&0===i.length?new Ke(t.segments,{}):n.match&&!t.hasChildren()?ny(t,r,e):n.match?fh(t,0,i):ny(t,r,e)}function fh(t,r,e){if(0===e.length)return new Ke(t.segments,{});var n=function(t){return Nl(t[0])?t[0].outlets:ie({},Ge,t)}(e),i={};return kn(n,function(a,o){"string"==typeof a&&(a=[a]),null!==a&&(i[o]=tD(t.children[o],r,a))}),kn(t.children,function(a,o){void 0===n[o]&&(i[o]=a)}),new Ke(t.segments,i)}function ny(t,r,e){for(var n=t.segments.slice(0,r),i=0;i<e.length;){var a=e[i];if(Nl(a)){var o=mj(a.outlets);return new Ke(n,o)}if(0===i&&ch(e[0]))n.push(new xl(t.segments[r].path,nD(e[0]))),i++;else{var u=Nl(a)?a.outlets[Ge]:"".concat(a),l=i<e.length-1?e[i+1]:null;u&&l&&ch(l)?(n.push(new xl(u,nD(l))),i+=2):(n.push(new xl(u,{})),i++)}}return new Ke(n,{})}function mj(t){var r={};return kn(t,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(r[n]=ny(new Ke([],{}),0,e))}),r}function nD(t){var r={};return kn(t,function(e,n){return r[n]="".concat(e)}),r}function rD(t,r,e){return t==e.path&&Bi(r,e.parameters)}var Cj=function(){function t(r,e,n,i){y(this,t),this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i}return g(t,[{key:"activate",value:function(e){var n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),$g(this.futureState.root),this.activateChildRoutes(n,i,e)}},{key:"deactivateChildRoutes",value:function(e,n,i){var a=this,o=tu(n);e.children.forEach(function(s){var u=s.value.outlet;a.deactivateRoutes(s,o[u],i),delete o[u]}),kn(o,function(s,u){a.deactivateRouteAndItsChildren(s,i)})}},{key:"deactivateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if(a===o)if(a.component){var s=i.getContext(a.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}},{key:"deactivateRouteAndItsChildren",value:function(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}},{key:"detachAndStoreRouteSubtree",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=tu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);if(i&&i.outlet){var c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}},{key:"deactivateRouteAndOutlet",value:function(e,n){for(var i=n.getContext(e.value.outlet),a=i&&e.value.component?i.children:n,o=tu(e),s=0,u=Object.keys(o);s<u.length;s++)this.deactivateRouteAndItsChildren(o[u[s]],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}},{key:"activateChildRoutes",value:function(e,n,i){var a=this,o=tu(n);e.children.forEach(function(s){a.activateRoutes(s,o[s.value.outlet],i),a.forwardEvent(new HU(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VU(e.value.snapshot))}},{key:"activateRoutes",value:function(e,n,i){var a=e.value,o=n?n.value:null;if($g(a),a===o)if(a.component){var s=i.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(a.component){var u=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){var l=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(l.contexts),u.attachRef=l.componentRef,u.route=l.route.value,u.outlet&&u.outlet.attach(l.componentRef,l.route.value),$g(l.route.value),this.activateChildRoutes(e,null,u.children)}else{var c=function(t){for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),f=c?c.module.componentFactoryResolver:null;u.attachRef=null,u.route=a,u.resolver=f,u.outlet&&u.outlet.activateWith(a,f),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}]),t}(),ry=g(function t(r,e){y(this,t),this.routes=r,this.module=e});function za(t){return"function"==typeof t}function Oo(t){return t instanceof Io}var Vl=Symbol("INITIAL_VALUE");function Bl(){return Ur(function(t){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=Nu(r),i=aC(r),a=ET(r),o=a.args,s=a.keys;if(0===o.length)return un([],n);var u=new et(TU(o,n,s?function(l){return ST(s,l)}:Ma));return i?u.pipe(Gg(i)):u}(t.map(function(r){return r.pipe(Dr(1),zg(Vl))})).pipe(DT(function(r,e){var n=!1;return e.reduce(function(i,a,o){return i!==Vl?i:(a===Vl&&(n=!0),n||!1!==a&&o!==e.length-1&&!Oo(a)?i:a)},r)},Vl),En(function(r){return r!==Vl}),Ue(function(r){return Oo(r)?r:!0===r}),Dr(1))})}var kj=g(function t(){y(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Hl,this.attachRef=null}),Hl=function(){function t(){y(this,t),this.contexts=new Map}return g(t,[{key:"onChildOutletCreated",value:function(e,n){var i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}},{key:"onChildOutletDestroyed",value:function(e){var n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var n=this.getContext(e);return n||(n=new kj,this.contexts.set(e,n)),n}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),t}(),iy=function(){var t=function(){function r(e,n,i,a,o){y(this,r),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.name=a||Ge,e.onChildOutletCreated(this.name,this)}return g(r,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}},{key:"attach",value:function(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}},{key:"deactivate",value:function(){if(this.activated){var n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}},{key:"activateWith",value:function(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;var s=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,l=new Ij(n,u,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Hl),T(Fr),T(js),function(t){return function(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;var e=t.attrs;if(e)for(var n=e.length,i=0;i<n;){var a=e[i];if(HC(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<n&&"string"==typeof e[i];)i++;else{if(a===r)return e[i+1];i+=2}}return null}(ln(),t)}("name"),T(Lr))},t.\u0275dir=le({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t}(),Ij=function(){function t(r,e,n){y(this,t),this.route=r,this.childContexts=e,this.parent=n}return g(t,[{key:"get",value:function(e,n){return e===nu?this.route:e===Hl?this.childContexts:this.parent.get(e,n)}}]),t}(),iD=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&Ft(0,"router-outlet")},directives:[iy],encapsulation:2}),t}();function aD(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=0;e<t.length;e++){var n=t[e],i=Oj(r,n);Aj(n,i)}}function Aj(t,r){t.children&&aD(t.children,r)}function Oj(t,r){return r?t||r.path?t&&!r.path?"".concat(t,"/"):!t&&r.path?r.path:"".concat(t,"/").concat(r.path):"":t}function ay(t){var r=t.children&&t.children.map(ay),e=r?U(U({},t),{},{children:r}):U({},t);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Ge&&(e.component=iD),e}function jr(t){return t.outlet||Ge}function oD(t,r){var e=t.filter(function(n){return jr(n)===r});return e.push.apply(e,Z(t.filter(function(n){return jr(n)!==r}))),e}var sD={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function hh(t,r,e){var n;if(""===r.path)return"full"===r.pathMatch&&(t.hasChildren()||e.length>0)?U({},sD):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var a=(r.matcher||GU)(e,t,r);if(!a)return U({},sD);var o={};kn(a.posParams,function(u,l){o[l]=u.path});var s=a.consumed.length>0?U(U({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:s,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function dh(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(e.length>0&&Pj(t,e,n)){var a=new Ke(r,Rj(t,r,n,new Ke(e,t.children)));return a._sourceSegment=t,a._segmentIndexShift=r.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&xj(t,e,n)){var o=new Ke(t.segments,Mj(t,r,e,n,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=r.length,{segmentGroup:o,slicedSegments:e}}var s=new Ke(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=r.length,{segmentGroup:s,slicedSegments:e}}function Mj(t,r,e,n,i,a){var u,o={},s=b(n);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(vh(t,e,l)&&!i[jr(l)]){var c=new Ke([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:r.length,o[jr(l)]=c}}}catch(f){s.e(f)}finally{s.f()}return U(U({},i),o)}function Rj(t,r,e,n){var i={};i[Ge]=n,n._sourceSegment=t,n._segmentIndexShift=r.length;var o,a=b(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&jr(s)!==Ge){var u=new Ke([],{});u._sourceSegment=t,u._segmentIndexShift=r.length,i[jr(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}function Pj(t,r,e){return e.some(function(n){return vh(t,r,n)&&jr(n)!==Ge})}function xj(t,r,e){return e.some(function(n){return vh(t,r,n)})}function vh(t,r,e){return(!(t.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function uD(t,r,e,n){return!!(jr(t)===n||n!==Ge&&vh(r,e,t))&&("**"===t.path||hh(r,t,e).matched)}function lD(t,r,e){return 0===r.length&&!t.children[e]}var Ul=g(function t(r){y(this,t),this.segmentGroup=r||null}),cD=g(function t(r){y(this,t),this.urlTree=r});function ph(t){return new et(function(r){return r.error(new Ul(t))})}function fD(t){return new et(function(r){return r.error(new cD(t))})}function Fj(t){return new et(function(r){return r.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Vj=function(){function t(r,e,n,i,a){y(this,t),this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=r.get(fa)}return g(t,[{key:"apply",value:function(){var e=this,n=dh(this.urlTree.root,[],[],this.config).segmentGroup,i=new Ke(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Ge).pipe(Ue(function(s){return e.createUrlTree(oy(s),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(pa(function(s){if(s instanceof cD)return e.allowRedirects=!1,e.match(s.urlTree);throw s instanceof Ul?e.noMatchError(s):s}))}},{key:"match",value:function(e){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ge).pipe(Ue(function(o){return n.createUrlTree(oy(o),e.queryParams,e.fragment)})).pipe(pa(function(o){throw o instanceof Ul?n.noMatchError(o):o}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,n,i){var a=e.segments.length>0?new Ke([],ie({},Ge,e)):e;return new Io(a,n,i)}},{key:"expandSegmentGroup",value:function(e,n,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(Ue(function(o){return new Ke([],o)})):this.expandSegment(e,i,n,i.segments,a,!0)}},{key:"expandChildren",value:function(e,n,i){for(var a=this,o=[],s=0,u=Object.keys(i.children);s<u.length;s++){var l=u[s];"primary"===l?o.unshift(l):o.push(l)}return un(o).pipe($s(function(c){var f=i.children[c],h=oD(n,c);return a.expandSegmentGroup(e,h,f,c).pipe(Ue(function(d){return{segment:d,outlet:c}}))}),DT(function(c,f){return c[f.outlet]=f.segment,c},{}),function(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?En(function(i,a){return t(i,a,n)}):Ma,Wg(1),e?IT(r):kT(function(){return new nh}))}}())}},{key:"expandSegment",value:function(e,n,i,a,o,s){var u=this;return un(i).pipe($s(function(l){return u.expandSegmentAgainstRoute(e,n,i,l,a,o,s).pipe(pa(function(f){if(f instanceof Ul)return me(null);throw f}))}),Js(function(l){return!!l}),pa(function(l,c){if(l instanceof nh||"EmptyError"===l.name){if(lD(n,a,o))return me(new Ke([],{}));throw new Ul(n)}throw l}))}},{key:"expandSegmentAgainstRoute",value:function(e,n,i,a,o,s,u){return uD(a,n,o,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,n,a,o,s):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s):ph(n):ph(n)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,a,o,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,n,i,a){var o=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fD(s):this.lineralizeSegments(i,s).pipe(Zt(function(u){var l=new Ke(u,{});return o.expandSegment(e,l,n,u,a,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,n,i,a,o,s){var u=this,l=hh(n,a,o),f=l.consumedSegments,h=l.lastChild,d=l.positionalParamSegments;if(!l.matched)return ph(n);var v=this.applyRedirectCommands(f,a.redirectTo,d);return a.redirectTo.startsWith("/")?fD(v):this.lineralizeSegments(a,v).pipe(Zt(function(p){return u.expandSegment(e,n,i,p.concat(o.slice(h)),s,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,n,i,a,o){var s=this;if("**"===i.path)return i.loadChildren?(i._loadedConfig?me(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(Ue(function(p){return i._loadedConfig=p,new Ke(a,{})})):me(new Ke(a,{}));var l=hh(n,i,a),f=l.consumedSegments,h=l.lastChild;if(!l.matched)return ph(n);var d=a.slice(h);return this.getChildConfig(e,i,a).pipe(Zt(function(p){var m=p.module,C=p.routes,_=dh(n,f,d,C),E=_.segmentGroup,S=_.slicedSegments,w=new Ke(E.segments,E.children);if(0===S.length&&w.hasChildren())return s.expandChildren(m,C,w).pipe(Ue(function(B){return new Ke(f,B)}));if(0===C.length&&0===S.length)return me(new Ke(f,{}));var I=jr(i)===o;return s.expandSegment(m,w,C,S,I?Ge:o,!0).pipe(Ue(function(B){return new Ke(f.concat(B.segments),B.children)}))}))}},{key:"getChildConfig",value:function(e,n,i){var a=this;return n.children?me(new ry(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?me(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(Zt(function(o){return o?a.configLoader.load(e.injector,n).pipe(Ue(function(s){return n._loadedConfig=s,s})):function(t){return new et(function(r){return r.error(Kg("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(n)})):me(new ry([],e))}},{key:"runCanLoadGuards",value:function(e,n,i){var a=this,o=n.canLoad;if(!o||0===o.length)return me(!0);var s=o.map(function(u){var c,l=e.get(u);if(function(t){return t&&za(t.canLoad)}(l))c=l.canLoad(n,i);else{if(!za(l))throw new Error("Invalid CanLoad guard");c=l(n,i)}return Hi(c)});return me(s).pipe(Bl(),Qn(function(u){if(Oo(u)){var l=Kg('Redirecting to "'.concat(a.urlSerializer.serialize(u),'"'));throw l.url=u,l}}),Ue(function(u){return!0===u}))}},{key:"lineralizeSegments",value:function(e,n){for(var i=[],a=n.root;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return me(i);if(a.numberOfChildren>1||!a.children[Ge])return Fj(e.redirectTo);a=a.children[Ge]}}},{key:"applyRedirectCommands",value:function(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}},{key:"applyRedirectCreatreUrlTree",value:function(e,n,i,a){var o=this.createSegmentGroup(e,n.root,i,a);return new Io(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}},{key:"createQueryParams",value:function(e,n){var i={};return kn(e,function(a,o){if("string"==typeof a&&a.startsWith(":")){var u=a.substring(1);i[o]=n[u]}else i[o]=a}),i}},{key:"createSegmentGroup",value:function(e,n,i,a){var o=this,s=this.createSegments(e,n.segments,i,a),u={};return kn(n.children,function(l,c){u[c]=o.createSegmentGroup(e,l,i,a)}),new Ke(s,u)}},{key:"createSegments",value:function(e,n,i,a){var o=this;return n.map(function(s){return s.path.startsWith(":")?o.findPosParam(e,s,a):o.findOrReturn(s,i)})}},{key:"findPosParam",value:function(e,n,i){var a=i[n.path.substring(1)];if(!a)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(n.path,"'."));return a}},{key:"findOrReturn",value:function(e,n){var o,i=0,a=b(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.path===e.path)return n.splice(i),s;i++}}catch(u){a.e(u)}finally{a.f()}return e}}]),t}();function oy(t){for(var r={},e=0,n=Object.keys(t.children);e<n.length;e++){var i=n[e],o=oy(t.children[i]);(o.segments.length>0||o.hasChildren())&&(r[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children[Ge]){var r=t.children[Ge];return new Ke(t.segments.concat(r.segments),r.children)}return t}(new Ke(t.segments,r))}var hD=g(function t(r){y(this,t),this.path=r,this.route=this.path[this.path.length-1]}),gh=g(function t(r,e){y(this,t),this.component=r,this.route=e});function Uj(t,r,e){var n=t._root;return jl(n,r?r._root:null,e,[n.value])}function yh(t,r,e){var n=function(t){if(!t)return null;for(var r=t.parent;r;r=r.parent){var e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(n?n.module.injector:e).get(t)}function jl(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=tu(r);return t.children.forEach(function(o){zj(o,a[o.value.outlet],e,n.concat([o.value]),i),delete a[o.value.outlet]}),kn(a,function(o,s){return Gl(o,e.getContext(s),i)}),i}function zj(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=Wj(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hD(n)):(a.data=o.data,a._resolvedData=o._resolvedData),jl(t,r,a.component?s?s.children:null:e,n,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new gh(s.outlet.component,o))}else o&&Gl(r,s,i),i.canActivateChecks.push(new hD(n)),jl(t,null,a.component?s?s.children:null:e,n,i);return i}function Wj(t,r,e){if("function"==typeof e)return e(t,r);switch(e){case"pathParamsChange":return!Ao(t.url,r.url);case"pathParamsOrQueryParamsChange":return!Ao(t.url,r.url)||!Bi(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jg(t,r)||!Bi(t.queryParams,r.queryParams);default:return!Jg(t,r)}}function Gl(t,r,e){var n=tu(t),i=t.value;kn(n,function(a,o){Gl(a,i.component?r?r.children.getContext(o):null:r,e)}),e.canDeactivateChecks.push(new gh(i.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,i))}var eG=g(function t(){y(this,t)});function dD(t){return new et(function(r){return r.error(t)})}var nG=function(){function t(r,e,n,i,a,o){y(this,t),this.rootComponentType=r,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return g(t,[{key:"recognize",value:function(){var e=dh(this.urlTree.root,[],[],this.config.filter(function(s){return void 0===s.redirectTo}),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Ge);if(null===n)return null;var i=new lh([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ya(i,n),o=new QT(this.url,a);return this.inheritParamsAndData(o._root),o}},{key:"inheritParamsAndData",value:function(e){var n=this,i=e.value,a=XT(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(function(o){return n.inheritParamsAndData(o)})}},{key:"processSegmentGroup",value:function(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}},{key:"processChildren",value:function(e,n){for(var i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a],u=n.children[s],l=oD(e,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;i.push.apply(i,Z(c))}var f=vD(i);return function(t){t.sort(function(r,e){return r.value.outlet===Ge?-1:e.value.outlet===Ge?1:r.value.outlet.localeCompare(e.value.outlet)})}(f),f}},{key:"processSegment",value:function(e,n,i,a){var s,o=b(e);try{for(o.s();!(s=o.n()).done;){var l=this.processSegmentAgainstRoute(s.value,n,i,a);if(null!==l)return l}}catch(c){o.e(c)}finally{o.f()}return lD(n,i,a)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,n,i,a){if(e.redirectTo||!uD(e,n,i,a))return null;var o,s=[],u=[];if("**"===e.path){var l=i.length>0?LT(i).parameters:{};o=new lh(i,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,yD(e),jr(e),e.component,e,pD(n),gD(n)+i.length,mD(e))}else{var c=hh(n,e,i);if(!c.matched)return null;s=c.consumedSegments,u=i.slice(c.lastChild),o=new lh(s,c.parameters,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,yD(e),jr(e),e.component,e,pD(n),gD(n)+s.length,mD(e))}var f=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),h=dh(n,s,u,f.filter(function(_){return void 0===_.redirectTo}),this.relativeLinkResolution),d=h.segmentGroup,v=h.slicedSegments;if(0===v.length&&d.hasChildren()){var p=this.processChildren(f,d);return null===p?null:[new ya(o,p)]}if(0===f.length&&0===v.length)return[new ya(o,[])];var m=jr(e)===a,C=this.processSegment(f,d,v,m?Ge:a);return null===C?null:[new ya(o,C)]}}]),t}();function vD(t){var i,r=[],e=new Set,n=b(t);try{var a=function(){var h=i.value;if(!function(t){var r=t.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}(h))return r.push(h),"continue";var v,d=r.find(function(p){return h.value.routeConfig===p.value.routeConfig});void 0!==d?((v=d.children).push.apply(v,Z(h.children)),e.add(d)):r.push(h)};for(n.s();!(i=n.n()).done;)a()}catch(f){n.e(f)}finally{n.f()}var u,s=b(e);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=vD(l.children);r.push(new ya(l.value,c))}}catch(f){s.e(f)}finally{s.f()}return r.filter(function(f){return!e.has(f)})}function pD(t){for(var r=t;r._sourceSegment;)r=r._sourceSegment;return r}function gD(t){for(var r=t,e=r._segmentIndexShift?r._segmentIndexShift:0;r._sourceSegment;)e+=(r=r._sourceSegment)._segmentIndexShift?r._segmentIndexShift:0;return e-1}function yD(t){return t.data||{}}function mD(t){return t.resolve||{}}function sy(t){return Ur(function(r){var e=t(r);return e?un(e).pipe(Ue(function(){return r})):me(r)})}var fG=g(function t(){y(this,t)}),hG=function(){function t(){y(this,t)}return g(t,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,n){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,n){return e.routeConfig===n.routeConfig}}]),t}(),dG=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e)}(hG),uy=new Te("ROUTES"),_D=function(){function t(r,e,n,i){y(this,t),this.injector=r,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return g(t,[{key:"load",value:function(e,n){var i=this;if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);var o=this.loadModuleFactory(n.loadChildren).pipe(Ue(function(s){i.onLoadEndListener&&i.onLoadEndListener(n);var u=s.create(e);return new ry(FT(u.injector.get(uy,void 0,Pe.Self|Pe.Optional)).map(ay),u)}),pa(function(s){throw n._loader$=void 0,s}));return n._loader$=new TT(o,function(){return new nt}).pipe(bT()),n._loader$}},{key:"loadModuleFactory",value:function(e){var n=this;return Hi(e()).pipe(Zt(function(i){return i instanceof Pw?me(i):un(n.compiler.compileModuleAsync(i))}))}}]),t}(),vG=g(function t(){y(this,t)}),pG=function(){function t(){y(this,t)}return g(t,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,n){return e}}]),t}();function gG(t){throw t}function yG(t,r,e){return r.parse("/")}function CD(t,r){return me(null)}var mG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_G={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mr=function(){var t=function(){function r(e,n,i,a,o,s,u){var l=this;y(this,r),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt,this.errorHandler=gG,this.malformedUriErrorHandler=yG,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:CD,afterPreactivation:CD},this.urlHandlingStrategy=new pG,this.routeReuseStrategy=new dG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(fa),this.console=o.get(mb);var h=o.get(ut);this.isNgZoneEnabled=h instanceof ut&&ut.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Io(new Ke([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _D(o,s,function(v){return l.triggerEvent(new OT(v))},function(v){return l.triggerEvent(new MT(v))}),this.routerState=ZT(this.currentUrlTree,this.rootComponentType),this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return g(r,[{key:"browserPageId",get:function(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}},{key:"setupNavigations",value:function(n){var i=this,a=this.events;return n.pipe(En(function(o){return 0!==o.id}),Ue(function(o){return U(U({},o),{},{extractedUrl:i.urlHandlingStrategy.extract(o.rawUrl)})}),Ur(function(o){var s=!1,u=!1;return me(o).pipe(Qn(function(l){i.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:i.lastSuccessfulNavigation?U(U({},i.lastSuccessfulNavigation),{},{previousNavigation:null}):null}}),Ur(function(l){var c=i.browserUrlTree.toString(),f=!i.navigated||l.extractedUrl.toString()!==c||c!==i.currentUrlTree.toString();if(("reload"===i.onSameUrlNavigation||f)&&i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return mh(l.source)&&(i.browserUrlTree=l.extractedUrl),me(l).pipe(Ur(function(w){var k=i.transitions.getValue();return a.next(new qg(w.id,i.serializeUrl(w.extractedUrl),w.source,w.restoredState)),k!==i.transitions.getValue()?ra:Promise.resolve(w)}),function(t,r,e,n){return Ur(function(i){return function(t,r,e,n,i){return new Vj(t,r,e,n,i).apply()}(t,r,e,i.extractedUrl,n).pipe(Ue(function(a){return U(U({},i),{},{urlAfterRedirects:a})}))})}(i.ngModule.injector,i.configLoader,i.urlSerializer,i.config),Qn(function(w){i.currentNavigation=U(U({},i.currentNavigation),{},{finalUrl:w.urlAfterRedirects})}),function(t,r,e,n,i){return Zt(function(a){return function(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var o=new nG(t,r,e,n,i,a).recognize();return null===o?dD(new eG):me(o)}catch(s){return dD(s)}}(t,r,a.urlAfterRedirects,e(a.urlAfterRedirects),n,i).pipe(Ue(function(o){return U(U({},a),{},{targetSnapshot:o})}))})}(i.rootComponentType,i.config,function(w){return i.serializeUrl(w)},i.paramsInheritanceStrategy,i.relativeLinkResolution),Qn(function(w){if("eager"===i.urlUpdateStrategy){if(!w.extras.skipLocationChange){var k=i.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);i.setBrowserUrl(k,w)}i.browserUrlTree=w.urlAfterRedirects}var I=new RU(w.id,i.serializeUrl(w.extractedUrl),i.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);a.next(I)}));if(f&&i.rawUrlTree&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){var p=l.extractedUrl,m=l.source,C=l.restoredState,_=l.extras,E=new qg(l.id,i.serializeUrl(p),m,C);a.next(E);var S=ZT(p,i.rootComponentType).snapshot;return me(U(U({},l),{},{targetSnapshot:S,urlAfterRedirects:p,extras:U(U({},_),{},{skipLocationChange:!1,replaceUrl:!1})}))}return i.rawUrlTree=l.rawUrl,l.resolve(null),ra}),sy(function(l){var v=l.extras;return i.hooks.beforePreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),Qn(function(l){var c=new PU(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);i.triggerEvent(c)}),Ue(function(l){return U(U({},l),{},{guards:Uj(l.targetSnapshot,l.currentSnapshot,i.rootContexts)})}),function(t,r){return Zt(function(e){var n=e.targetSnapshot,i=e.currentSnapshot,a=e.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?me(U(U({},e),{},{guardsResult:!0})):function(t,r,e,n){return un(t).pipe(Zt(function(i){return function(t,r,e,n,i){var a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||0===a.length)return me(!0);var o=a.map(function(s){var l,u=yh(s,r,i);if(function(t){return t&&za(t.canDeactivate)}(u))l=Hi(u.canDeactivate(t,r,e,n));else{if(!za(u))throw new Error("Invalid CanDeactivate guard");l=Hi(u(t,r,e,n))}return l.pipe(Js())});return me(o).pipe(Bl())}(i.component,i.route,e,r,n)}),Js(function(i){return!0!==i},!0))}(s,n,i,t).pipe(Zt(function(u){return u&&function(t){return"boolean"==typeof t}(u)?function(t,r,e,n){return un(r).pipe($s(function(i){return Rl(function(t,r){return null!==t&&r&&r(new NU(t)),me(!0)}(i.route.parent,n),function(t,r){return null!==t&&r&&r(new BU(t)),me(!0)}(i.route,n),function(t,r,e){var n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(function(o){return function(t){var r=t.routeConfig?t.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:t,guards:r}:null}(o)}).filter(function(o){return null!==o}),a=i.map(function(o){return rh(function(){var s=o.guards.map(function(u){var c,l=yh(u,o.node,e);if(function(t){return t&&za(t.canActivateChild)}(l))c=Hi(l.canActivateChild(n,t));else{if(!za(l))throw new Error("Invalid CanActivateChild guard");c=Hi(l(n,t))}return c.pipe(Js())});return me(s).pipe(Bl())})});return me(a).pipe(Bl())}(t,i.path,e),function(t,r,e){var n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||0===n.length)return me(!0);var i=n.map(function(a){return rh(function(){var s,o=yh(a,r,e);if(function(t){return t&&za(t.canActivate)}(o))s=Hi(o.canActivate(r,t));else{if(!za(o))throw new Error("Invalid CanActivate guard");s=Hi(o(r,t))}return s.pipe(Js())})});return me(i).pipe(Bl())}(t,i.route,e))}),Js(function(i){return!0!==i},!0))}(n,o,t,r):me(u)}),Ue(function(u){return U(U({},e),{},{guardsResult:u})}))})}(i.ngModule.injector,function(l){return i.triggerEvent(l)}),Qn(function(l){if(Oo(l.guardsResult)){var c=Kg('Redirecting to "'.concat(i.serializeUrl(l.guardsResult),'"'));throw c.url=l.guardsResult,c}var f=new xU(l.id,i.serializeUrl(l.extractedUrl),i.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);i.triggerEvent(f)}),En(function(l){return!!l.guardsResult||(i.restoreHistory(l),i.cancelNavigationTransition(l,""),!1)}),sy(function(l){if(l.guards.canActivateChecks.length)return me(l).pipe(Qn(function(c){var f=new FU(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}),Ur(function(c){var f=!1;return me(c).pipe(function(t,r){return Zt(function(e){var n=e.targetSnapshot,i=e.guards.canActivateChecks;if(!i.length)return me(e);var a=0;return un(i).pipe($s(function(o){return function(t,r,e,n){return function(t,r,e,n){var i=Object.keys(t);if(0===i.length)return me({});var a={};return un(i).pipe(Zt(function(o){return function(t,r,e,n){var i=yh(t,r,n);return Hi(i.resolve?i.resolve(r,e):i(r,e))}(t[o],r,e,n).pipe(Qn(function(s){a[o]=s}))}),Wg(1),Zt(function(){return Object.keys(a).length===i.length?me(a):ra}))}(t._resolve,t,r,n).pipe(Ue(function(a){return t._resolvedData=a,t.data=U(U({},t.data),XT(t,e).resolve),null}))}(o.route,n,t,r)}),Qn(function(){return a++}),Wg(1),Zt(function(o){return a===i.length?me(e):ra}))})}(i.paramsInheritanceStrategy,i.ngModule.injector),Qn({next:function(){return f=!0},complete:function(){f||(i.restoreHistory(c),i.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Qn(function(c){var f=new LU(c.id,i.serializeUrl(c.extractedUrl),i.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);i.triggerEvent(f)}))}),sy(function(l){var v=l.extras;return i.hooks.afterPreactivation(l.targetSnapshot,{navigationId:l.id,appliedUrlTree:l.extractedUrl,rawUrlTree:l.rawUrl,skipLocationChange:!!v.skipLocationChange,replaceUrl:!!v.replaceUrl})}),Ue(function(l){var c=function(t,r,e){var n=Ll(t,r._root,e?e._root:void 0);return new YT(n,r)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return U(U({},l),{},{targetRouterState:c})}),Qn(function(l){i.currentUrlTree=l.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),i.routerState=l.targetRouterState,"deferred"===i.urlUpdateStrategy&&(l.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,l),i.browserUrlTree=l.urlAfterRedirects)}),function(r,e,n){return Ue(function(i){return new Cj(e,i.targetRouterState,i.currentRouterState,n).activate(r),i})}(i.rootContexts,i.routeReuseStrategy,function(l){return i.triggerEvent(l)}),Qn({next:function(){s=!0},complete:function(){s=!0}}),function(t){return At(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}(function(){var l;if(!s&&!u){var c="Navigation ID ".concat(o.id," is not equal to the current navigation id ").concat(i.navigationId);i.cancelNavigationTransition(o,c)}(null===(l=i.currentNavigation)||void 0===l?void 0:l.id)===o.id&&(i.currentNavigation=null)}),pa(function(l){if(u=!0,function(t){return t&&t[PT]}(l)){var c=Oo(l.url);c||(i.navigated=!0,i.restoreHistory(o,!0));var f=new AT(o.id,i.serializeUrl(o.extractedUrl),l.message);a.next(f),c?setTimeout(function(){var d=i.urlHandlingStrategy.merge(l.url,i.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||mh(o.source)};i.scheduleNavigation(d,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{i.restoreHistory(o,!0);var h=new MU(o.id,i.serializeUrl(o.extractedUrl),l);a.next(h);try{o.resolve(i.errorHandler(l))}catch(d){o.reject(d)}}return ra}))}))}},{key:"resetRootComponentType",value:function(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}},{key:"setTransition",value:function(n){this.transitions.next(U(U({},this.transitions.value),n))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var n=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(i){var a="popstate"===i.type?"popstate":"hashchange";"popstate"===a&&setTimeout(function(){var o,s={replaceUrl:!0},u=null!==(o=i.state)&&void 0!==o&&o.navigationId?i.state:null;if(u){var l=U({},u);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}var c=n.parseUrl(i.url);n.scheduleNavigation(c,a,u,s)},0)}))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(n){this.events.next(n)}},{key:"resetConfig",value:function(n){aD(n),this.config=n.map(ay),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.relativeTo,o=i.queryParams,s=i.fragment,u=i.queryParamsHandling,l=i.preserveFragment,c=a||this.routerState.root,f=l?this.currentUrlTree.fragment:s,h=null;switch(u){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),hj(c,this.currentUrlTree,n,h,null!=f?f:null)}},{key:"navigateByUrl",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},a=Oo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}},{key:"navigate",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return CG(n),this.navigateByUrl(this.createUrlTree(n,i),i)}},{key:"serializeUrl",value:function(n){return this.urlSerializer.serialize(n)}},{key:"parseUrl",value:function(n){var i;try{i=this.urlSerializer.parse(n)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return i}},{key:"isActive",value:function(n,i){var a;if(a=!0===i?U({},mG):!1===i?U({},_G):i,Oo(n))return VT(this.currentUrlTree,n,a);var o=this.parseUrl(n);return VT(this.currentUrlTree,o,a)}},{key:"removeEmptyProps",value:function(n){return Object.keys(n).reduce(function(i,a){var o=n[a];return null!=o&&(i[a]=o),i},{})}},{key:"processNavigations",value:function(){var n=this;this.navigations.subscribe(function(i){n.navigated=!0,n.lastSuccessfulId=i.id,n.currentPageId=i.targetPageId,n.events.next(new Pl(i.id,n.serializeUrl(i.extractedUrl),n.serializeUrl(n.currentUrlTree))),n.lastSuccessfulNavigation=n.currentNavigation,i.resolve(!0)},function(i){n.console.warn("Unhandled Navigation Error: ".concat(i))})}},{key:"scheduleNavigation",value:function(n,i,a,o,s){var u;if(this.disposed)return Promise.resolve(!1);var v,p,m,l=this.transitions.value,c=mh(i)&&l&&!mh(l.source),f=l.rawUrl.toString()===n.toString(),h=l.id===(null===(u=this.currentNavigation)||void 0===u?void 0:u.id);if(c&&f&&h)return Promise.resolve(!0);s?(v=s.resolve,p=s.reject,m=s.promise):m=new Promise(function(k,I){v=k,p=I});var _,C=++this.navigationId;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(a=this.location.getState()),a&&a.\u0275routerPageId)_=a.\u0275routerPageId;else if(o.replaceUrl||o.skipLocationChange){var S;_=null!==(S=this.browserPageId)&&void 0!==S?S:0}else{var w;_=(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1}else _=0;return this.setTransition({id:C,targetPageId:_,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:v,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(function(k){return Promise.reject(k)})}},{key:"setBrowserUrl",value:function(n,i){var a=this.urlSerializer.serialize(n),o=U(U({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",o):this.location.go(a,"",o)}},{key:"restoreHistory",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var a,o,s=this.currentPageId-n.targetPageId,u="popstate"===n.source||"eager"===this.urlUpdateStrategy||this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl);u&&0!==s?this.location.historyGo(s):this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(n,i){var a=new AT(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(a),n.resolve(!1)}},{key:"generateNgRouterState",value:function(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,"\u0275routerPageId":i}:{navigationId:n}}}]),r}();return t.\u0275fac=function(e){Hp()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function CG(t){for(var r=0;r<t.length;r++){var e=t[r];if(null==e)throw new Error("The requested path contains ".concat(e," segment at index ").concat(r))}}function mh(t){return"imperative"!==t}var ED=g(function t(){y(this,t)}),wG=function(){function t(){y(this,t)}return g(t,[{key:"preload",value:function(e,n){return n().pipe(pa(function(){return me(null)}))}}]),t}(),SD=function(){function t(){y(this,t)}return g(t,[{key:"preload",value:function(e,n){return me(null)}}]),t}(),wD=function(){var t=function(){function r(e,n,i,a){y(this,r),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new _D(i,n,function(l){return e.triggerEvent(new OT(l))},function(l){return e.triggerEvent(new MT(l))})}return g(r,[{key:"setUpPreloading",value:function(){var n=this;this.subscription=this.router.events.pipe(En(function(i){return i instanceof Pl}),$s(function(){return n.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var n=this.injector.get(fa);return this.processRoutes(n,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(n,i){var s,a=[],o=b(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;a.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(n,u)):u.children&&a.push(this.processRoutes(n,u.children))}}catch(c){o.e(c)}finally{o.f()}return un(a).pipe(Lu(),Ue(function(c){}))}},{key:"preloadConfig",value:function(n,i){var a=this;return this.preloadingStrategy.preload(i,function(){return(i._loadedConfig?me(i._loadedConfig):a.loader.load(n.injector,i)).pipe(Zt(function(s){return i._loadedConfig=s,a.processRoutes(s.module,s.routes)}))})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(mr),z(Vf),z(fn),z(ED))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),fy=function(){var t=function(){function r(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,r),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return g(r,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof qg?(n.store[n.lastId]=n.viewportScroller.getScrollPosition(),n.lastSource=i.navigationTrigger,n.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Pl&&(n.lastId=i.id,n.scheduleScrollEvent(i,n.router.parseUrl(i.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var n=this;return this.router.events.subscribe(function(i){i instanceof RT&&(i.position?"top"===n.options.scrollPositionRestoration?n.viewportScroller.scrollToPosition([0,0]):"enabled"===n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===n.options.anchorScrolling?n.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==n.options.scrollPositionRestoration&&n.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(n,i){this.router.triggerEvent(new RT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){Hp()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Mo=new Te("ROUTER_CONFIGURATION"),bD=new Te("ROUTER_FORROOT_GUARD"),bG=[bg,{provide:jT,useClass:GT},{provide:mr,useFactory:function(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=new mr(null,t,r,e,n,i,FT(a));return s&&(l.urlHandlingStrategy=s),u&&(l.routeReuseStrategy=u),OG(o,l),o.enableTracing&&l.events.subscribe(function(c){var f,h,d,v;null===(f=(h=console).group)||void 0===f||f.call(h,"Router Event: ".concat(c.constructor.name)),console.log(c.toString()),console.log(c),null===(d=(v=console).groupEnd)||void 0===d||d.call(v)}),l},deps:[jT,Hl,bg,fn,Vf,uy,Mo,[vG,new Oi],[fG,new Oi]]},Hl,{provide:nu,useFactory:function(t){return t.routerState.root},deps:[mr]},wD,SD,wG,{provide:Mo,useValue:{enableTracing:!1}}];function TG(){return new bb("Router",mr)}var TD=function(){var t=function(){function r(e,n){y(this,r)}return g(r,null,[{key:"forRoot",value:function(n,i){return{ngModule:r,providers:[bG,DD(n),{provide:bD,useFactory:IG,deps:[[mr,new Oi,new gs]]},{provide:Mo,useValue:i||{}},{provide:Xs,useFactory:kG,deps:[ko,[new tl(wg),new Oi],Mo]},{provide:fy,useFactory:DG,deps:[mr,PH,Mo]},{provide:ED,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:SD},{provide:bb,multi:!0,useFactory:TG},[hy,{provide:Dl,multi:!0,useFactory:RG,deps:[hy]},{provide:kD,useFactory:PG,deps:[hy]},{provide:yb,multi:!0,useExisting:kD}]]}}},{key:"forChild",value:function(n){return{ngModule:r,providers:[DD(n)]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(bD,8),z(mr,8))},t.\u0275mod=st({type:t}),t.\u0275inj=at({}),t}();function DG(t,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new fy(t,r,e)}function kG(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.useHash?new mB(t,r):new zb(t,r)}function IG(t){return"guarded"}function DD(t){return[{provide:HR,multi:!0,useValue:t},{provide:uy,multi:!0,useValue:t}]}function OG(t,r){t.errorHandler&&(r.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(r.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(r.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(r.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(r.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(r.canceledNavigationResolution=t.canceledNavigationResolution)}var hy=function(){var t=function(){function r(e){y(this,r),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nt}return g(r,[{key:"appInitializer",value:function(){var n=this;return this.injector.get(pB,Promise.resolve(null)).then(function(){if(n.destroyed)return Promise.resolve(!0);var a=null,o=new Promise(function(l){return a=l}),s=n.injector.get(mr),u=n.injector.get(Mo);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),a(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=function(){return n.initNavigation?me(null):(n.initNavigation=!0,a(!0),n.resultOfPreactivationDone)},s.initialNavigation()):a(!0),o})}},{key:"bootstrapListener",value:function(n){var i=this.injector.get(Mo),a=this.injector.get(wD),o=this.injector.get(fy),s=this.injector.get(mr),u=this.injector.get(Ks);n===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),o.init(),s.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}();function RG(t){return t.appInitializer.bind(t)}function PG(t){return t.bootstrapListener.bind(t)}var kD=new Te("Router Initializer");function $n(t,r,e,n){return new(e||(e=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof e?a:new e(function(o){o(a)})}(c.value).then(s,u)}l((n=n.apply(t,r||[])).next())})}var Ch=g(function t(){y(this,t)}),iu=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).errorMessage=n,i}return g(e,[{key:"Type",get:function(){return"ErrorOccurredMessage"}}]),e}(Ch),Eh=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this)).positions=n,s.userPos=i,s.title=a,s.details=o,s}return g(e,[{key:"Type",get:function(){return"ShowMapMessage"}}]),e}(Ch),NG=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"BaseUrl",get:function(){return"https://api.sr.se/api/v2/"}},{key:"FormatParam",get:function(){return"format=json"}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),VG=g(function t(){y(this,t)});function vy(t){return t*Math.PI/180}function MD(t,r,e,n){var a=vy(n-r),o=vy(t),s=vy(e),u=6371*Math.acos(Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(a));return Math.round(u)}function BG(t){return"/Date(-62135596800000)/"===t?null:new Date(JSON.parse(t.match(/\d+/)[0]))}var RD=g(function t(){y(this,t)}),PD=g(function t(){y(this,t)}),zl=function(){function t(r){var e=this;y(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){e.headers=new Map,r.split("\n").forEach(function(n){var i=n.indexOf(":");if(i>0){var a=n.slice(0,i),o=a.toLowerCase(),s=n.slice(i+1).trim();e.maybeSetNormalizedName(a,o),e.headers.has(o)?e.headers.get(o).push(s):e.headers.set(o,[s])}})}:function(){e.headers=new Map,Object.keys(r).forEach(function(n){var i=r[n],a=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(a,i),e.maybeSetNormalizedName(n,a))})}:this.headers=new Map}return g(t,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,n){return this.clone({name:e,value:n,op:"a"})}},{key:"set",value:function(e,n){return this.clone({name:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({name:e,value:n,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(n){return e.applyUpdate(n)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var n=this;e.init(),Array.from(e.headers.keys()).forEach(function(i){n.headers.set(i,e.headers.get(i)),n.normalizedNames.set(i,e.normalizedNames.get(i))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(e){var n=e.name.toLowerCase();switch(e.op){case"a":case"s":var i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);var a=("a"===e.op?this.headers.get(n):void 0)||[];a.push.apply(a,Z(i)),this.headers.set(n,a);break;case"d":var o=e.value;if(o){var s=this.headers.get(n);if(!s)return;0===(s=s.filter(function(u){return-1===o.indexOf(u)})).length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}},{key:"forEach",value:function(e){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(i){return e(n.normalizedNames.get(i),n.headers.get(i))})}}]),t}(),HG=function(){function t(){y(this,t)}return g(t,[{key:"encodeKey",value:function(e){return xD(e)}},{key:"encodeValue",value:function(e){return xD(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),t}();function UG(t,r){var e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(i){var a=i.indexOf("="),s=K(-1==a?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,a)),r.decodeValue(i.slice(a+1))],2),u=s[0],l=s[1],c=e.get(u)||[];c.push(l),e.set(u,c)}),e}var jG=/%(\d[a-f0-9])/gi,GG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xD(t){return encodeURIComponent(t).replace(jG,function(r,e){var n;return null!==(n=GG[e])&&void 0!==n?n:r})}function FD(t){return"".concat(t)}var au=function(){function t(){var r=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(y(this,t),this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=UG(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(n){var i=e.fromObject[n];r.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}return g(t,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var n=this.map.get(e);return n?n[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,n){return this.clone({param:e,value:n,op:"a"})}},{key:"appendAll",value:function(e){var n=[];return Object.keys(e).forEach(function(i){var a=e[i];Array.isArray(a)?a.forEach(function(o){n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:a,op:"a"})}),this.clone(n)}},{key:"set",value:function(e,n){return this.clone({param:e,value:n,op:"s"})}},{key:"delete",value:function(e,n){return this.clone({param:e,value:n,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(n){var i=e.encoder.encodeKey(n);return e.map.get(n).map(function(a){return i+"="+e.encoder.encodeValue(a)}).join("&")}).filter(function(n){return""!==n}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(n){return e.map.set(n,e.cloneFrom.map.get(n))}),this.updates.forEach(function(n){switch(n.op){case"a":case"s":var i=("a"===n.op?e.map.get(n.param):void 0)||[];i.push(FD(n.value)),e.map.set(n.param,i);break;case"d":if(void 0===n.value){e.map.delete(n.param);break}var a=e.map.get(n.param)||[],o=a.indexOf(FD(n.value));-1!==o&&a.splice(o,1),a.length>0?e.map.set(n.param,a):e.map.delete(n.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),zG=function(){function t(){y(this,t),this.map=new Map}return g(t,[{key:"set",value:function(e,n){return this.map.set(e,n),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function LD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ND(t){return"undefined"!=typeof Blob&&t instanceof Blob}function VD(t){return"undefined"!=typeof FormData&&t instanceof FormData}var py=function(){function t(r,e,n,i){var a;if(y(this,t),this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,a=i):a=n,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new zl),this.context||(this.context=new zG),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new au,this.urlWithParams=e}return g(t,[{key:"serializeBody",value:function(){return null===this.body?null:LD(this.body)||ND(this.body)||VD(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof au?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||VD(this.body)?null:ND(this.body)?this.body.type||null:LD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof au?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.method||this.method,a=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,u=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,f=n.params||this.params,h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(d,v){return d.set(v,n.setHeaders[v])},c)),n.setParams&&(f=Object.keys(n.setParams).reduce(function(d,v){return d.set(v,n.setParams[v])},f)),new t(i,a,s,{params:f,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:u})}}]),t}(),on=function(){return(on=on||{})[on.Sent=0]="Sent",on[on.UploadProgress=1]="UploadProgress",on[on.ResponseHeader=2]="ResponseHeader",on[on.DownloadProgress=3]="DownloadProgress",on[on.Response=4]="Response",on[on.User=5]="User",on}(),gy=g(function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";y(this,t),this.headers=r.headers||new zl,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}),KG=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,e),(n=r.call(this,i)).type=on.ResponseHeader,n}return g(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(gy),BD=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,e),(n=r.call(this,i)).type=on.Response,n.body=void 0!==i.body?i.body:null,n}return g(e,[{key:"clone",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}]),e}(gy),HD=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this,n,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(n.url||"(unknown url)"):"Http failure response for ".concat(n.url||"(unknown url)",": ").concat(n.status," ").concat(n.statusText),i.error=n.error||null,i}return g(e)}(gy);function yy(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var UD=function(){var t=function(){function r(e){y(this,r),this.handler=e}return g(r,[{key:"request",value:function(n,i){var s,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n instanceof py)s=n;else{var u=void 0;u=o.headers instanceof zl?o.headers:new zl(o.headers);var l=void 0;o.params&&(l=o.params instanceof au?o.params:new au({fromObject:o.params})),s=new py(n,i,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var c=me(s).pipe($s(function(h){return a.handler.handle(h)}));if(n instanceof py||"events"===o.observe)return c;var f=c.pipe(En(function(h){return h instanceof BD}));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe(Ue(function(h){if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return f.pipe(Ue(function(h){if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return f.pipe(Ue(function(h){if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return f.pipe(Ue(function(h){return h.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",n,i)}},{key:"get",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",n,i)}},{key:"head",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",n,i)}},{key:"jsonp",value:function(n,i){return this.request("JSONP",n,{params:(new au).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",n,i)}},{key:"patch",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",n,yy(a,i))}},{key:"post",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",n,yy(a,i))}},{key:"put",value:function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",n,yy(a,i))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(RD))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),jD=function(){function t(r,e){y(this,t),this.next=r,this.interceptor=e}return g(t,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),t}(),my=new Te("HTTP_INTERCEPTORS"),YG=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"intercept",value:function(n,i){return i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),ZG=/^\)\]\}',?\n/,GD=function(){var t=function(){function r(e){y(this,r),this.xhrFactory=e}return g(r,[{key:"handle",value:function(n){var i=this;if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new et(function(a){var o=i.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach(function(C,_){return o.setRequestHeader(C,_.join(","))}),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){var s=n.detectContentTypeHeader();null!==s&&o.setRequestHeader("Content-Type",s)}if(n.responseType){var u=n.responseType.toLowerCase();o.responseType="json"!==u?u:"text"}var l=n.serializeBody(),c=null,f=function(){if(null!==c)return c;var _=1223===o.status?204:o.status,E=o.statusText||"OK",S=new zl(o.getAllResponseHeaders()),w=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new KG({headers:S,status:_,statusText:E,url:w})},h=function(){var _=f(),E=_.headers,S=_.status,w=_.statusText,k=_.url,I=null;204!==S&&(I=void 0===o.response?o.responseText:o.response),0===S&&(S=I?200:0);var x=S>=200&&S<300;if("json"===n.responseType&&"string"==typeof I){var B=I;I=I.replace(ZG,"");try{I=""!==I?JSON.parse(I):null}catch(Y){I=B,x&&(x=!1,I={error:Y,text:I})}}x?(a.next(new BD({body:I,headers:E,status:S,statusText:w,url:k||void 0})),a.complete()):a.error(new HD({error:I,headers:E,status:S,statusText:w,url:k||void 0}))},d=function(_){var E=f(),w=new HD({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:E.url||void 0});a.error(w)},v=!1,p=function(_){v||(a.next(f()),v=!0);var E={type:on.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),"text"===n.responseType&&!!o.responseText&&(E.partialText=o.responseText),a.next(E)},m=function(_){var E={type:on.UploadProgress,loaded:_.loaded};_.lengthComputable&&(E.total=_.total),a.next(E)};return o.addEventListener("load",h),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",p),null!==l&&o.upload&&o.upload.addEventListener("progress",m)),o.send(l),a.next({type:on.Sent}),function(){o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",h),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",p),null!==l&&o.upload&&o.upload.removeEventListener("progress",m)),o.readyState!==o.DONE&&o.abort()}})}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Vg))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),_y=new Te("XSRF_COOKIE_NAME"),Cy=new Te("XSRF_HEADER_NAME"),zD=g(function t(){y(this,t)}),QG=function(){var t=function(){function r(e,n,i){y(this,r),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return g(r,[{key:"getToken",value:function(){if("server"===this.platform)return null;var n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=eT(n,this.cookieName),this.lastCookieString=n),this.lastToken}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(nn),z(Ua),z(_y))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),Ey=function(){var t=function(){function r(e,n){y(this,r),this.tokenService=e,this.headerName=n}return g(r,[{key:"intercept",value:function(n,i){var a=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(n);var o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(zD),z(Cy))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),$G=function(){var t=function(){function r(e,n){y(this,r),this.backend=e,this.injector=n,this.chain=null}return g(r,[{key:"handle",value:function(n){if(null===this.chain){var i=this.injector.get(my,[]);this.chain=i.reduceRight(function(a,o){return new jD(a,o)},this.backend)}return this.chain.handle(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(PD),z(fn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),JG=function(){var t=function(){function r(){y(this,r)}return g(r,null,[{key:"disable",value:function(){return{ngModule:r,providers:[{provide:Ey,useClass:YG}]}}},{key:"withOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:r,providers:[n.cookieName?{provide:_y,useValue:n.cookieName}:[],n.headerName?{provide:Cy,useValue:n.headerName}:[]]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:[Ey,{provide:my,useExisting:Ey,multi:!0},{provide:zD,useClass:QG},{provide:_y,useValue:"XSRF-TOKEN"},{provide:Cy,useValue:"X-XSRF-TOKEN"}]}),t}(),e3=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:[UD,{provide:RD,useClass:$G},GD,{provide:PD,useExisting:GD}],imports:[[JG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),Wl=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"logInfo",value:function(n){console.info(n)}},{key:"logError",value:function(n){console.error(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),ou=function(){return function(t){t[t.V\u00e4gtrafik=0]="V\xe4gtrafik",t[t.Kollektivtrafik=1]="Kollektivtrafik",t[t.PlaneradSt\u00f6rening=2]="PlaneradSt\xf6rening",t[t.\u00d6vrigt=3]="\xd6vrigt"}(ou||(ou={})),ou}(),ql=function(){return function(t){t.V\u00e4garbete="V\xe4garbete",t.Trafikst\u00f6rning="Trafikst\xf6rning",t.TrafikOlycka="Trafikolycka"}(ql||(ql={})),ql}(),WD=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;return y(this,n),(o=e.call(this)).http=i,o.logger=a,o.categoryMap={0:"V\xe4gtrafik",1:"Kollektivtrafik",2:"Planerad st\xf6rning",3:"\xd6vrigt"},o.priorityNameMap={0:"Empty",1:"Mycket allvarlig h\xe4ndelse",2:"Stor h\xe4ndelse",3:"St\xf6rning",4:"Information",5:"Mindre st\xf6rning"},o}return g(n,[{key:"fetchAllTrafficAreas",value:function(){return $n(this,void 0,void 0,rt().mark(function a(){var o,s;return rt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="".concat(this.BaseUrl,"traffic/areas/?page=",1,"&size=",100,"&").concat(this.FormatParam),l.next=3,this.http.get("".concat(o)).toPromise();case 3:return(s=l.sent).areas.sort(function(c,f){return c.name.localeCompare(f.name)}),l.abrupt("return",s.areas);case 6:case"end":return l.stop()}},a,this)}))}},{key:"fetchClosestTrafficAreaForPosition",value:function(a){return $n(this,void 0,void 0,rt().mark(function o(){var s;return rt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s="".concat(this.BaseUrl,"traffic/areas/?longitude=").concat(a.lng,"&latitude=").concat(a.lat,"&").concat(this.FormatParam),c.next=3,this.http.get("".concat(s)).toPromise();case 3:return c.abrupt("return",c.sent.area);case 5:case"end":return c.stop()}},o,this)}))}},{key:"fetchAllTrafficMessages",value:function(a){return $n(this,void 0,void 0,rt().mark(function o(){var s;return rt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="".concat(this.BaseUrl,"traffic/messages/?page=",1,"&size=",200,"&").concat(this.FormatParam),l.next=3,this.fetchMessages(s,a);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},o,this)}))}},{key:"fetchAllTrafficMessagesForArea",value:function(a,o){return $n(this,void 0,void 0,rt().mark(function s(){var u;return rt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return u="".concat(this.BaseUrl,"traffic/messages/?trafficareaname=").concat(a,"&page=",1,"&size=",100,"&").concat(this.FormatParam),c.next=3,this.fetchMessages(u,o);case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},s,this)}))}},{key:"getCachedMessageFromId",value:function(a){if(this.cachedMessages)return this.cachedMessages.find(function(o){return o.id===a})}},{key:"fetchMessages",value:function(a,o){return $n(this,void 0,void 0,rt().mark(function s(){var c,u=this;return rt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.http.get("".concat(a)).toPromise();case 2:return c=[],h.sent.messages.forEach(function(d){var v=new VG;if(v.category=d.category,v.categoryName=u.categoryMap[d.category],v.priorityName=u.priorityNameMap[d.priority],v.priority=d.priority,v.description=d.description,v.title=d.title,v.subCategory=d.subcategory,v.exactLocation=d.exactlocation,v.latitude=d.latitude,v.longitude=d.longitude,v.id=d.id,o.lng&&o.lat&&d.latitude&&d.longitude)try{v.distance=MD(o.lat,o.lng,d.latitude,d.longitude)}catch(p){u.logger.logError(p)}d.createddate&&(v.createdDate=BG(d.createddate)),c.push(v)}),c.sort(function(d,v){return d.priority<v.priority?-1:1}),this.cachedMessages=c,h.abrupt("return",this.cachedMessages);case 8:case"end":return h.stop()}},s,this)}))}}]),n}(NG);return t.\u0275fac=function(e){return new(e||t)(z(UD),z(Wl))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ro=function(){var t=function(){function r(){y(this,r),this.subject=new nt}return g(r,[{key:"sendMessage",value:function(n){this.subject.next(n)}},{key:"getMessage",value:function(){return this.subject.asObservable()}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),t3=function(){var t=function(){function r(){y(this,r),this.localStorage=window.localStorage}return g(r,[{key:"get",value:function(n){if(this.isSupported){var i=this.localStorage.getItem(n);if(i)try{return JSON.parse(i)}catch(a){}}return null}},{key:"set",value:function(n,i){return!!this.isSupported&&(this.localStorage.setItem(n,JSON.stringify(i)),!0)}},{key:"isSupported",get:function(){return!!this.localStorage}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ae=function(){var t=function(){function r(){y(this,r)}return g(r,null,[{key:"addClass",value:function(n,i){n.classList?n.classList.add(i):n.className+=" "+i}},{key:"addMultipleClasses",value:function(n,i){if(n.classList)for(var a=i.trim().split(" "),o=0;o<a.length;o++)n.classList.add(a[o]);else for(var s=i.split(" "),u=0;u<s.length;u++)n.className+=" "+s[u]}},{key:"removeClass",value:function(n,i){n.classList?n.classList.remove(i):n.className=n.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(n,i){return n.classList?n.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(n.className)}},{key:"siblings",value:function(n){return Array.prototype.filter.call(n.parentNode.children,function(i){return i!==n})}},{key:"find",value:function(n,i){return Array.from(n.querySelectorAll(i))}},{key:"findSingle",value:function(n,i){return n?n.querySelector(i):null}},{key:"index",value:function(n){for(var i=n.parentNode.childNodes,a=0,o=0;o<i.length;o++){if(i[o]==n)return a;1==i[o].nodeType&&a++}return-1}},{key:"indexWithinGroup",value:function(n,i){for(var a=n.parentNode?n.parentNode.childNodes:[],o=0,s=0;s<a.length;s++){if(a[s]==n)return o;a[s].attributes&&a[s].attributes[i]&&1==a[s].nodeType&&o++}return-1}},{key:"relativePosition",value:function(n,i){var l,c,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=i.offsetHeight,s=i.getBoundingClientRect(),u=this.getViewport();s.top+o+a.height>u.height?(l=-1*a.height,n.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,n.style.transformOrigin="top"),c=a.width>u.width?-1*s.left:s.left+a.width>u.width?-1*(s.left+a.width-u.width):0,n.style.top=l+"px",n.style.left=c+"px"}},{key:"absolutePosition",value:function(n,i){var v,p,a=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=a.height,s=a.width,u=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),f=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();c.top+u+o>d.height?(v=c.top+f-o,n.style.transformOrigin="bottom",v<0&&(v=f)):(v=u+c.top+f,n.style.transformOrigin="top"),p=c.left+s>d.width?Math.max(0,c.left+h+l-s):c.left+h,n.style.top=v+"px",n.style.left=p+"px"}},{key:"getParents",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===n.parentNode?i:this.getParents(n.parentNode,i.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var i=[];if(n){var l,a=this.getParents(n),o=/(auto|scroll)/,s=function(_){var E=window.getComputedStyle(_,null);return o.test(E.getPropertyValue("overflow"))||o.test(E.getPropertyValue("overflowX"))||o.test(E.getPropertyValue("overflowY"))},u=b(a);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=1===c.nodeType&&c.dataset.scrollselectors;if(f){var v,d=b(f.split(","));try{for(d.s();!(v=d.n()).done;){var m=this.findSingle(c,v.value);m&&s(m)&&i.push(m)}}catch(C){d.e(C)}finally{d.f()}}9!==c.nodeType&&s(c)&&i.push(c)}}catch(C){u.e(C)}finally{u.f()}}return i}},{key:"getHiddenElementOuterHeight",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementOuterWidth",value:function(n){n.style.visibility="hidden",n.style.display="block";var i=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",i}},{key:"getHiddenElementDimensions",value:function(n){var i={};return n.style.visibility="hidden",n.style.display="block",i.width=n.offsetWidth,i.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",i}},{key:"scrollInView",value:function(n,i){var a=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=a?parseFloat(a):0,s=getComputedStyle(n).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=n.getBoundingClientRect(),f=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,h=n.scrollTop,d=n.clientHeight,v=this.getOuterHeight(i);f<0?n.scrollTop=h+f:f+v>d&&(n.scrollTop=h+f-d+v)}},{key:"fadeIn",value:function(n,i){n.style.opacity=0;var a=+new Date,o=0;!function u(){o=+n.style.opacity.replace(",",".")+((new Date).getTime()-a)/i,n.style.opacity=o,a=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))}()}},{key:"fadeOut",value:function(n,i){var a=1,u=50/i,l=setInterval(function(){(a-=u)<=0&&(a=0,clearInterval(l)),n.style.opacity=a},50)}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"matches",value:function(n,i){var a=Element.prototype;return(a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(n,i)}},{key:"getOuterWidth",value:function(n,i){var a=n.offsetWidth;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return a}},{key:"getHorizontalPadding",value:function(n){var i=getComputedStyle(n);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}},{key:"getHorizontalMargin",value:function(n){var i=getComputedStyle(n);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}},{key:"innerWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"width",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight))}},{key:"getInnerHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i+(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom))}},{key:"getOuterHeight",value:function(n,i){var a=n.offsetHeight;if(i){var o=getComputedStyle(n);a+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return a}},{key:"getHeight",value:function(n){var i=n.offsetHeight,a=getComputedStyle(n);return i-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth))}},{key:"getWidth",value:function(n){var i=n.offsetWidth,a=getComputedStyle(n);return i-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth))}},{key:"getViewport",value:function(){var n=window,i=document,a=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:n.innerWidth||a.clientWidth||o.clientWidth,height:n.innerHeight||a.clientHeight||o.clientHeight}}},{key:"getOffset",value:function(n){var i=n.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(n,i){var a=n.parentNode;if(!a)throw"Can't replace element";return a.replaceChild(i,n)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||(n.indexOf("Trident/")>0?(n.indexOf("rv:"),!0):n.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}},{key:"appendChild",value:function(n,i){if(this.isElement(i))i.appendChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+n;i.el.nativeElement.appendChild(n)}}},{key:"removeChild",value:function(n,i){if(this.isElement(i))i.removeChild(n);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+n+" from "+i;i.el.nativeElement.removeChild(n)}}},{key:"removeElement",value:function(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}},{key:"isElement",value:function(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}},{key:"calculateScrollbarWidth",value:function(n){if(n){var i=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var o=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=o,o}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var i=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=i,i}},{key:"invokeElementMethod",value:function(n,i,a){n[i].apply(n,a)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(n){}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:i[1]||"",version:i[2]||"0"}}},{key:"isInteger",value:function(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}},{key:"isHidden",value:function(n){return null===n.offsetParent}},{key:"getFocusableElements",value:function(n){var s,a=[],o=b(r.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'));try{for(o.s();!(s=o.n()).done;){var u=s.value;"none"!=getComputedStyle(u).display&&"hidden"!=getComputedStyle(u).visibility&&a.push(u)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"generateZIndex",value:function(){return this.zindex=this.zindex||999,++this.zindex}}]),r}();return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t}(),qD=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};y(this,t),this.element=r,this.listener=e}return g(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=ae.getScrollableParents(this.element);for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),zt=function(){function t(){y(this,t)}return g(t,null,[{key:"equals",value:function(e,n,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(n,i):this.equalsByValue(e,n)}},{key:"equalsByValue",value:function(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var o,s,u,i=Array.isArray(e),a=Array.isArray(n);if(i&&a){if((s=e.length)!=n.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[o],n[o]))return!1;return!0}if(i!=a)return!1;var l=e instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==n.getTime();var f=e instanceof RegExp,h=n instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==n.toString();var d=Object.keys(e);if((s=d.length)!==Object.keys(n).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,d[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(e[u=d[o]],n[u]))return!1;return!0}return e!=e&&n!=n}},{key:"resolveFieldData",value:function(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(-1==n.indexOf("."))return e[n];for(var i=n.split("."),a=e,o=0,s=i.length;o<s;++o){if(null==a)return null;a=a[i[o]]}return a}return null}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"reorderArray",value:function(e,n,i){e&&n!==i&&(i>=e.length&&(i%=e.length,n%=e.length),e.splice(i,0,e.splice(n,1)[0]))}},{key:"insertIntoOrderedArray",value:function(e,n,i,a){if(i.length>0){for(var o=!1,s=0;s<i.length;s++)if(this.findIndexInList(i[s],a)>n){i.splice(s,0,e),o=!0;break}o||i.push(e)}else i.push(e)}},{key:"findIndexInList",value:function(e,n){var i=-1;if(n)for(var a=0;a<n.length;a++)if(n[a]==e){i=a;break}return i}},{key:"contains",value:function(e,n){if(null!=e&&n&&n.length){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)if(this.equals(e,a.value))return!0}catch(s){i.e(s)}finally{i.f()}}return!1}},{key:"removeAccents",value:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}}]),t}(),KD=0;function YD(){return KD++,"".concat("pr_id_").concat(KD)}var Gr=function(){var t=[],i=function(o){return o&&parseInt(o.style.zIndex,10)||0};return{get:i,set:function(o,s,u){s&&(s.style.zIndex=String(function(o,s){var u=t.length>0?t[t.length-1]:{key:o,value:s},l=u.value+(u.key===o?0:s)+1;return t.push({key:o,value:l}),l}(o,u)))},clear:function(o){o&&(function(o){t=t.filter(function(s){return s.value!==o})}(i(o)),o.style.zIndex="")},getCurrent:function(){return t.length>0?t[t.length-1].value:0}}}(),r3=["*"],Rn=function(){var t=g(function r(){y(this,r)});return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t}(),Kl=function(){var t=function(){function r(){y(this,r),this.ripple=!1,this.filterMatchModeOptions={text:[Rn.STARTS_WITH,Rn.CONTAINS,Rn.NOT_CONTAINS,Rn.ENDS_WITH,Rn.EQUALS,Rn.NOT_EQUALS],numeric:[Rn.EQUALS,Rn.NOT_EQUALS,Rn.LESS_THAN,Rn.LESS_THAN_OR_EQUAL_TO,Rn.GREATER_THAN,Rn.GREATER_THAN_OR_EQUAL_TO],date:[Rn.DATE_IS,Rn.DATE_IS_NOT,Rn.DATE_BEFORE,Rn.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new nt,this.translationObserver=this.translationSource.asObservable()}return g(r,[{key:"getTranslation",value:function(n){return this.translation[n]}},{key:"setTranslation",value:function(n){this.translation=U(U({},this.translation),n),this.translationSource.next(this.translation)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ZD=function(){var t=g(function r(){y(this,r)});return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t.EMPTY_MESSAGE="emptyMessage",t.EMPTY_FILTER_MESSAGE="emptyFilterMessage",t}(),i3=function(){var t=function(){function r(){var e=this;y(this,r),this.filters={startsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=zt.removeAccents(a.toString()).toLocaleLowerCase(o);return zt.removeAccents(i.toString()).toLocaleLowerCase(o).slice(0,s.length)===s},contains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=zt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1!==zt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},notContains:function(i,a,o){if(null==a||"string"==typeof a&&""===a.trim())return!0;if(null==i)return!1;var s=zt.removeAccents(a.toString()).toLocaleLowerCase(o);return-1===zt.removeAccents(i.toString()).toLocaleLowerCase(o).indexOf(s)},endsWith:function(i,a,o){if(null==a||""===a.trim())return!0;if(null==i)return!1;var s=zt.removeAccents(a.toString()).toLocaleLowerCase(o),u=zt.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==u.indexOf(s,u.length-s.length)},equals:function(i,a,o){return null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():zt.removeAccents(i.toString()).toLocaleLowerCase(o)==zt.removeAccents(a.toString()).toLocaleLowerCase(o))},notEquals:function(i,a,o){return!(null==a||"string"==typeof a&&""===a.trim()||null!=i&&(i.getTime&&a.getTime?i.getTime()===a.getTime():zt.removeAccents(i.toString()).toLocaleLowerCase(o)==zt.removeAccents(a.toString()).toLocaleLowerCase(o)))},in:function(i,a){if(null==a||0===a.length)return!0;for(var o=0;o<a.length;o++)if(zt.equals(i,a[o]))return!0;return!1},between:function(i,a){return null==a||null==a[0]||null==a[1]||null!=i&&(i.getTime?a[0].getTime()<=i.getTime()&&i.getTime()<=a[1].getTime():a[0]<=i&&i<=a[1])},lt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<a.getTime():i<a)},lte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()<=a.getTime():i<=a)},gt:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>a.getTime():i>a)},gte:function(i,a,o){return null==a||null!=i&&(i.getTime&&a.getTime?i.getTime()>=a.getTime():i>=a)},is:function(i,a,o){return e.filters.equals(i,a,o)},isNot:function(i,a,o){return e.filters.notEquals(i,a,o)},before:function(i,a,o){return e.filters.lt(i,a,o)},after:function(i,a,o){return e.filters.gt(i,a,o)},dateIs:function(i,a){return null==a||null!=i&&i.toDateString()===a.toDateString()},dateIsNot:function(i,a){return null==a||null!=i&&i.toDateString()!==a.toDateString()},dateBefore:function(i,a){return null==a||null!=i&&i.getTime()<a.getTime()},dateAfter:function(i,a){return null==a||null!=i&&i.getTime()>a.getTime()}}}return g(r,[{key:"filter",value:function(n,i,a,o,s){var u=[];if(n){var c,l=b(n);try{for(l.s();!(c=l.n()).done;){var d,f=c.value,h=b(i);try{for(h.s();!(d=h.n()).done;){var p=zt.resolveFieldData(f,d.value);if(this.filters[o](p,a,s)){u.push(f);break}}}catch(m){h.e(m)}finally{h.f()}}}catch(m){l.e(m)}finally{l.f()}}return u}},{key:"register",value:function(n,i){this.filters[n]=i}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Sy=function(){var t=function(){function r(){y(this,r),this.messageSource=new nt,this.clearSource=new nt,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return g(r,[{key:"add",value:function(n){n&&this.messageSource.next(n)}},{key:"addAll",value:function(n){n&&n.length&&this.messageSource.next(n)}},{key:"clear",value:function(n){this.clearSource.next(n||null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),a3=function(){var t=function(){function r(){y(this,r),this.clickSource=new nt,this.clickObservable=this.clickSource.asObservable()}return g(r,[{key:"add",value:function(n){n&&this.clickSource.next(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),o3=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["p-header"]],ngContentSelectors:r3,decls:1,vars:0,template:function(e,n){1&e&&(Vs(),Eo(0))},encapsulation:2}),t}(),Sh=function(){var t=function(){function r(e){y(this,r),this.template=e}return g(r,[{key:"getType",value:function(){return this.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(hi))},t.\u0275dir=le({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),t}(),wh=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}(),wy=function(){var t=function(){function r(e,n,i){y(this,r),this.el=e,this.zone=n,this.config=i}return g(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular(function(){n.create(),n.mouseDownListener=n.onMouseDown.bind(n),n.el.nativeElement.addEventListener("mousedown",n.mouseDownListener)})}},{key:"onMouseDown",value:function(n){var i=this.getInk();if(i&&"none"!==getComputedStyle(i,null).display){if(ae.removeClass(i,"p-ink-active"),!ae.getHeight(i)&&!ae.getWidth(i)){var a=Math.max(ae.getOuterWidth(this.el.nativeElement),ae.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}var o=ae.getOffset(this.el.nativeElement),s=n.pageX-o.left+document.body.scrollTop-ae.getWidth(i)/2,u=n.pageY-o.top+document.body.scrollLeft-ae.getHeight(i)/2;i.style.top=u+"px",i.style.left=s+"px",ae.addClass(i,"p-ink-active")}}},{key:"getInk",value:function(){for(var n=0;n<this.el.nativeElement.children.length;n++)if(-1!==this.el.nativeElement.children[n].className.indexOf("p-ink"))return this.el.nativeElement.children[n];return null}},{key:"resetInk",value:function(){var n=this.getInk();n&&ae.removeClass(n,"p-ink-active")}},{key:"onAnimationEnd",value:function(n){ae.removeClass(n.currentTarget,"p-ink-active")}},{key:"create",value:function(){var n=document.createElement("span");n.className="p-ink",this.el.nativeElement.appendChild(n),this.animationListener=this.onAnimationEnd.bind(this),n.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var n=this.getInk();n&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),n.removeEventListener("animationend",this.animationListener),ae.removeElement(n))}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(ut),T(Kl,8))},t.\u0275dir=le({type:t,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),t}(),bh=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}(),u3=function(){var t=function(){function r(e){y(this,r),this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}return g(r,[{key:"ngAfterViewInit",value:function(){this._initialStyleClass=this.el.nativeElement.className,ae.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();var n=document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",this.label?n.appendChild(document.createTextNode(this.label)):n.innerHTML="&nbsp;",this.el.nativeElement.appendChild(n),this.initialized=!0}},{key:"getStyleClass",value:function(){var n="p-button p-component";return this.icon&&!this.label&&(n+=" p-button-icon-only"),this.loading&&(n+=" p-disabled p-button-loading",!this.icon&&this.label&&(n+=" p-button-loading-label-only")),n}},{key:"setStyleClass",value:function(){var n=this.getStyleClass();this.el.nativeElement.className=n+" "+this._initialStyleClass}},{key:"createIconEl",value:function(){var n=document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");var i=this.label?"p-button-icon-"+this.iconPos:null;i&&ae.addClass(n,i);var a=this.getIconClass();a&&ae.addMultipleClasses(n,a);var o=ae.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(n,o):this.el.nativeElement.appendChild(n)}},{key:"getIconClass",value:function(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}},{key:"setIconClass",value:function(){var n=ae.findSingle(this.el.nativeElement,".p-button-icon");n?n.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}},{key:"removeIconElement",value:function(){var n=ae.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(n)}},{key:"label",get:function(){return this._label},set:function(n){this._label=n,this.initialized&&(ae.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(n){this._icon=n,this.initialized&&(this.setIconClass(),this.setStyleClass())}},{key:"loading",get:function(){return this._loading},set:function(n){this._loading=n,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}},{key:"ngOnDestroy",value:function(){this.initialized=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt))},t.\u0275dir=le({type:t,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t}(),l3=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr,bh]]}),t}();function Th(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f3(t)?Number(t):r}function f3(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}var d3=["addListener","removeListener"],v3=["addEventListener","removeEventListener"],p3=["on","off"];function su(t,r,e,n){if(F(e)&&(n=e,e=void 0),n)return su(t,r,e).pipe(Gg(n));var a=K(function(t){return F(t.addEventListener)&&F(t.removeEventListener)}(t)?v3.map(function(u){return function(l){return t[u](r,l,e)}}):function(t){return F(t.addListener)&&F(t.removeListener)}(t)?d3.map(XD(t,r)):function(t){return F(t.on)&&F(t.off)}(t)?p3.map(XD(t,r)):[],2),o=a[0],s=a[1];if(!o&&Jd(t))return Zt(function(u){return su(u,r,e)})(or(t));if(!o)throw new TypeError("Invalid event target");return new et(function(u){var l=function(){for(var f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];return u.next(1<h.length?h:h[0])};return o(l),function(){return s(l)}})}function XD(t,r){return function(e){return function(n){return t[e](r,n)}}}var _3=function(t){M(e,t);var r=R(e);function e(n,i){return y(this,e),r.call(this)}return g(e,[{key:"schedule",value:function(i){return this}}]),e}(pe),Dh={setInterval:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Dh.delegate;return((null==t?void 0:t.setInterval)||setInterval).apply(void 0,arguments)}),clearInterval:function(t){function r(e){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(t){var r=Dh.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(t)}),delegate:void 0},by=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a.pending=!1,a}return g(e,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(s,this.id,a),this}},{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Dh.setInterval(i.flush.bind(i,this),o)}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&this.delay===o&&!1===this.pending)return a;Dh.clearInterval(a)}},{key:"execute",value:function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(i,a);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,a){var s,o=!1;try{this.work(i)}catch(u){o=!0,s=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s}},{key:"unsubscribe",value:function(){if(!this.closed){var i=this.id,a=this.scheduler,o=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Q(o,this),null!=i&&(this.id=this.recycleAsyncId(a,i,null)),this.delay=null,Se(Re(e.prototype),"unsubscribe",this).call(this)}}}]),e}(_3),Yl={schedule:function(r){var e=requestAnimationFrame,n=cancelAnimationFrame,i=Yl.delegate;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);var a=e(function(o){n=void 0,r(o)});return new pe(function(){return null==n?void 0:n(a)})},requestAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Yl.delegate;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(t){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}(function(){var t=Yl.delegate;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0},C3=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return g(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?Se(Re(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Yl.requestAnimationFrame(function(){return i.flush(void 0)})))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return Se(Re(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Yl.cancelAnimationFrame(a),i._scheduled=void 0)}}]),e}(by),Ty={now:function(){return(Ty.delegate||Date).now()},delegate:void 0},Dy=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;y(this,t),this.schedulerActionCtor=r,this.now=e}return g(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,e).schedule(i,n)}}]),t}();Dy.now=Ty.now;var Iy,ky=function(t){M(e,t);var r=R(e);function e(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dy.now;return y(this,e),(i=r.call(this,n,a)).actions=[],i._active=!1,i._scheduled=void 0,i}return g(e,[{key:"flush",value:function(i){var a=this.actions;if(this._active)a.push(i);else{var o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=a.shift());if(this._active=!1,o){for(;i=a.shift();)i.unsubscribe();throw o}}}}]),e}(Dy),E3=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(ky),S3=new E3(C3),w3=1,kh={};function QD(t){return t in kh&&(delete kh[t],!0)}var b3=function(r){var e=w3++;return kh[e]=!0,Iy||(Iy=Promise.resolve()),Iy.then(function(){return QD(e)&&r()}),e},T3=function(r){QD(r)},Ih={setImmediate:function(){var r=Ih.delegate;return((null==r?void 0:r.setImmediate)||b3).apply(void 0,arguments)},clearImmediate:function(r){var e=Ih.delegate;return((null==e?void 0:e.clearImmediate)||T3)(r)},delegate:void 0},D3=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this,n,i)).scheduler=n,a.work=i,a}return g(e,[{key:"requestAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==o&&o>0?Se(Re(e.prototype),"requestAsyncId",this).call(this,i,a,o):(i.actions.push(this),i._scheduled||(i._scheduled=Ih.setImmediate(i.flush.bind(i,void 0))))}},{key:"recycleAsyncId",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o&&o>0||null==o&&this.delay>0)return Se(Re(e.prototype),"recycleAsyncId",this).call(this,i,a,o);0===i.actions.length&&(Ih.clearImmediate(a),i._scheduled=void 0)}}]),e}(by),k3=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e,[{key:"flush",value:function(i){this._active=!0,this._scheduled=void 0;var o,a=this.actions,s=-1;i=i||a.shift();var u=a.length;do{if(o=i.execute(i.state,i.delay))break}while(++s<u&&(i=a.shift()));if(this._active=!1,o){for(;++s<u&&(i=a.shift());)i.unsubscribe();throw o}}}]),e}(ky),I3=new k3(D3);function JD(t){return!!t&&(t instanceof et||F(t.lift)&&F(t.subscribe))}function O3(t,r){return t===r}var ek=new ky(by),tk=ek;function M3(t){return At(function(r,e){var n=!1,i=null,a=null,o=!1,s=function(){if(null==a||a.unsubscribe(),a=null,n){n=!1;var c=i;i=null,e.next(c)}o&&e.complete()},u=function(){a=null,o&&e.complete()};r.subscribe(new Ct(e,function(l){n=!0,i=l,a||or(t(l)).subscribe(a=new Ct(e,s,u))},function(){o=!0,(!n||!a||a.closed)&&e.complete()}))})}function R3(t){return t instanceof Date&&!isNaN(t)}function nk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tk,n=-1;return null!=r&&(iC(r)?e=r:n=r),new et(function(i){var a=R3(t)?+t-e.now():t;a<0&&(a=0);var o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},a)})}function Ay(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tk;return M3(function(){return nk(t,r)})}function Wa(t){return At(function(r,e){or(t).subscribe(new Ct(e,function(){return e.complete()},ar)),!e.closed&&r.subscribe(e)})}var Oy,x3=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ty;return y(this,e),(n=r.call(this))._bufferSize=i,n._windowTime=a,n._timestampProvider=o,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=a===1/0,n._bufferSize=Math.max(1,i),n._windowTime=Math.max(1,a),n}return g(e,[{key:"next",value:function(i){var o=this._buffer,s=this._infiniteTimeWindow,u=this._timestampProvider,l=this._windowTime;this.isStopped||(o.push(i),!s&&o.push(u.now()+l)),this._trimBuffer(),Se(Re(e.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){this._throwIfClosed(),this._trimBuffer();for(var a=this._innerSubscribe(i),o=this._infiniteTimeWindow,u=this._buffer.slice(),l=0;l<u.length&&!i.closed;l+=o?1:2)i.next(u[l]);return this._checkFinalizedStatuses(i),a}},{key:"_trimBuffer",value:function(){var i=this._bufferSize,a=this._timestampProvider,o=this._buffer,s=this._infiniteTimeWindow,u=(s?1:2)*i;if(i<1/0&&u<o.length&&o.splice(0,o.length-u),!s){for(var l=a.now(),c=0,f=1;f<o.length&&o[f]<=l;f+=2)c=f;c&&o.splice(0,c+1)}}}]),e}(nt);try{Oy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){Oy=!1}var Oh,Po,Ah=function(){var t=g(function r(e){y(this,r),this._platformId=e,this.isBrowser=this._platformId?Ng(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Oy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT});return t.\u0275fac=function(e){return new(e||t)(z(Ua))},t.\u0275prov=re({factory:function(){return new t(z(Ua))},token:t,providedIn:"root"}),t}(),L3=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({}),t}();function Xl(){if("object"!=typeof document||!document)return 0;if(null==Oh){var t=document.createElement("div"),r=t.style;t.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";var e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),Oh=0,0===t.scrollLeft&&(t.scrollLeft=1,Oh=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Oh}var ik=new Te("cdk-dir-doc",{providedIn:"root",factory:function(){return tP(nn)}}),Ry=function(){var t=function(){function r(e){if(y(this,r),this.value="ltr",this.change=new Ce,e){var a=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===a||"rtl"===a?a:"ltr"}}return g(r,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(ik,8))},t.\u0275prov=re({factory:function(){return new t(z(ik,8))},token:t,providedIn:"root"}),t}(),ak=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({}),t}(),U3=g(function t(){y(this,t)}),G3=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this))._data=n,i}return g(e,[{key:"connect",value:function(){return JD(this._data)?this._data:me(this._data)}},{key:"disconnect",value:function(){}}]),e}(U3),z3=function(){function t(){y(this,t),this.viewCacheSize=20,this._viewCache=[]}return g(t,[{key:"applyChanges",value:function(e,n,i,a,o){var s=this;e.forEachOperation(function(u,l,c){var f,h;null==u.previousIndex?h=(f=s._insertView(function(){return i(u,l,c)},c,n,a(u)))?1:0:null==c?(s._detachAndCacheView(l,n),h=3):(f=s._moveView(l,c,n,a(u)),h=2),o&&o({context:null==f?void 0:f.context,operation:h,record:u})})}},{key:"detach",value:function(){var n,e=b(this._viewCache);try{for(e.s();!(n=e.n()).done;)n.value.destroy()}catch(a){e.e(a)}finally{e.f()}this._viewCache=[]}},{key:"_insertView",value:function(e,n,i,a){var o=this._insertViewFromCache(n,i);if(!o){var s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}o.context.$implicit=a}},{key:"_detachAndCacheView",value:function(e,n){var i=n.detach(e);this._maybeCacheView(i,n)}},{key:"_moveView",value:function(e,n,i,a){var o=i.get(e);return i.move(o,n),o.context.$implicit=a,o}},{key:"_maybeCacheView",value:function(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{var i=n.indexOf(e);-1===i?e.destroy():n.remove(i)}}},{key:"_insertViewFromCache",value:function(e,n){var i=this._viewCache.pop();return i&&n.insert(i,e),i||null}}]),t}(),ok=new Te("_ViewRepeater"),W3=["contentWrapper"],q3=["*"],sk=new Te("VIRTUAL_SCROLL_STRATEGY"),K3=function(){function t(r,e,n){y(this,t),this._scrolledIndexChange=new nt,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma;return t=null!=t?t:O3,At(function(e,n){var i,a=!0;e.subscribe(new Ct(n,function(o){var s=r(o);(a||!t(i,s))&&(a=!1,i=s,n.next(o))}))})}()),this._viewport=null,this._itemSize=r,this._minBufferPx=e,this._maxBufferPx=n}return g(t,[{key:"attach",value:function(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"detach",value:function(){this._scrolledIndexChange.complete(),this._viewport=null}},{key:"updateItemAndBufferSize",value:function(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentScrolled",value:function(){this._updateRenderedRange()}},{key:"onDataLengthChanged",value:function(){this._updateTotalContentSize(),this._updateRenderedRange()}},{key:"onContentRendered",value:function(){}},{key:"onRenderedOffsetChanged",value:function(){}},{key:"scrollToIndex",value:function(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}},{key:"_updateTotalContentSize",value:function(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}},{key:"_updateRenderedRange",value:function(){if(this._viewport){var e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),a=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>a){var u=Math.ceil(i/this._itemSize),l=Math.max(0,Math.min(s,a-u));s!=l&&(s=l,o=l*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(a,n.start+u))}var c=o-n.start*this._itemSize;if(c<this._minBufferPx&&0!=n.start){var f=Math.ceil((this._maxBufferPx-c)/this._itemSize);n.start=Math.max(0,n.start-f),n.end=Math.min(a,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{var h=n.end*this._itemSize-(o+i);if(h<this._minBufferPx&&n.end!=a){var d=Math.ceil((this._maxBufferPx-h)/this._itemSize);d>0&&(n.end=Math.min(a,n.end+d),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}}}]),t}();function Y3(t){return t._scrollStrategy}var Z3=function(){var t=function(){function r(){y(this,r),this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new K3(this.itemSize,this.minBufferPx,this.maxBufferPx)}return g(r,[{key:"itemSize",get:function(){return this._itemSize},set:function(n){this._itemSize=Th(n)}},{key:"minBufferPx",get:function(){return this._minBufferPx},set:function(n){this._minBufferPx=Th(n)}},{key:"maxBufferPx",get:function(){return this._maxBufferPx},set:function(n){this._maxBufferPx=Th(n)}},{key:"ngOnChanges",value:function(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=le({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ot([{provide:sk,useFactory:Y3,deps:[it(function(){return t})]}]),Bn]}),t}(),uk=function(){var t=function(){function r(e,n,i){y(this,r),this._ngZone=e,this._platform=n,this._scrolled=new nt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return g(r,[{key:"register",value:function(n){var i=this;this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(function(){return i._scrolled.next(n)}))}},{key:"deregister",value:function(n){var i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}},{key:"scrolled",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new et(function(a){n._globalSubscription||n._addGlobalListener();var o=i>0?n._scrolled.pipe(Ay(i)).subscribe(a):n._scrolled.subscribe(a);return n._scrolledCount++,function(){o.unsubscribe(),n._scrolledCount--,n._scrolledCount||n._removeGlobalListener()}}):me()}},{key:"ngOnDestroy",value:function(){var n=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(i,a){return n.deregister(a)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(n,i){var a=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(En(function(o){return!o||a.indexOf(o)>-1}))}},{key:"getAncestorScrollContainers",value:function(n){var i=this,a=[];return this.scrollContainers.forEach(function(o,s){i._scrollableContainsElement(s,n)&&a.push(s)}),a}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(n,i){var a=function(t){return t instanceof Lt?t.nativeElement:t}(i),o=n.getElementRef().nativeElement;do{if(a==o)return!0}while(a=a.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var n=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return su(n._getWindow().document,"scroll").subscribe(function(){return n._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(ut),z(Ah),z(nn,8))},t.\u0275prov=re({factory:function(){return new t(z(ut),z(Ah),z(nn,8))},token:t,providedIn:"root"}),t}(),lk=function(){var t=function(){function r(e,n,i,a){var o=this;y(this,r),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=a,this._destroyed=new nt,this._elementScrolled=new et(function(s){return o.ngZone.runOutsideAngular(function(){return su(o.elementRef.nativeElement,"scroll").pipe(Wa(o._destroyed)).subscribe(s)})})}return g(r,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(n){var i=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=a?n.end:n.start),null==n.right&&(n.right=a?n.start:n.end),null!=n.bottom&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),a&&0!=Xl()?(null!=n.left&&(n.right=i.scrollWidth-i.clientWidth-n.left),2==Xl()?n.left=n.right:1==Xl()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}},{key:"_applyScrollToOptions",value:function(n){var i=this.elementRef.nativeElement;!function(){if(null==Po){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Po=!1;if("scrollBehavior"in document.documentElement.style)Po=!0;else{var t=Element.prototype.scrollTo;Po=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Po}()?(null!=n.top&&(i.scrollTop=n.top),null!=n.left&&(i.scrollLeft=n.left)):i.scrollTo(n)}},{key:"measureScrollOffset",value:function(n){var i="left",a="right",o=this.elementRef.nativeElement;if("top"==n)return o.scrollTop;if("bottom"==n)return o.scrollHeight-o.clientHeight-o.scrollTop;var s=this.dir&&"rtl"==this.dir.value;return"start"==n?n=s?a:i:"end"==n&&(n=s?i:a),s&&2==Xl()?n==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Xl()?n==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(uk),T(ut),T(Ry,8))},t.\u0275dir=le({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t}(),$3=function(){var t=function(){function r(e,n,i){var a=this;y(this,r),this._platform=e,this._change=new nt,this._changeListener=function(o){a._change.next(o)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var o=a._getWindow();o.addEventListener("resize",a._changeListener),o.addEventListener("orientationchange",a._changeListener)}a.change().subscribe(function(){return a._viewportSize=null})})}return g(r,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}},{key:"getViewportRect",value:function(){var n=this.getViewportScrollPosition(),i=this.getViewportSize(),a=i.width,o=i.height;return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+a,height:o,width:a}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var n=this._document,i=this._getWindow(),a=n.documentElement,o=a.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||i.scrollY||a.scrollTop||0,left:-o.left||n.body.scrollLeft||i.scrollX||a.scrollLeft||0}}},{key:"change",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return n>0?this._change.pipe(Ay(n)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Ah),z(ut),z(nn,8))},t.\u0275prov=re({factory:function(){return new t(z(Ah),z(ut),z(nn,8))},token:t,providedIn:"root"}),t}(),ez="undefined"!=typeof requestAnimationFrame?S3:I3,Py=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o,s,u,l,c){var f;return y(this,n),(f=e.call(this,i,l,o,u)).elementRef=i,f._changeDetectorRef=a,f._scrollStrategy=s,f._detachedSubject=new nt,f._renderedRangeSubject=new nt,f._orientation="vertical",f._appendOnly=!1,f.scrolledIndexChange=new et(function(h){return f._scrollStrategy.scrolledIndexChange.subscribe(function(d){return Promise.resolve().then(function(){return f.ngZone.run(function(){return h.next(d)})})})}),f.renderedRangeStream=f._renderedRangeSubject,f._totalContentSize=0,f._totalContentWidth="",f._totalContentHeight="",f._renderedRange={start:0,end:0},f._dataLength=0,f._viewportSize=0,f._renderedContentOffset=0,f._renderedContentOffsetNeedsRewrite=!1,f._isChangeDetectionPending=!1,f._runAfterChangeDetection=[],f._viewportChanges=pe.EMPTY,f._viewportChanges=c.change().subscribe(function(){f.checkViewportSize()}),f}return g(n,[{key:"orientation",get:function(){return this._orientation},set:function(a){this._orientation!==a&&(this._orientation=a,this._calculateSpacerSize())}},{key:"appendOnly",get:function(){return this._appendOnly},set:function(a){this._appendOnly=function(t){return null!=t&&"false"!=="".concat(t)}(a)}},{key:"ngOnInit",value:function(){var a=this;Se(Re(n.prototype),"ngOnInit",this).call(this),this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){a._measureViewportSize(),a._scrollStrategy.attach(a),a.elementScrolled().pipe(zg(null),Ay(0,ez)).subscribe(function(){return a._scrollStrategy.onContentScrolled()}),a._markChangeDetectionNeeded()})})}},{key:"ngOnDestroy",value:function(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),Se(Re(n.prototype),"ngOnDestroy",this).call(this)}},{key:"attach",value:function(a){var o=this;this.ngZone.runOutsideAngular(function(){o._forOf=a,o._forOf.dataStream.pipe(Wa(o._detachedSubject)).subscribe(function(s){var u=s.length;u!==o._dataLength&&(o._dataLength=u,o._scrollStrategy.onDataLengthChanged()),o._doChangeDetection()})})}},{key:"detach",value:function(){this._forOf=null,this._detachedSubject.next()}},{key:"getDataLength",value:function(){return this._dataLength}},{key:"getViewportSize",value:function(){return this._viewportSize}},{key:"getRenderedRange",value:function(){return this._renderedRange}},{key:"setTotalContentSize",value:function(a){this._totalContentSize!==a&&(this._totalContentSize=a,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}},{key:"setRenderedRange",value:function(a){var o=this;(function(t,r){return t.start==r.start&&t.end==r.end})(this._renderedRange,a)||(this.appendOnly&&(a={start:0,end:Math.max(this._renderedRange.end,a.end)}),this._renderedRangeSubject.next(this._renderedRange=a),this._markChangeDetectionNeeded(function(){return o._scrollStrategy.onContentRendered()}))}},{key:"getOffsetToRenderedContentStart",value:function(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}},{key:"setRenderedContentOffset",value:function(a){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"to-start",u=this.dir&&"rtl"==this.dir.value,l="horizontal"==this.orientation,c=l?"X":"Y",f=l&&u?-1:1,h="translate".concat(c,"(").concat(Number(f*a),"px)");this._renderedContentOffset=a,"to-end"===s&&(h+=" translate".concat(c,"(-100%)"),this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(function(){o._renderedContentOffsetNeedsRewrite?(o._renderedContentOffset-=o.measureRenderedContentSize(),o._renderedContentOffsetNeedsRewrite=!1,o.setRenderedContentOffset(o._renderedContentOffset)):o._scrollStrategy.onRenderedOffsetChanged()}))}},{key:"scrollToOffset",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",s={behavior:o};"horizontal"===this.orientation?s.start=a:s.top=a,this.scrollTo(s)}},{key:"scrollToIndex",value:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";this._scrollStrategy.scrollToIndex(a,o)}},{key:"measureScrollOffset",value:function(a){return a?Se(Re(n.prototype),"measureScrollOffset",this).call(this,a):Se(Re(n.prototype),"measureScrollOffset",this).call(this,"horizontal"===this.orientation?"start":"top")}},{key:"measureRenderedContentSize",value:function(){var a=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?a.offsetWidth:a.offsetHeight}},{key:"measureRangeSize",value:function(a){return this._forOf?this._forOf.measureRangeSize(a,this.orientation):0}},{key:"checkViewportSize",value:function(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}},{key:"_measureViewportSize",value:function(){var a=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?a.clientWidth:a.clientHeight}},{key:"_markChangeDetectionNeeded",value:function(a){var o=this;a&&this._runAfterChangeDetection.push(a),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(function(){return Promise.resolve().then(function(){o._doChangeDetection()})}))}},{key:"_doChangeDetection",value:function(){var a=this;this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(function(){return a._changeDetectorRef.markForCheck()});var o=this._runAfterChangeDetection;this._runAfterChangeDetection=[];var u,s=b(o);try{for(s.s();!(u=s.n()).done;)(0,u.value)()}catch(c){s.e(c)}finally{s.f()}}},{key:"_calculateSpacerSize",value:function(){this._totalContentHeight="horizontal"===this.orientation?"":"".concat(this._totalContentSize,"px"),this._totalContentWidth="horizontal"===this.orientation?"".concat(this._totalContentSize,"px"):""}}]),n}(lk);return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(Lr),T(ut),T(sk,8),T(Ry,8),T(uk),T($3))},t.\u0275cmp=$t({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){var i;1&e&&di(W3,7),2&e&&vn(i=pn())&&(n._contentWrapper=i.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&So("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ot([{provide:lk,useExisting:t}]),gt],ngContentSelectors:q3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(Vs(),A(0,"div",0,1),Eo(2),O(),Ft(3,"div",2)),2&e&&(N(3),bf("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t}();function ck(t,r,e){if(!e.getBoundingClientRect)return 0;var i=e.getBoundingClientRect();return"horizontal"===t?"start"===r?i.left:i.right:"start"===r?i.top:i.bottom}var tz=function(){var t=function(){function r(e,n,i,a,o,s){var u=this;y(this,r),this._viewContainerRef=e,this._template=n,this._differs=i,this._viewRepeater=a,this._viewport=o,this.viewChange=new nt,this._dataSourceChanges=new nt,this.dataStream=this._dataSourceChanges.pipe(zg(null),At(function(t,r){var e,n=!1;t.subscribe(new Ct(r,function(i){var a=e;e=i,n&&r.next([a,i]),n=!0}))}),Ur(function(l){var c=K(l,2);return u._changeDataSource(c[0],c[1])}),function(t,r,e){var a,o=!1;return a=1,lC({connector:function(){return new x3(a,r,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}()),this._differ=null,this._needsUpdate=!1,this._destroyed=new nt,this.dataStream.subscribe(function(l){u._data=l,u._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Wa(this._destroyed)).subscribe(function(l){u._renderedRange=l,s.run(function(){return u.viewChange.next(u._renderedRange)}),u._onRenderedDataChange()}),this._viewport.attach(this)}return g(r,[{key:"cdkVirtualForOf",get:function(){return this._cdkVirtualForOf},set:function(n){this._cdkVirtualForOf=n,function(t){return t&&"function"==typeof t.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new G3(JD(n)?n:Array.from(n||[])))}},{key:"cdkVirtualForTrackBy",get:function(){return this._cdkVirtualForTrackBy},set:function(n){var i=this;this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?function(a,o){return n(a+(i._renderedRange?i._renderedRange.start:0),o)}:void 0}},{key:"cdkVirtualForTemplate",set:function(n){n&&(this._needsUpdate=!0,this._template=n)}},{key:"cdkVirtualForTemplateCacheSize",get:function(){return this._viewRepeater.viewCacheSize},set:function(n){this._viewRepeater.viewCacheSize=Th(n)}},{key:"measureRangeSize",value:function(n,i){if(n.start>=n.end)return 0;for(var s,u,a=n.start-this._renderedRange.start,o=n.end-n.start,l=0;l<o;l++){var c=this._viewContainerRef.get(l+a);if(c&&c.rootNodes.length){s=u=c.rootNodes[0];break}}for(var f=o-1;f>-1;f--){var h=this._viewContainerRef.get(f+a);if(h&&h.rootNodes.length){u=h.rootNodes[h.rootNodes.length-1];break}}return s&&u?ck(i,"end",u)-ck(i,"start",s):0}},{key:"ngDoCheck",value:function(){if(this._differ&&this._needsUpdate){var n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}},{key:"ngOnDestroy",value:function(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}},{key:"_onRenderedDataChange",value:function(){var n=this;!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(function(i,a){return n.cdkVirtualForTrackBy?n.cdkVirtualForTrackBy(i,a):a})),this._needsUpdate=!0)}},{key:"_changeDataSource",value:function(n,i){return n&&n.disconnect(this),this._needsUpdate=!0,i?i.connect(this):me()}},{key:"_updateContext",value:function(){for(var n=this._data.length,i=this._viewContainerRef.length;i--;){var a=this._viewContainerRef.get(i);a.context.index=this._renderedRange.start+i,a.context.count=n,this._updateComputedContextProperties(a.context),a.detectChanges()}}},{key:"_applyChanges",value:function(n){var i=this;this._viewRepeater.applyChanges(n,this._viewContainerRef,function(u,l,c){return i._getEmbeddedViewArgs(u,c)},function(u){return u.item}),n.forEachIdentityChange(function(u){i._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});for(var a=this._data.length,o=this._viewContainerRef.length;o--;){var s=this._viewContainerRef.get(o);s.context.index=this._renderedRange.start+o,s.context.count=a,this._updateComputedContextProperties(s.context)}}},{key:"_updateComputedContextProperties",value:function(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}},{key:"_getEmbeddedViewArgs",value:function(n,i){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Fr),T(hi),T(Ys),T(ok),T(Py,4),T(ut))},t.\u0275dir=le({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ot([{provide:ok,useClass:z3}])]}),t}(),fk=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({}),t}(),hk=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[ak,L3,fk],ak,fk]}),t}(),dk=g(function t(){y(this,t)}),nz=g(function t(){y(this,t)}),ma="*";function Ql(t,r){return{type:7,name:t,definitions:r,options:{}}}function qa(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:r,timings:t}}function vk(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:r}}function zr(t){return{type:6,styles:t,offset:null}}function xy(t,r,e){return{type:0,name:t,styles:r,options:e}}function _a(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:r,options:e}}function pk(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:t,options:r}}function rz(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function gk(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:t,options:r}}function iz(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:r,options:e}}function yk(t){Promise.resolve(null).then(t)}var lu=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;yk(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),mk=function(){function t(r){var e=this;y(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;var n=0,i=0,a=0,o=this.players.length;0==o?yk(function(){return e._onFinish()}):this.players.forEach(function(s){s.onDone(function(){++n==o&&e._onFinish()}),s.onDestroy(function(){++i==o&&e._onDestroy()}),s.onStart(function(){++a==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(s,u){return Math.max(s,u.totalTime)},0)}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(i){var a=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(a)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(n,i){return null===n||i.totalTime>n.totalTime?i:n},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),_k=function(){var t=function(){function r(e,n){y(this,r),this._renderer=e,this._elementRef=n,this.onChange=function(i){},this.onTouched=function(){}}return g(r,[{key:"setProperty",value:function(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"setDisabledState",value:function(n){this.setProperty("disabled",n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(fi),T(Lt))},t.\u0275dir=le({type:t}),t}(),xo=function(){var t=function(r){M(n,r);var e=R(n);function n(){return y(this,n),e.apply(this,arguments)}return g(n)}(_k);return t.\u0275fac=function(){var r;return function(n){return(r||(r=function(t){return Pa(function(){for(var r=t.prototype.constructor,e=r[aa]||Rv(r),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==n;){var a=i[aa]||Rv(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return function(o){return new o}})}(t)))(n||t)}}(),t.\u0275dir=le({type:t,features:[gt]}),t}(),_r=new Te("NgValueAccessor"),sz={provide:_r,useExisting:it(function(){return Mh}),multi:!0},lz=new Te("CompositionEventMode"),Mh=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o){var s;return y(this,n),(s=e.call(this,i,a))._compositionMode=o,s._composing=!1,null==s._compositionMode&&(s._compositionMode=!function(){var t=Ni()?Ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}()),s}return g(n,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),n}(_k);return t.\u0275fac=function(e){return new(e||t)(T(fi),T(Lt),T(lz,8))},t.\u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&ue("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[ot([sz]),gt]}),t}(),Pn=new Te("NgValidators"),Ya=new Te("NgAsyncValidators");function Sk(t){return null!=t}function wk(t){var r=vl(t)?un(t):t;return jp(r),r}function bk(t){var r={};return t.forEach(function(e){r=null!=e?U(U({},r),e):r}),0===Object.keys(r).length?null:r}function Tk(t,r){return r.map(function(e){return e(t)})}function Dk(t){return t.map(function(r){return function(t){return!t.validate}(r)?r:function(e){return r.validate(e)}})}function Ly(t){return null!=t?function(t){if(!t)return null;var r=t.filter(Sk);return 0==r.length?null:function(e){return bk(Tk(e,r))}}(Dk(t)):null}function Ny(t){return null!=t?function(t){if(!t)return null;var r=t.filter(Sk);return 0==r.length?null:function(e){return function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=aC(r),i=ET(r),a=i.args,o=i.keys,s=new et(function(u){var l=a.length;if(l)for(var c=new Array(l),f=l,h=l,d=function(m){var C=!1;or(a[m]).subscribe(new Ct(u,function(_){C||(C=!0,h--),c[m]=_},function(){return f--},void 0,function(){(!f||!C)&&(h||u.next(o?ST(o,c):c),u.complete())}))},v=0;v<l;v++)d(v);else u.complete()});return n?s.pipe(Gg(n)):s}(Tk(e,r).map(wk)).pipe(Ue(bk))}}(Dk(t)):null}function kk(t,r){return null===t?[r]:Array.isArray(t)?[].concat(Z(t),[r]):[t,r]}function Vy(t){return t?Array.isArray(t)?t:[t]:[]}function Ph(t,r){return Array.isArray(t)?t.includes(r):t===r}function Ok(t,r){var e=Vy(r);return Vy(t).forEach(function(i){Ph(e,i)||e.push(i)}),e}function Mk(t,r){return Vy(r).filter(function(e){return!Ph(t,e)})}var Rk=function(){function t(){y(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=Ly(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ny(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,n){return!!this.control&&this.control.hasError(e,n)}},{key:"getError",value:function(e,n){return this.control?this.control.getError(e,n):null}}]),t}(),zn=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(Rk),Ca=function(t){M(e,t);var r=R(e);function e(){var n;return y(this,e),(n=r.apply(this,arguments))._parent=null,n.name=null,n.valueAccessor=null,n}return g(e)}(Rk),Pk=function(){function t(r){y(this,t),this._cd=r}return g(t,[{key:"is",value:function(e){var n,i,a;return"submitted"===e?!(null===(a=this._cd)||void 0===a||!a.submitted):!(null===(n=this._cd)||void 0===n||null===(i=n.control)||void 0===i||!i[e])}}]),t}(),xk=function(){var t=function(r){M(n,r);var e=R(n);function n(i){return y(this,n),e.call(this,i)}return g(n)}(Pk);return t.\u0275fac=function(e){return new(e||t)(T(Ca,2))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&So("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[gt]}),t}();function $l(t,r){(function(t,r){var e=function(t){return t._rawValidators}(t);null!==r.validator?t.setValidators(kk(e,r.validator)):"function"==typeof e&&t.setValidators([e]);var n=function(t){return t._rawAsyncValidators}(t);null!==r.asyncValidator?t.setAsyncValidators(kk(n,r.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);var i=function(){return t.updateValueAndValidity()};Nh(r._rawValidators,i),Nh(r._rawAsyncValidators,i)})(t,r),r.valueAccessor.writeValue(t.value),function(t,r){r.valueAccessor.registerOnChange(function(e){t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Fk(t,r)})}(t,r),function(t,r){var e=function(i,a){r.valueAccessor.writeValue(i),a&&r.viewToModelUpdate(i)};t.registerOnChange(e),r._registerOnDestroy(function(){t._unregisterOnChange(e)})}(t,r),function(t,r){r.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Fk(t,r),"submit"!==t.updateOn&&t.markAsTouched()})}(t,r),function(t,r){if(r.valueAccessor.setDisabledState){var e=function(i){r.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),r._registerOnDestroy(function(){t._unregisterOnDisabledChange(e)})}}(t,r)}function Nh(t,r){t.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Fk(t,r){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bh(t,r){var e=t.indexOf(r);e>-1&&t.splice(e,1)}var Jl="VALID",Hh="INVALID",cu="PENDING",ec="DISABLED";function zy(t){return(qy(t)?t.validators:t)||null}function Vk(t){return Array.isArray(t)?Ly(t):t||null}function Wy(t,r){return(qy(r)?r.asyncValidators:t)||null}function Bk(t){return Array.isArray(t)?Ny(t):t||null}function qy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Ky=function(){function t(r,e){y(this,t),this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Vk(this._rawValidators),this._composedAsyncValidatorFn=Bk(this._rawAsyncValidators)}return g(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Jl}},{key:"invalid",get:function(){return this.status===Hh}},{key:"pending",get:function(){return this.status==cu}},{key:"disabled",get:function(){return this.status===ec}},{key:"enabled",get:function(){return this.status!==ec}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Vk(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bk(e)}},{key:"addValidators",value:function(e){this.setValidators(Ok(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(Ok(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(Mk(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(Mk(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Ph(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Ph(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(n){n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(n){n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=cu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=ec,this.errors=null,this._forEachChild(function(i){i.disable(U(U({},e),{},{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(U({},e),{},{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this._forEachChild(function(i){i.enable(U(U({},e),{},{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(U(U({},e),{},{skipPristineCheck:n})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jl||this.status===cu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(n){return n._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?ec:Jl}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var n=this;if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator=!0;var i=wk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){n._hasOwnPendingAsyncValidator=!1,n.setErrors(a,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}},{key:"get",value:function(e){return function(t,r,e){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;var n=t;return r.forEach(function(i){n=n instanceof Yy?n.controls.hasOwnProperty(i)?n.controls[i]:null:n instanceof xz&&n.at(i)||null}),n}(this,e)}},{key:"getError",value:function(e,n){var i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,n){return!!this.getError(e,n)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Ce,this.statusChanges=new Ce}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?ec:this.errors?Hh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(Hh)?Hh:Jl}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(n){return n.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){qy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Uh=function(t){M(e,t);var r=R(e);function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return y(this,e),(n=r.call(this,zy(a),Wy(o,a)))._onChange=[],n._applyFormState(i),n._setUpdateStrategy(a),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!!n.asyncValidator}),n}return g(e,[{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(function(s){return s(a.value,!1!==o.emitViewToModelChange)}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){Bh(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){Bh(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),e}(Ky),Yy=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this,zy(i),Wy(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return g(e,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),Object.keys(i).forEach(function(s){a._throwIfControlMissing(s),a.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(s){a.controls[s]&&a.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,o){return i[o]=a instanceof Uh?a.value:a.getRawValue(),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,o){return!!o._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error("Cannot find form control with name: ".concat(i,"."))}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(o){var s=a.controls[o];s&&i(s,o)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,o=Object.keys(this.controls);a<o.length;a++){var s=o[a],u=this.controls[s];if(this.contains(s)&&i(u))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,o,s){return(o.enabled||i.disabled)&&(a[s]=o.value),a})}},{key:"_reduceChildren",value:function(i,a){var o=i;return this._forEachChild(function(s,u){o=a(o,s,u)}),o}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control with name: '".concat(o,"'."))})}}]),e}(Ky),xz=function(t){M(e,t);var r=R(e);function e(n,i,a){var o;return y(this,e),(o=r.call(this,zy(i),Wy(a,i))).controls=n,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return g(e,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:o.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),i.forEach(function(s,u){a._throwIfControlMissing(u),a.at(u).setValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}},{key:"patchValue",value:function(i){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(s,u){a.at(u)&&a.at(u).patchValue(s,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(o,s){o.reset(i[s],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return i instanceof Uh?i.value:i.getRawValue()})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,o){return!!o._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error("Cannot find form control at index ".concat(i))}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,o){i(a,o)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,o){if(void 0===i[o])throw new Error("Must supply a value for form control at index: ".concat(o,"."))})}},{key:"_allControlsDisabled",value:function(){var a,i=b(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(s){i.e(s)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),e}(Ky),Nz={provide:Ca,useExisting:it(function(){return jh})},jk=function(){return Promise.resolve(null)}(),jh=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o,s){var u;return y(this,n),(u=e.call(this)).control=new Uh,u._registered=!1,u.update=new Ce,u._parent=i,u._setValidators(a),u._setAsyncValidators(o),u.valueAccessor=function(t,r){if(!r)return null;Array.isArray(r);var e=void 0,n=void 0,i=void 0;return r.forEach(function(a){a.constructor===Mh?e=a:function(t){return Object.getPrototypeOf(t.constructor)===xo}(a)?n=a:i=a}),i||n||e||null}(It(u),s),u}return g(n,[{key:"ngOnChanges",value:function(a){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in a&&this._updateDisabled(a),function(t,r){if(!t.hasOwnProperty("model"))return!1;var e=t.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(t,r){return[].concat(Z(r.path),[t])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){$l(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(a){var o=this;jk.then(function(){o.control.setValue(a,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(a){var o=this,s=a.isDisabled.currentValue,u=""===s||s&&"false"!==s;jk.then(function(){u&&!o.control.disabled?o.control.disable():!u&&o.control.disabled&&o.control.enable()})}}]),n}(Ca);return t.\u0275fac=function(e){return new(e||t)(T(zn,9),T(Pn,10),T(Ya,10),T(_r,10))},t.\u0275dir=le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ot([Nz]),gt,Bn]}),t}(),zk=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({}),t}(),uW=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[zk]]}),t}(),lW=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[uW]}),t}(),cW=function(){var t=function(){function r(e,n,i){y(this,r),this.el=e,this.zone=n,this.config=i,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}return g(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){this._disabled=n,this.deactivate()}},{key:"ngAfterViewInit",value:function(){var n=this;this.zone.runOutsideAngular(function(){"hover"===n.getOption("tooltipEvent")?(n.mouseEnterListener=n.onMouseEnter.bind(n),n.mouseLeaveListener=n.onMouseLeave.bind(n),n.clickListener=n.onClick.bind(n),n.el.nativeElement.addEventListener("mouseenter",n.mouseEnterListener),n.el.nativeElement.addEventListener("mouseleave",n.mouseLeaveListener),n.el.nativeElement.addEventListener("click",n.clickListener)):"focus"===n.getOption("tooltipEvent")&&(n.focusListener=n.onFocus.bind(n),n.blurListener=n.onBlur.bind(n),n.el.nativeElement.addEventListener("focus",n.focusListener),n.el.nativeElement.addEventListener("blur",n.blurListener))})}},{key:"ngOnChanges",value:function(n){n.tooltipPosition&&this.setOption({tooltipPosition:n.tooltipPosition.currentValue}),n.tooltipEvent&&this.setOption({tooltipEvent:n.tooltipEvent.currentValue}),n.appendTo&&this.setOption({appendTo:n.appendTo.currentValue}),n.positionStyle&&this.setOption({positionStyle:n.positionStyle.currentValue}),n.tooltipStyleClass&&this.setOption({tooltipStyleClass:n.tooltipStyleClass.currentValue}),n.tooltipZIndex&&this.setOption({tooltipZIndex:n.tooltipZIndex.currentValue}),n.escape&&this.setOption({escape:n.escape.currentValue}),n.showDelay&&this.setOption({showDelay:n.showDelay.currentValue}),n.hideDelay&&this.setOption({hideDelay:n.hideDelay.currentValue}),n.life&&this.setOption({life:n.life.currentValue}),n.positionTop&&this.setOption({positionTop:n.positionTop.currentValue}),n.positionLeft&&this.setOption({positionLeft:n.positionLeft.currentValue}),n.disabled&&this.setOption({disabled:n.disabled.currentValue}),n.text&&(this.setOption({tooltipLabel:n.text.currentValue}),this.active&&(n.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),n.tooltipOptions&&(this._tooltipOptions=U(U({},this._tooltipOptions),n.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}},{key:"onMouseEnter",value:function(n){!this.container&&!this.showTimeout&&this.activate()}},{key:"onMouseLeave",value:function(n){this.deactivate()}},{key:"onFocus",value:function(n){this.activate()}},{key:"onBlur",value:function(n){this.deactivate()}},{key:"onClick",value:function(n){this.deactivate()}},{key:"activate",value:function(){var n=this;if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(function(){n.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){var i=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(function(){n.hide()},i)}}},{key:"deactivate",value:function(){var n=this;this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(function(){n.hide()},this.getOption("hideDelay"))):this.hide()}},{key:"create",value:function(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");var n=document.createElement("div");n.className="p-tooltip-arrow",this.container.appendChild(n),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ae.appendChild(this.container,this.el.nativeElement):ae.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}},{key:"show",value:function(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ae.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Gr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}},{key:"hide",value:function(){"auto"===this.getOption("tooltipZIndex")&&Gr.clear(this.container),this.remove()}},{key:"updateText",value:function(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}},{key:"align",value:function(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}},{key:"getHostOffset",value:function(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){var n=this.el.nativeElement.getBoundingClientRect();return{left:n.left+ae.getWindowScrollLeft(),top:n.top+ae.getWindowScrollTop()}}return{left:0,top:0}}},{key:"alignRight",value:function(){this.preAlign("right");var n=this.getHostOffset(),i=n.left+ae.getOuterWidth(this.el.nativeElement),a=n.top+(ae.getOuterHeight(this.el.nativeElement)-ae.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignLeft",value:function(){this.preAlign("left");var n=this.getHostOffset(),i=n.left-ae.getOuterWidth(this.container),a=n.top+(ae.getOuterHeight(this.el.nativeElement)-ae.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignTop",value:function(){this.preAlign("top");var n=this.getHostOffset(),i=n.left+(ae.getOuterWidth(this.el.nativeElement)-ae.getOuterWidth(this.container))/2,a=n.top-ae.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"alignBottom",value:function(){this.preAlign("bottom");var n=this.getHostOffset(),i=n.left+(ae.getOuterWidth(this.el.nativeElement)-ae.getOuterWidth(this.container))/2,a=n.top+ae.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=a+this.getOption("positionTop")+"px"}},{key:"setOption",value:function(n){this._tooltipOptions=U(U({},this._tooltipOptions),n)}},{key:"getOption",value:function(n){return this._tooltipOptions[n]}},{key:"preAlign",value:function(n){this.container.style.left="-999px",this.container.style.top="-999px";var i="p-tooltip p-component p-tooltip-"+n;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}},{key:"isOutOfBounds",value:function(){var n=this.container.getBoundingClientRect(),i=n.top,a=n.left,o=ae.getOuterWidth(this.container),s=ae.getOuterHeight(this.container),u=ae.getViewport();return a+o>u.width||a<0||i<0||i+s>u.height}},{key:"onWindowResize",value:function(n){this.hide()}},{key:"bindDocumentResizeListener",value:function(){var n=this;this.zone.runOutsideAngular(function(){n.resizeListener=n.onWindowResize.bind(n),window.addEventListener("resize",n.resizeListener)})}},{key:"unbindDocumentResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new qD(this.el.nativeElement,function(){n.container&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindEvents",value:function(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}},{key:"remove",value:function(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ae.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}},{key:"clearShowTimeout",value:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}},{key:"clearHideTimeout",value:function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}},{key:"clearTimeouts",value:function(){this.clearShowTimeout(),this.clearHideTimeout()}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.container&&Gr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(ut),T(Kl))},t.\u0275dir=le({type:t,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Bn]}),t}(),fW=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}();function hW(t,r){if(1&t&&(A(0,"span"),ht(1),O()),2&t){var e=H();N(1),ci(e.label||"empty")}}function dW(t,r){1&t&&Yn(0)}var uI=function(r){return{height:r}},vW=function(r,e){return{"p-dropdown-item":!0,"p-highlight":r,"p-disabled":e}},nm=function(r){return{$implicit:r}},pW=["container"],gW=["filter"],yW=["in"],mW=["editableInput"];function _W(t,r){if(1&t&&(oi(0),ht(1),si()),2&t){var e=H(2);N(1),ci(e.label||"empty")}}function CW(t,r){1&t&&Yn(0)}var EW=function(r){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":r}};function SW(t,r){if(1&t&&(A(0,"span",12),ce(1,_W,2,1,"ng-container",13),ce(2,CW,1,0,"ng-container",14),O()),2&t){var e=H();P("ngClass",dn(9,EW,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),yt("id",e.labelId),N(1),P("ngIf",!e.selectedItemTemplate),N(1),P("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",dn(11,nm,e.selectedOption))}}var wW=function(r){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":r}};function bW(t,r){if(1&t&&(A(0,"span",15),ht(1),O()),2&t){var e=H();P("ngClass",dn(2,wW,null==e.placeholder||0===e.placeholder.length)),N(1),ci(e.placeholder||"empty")}}function TW(t,r){if(1&t){var e=tn();A(0,"input",16,17),ue("click",function(){return he(e),H().onEditableInputClick()})("input",function(a){return he(e),H().onEditableInputChange(a)})("focus",function(a){return he(e),H().onEditableInputFocus(a)})("blur",function(a){return he(e),H().onInputBlur(a)}),O()}if(2&t){var n=H();P("disabled",n.disabled),yt("maxlength",n.maxlength)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)}}function DW(t,r){if(1&t){var e=tn();A(0,"i",18),ue("click",function(i){return he(e),H().clear(i)}),O()}}function kW(t,r){1&t&&Yn(0)}function IW(t,r){if(1&t){var e=tn();A(0,"div",26),A(1,"div",27),ue("click",function(a){return a.stopPropagation()}),A(2,"input",28,29),ue("keydown.enter",function(a){return a.preventDefault()})("keydown",function(a){return he(e),H(2).onKeydown(a,!1)})("input",function(a){return he(e),H(2).onFilterInputChange(a)}),O(),Ft(4,"span",30),O(),O()}if(2&t){var n=H(2);N(2),P("value",n.filterValue||""),yt("placeholder",n.filterPlaceholder)("aria-label",n.ariaFilterLabel)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId)}}function AW(t,r){if(1&t&&(A(0,"span"),ht(1),O()),2&t){var e=H().$implicit,n=H(3);N(1),ci(n.getOptionGroupLabel(e)||"empty")}}function OW(t,r){1&t&&Yn(0)}function MW(t,r){1&t&&Yn(0)}var lI=function(r,e){return{$implicit:r,selectedOption:e}};function RW(t,r){if(1&t&&(A(0,"li",32),ce(1,AW,2,1,"span",13),ce(2,OW,1,0,"ng-container",14),O(),ce(3,MW,1,0,"ng-container",14)),2&t){var e=r.$implicit;H(2);var n=ca(8),i=H();N(1),P("ngIf",!i.groupTemplate),N(1),P("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",dn(5,nm,e)),N(1),P("ngTemplateOutlet",n)("ngTemplateOutletContext",bo(7,lI,i.getOptionGroupChildren(e),i.selectedOption))}}function PW(t,r){if(1&t&&(oi(0),ce(1,RW,4,10,"ng-template",31),si()),2&t){var e=H(2);N(1),P("ngForOf",e.optionsToDisplay)}}function xW(t,r){1&t&&Yn(0)}function FW(t,r){if(1&t&&(oi(0),ce(1,xW,1,0,"ng-container",14),si()),2&t){H();var e=ca(8),n=H();N(1),P("ngTemplateOutlet",e)("ngTemplateOutletContext",bo(2,lI,n.optionsToDisplay,n.selectedOption))}}function LW(t,r){if(1&t){var e=tn();A(0,"p-dropdownItem",35),ue("onClick",function(s){return he(e),H(4).onItemClick(s)}),O()}if(2&t){var n=r.$implicit,i=H(2).selectedOption,a=H(2);P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function NW(t,r){if(1&t&&(oi(0),ce(1,LW,1,5,"ng-template",31),si()),2&t){var e=H().$implicit;N(1),P("ngForOf",e)}}function VW(t,r){if(1&t){var e=tn();oi(0),A(1,"p-dropdownItem",35),ue("onClick",function(s){return he(e),H(5).onItemClick(s)}),O(),si()}if(2&t){var n=r.$implicit,i=H(3).selectedOption,a=H(2);N(1),P("option",n)("selected",i==n)("label",a.getOptionLabel(n))("disabled",a.isOptionDisabled(n))("template",a.itemTemplate)}}function BW(t,r){if(1&t){var e=tn();A(0,"cdk-virtual-scroll-viewport",37,38),ue("scrolledIndexChange",function(){return he(e),H(4).scrollToSelectedVirtualScrollElement()}),ce(2,VW,2,5,"ng-container",39),O()}if(2&t){var n=H(2).$implicit,i=H(2);P("ngStyle",dn(3,uI,i.scrollHeight))("itemSize",i.itemSize),N(2),P("cdkVirtualForOf",n)}}function HW(t,r){if(1&t&&ce(0,BW,3,5,"cdk-virtual-scroll-viewport",36),2&t){var e=H(3);P("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function UW(t,r){if(1&t&&(ce(0,NW,2,1,"ng-container",33),ce(1,HW,1,1,"ng-template",null,34,xf)),2&t){var e=ca(2);P("ngIf",!H(2).virtualScroll)("ngIfElse",e)}}function jW(t,r){if(1&t&&(oi(0),ht(1),si()),2&t){var e=H(3);N(1),Zn(" ",e.emptyFilterMessageLabel," ")}}function GW(t,r){1&t&&Yn(0,null,41)}function zW(t,r){if(1&t&&(A(0,"li",40),ce(1,jW,2,1,"ng-container",33),ce(2,GW,2,0,"ng-container",20),O()),2&t){var e=H(2);N(1),P("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),N(1),P("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function WW(t,r){if(1&t&&(oi(0),ht(1),si()),2&t){var e=H(3);N(1),Zn(" ",e.emptyMessageLabel," ")}}function qW(t,r){1&t&&Yn(0,null,42)}function KW(t,r){if(1&t&&(A(0,"li",40),ce(1,WW,2,1,"ng-container",33),ce(2,qW,2,0,"ng-container",20),O()),2&t){var e=H(2);N(1),P("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),N(1),P("ngTemplateOutlet",e.emptyTemplate)}}function YW(t,r){1&t&&Yn(0)}var ZW=function(r,e){return{showTransitionParams:r,hideTransitionParams:e}},XW=function(r){return{value:"visible",params:r}},QW=function(r){return{"p-dropdown-virtualscroll":r}};function $W(t,r){if(1&t){var e=tn();A(0,"div",19),ue("click",function(a){return he(e),H().onOverlayClick(a)})("@overlayAnimation.start",function(a){return he(e),H().onOverlayAnimationStart(a)})("@overlayAnimation.start",function(a){return he(e),H().onOverlayAnimationEnd(a)}),ce(1,kW,1,0,"ng-container",20),ce(2,IW,5,4,"div",21),A(3,"div",22),A(4,"ul",23),ce(5,PW,2,1,"ng-container",13),ce(6,FW,2,5,"ng-container",13),ce(7,UW,3,2,"ng-template",null,24,xf),ce(9,zW,3,3,"li",25),ce(10,KW,3,3,"li",25),O(),O(),ce(11,YW,1,0,"ng-container",20),O()}if(2&t){var n=H();gr(n.panelStyleClass),P("ngClass","p-dropdown-panel p-component")("@overlayAnimation",dn(19,XW,bo(16,ZW,n.showTransitionOptions,n.hideTransitionOptions)))("ngStyle",n.panelStyle),N(1),P("ngTemplateOutlet",n.headerTemplate),N(1),P("ngIf",n.filter),N(1),bf("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),N(1),P("ngClass",dn(21,QW,n.virtualScroll)),yt("id",n.listId),N(1),P("ngIf",n.group),N(1),P("ngIf",!n.group),N(3),P("ngIf",n.filterValue&&n.isEmpty()),N(1),P("ngIf",!n.filterValue&&n.isEmpty()),N(1),P("ngTemplateOutlet",n.footerTemplate)}}var JW=function(r,e,n,i){return{"p-dropdown p-component":!0,"p-disabled":r,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":i}},e4={provide:_r,useExisting:it(function(){return cI}),multi:!0},t4=function(){var t=function(){function r(){y(this,r),this.onClick=new Ce}return g(r,[{key:"onOptionClick",value:function(n){this.onClick.emit({originalEvent:n,option:this.option})}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(A(0,"li",0),ue("click",function(a){return n.onOptionClick(a)}),ce(1,hW,2,1,"span",1),ce(2,dW,1,0,"ng-container",2),O()),2&e&&(P("ngStyle",dn(8,uI,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",bo(10,vW,n.selected,n.disabled)),yt("aria-label",n.label)("aria-selected",n.selected),N(1),P("ngIf",!n.template),N(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",dn(13,nm,n.option)))},directives:[wy,Ga,Vi,Br,Qs],encapsulation:2}),t}(),cI=function(){var t=function(){function r(e,n,i,a,o,s,u){y(this,r),this.el=e,this.renderer=n,this.cd=i,this.zone=a,this.filterService=o,this.config=s,this.overlayService=u,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new Ce,this.onFilter=new Ce,this.onFocus=new Ce,this.onBlur=new Ce,this.onClick=new Ce,this.onShow=new Ce,this.onHide=new Ce,this.onClear=new Ce,this.onModelChange=function(){},this.onModelTouched=function(){},this.viewPortOffsetTop=0,this.id=YD()}return g(r,[{key:"disabled",get:function(){return this._disabled},set:function(n){n&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=n,this.cd.destroyed||this.cd.detectChanges()}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){switch(i.getType()){default:n.itemTemplate=i.template;break;case"selectedItem":n.selectedItemTemplate=i.template;break;case"header":n.headerTemplate=i.template;break;case"footer":n.footerTemplate=i.template;break;case"emptyfilter":n.emptyFilterTemplate=i.template;break;case"empty":n.emptyTemplate=i.template;break;case"group":n.groupTemplate=i.template}})}},{key:"ngOnInit",value:function(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}},{key:"options",get:function(){return this._options},set:function(n){this._options=n,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}},{key:"filterValue",get:function(){return this._filterValue},set:function(n){this._filterValue=n,this.activateFilter()}},{key:"ngAfterViewInit",value:function(){this.editable&&this.updateEditableLabel()}},{key:"label",get:function(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(ZD.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(ZD.EMPTY_FILTER_MESSAGE)}},{key:"filled",get:function(){return this.value||null!=this.value||null!=this.value}},{key:"updateEditableLabel",value:function(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}},{key:"getOptionLabel",value:function(n){return this.optionLabel?zt.resolveFieldData(n,this.optionLabel):null!=n.label?n.label:n}},{key:"getOptionValue",value:function(n){return this.optionValue?zt.resolveFieldData(n,this.optionValue):this.optionLabel||void 0===n.value?n:n.value}},{key:"isOptionDisabled",value:function(n){return this.optionDisabled?zt.resolveFieldData(n,this.optionDisabled):void 0!==n.disabled&&n.disabled}},{key:"getOptionGroupLabel",value:function(n){return this.optionGroupLabel?zt.resolveFieldData(n,this.optionGroupLabel):null!=n.label?n.label:n}},{key:"getOptionGroupChildren",value:function(n){return this.optionGroupChildren?zt.resolveFieldData(n,this.optionGroupChildren):n.items}},{key:"onItemClick",value:function(n){var i=this,a=n.option;this.isOptionDisabled(a)||(this.selectItem(n,a),this.accessibleViewChild.nativeElement.focus()),setTimeout(function(){i.hide()},150)}},{key:"selectItem",value:function(n,i){var a=this;this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:n.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(function(){a.viewPortOffsetTop=a.viewPort?a.viewPort.measureScrollOffset():0},1))}},{key:"ngAfterViewChecked",value:function(){var n=this;if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(function(){setTimeout(function(){n.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){var i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}ae.findSingle(this.overlay,"li.p-highlight")&&ae.scrollInView(this.itemsWrapper,ae.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}},{key:"writeValue",value:function(n){this.filter&&this.resetFilter(),this.value=n,this.updateSelectedOption(n),this.updateEditableLabel(),this.cd.markForCheck()}},{key:"resetFilter",value:function(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}},{key:"updateSelectedOption",value:function(n){this.selectedOption=this.findOption(n,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onMouseclick",value:function(n){this.disabled||this.readonly||this.isInputClick(n)||(this.onClick.emit(n),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}},{key:"onOverlayClick",value:function(n){this.overlayService.add({originalEvent:n,target:this.el.nativeElement})}},{key:"isInputClick",value:function(n){return ae.hasClass(n.target,"p-dropdown-clear-icon")||n.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&n.target.isSameNode(this.editableInputViewChild.nativeElement)}},{key:"isOutsideClicked",value:function(n){return!(this.el.nativeElement.isSameNode(n.target)||this.el.nativeElement.contains(n.target)||this.overlay&&this.overlay.contains(n.target))}},{key:"isEmpty",value:function(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}},{key:"onEditableInputClick",value:function(){this.bindDocumentClickListener()}},{key:"onEditableInputFocus",value:function(n){this.focused=!0,this.hide(),this.onFocus.emit(n)}},{key:"onEditableInputChange",value:function(n){this.value=n.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value})}},{key:"show",value:function(){this.overlayVisible=!0}},{key:"onOverlayAnimationStart",value:function(n){switch(n.toState){case"visible":if(this.overlay=n.element,this.itemsWrapper=ae.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Gr.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){var a=ae.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");a&&a.scrollIntoView({block:"nearest",inline:"start"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(n);break;case"void":this.onOverlayHide(),this.onHide.emit(n)}}},{key:"onOverlayAnimationEnd",value:function(n){"void"===n.toState&&Gr.clear(n.element)}},{key:"scrollToSelectedVirtualScrollElement",value:function(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}},{key:"updateVirtualScrollSelectedIndex",value:function(n){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(n&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ae.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ae.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"hide",value:function(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?ae.absolutePosition(this.overlay,this.containerViewChild.nativeElement):ae.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onBlur.emit(n),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"findPrevEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n-1;0<=a;a--){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=this.optionsToDisplay.length-1;s>=n;s--){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"findNextEnabledOption",value:function(n){var i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(var a=n+1;a<this.optionsToDisplay.length;a++){var o=this.optionsToDisplay[a];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(var s=0;s<n;s++){var u=this.optionsToDisplay[s];if(!this.isOptionDisabled(u)){i=u;break}}}return i}},{key:"onKeydown",value:function(n,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(n.which){case 40:if(!this.overlayVisible&&n.altKey)this.show();else if(this.group){var a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==a){var o=a.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex]).length?(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[a.groupIndex+1]&&(this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[a.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{var s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,u=this.findNextEnabledOption(s);u&&(this.selectItem(n,u),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 38:if(this.group){var l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==l){var c=l.itemIndex-1;if(c>=0)this.selectItem(n,this.getOptionGroupChildren(this.optionsToDisplay[l.groupIndex])[c]),this.selectedOptionUpdated=!0;else if(c<0){var f=this.optionsToDisplay[l.groupIndex-1];f&&(this.selectItem(n,this.getOptionGroupChildren(f)[this.getOptionGroupChildren(f).length-1]),this.selectedOptionUpdated=!0)}}}else{var h=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,d=this.findPrevEnabledOption(h);d&&(this.selectItem(n,d),this.selectedOptionUpdated=!0)}n.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),n.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),n.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!n.metaKey&&this.search(n)}}},{key:"search",value:function(n){var i=this;this.searchTimeout&&clearTimeout(this.searchTimeout);var o,a=n.key;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=a,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+a:a,this.group){var s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(s)}else{var u=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++u)}o&&!this.isOptionDisabled(o)&&(this.selectItem(n,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(function(){i.searchValue=null},250)}},{key:"searchOption",value:function(n){var i;return this.searchValue&&((i=this.searchOptionInRange(n,this.optionsToDisplay.length))||(i=this.searchOptionInRange(0,n))),i}},{key:"searchOptionInRange",value:function(n,i){for(var a=n;a<i;a++){var o=this.optionsToDisplay[a];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}},{key:"searchOptionWithinGroup",value:function(n){if(this.searchValue){for(var a=n.groupIndex;a<this.optionsToDisplay.length;a++)for(var o=n.groupIndex===a?n.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[a]).length;o++){var s=this.getOptionGroupChildren(this.optionsToDisplay[a])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(var u=0;u<=n.groupIndex;u++)for(var l=0;l<(n.groupIndex===u?n.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[u]).length);l++){var c=this.getOptionGroupChildren(this.optionsToDisplay[u])[l];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}},{key:"findOptionIndex",value:function(n,i){var a=-1;if(i)for(var o=0;o<i.length;o++)if(null==n&&null==this.getOptionValue(i[o])||zt.equals(n,this.getOptionValue(i[o]),this.dataKey)){a=o;break}return a}},{key:"findOptionGroupIndex",value:function(n,i){var a,o;if(i)for(var s=0;s<i.length&&(a=s,-1===(o=this.findOptionIndex(n,this.getOptionGroupChildren(i[s]))));s++);return-1!==o?{groupIndex:a,itemIndex:o}:-1}},{key:"findOption",value:function(n,i,a){if(this.group&&!a){var o;if(i&&i.length){var u,s=b(i);try{for(s.s();!(u=s.n()).done&&!(o=this.findOption(n,this.getOptionGroupChildren(u.value),!0)););}catch(f){s.e(f)}finally{s.f()}}return o}var c=this.findOptionIndex(n,i);return-1!=c?i[c]:null}},{key:"onFilterInputChange",value:function(n){var i=n.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:n,filter:this._filterValue})}},{key:"activateFilter",value:function(){var n=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){var o,i=[],a=b(this.options);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=this.filterService.filter(this.getOptionGroupChildren(s),n,this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&i.push(U(U({},s),ie({},this.optionGroupChildren,u)))}}catch(l){a.e(l)}finally{a.f()}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,n,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}},{key:"applyFocus",value:function(){this.editable?ae.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ae.findSingle(this.el.nativeElement,"input[readonly]").focus()}},{key:"focus",value:function(){this.applyFocus()}},{key:"bindDocumentClickListener",value:function(){var n=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(a){n.isOutsideClicked(a)&&(n.hide(),n.unbindDocumentClickListener()),n.cd.markForCheck()}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible&&!ae.isTouchDevice()&&this.hide()}},{key:"bindScrollListener",value:function(){var n=this;this.scrollHandler||(this.scrollHandler=new qD(this.containerViewChild.nativeElement,function(i){n.overlayVisible&&n.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"clear",value:function(n){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:n,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(n)}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Gr.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(fi),T(Lr),T(ut),T(i3),T(Kl),T(a3))},t.\u0275cmp=$t({type:t,selectors:[["p-dropdown"]],contentQueries:function(e,n,i){var a;1&e&&ha(i,Sh,4),2&e&&vn(a=pn())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&(di(pW,5),di(gW,5),di(yW,5),di(Py,5),di(mW,5)),2&e&&(vn(i=pn())&&(n.containerViewChild=i.first),vn(i=pn())&&(n.filterViewChild=i.first),vn(i=pn())&&(n.accessibleViewChild=i.first),vn(i=pn())&&(n.viewPort=i.first),vn(i=pn())&&(n.editableInputViewChild=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,n){2&e&&So("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[ot([e4])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,n){1&e&&(A(0,"div",0,1),ue("click",function(a){return n.onMouseclick(a)}),A(2,"div",2),A(3,"input",3,4),ue("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),O(),O(),ce(5,SW,3,13,"span",5),ce(6,bW,2,4,"span",6),ce(7,TW,2,4,"input",7),ce(8,DW,1,0,"i",8),A(9,"div",9),Ft(10,"span",10),O(),ce(11,$W,12,23,"div",11),O()),2&e&&(gr(n.styleClass),P("ngClass",Rf(19,JW,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),N(3),P("disabled",n.disabled),yt("id",n.inputId)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId),N(2),P("ngIf",!n.editable&&null!=n.label),N(1),P("ngIf",!n.editable&&null==n.label),N(1),P("ngIf",n.editable),N(1),P("ngIf",null!=n.value&&n.showClear&&!n.disabled),N(1),yt("aria-expanded",n.overlayVisible),N(1),P("ngClass",n.dropdownIcon),N(1),P("ngIf",n.overlayVisible))},directives:[Vi,Ga,Br,cW,Qs,Xf,t4,Py,Z3,tz],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[Ql("overlayAnimation",[_a(":enter",[zr({opacity:0,transform:"scaleY(0.8)"}),qa("{{showTransitionParams}}")]),_a(":leave",[qa("{{hideTransitionParams}}",zr({opacity:0}))])])]},changeDetection:0}),t}(),n4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr,wh,hk,fW,bh],wh,hk]}),t}();function r4(t,r){if(1&t&&(A(0,"div"),ht(1," Avst\xe5nd: "),A(2,"span",8),ht(3),O(),O()),2&t){var e=H(2);N(3),Zn("",e.message.distance," km")}}function i4(t,r){if(1&t){var e=tn();A(0,"div",9),A(1,"div",10),ue("click",function(){he(e);var i=H(2);return i.onClickMessage(i.message)}),A(2,"span"),ht(3,"Karta"),O(),Ft(4,"i",11),O(),O()}}function a4(t,r){if(1&t&&(A(0,"div",1),A(1,"div"),ht(2),O(),A(3,"div",2),ht(4),O(),A(5,"div",3),A(6,"div",4),A(7,"div"),A(8,"b"),ht(9),O(),O(),ce(10,r4,4,1,"div",5),A(11,"div"),ht(12," Publicerad: "),A(13,"span",6),ht(14),function(t,r){var n,e=$e(),i=t+20;e.firstCreatePass?(n=function(t,r){if(r)for(var e=r.length-1;e>=0;e--){var n=r[e];if(t===n.name)return n}}(r,e.pipeRegistry),e.data[i]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,n.onDestroy)):n=e.data[i];var a=n.factory||(n.factory=mo(n.type)),o=Ra(T);try{var s=ef(!1),u=a();ef(s),function(t,r,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),r[e]=n}(e,L(),i,u)}finally{Ra(o)}}(15,"date"),O(),O(),O(),ce(16,i4,5,0,"div",7),O(),A(17,"div"),ht(18),O(),A(19,"div"),ht(20),O(),O()),2&t){var e=H();N(1),gr(e.getStyleClassForPriority(e.message.priority)),N(1),Zn(" ",e.message.priorityName," "),N(2),Zn(" ",e.message.categoryName," "),N(5),qp("",e.message.title," (",e.message.subCategory,")"),N(1),P("ngIf",e.message.distance),N(4),ci(function(t,r,e,n){var i=t+20,a=L(),o=os(a,i);return function(t,r){return t[1].data[r].pure}(a,i)?Bw(a,Hn(),r,o.transform,e,n,o):o.transform(e,n)}(15,12,e.message.createdDate,"d MMM HH:mm")),N(2),P("ngIf",e.showMapLink),N(2),Zn(" ",e.message.exactLocation," "),N(2),Zn(" ",e.message.description," ")}}var fI=function(){var t=function(){function r(e){y(this,r),this.broker=e,this.showMapLink=!1}return g(r,[{key:"ngOnInit",value:function(){}},{key:"onClickMessage",value:function(n){var i={lat:n.latitude,lng:n.longitude,info:"".concat(n.priorityName,": ").concat(n.title," (").concat(n.subCategory,")"),id:n.id},a=[];a.push(i),this.broker.sendMessage(new Eh(a,this.userPos,"".concat(n.title," (").concat(n.subCategory,")"),n.description))}},{key:"getStyleClassForPriority",value:function(n){var i="priority-ctn";switch(n){case 1:i+=" prio-highest";break;case 2:i+=" prio-higher";break;case 3:i+=" prio-high";break;default:i+=" prio-info"}return i}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ro))},t.\u0275cmp=$t({type:t,selectors:[["app-info-card"]],inputs:{message:"message",showMapLink:"showMapLink",userPos:"userPos"},decls:1,vars:1,consts:[["class","msg-ctn",4,"ngIf"],[1,"msg-ctn"],[1,"category"],[1,"p-grid"],[1,"p-col"],[4,"ngIf"],[1,"date-info"],["class","p-col-4",4,"ngIf"],[1,"dist-info"],[1,"p-col-4"],[1,"open-button",3,"click"],[1,"pi","pi-globe","map-icon"]],template:function(e,n){1&e&&ce(0,a4,21,15,"div",0),2&e&&P("ngIf",n.message)},directives:[Br],pipes:[iT],styles:[".msg-ctn[_ngcontent-%COMP%]{border:solid 2px gray;border-radius:.25rem;padding:10px;margin:20px 10px}.category[_ngcontent-%COMP%]{float:right;font-size:smaller;margin-top:-10px;margin-right:-5px;font-weight:bold;color:gray}.priority-ctn[_ngcontent-%COMP%]{border-radius:.25rem;font-weight:900;text-transform:uppercase;font-size:.75rem;line-height:14px;color:#fff;padding:.25rem;display:inline-block}.prio-highest[_ngcontent-%COMP%]{background-color:red}.prio-higher[_ngcontent-%COMP%]{background-color:#f20}.prio-high[_ngcontent-%COMP%]{background-color:#f60}.prio-info[_ngcontent-%COMP%]{background-color:#06f}.dist-info[_ngcontent-%COMP%]{color:gray}.date-info[_ngcontent-%COMP%]{color:gray}.open-button[_ngcontent-%COMP%]{border:1px;padding:5px 5px 5px 10px;border-style:solid;border-color:gray;border-radius:10px;float:right;font-weight:bold;font-size:.7em;color:gray}.map-icon[_ngcontent-%COMP%]{font-size:1rem;padding-left:2px;vertical-align:middle}"]}),t}();function o4(t,r){if(1&t&&(A(0,"span",9),ht(1),O()),2&t){var e=H();N(1),Zn(" ",e.header," ")}}function s4(t,r){1&t&&Yn(0)}function u4(t,r){1&t&&Eo(0,1,["*ngIf","hasHeaderFacet"])}function l4(t,r){1&t&&Yn(0)}function c4(t,r){if(1&t&&(oi(0),ce(1,l4,1,0,"ng-container",5),si()),2&t){var e=H();N(1),P("ngTemplateOutlet",e.contentTemplate)}}var f4=["*",[["p-header"]]],h4=function(r){return{"p-accordion-tab-active":r}},d4=function(r,e){return{"p-highlight":r,"p-disabled":e}},hI=function(r){return{transitionParams:r}},v4=function(r){return{value:"visible",params:r}},p4=function(r){return{value:"hidden",params:r}},g4=["*","p-header"],y4=["*"],m4=0,dI=function(){var t=function(){function r(e,n){y(this,r),this.changeDetector=n,this.cache=!0,this.selectedChange=new Ce,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-".concat(m4++),this.accordion=e}return g(r,[{key:"selected",get:function(){return this._selected},set:function(n){this._selected=n,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){"header"===i.getType()?n.headerTemplate=i.template:n.contentTemplate=i.template})}},{key:"toggle",value:function(n){if(this.disabled)return!1;var i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:n,index:i});else{if(!this.accordion.multiple)for(var a=0;a<this.accordion.tabs.length;a++)this.accordion.tabs[a].selected&&(this.accordion.tabs[a].selected=!1,this.accordion.tabs[a].selectedChange.emit(!1),this.accordion.tabs[a].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:n,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),n.preventDefault()}},{key:"findTabIndex",value:function(){for(var n=-1,i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){n=i;break}return n}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(n){(32===n.which||13===n.which)&&(this.toggle(n),n.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(it(function(){return vI})),T(Lr))},t.\u0275cmp=$t({type:t,selectors:[["p-accordionTab"]],contentQueries:function(e,n,i){var a;1&e&&(ha(i,o3,4),ha(i,Sh,4)),2&e&&(vn(a=pn())&&(n.headerFacet=a),vn(a=pn())&&(n.templates=a))},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:g4,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,n){1&e&&(Vs(f4),A(0,"div",0),A(1,"div",1),A(2,"a",2),ue("click",function(a){return n.toggle(a)})("keydown",function(a){return n.onKeydown(a)}),Ft(3,"span",3),ce(4,o4,2,1,"span",4),ce(5,s4,1,0,"ng-container",5),ce(6,u4,1,0,"ng-content",6),O(),O(),A(7,"div",7),A(8,"div",8),Eo(9),ce(10,c4,2,1,"ng-container",6),O(),O(),O()),2&e&&(P("ngClass",dn(15,h4,n.selected)),N(1),P("ngClass",bo(17,d4,n.selected,n.disabled)),N(1),yt("tabindex",n.disabled?null:0)("id",n.id)("aria-controls",n.id+"-content")("aria-expanded",n.selected),N(1),P("ngClass",n.selected?n.accordion.collapseIcon:n.accordion.expandIcon),N(1),P("ngIf",!n.hasHeaderFacet),N(1),P("ngTemplateOutlet",n.headerTemplate),N(1),P("ngIf",n.hasHeaderFacet),N(1),P("@tabContent",n.selected?dn(22,v4,dn(20,hI,n.transitionOptions)):dn(26,p4,dn(24,hI,n.transitionOptions))),yt("id",n.id+"-content")("aria-hidden",!n.selected)("aria-labelledby",n.id),N(3),P("ngIf",n.contentTemplate&&(n.cache?n.loaded:n.selected)))},directives:[Vi,Br,Qs],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}\n"],encapsulation:2,data:{animation:[Ql("tabContent",[xy("hidden",zr({height:"0",overflow:"hidden"})),xy("visible",zr({height:"*"})),_a("visible <=> hidden",[zr({overflow:"hidden"}),qa("{{transitionParams}}")]),_a("void => *",qa(0))])]},changeDetection:0}),t}(),vI=function(){var t=function(){function r(e,n){y(this,r),this.el=e,this.changeDetector=n,this.onClose=new Ce,this.onOpen=new Ce,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new Ce,this.tabs=[]}return g(r,[{key:"ngAfterContentInit",value:function(){var n=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(i){n.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(n){this._activeIndex=n,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var n=0;n<this.tabs.length;n++){var i=this.multiple?this._activeIndex.includes(n):n===this._activeIndex;i!==this.tabs[n].selected&&(this.tabs[n].selected=i,this.tabs[n].selectedChange.emit(i),this.tabs[n].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var n=this,i=this.multiple?[]:null;this.tabs.forEach(function(a,o){if(a.selected){if(!n.multiple)return void(i=o);i.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(i)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(Lr))},t.\u0275cmp=$t({type:t,selectors:[["p-accordion"]],contentQueries:function(e,n,i){var a;1&e&&ha(i,dI,4),2&e&&vn(a=pn())&&(n.tabList=a)},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:y4,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,n){1&e&&(Vs(),A(0,"div",0),Eo(1),O()),2&e&&(gr(n.styleClass),P("ngClass","p-accordion p-component")("ngStyle",n.style))},directives:[Vi,Ga],encapsulation:2,changeDetection:0}),t}(),_4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr],wh]}),t}(),C4=function(){var t=function(){function r(e,n,i){y(this,r),this.el=e,this.ngModel=n,this.cd=i}return g(r,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(n){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(jh,8),T(Lr))},t.\u0275dir=le({type:t,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,n){1&e&&ue("input",function(a){return n.onInput(a)}),2&e&&So("p-filled",n.filled)}}),t}(),E4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}(),S4=["rb"],w4=function(r,e,n){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":r,"p-disabled":e,"p-radiobutton-label-focus":n}};function b4(t,r){if(1&t){var e=tn();A(0,"label",4),ue("click",function(o){return he(e),H().select(o)}),ht(1),O()}if(2&t){var n=H(),i=ca(3);gr(n.labelStyleClass),P("ngClass",To(5,w4,i.checked,n.disabled,n.focused)),yt("for",n.inputId),N(1),ci(n.label)}}var T4=function(r,e,n){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":r,"p-radiobutton-disabled":e,"p-radiobutton-focused":n}},D4=function(r,e,n){return{"p-radiobutton-box":!0,"p-highlight":r,"p-disabled":e,"p-focus":n}},k4={provide:_r,useExisting:it(function(){return pI}),multi:!0},I4=function(){var t=function(){function r(){y(this,r),this.accessors=[]}return g(r,[{key:"add",value:function(n,i){this.accessors.push([n,i])}},{key:"remove",value:function(n){this.accessors=this.accessors.filter(function(i){return i[1]!==n})}},{key:"select",value:function(n){var i=this;this.accessors.forEach(function(a){i.isSameGroup(a,n)&&a[1]!==n&&a[1].writeValue(n.value)})}},{key:"isSameGroup",value:function(n,i){return!!n[0].control&&n[0].control.root===i.control.control.root&&n[1].name===i.name}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pI=function(){var t=function(){function r(e,n,i){y(this,r),this.cd=e,this.injector=n,this.registry=i,this.onClick=new Ce,this.onFocus=new Ce,this.onBlur=new Ce,this.onModelChange=function(){},this.onModelTouched=function(){}}return g(r,[{key:"ngOnInit",value:function(){this.control=this.injector.get(Ca),this.checkName(),this.registry.add(this.control,this)}},{key:"handleClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&(this.select(n),a&&i.focus())}},{key:"select",value:function(n){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(n))}},{key:"writeValue",value:function(n){this.checked=n==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"onInputFocus",value:function(n){this.focused=!0,this.onFocus.emit(n)}},{key:"onInputBlur",value:function(n){this.focused=!1,this.onModelTouched(),this.onBlur.emit(n)}},{key:"onChange",value:function(n){this.select(n)}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){this.registry.remove(this)}},{key:"checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"throwNameError",value:function(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lr),T(fn),T(I4))},t.\u0275cmp=$t({type:t,selectors:[["p-radioButton"]],viewQuery:function(e,n){var i;1&e&&di(S4,5),2&e&&vn(i=pn())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[ot([k4])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,n){if(1&e){var i=tn();A(0,"div",0),A(1,"div",1),A(2,"input",2,3),ue("change",function(o){return n.onChange(o)})("focus",function(o){return n.onInputFocus(o)})("blur",function(o){return n.onInputBlur(o)}),O(),O(),A(4,"div",4),ue("click",function(o){he(i);var s=ca(3);return n.handleClick(o,s,!0)}),Ft(5,"span",5),O(),O(),ce(6,b4,2,9,"label",6)}2&e&&(gr(n.styleClass),P("ngStyle",n.style)("ngClass",To(15,T4,n.checked,n.disabled,n.focused)),N(2),P("checked",n.checked)("disabled",n.disabled),yt("id",n.inputId)("name",n.name)("value",n.value)("tabindex",n.tabindex)("aria-checked",n.checked)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledBy),N(2),P("ngClass",To(19,D4,n.checked,n.disabled,n.focused)),N(2),P("ngIf",n.label))},directives:[Ga,Vi,Br],encapsulation:2,changeDetection:0}),t}(),A4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}(),O4=["cb"],M4=function(r,e,n){return{"p-checkbox-label":!0,"p-checkbox-label-active":r,"p-disabled":e,"p-checkbox-label-focus":n}};function R4(t,r){if(1&t){var e=tn();A(0,"label",7),ue("click",function(a){he(e);var o=H(),s=ca(3);return o.onClick(a,s,!0)}),ht(1),O()}if(2&t){var n=H();gr(n.labelStyleClass),P("ngClass",To(5,M4,n.checked(),n.disabled,n.focused)),yt("for",n.inputId),N(1),ci(n.label)}}var P4=function(r,e,n){return{"p-checkbox p-component":!0,"p-checkbox-checked":r,"p-checkbox-disabled":e,"p-checkbox-focused":n}},x4=function(r,e,n){return{"p-highlight":r,"p-disabled":e,"p-focus":n}},F4={provide:_r,useExisting:it(function(){return gI}),multi:!0},gI=function(){var t=function(){function r(e){y(this,r),this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new Ce,this.onModelChange=function(){},this.onModelTouched=function(){},this.focused=!1}return g(r,[{key:"onClick",value:function(n,i,a){n.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(n),a&&i.focus())}},{key:"updateModel",value:function(n){var a,i=this;this.binary?(a=this.checked()?this.falseValue:this.trueValue,this.model=a,this.onModelChange(a)):(a=this.checked()?this.model.filter(function(o){return!zt.equals(o,i.value)}):this.model?[].concat(Z(this.model),[this.value]):[this.value],this.onModelChange(a),this.model=a,this.formControl&&this.formControl.setValue(a)),this.onChange.emit({checked:a,originalEvent:n})}},{key:"handleChange",value:function(n){this.readonly||this.updateModel(n)}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1,this.onModelTouched()}},{key:"focus",value:function(){this.inputViewChild.nativeElement.focus()}},{key:"writeValue",value:function(n){this.model=n,this.cd.markForCheck()}},{key:"registerOnChange",value:function(n){this.onModelChange=n}},{key:"registerOnTouched",value:function(n){this.onModelTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this.cd.markForCheck()}},{key:"checked",value:function(){return this.binary?this.model===this.trueValue:zt.contains(this.value,this.model)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lr))},t.\u0275cmp=$t({type:t,selectors:[["p-checkbox"]],viewQuery:function(e,n){var i;1&e&&di(O4,5),2&e&&vn(i=pn())&&(n.inputViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[ot([F4])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(1&e){var i=tn();A(0,"div",0),A(1,"div",1),A(2,"input",2,3),ue("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(o){return n.handleChange(o)}),O(),O(),A(4,"div",4),ue("click",function(o){he(i);var s=ca(3);return n.onClick(o,s,!0)}),Ft(5,"span",5),O(),O(),ce(6,R4,2,9,"label",6)}2&e&&(gr(n.styleClass),P("ngStyle",n.style)("ngClass",To(18,P4,n.checked(),n.disabled,n.focused)),N(2),P("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),yt("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),N(2),P("ngClass",To(22,x4,n.checked(),n.disabled,n.focused)),N(1),P("ngClass",n.checked()?n.checkboxIcon:null),N(1),P("ngIf",n.label))},directives:[Ga,Vi,Br],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),t}(),L4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}();function N4(t,r){1&t&&Ft(0,"div",16)}function V4(t,r){if(1&t&&Ft(0,"app-info-card",19),2&t){var e=H().$implicit,n=H(2);P("message",e)("showMapLink",!0)("userPos",n.position)}}function B4(t,r){if(1&t&&(A(0,"div"),ce(1,V4,1,3,"app-info-card",18),O()),2&t){var e=r.$implicit,n=H(2);N(1),P("ngIf",n.matchesKeyword(e)&&n.matchesFilter(e))}}function H4(t,r){if(1&t&&(A(0,"div"),ce(1,B4,2,1,"div",17),O()),2&t){var e=H();N(1),P("ngForOf",e.messages)}}function U4(t,r){if(1&t){var e=tn();A(0,"div",20),A(1,"p-accordion"),A(2,"p-accordionTab",21),A(3,"div",22),A(4,"div",23),Ft(5,"i",24),A(6,"input",25),ue("ngModelChange",function(a){return he(e),H().keyword=a}),O(),O(),A(7,"span",26),A(8,"button",27),ue("click",function(){return he(e),H().onClear()}),O(),O(),O(),A(9,"div",28),A(10,"div",29),A(11,"div",30),ht(12," Sortering "),O(),A(13,"div",31),A(14,"p-radioButton",32),ue("onClick",function(){return he(e),H().onSortOrderChanged()})("ngModelChange",function(a){return he(e),H().sortOrder=a}),O(),O(),A(15,"div",31),A(16,"p-radioButton",33),ue("onClick",function(){return he(e),H().onSortOrderChanged()})("ngModelChange",function(a){return he(e),H().sortOrder=a}),O(),O(),A(17,"div",31),A(18,"p-radioButton",34),ue("onClick",function(){return he(e),H().onSortOrderChanged()})("ngModelChange",function(a){return he(e),H().sortOrder=a}),O(),O(),O(),A(19,"div",29),A(20,"div",30),ht(21," Filtrering "),O(),A(22,"div",35),A(23,"p-checkbox",36),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().settings.showTodayOnly=a}),O(),O(),A(24,"div",35),A(25,"p-checkbox",37),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().settings.showTrafficIncidentsOnly=a}),O(),O(),A(26,"div",35),A(27,"p-checkbox",38),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().settings.includeSubcategoryRoadwork=a}),O(),O(),A(28,"div",35),A(29,"p-checkbox",39),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().settings.showPublicTransportOnly=a}),O(),O(),A(30,"div",35),A(31,"p-checkbox",40),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().settings.showRoadTrafficOnly=a}),O(),O(),A(32,"div",35),A(33,"p-checkbox",41),ue("onChange",function(){return he(e),H().onCheckChanged()})("ngModelChange",function(a){return he(e),H().showOnlyWithinRadius=a}),O(),O(),O(),O(),O(),O(),O()}if(2&t){var n=H();N(6),P("ngModel",n.keyword),N(2),P("disabled",n.isLoading),N(6),P("ngModel",n.sortOrder),N(2),P("ngModel",n.sortOrder),N(2),P("ngModel",n.sortOrder)("disabled",!n.position.lat),N(5),P("ngModel",n.settings.showTodayOnly),N(2),P("ngModel",n.settings.showTrafficIncidentsOnly),N(2),P("ngModel",n.settings.includeSubcategoryRoadwork),N(2),P("ngModel",n.settings.showPublicTransportOnly),N(2),P("ngModel",n.settings.showRoadTrafficOnly),N(2),P("ngModel",n.showOnlyWithinRadius)("disabled",!n.position.lat)}}var Fo=function(){return function(t){t.highestPriority="1",t.leastDistance="2",t.latestDate="3"}(Fo||(Fo={})),Fo}(),j4=function(){var t=function(){function r(e,n,i,a){y(this,r),this.broker=e,this.service=n,this.logger=i,this.localStorageService=a,this.settings={showTodayOnly:!1,showRoadTrafficOnly:!1,showPublicTransportOnly:!1,showTrafficIncidentsOnly:!1,includeSubcategoryRoadwork:!1},this.sortOrder=Fo.highestPriority,this.AppSettingsKey="srtrafficsettings",this.radiusKm=100,this.isLoading=!1,this.showOnlyWithinRadius=!1,this.position={lng:void 0,lat:void 0,info:void 0,id:void 0},this.keyword="",this.geolocationAvailable=!1}return g(r,[{key:"ngOnInit",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){var i;return rt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.geolocationAvailable="geolocation"in navigator,(i=this.localStorageService.get(this.AppSettingsKey))?this.settings=i:this.logger.logInfo("No previous settings found"),o.next=5,this.fillTrafficAreaDropDown();case 5:case"end":return o.stop()}},n,this)}))}},{key:"onFetchPosition",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){var i=this;return rt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,navigator.geolocation.getCurrentPosition(function(s){return $n(i,void 0,void 0,rt().mark(function u(){return rt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.allTrafficAreas){c.next=3;break}return c.next=3,this.fillTrafficAreaDropDown();case 3:return this.position.lat=s.coords.latitude,this.position.lng=s.coords.longitude,c.next=7,this.service.fetchClosestTrafficAreaForPosition(this.position);case 7:return this.trafficArea=c.sent,this.selectedArea=this.trafficArea.trafficdepartmentunitid,c.next=11,this.fetchMessages();case 11:case"end":return c.stop()}},u,this)}))},function(s){i.broker.sendMessage(new iu(s.message))}),o.next=10;break;case 4:return o.prev=4,o.t0=o.catch(0),this.broker.sendMessage(new iu("Geolocation is not available")),this.selectedArea=0,o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},n,this,[[0,4]])}))}},{key:"onShowUserOnMap",value:function(){this.broker.sendMessage(new Eh([],this.position,"Din position"))}},{key:"onShowAllPositionsOnMap",value:function(){var i,n=this;if(this.messages){var a=[];if(this.messages.filter(function(s){return n.matchesKeyword(s)&&n.matchesFilter(s)}).forEach(function(s){var u={lat:s.latitude,lng:s.longitude,info:"".concat(s.priorityName,": ").concat(s.title," (").concat(s.subCategory,")"),id:s.id};a.push(u)}),0!=a.length){var o=(null===(i=this.trafficArea)||void 0===i?void 0:i.name)?"Trafikomr\xe5de: ".concat(this.trafficArea.name):"Hela Sverige";this.broker.sendMessage(new Eh(a,this.position,o))}}}},{key:"matchesKeyword",value:function(n){if(!this.keyword||this.keyword.length<2)return!0;var i=new RegExp(this.keyword,"gi");return!!(n.title.match(i)||n.description.match(i)||n.exactLocation.match(i)||n.priorityName.match(i)||n.categoryName.match(i))}},{key:"onAreaChanged",value:function(n){return $n(this,void 0,void 0,rt().mark(function i(){return rt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.keyword="",0!=n.value){o.next=7;break}return this.trafficArea=null,o.next=5,this.fetchMessages();case 5:o.next=10;break;case 7:return this.trafficArea=this.getAreaFromId(n.value),o.next=10,this.fetchMessages();case 10:case"end":return o.stop()}},i,this)}))}},{key:"onRefresh",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){return rt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.fetchMessages();case 2:case"end":return a.stop()}},n,this)}))}},{key:"onSortOrderChanged",value:function(){this.sortMessages()}},{key:"numFilteredMessagesInfo",value:function(){var n=this;if(!this.messages||this.messages.length<1)return"";var i=this.messages.filter(function(s){return n.matchesFilter(s)&&n.matchesKeyword(s)}).length,a=0===i?"Inga":"".concat(i);return 1===i?"1 meddelande":"".concat(a," meddelanden")}},{key:"onClear",value:function(){this.keyword=""}},{key:"matchesFilter",value:function(n){if(n.category===ou.\u00d6vrigt||n.category!==ou.V\u00e4gtrafik&&this.settings.showRoadTrafficOnly||n.subCategory!==ql.TrafikOlycka&&this.settings.showTrafficIncidentsOnly||n.subCategory===ql.V\u00e4garbete&&!this.settings.includeSubcategoryRoadwork)return!1;var i=(new Date).getDate();return!(n.createdDate.getDate()!==i&&this.settings.showTodayOnly||this.settings.showPublicTransportOnly&&n.category!==ou.Kollektivtrafik)&&!(this.showOnlyWithinRadius&&this.position&&this.position.lat&&this.position.lng&&MD(this.position.lat,this.position.lng,n.latitude,n.longitude)>this.radiusKm)}},{key:"hasMessagesToDisplay",value:function(){var n=this;return!(!this.messages||this.messages.length<1)&&this.messages.filter(function(a){return n.matchesFilter(a)&&n.matchesKeyword(a)}).length>0}},{key:"onCheckChanged",value:function(){this.localStorageService.set(this.AppSettingsKey,this.settings)}},{key:"fillTrafficAreaDropDown",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){var i,a;return rt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.service.fetchAllTrafficAreas();case 2:this.allTrafficAreas=s.sent,this.areaOptions=[],this.areaOptions.push({label:"Hela Sverige",value:0}),a=this.allTrafficAreas.map(function(u){return{label:u.name,value:u.trafficdepartmentunitid}}),(i=this.areaOptions).push.apply(i,Z(a));case 7:case"end":return s.stop()}},n,this)}))}},{key:"getAreaFromId",value:function(n){return this.allTrafficAreas.find(function(a){return a.trafficdepartmentunitid===n})}},{key:"fetchMessages",value:function(){var n;return $n(this,void 0,void 0,rt().mark(function i(){return rt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,this.isLoading=!0,this.messages=[],!(null===(n=this.trafficArea)||void 0===n?void 0:n.name)){o.next=9;break}return o.next=6,this.service.fetchAllTrafficMessagesForArea(this.trafficArea.name,this.position);case 6:this.messages=o.sent,o.next=12;break;case 9:return o.next=11,this.service.fetchAllTrafficMessages(this.position);case 11:this.messages=o.sent;case 12:this.sortMessages(),o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(0),this.logger.logError(o.t0),o.abrupt("return");case 19:return o.prev=19,this.isLoading=!1,o.finish(19);case 22:case"end":return o.stop()}},i,this,[[0,15,19,22]])}))}},{key:"sortMessages",value:function(){switch(this.sortOrder){case Fo.leastDistance:this.messages.sort(function(n,i){return n.distance-i.distance||i.createdDate.getTime()-n.createdDate.getTime()});break;case Fo.highestPriority:this.messages.sort(function(n,i){return n.priority-i.priority||i.createdDate.getTime()-n.createdDate.getTime()});break;case Fo.latestDate:this.messages.sort(function(n,i){return i.createdDate.getTime()-n.createdDate.getTime()})}}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ro),T(WD),T(Wl),T(t3))},t.\u0275cmp=$t({type:t,selectors:[["app-messages"]],decls:19,vars:10,consts:[[1,"outer"],[1,"headline"],[1,"controls-container"],[1,"p-grid","thegrid"],[1,"p-col-12","p-md-6","p-lg-4"],["pButton","","icon","pi pi-compass","iconPos","right","label","H\xe4mta ditt n\xe4rmaste omr\xe5de",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-12","p-md-6","p-lg-4","center","area-dd"],["placeholder","V\xe4lj omr\xe5de",3,"disabled","ngModel","options","onChange","ngModelChange"],[1,"p-col-12","p-md-12","p-lg-4"],["pButton","","icon","pi pi-refresh","iconPos","right","label","H\xe4mta nya meddelanden",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-6","p-lg-6","center","num-msg-ctn"],[1,"p-col-6","p-lg-6"],["pButton","","icon","pi pi-globe","iconPos","right","label","Visa alla p\xe5 kartan",1,"sr-button-wide",3,"disabled","click"],["class","p-col-12 p-lg-12",4,"ngIf","ngIfElse"],[4,"ngIf"],["sortfilt",""],[1,"p-col-12","p-lg-12"],[4,"ngFor","ngForOf"],[3,"message","showMapLink","userPos",4,"ngIf"],[3,"message","showMapLink","userPos"],[1,"sortfilt-ctn"],["header","Sortering & filtrering"],[1,"search-ctn"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","S\xf6k",3,"ngModel","ngModelChange"],[1,"clear-btn"],["pButton","","iconPos","right","label","T\xf6m",3,"disabled","click"],["styleClass","sortfilt-content",1,"p-grid"],[1,"p-col-6"],[1,"sort-filt-label"],[1,"p-field-radiobutton"],["value","1","label","H\xf6gst prioritet",3,"ngModel","onClick","ngModelChange"],["value","3","label","Senaste",3,"ngModel","onClick","ngModelChange"],["value","2","label","N\xe4rmast",3,"ngModel","disabled","onClick","ngModelChange"],[1,"p-field-checkbox"],["binary","true","label","Publicerad idag",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast olyckor",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa v\xe4garbeten",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast kollektivtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa endast v\xe4gtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Inom 100km radie",3,"ngModel","disabled","onChange","ngModelChange"]],template:function(e,n){if(1&e&&(A(0,"div",0),A(1,"div",1),ht(2,"Trafikinformation fr\xe5n SR"),O(),A(3,"div",2),A(4,"div",3),A(5,"div",4),A(6,"button",5),ue("click",function(){return n.onFetchPosition()}),O(),O(),A(7,"div",6),A(8,"p-dropdown",7),ue("onChange",function(o){return n.onAreaChanged(o)})("ngModelChange",function(o){return n.selectedArea=o}),O(),O(),A(9,"div",8),A(10,"button",9),ue("click",function(){return n.onRefresh()}),O(),O(),A(11,"div",10),ht(12),O(),A(13,"div",11),A(14,"button",12),ue("click",function(){return n.onShowAllPositionsOnMap()}),O(),O(),ce(15,N4,1,0,"div",13),O(),O(),ce(16,H4,2,1,"div",14),O(),ce(17,U4,34,13,"ng-template",null,15,xf)),2&e){var i=ca(18);N(6),P("disabled",n.isLoading||!n.geolocationAvailable),N(2),P("disabled",n.isLoading)("ngModel",n.selectedArea)("options",n.areaOptions),N(2),P("disabled",void 0===n.selectedArea),N(2),Zn(" ",n.numFilteredMessagesInfo()," "),N(2),P("disabled",n.isLoading||!n.hasMessagesToDisplay()),N(1),P("ngIf",!n.messages||0===n.messages.length)("ngIfElse",i),N(1),P("ngIf",n.messages)}},directives:[u3,cI,xk,jh,Br,Xf,fI,vI,dI,Mh,C4,pI,gI],styles:[".headline[_ngcontent-%COMP%]{margin:10px auto;max-width:300px;font-weight:bolder;font-size:1.5em;color:#7e7e7e}.controls-container[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:0}@media only screen and (min-width: 800px){.controls-container[_ngcontent-%COMP%]{max-width:800px}}.showmap-ctn[_ngcontent-%COMP%]{margin-top:10px;width:400px}.sort-filt-label[_ngcontent-%COMP%]{font-weight:bold;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]  .sortfilt-ctn{width:100%;margin:auto auto auto 4px}.refresh-btn[_ngcontent-%COMP%]{margin-left:20px;font-size:2em;color:#7e7e7e}.thegrid[_ngcontent-%COMP%]{align-items:center}.clear-btn[_ngcontent-%COMP%]{border-radius:10px;width:20px}.num-msg-ctn[_ngcontent-%COMP%]{margin-left:16px;margin-right:-16px}.area-dd[_ngcontent-%COMP%]{padding-right:10px;padding-left:6px}.outer[_ngcontent-%COMP%]{margin-right:8px}"]}),t}(),G4=[{path:"**",component:j4}],z4=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[TD.forRoot(G4,{relativeLinkResolution:"legacy"})],TD]}),t}(),W4=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).info=n,i}return g(e,[{key:"Type",get:function(){return"SuccessInfoMessage"}}]),e}(Ch),q4={},K4={},Y4=function(){var t=function(){function r(){y(this,r),this.translations={en:q4,sv:K4}}return g(r,[{key:"defaultLangCode",set:function(n){this.fallBackLangCode=n}},{key:"currentLocale",set:function(n){this.localeToUse=n,this.currLangCode=this.localeToUse.slice(0,2)}},{key:"translate",value:function(n){if(this.translations[this.currLangCode]&&this.translations[this.currLangCode][n]){var i=this.translations[this.currLangCode][n];if(""!==i)return i}if(this.translations[this.fallBackLangCode]&&this.translations[this.fallBackLangCode][n]){var a=this.translations[this.fallBackLangCode][n];return""===a?n:a}return n}},{key:"translateWithArgs",value:function(n,i){var a=this.translate(n);return i?this.replace(a,i):a}},{key:"replace",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=n,o=[].concat(i);return o.forEach(function(s,u){s=s.replace(/\$/g,"$$$$"),a=a.replace("{".concat(u)+"}",s)}),a}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),yI=function(t){M(e,t);var r=R(e);function e(n){var i;return y(this,e),(i=r.call(this)).id=n,i}return g(e,[{key:"Type",get:function(){return"ShowInfoSidebarMessage"}}]),e}(Ch),Z4=g(function t(){y(this,t)}),mI=function(){var t=function(){function r(){y(this,r),this.mapInput$=new Hr(null)}return g(r,[{key:"addNewMapInput",value:function(n){this.mapInput=n,this.mapInput$.next(this.mapInput)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function X4(t,r){if(1&t){var e=tn();A(0,"button",7),ue("click",function(a){return he(e),H(2).close(a)})("keydown.enter",function(a){return he(e),H(2).close(a)}),Ft(1,"span",8),O()}2&t&&yt("aria-label",H(2).ariaCloseLabel)}function Q4(t,r){1&t&&Yn(0)}var $4=function(r,e,n,i,a,o){return{"p-sidebar":!0,"p-sidebar-active":r,"p-sidebar-left":e,"p-sidebar-right":n,"p-sidebar-top":i,"p-sidebar-bottom":a,"p-sidebar-full":o}},J4=function(r,e){return{transform:r,transition:e}},e5=function(r){return{value:"visible",params:r}};function t5(t,r){if(1&t){var e=tn();A(0,"div",1,2),ue("@panelState.start",function(a){return he(e),H().onAnimationStart(a)})("@panelState.done",function(a){return he(e),H().onAnimationEnd(a)}),A(2,"div",3),ce(3,X4,2,1,"button",4),O(),A(4,"div",5),Eo(5),ce(6,Q4,1,0,"ng-container",6),O(),O()}if(2&t){var n=H();gr(n.styleClass),P("ngClass",function(t,r,e,n,i,a,o,s,u){var l=Hn()+t,c=L(),f=xr(c,l,e,n,i,a);return Co(c,l+4,o,s)||f?xi(c,l+6,u?r.call(u,e,n,i,a,o,s):r(e,n,i,a,o,s)):function(t,r){return t[r]}(c,l+6)}(8,$4,n.visible,"left"===n.position&&!n.fullScreen,"right"===n.position&&!n.fullScreen,"top"===n.position&&!n.fullScreen,"bottom"===n.position&&!n.fullScreen,n.fullScreen))("@panelState",dn(18,e5,bo(15,J4,n.transformOptions,n.transitionOptions)))("ngStyle",n.style),yt("aria-modal",n.modal),N(3),P("ngIf",n.showCloseIcon),N(3),P("ngTemplateOutlet",n.contentTemplate)}}var n5=["*"],r5=pk([zr({transform:"{{transform}}",opacity:0}),qa("{{transition}}")]),i5=pk([qa("{{transition}}",zr({transform:"{{transform}}",opacity:0}))]),_I=function(){var t=function(){function r(e,n,i,a){y(this,r),this.el=e,this.renderer=n,this.cd=i,this.config=a,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new Ce,this.onHide=new Ce,this.visibleChange=new Ce,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}return g(r,[{key:"ngAfterViewInit",value:function(){this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.contentTemplate=i.template})}},{key:"visible",get:function(){return this._visible},set:function(n){this._visible=n}},{key:"position",get:function(){return this._position},set:function(n){switch(this._position=n,n){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}},{key:"fullScreen",get:function(){return this._fullScreen},set:function(n){this._fullScreen=n,n&&(this.transformOptions="none")}},{key:"show",value:function(){this.autoZIndex&&Gr.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}},{key:"hide",value:function(){this.onHide.emit({}),this.modal&&this.disableModality()}},{key:"close",value:function(n){this.hide(),this.visibleChange.emit(!1),n.preventDefault()}},{key:"enableModality",value:function(){var n=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),ae.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",function(i){n.dismissible&&n.close(i)})),document.body.appendChild(this.mask),this.blockScroll&&ae.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(ae.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyModal",value:function(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&ae.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}},{key:"onAnimationStart",value:function(n){"visible"===n.toState&&(this.container=n.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&(this.hide(),Gr.clear(this.container),this.unbindGlobalListeners())}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):ae.appendChild(this.container,this.appendTo))}},{key:"bindDocumentEscapeListener",value:function(){var n=this;this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",function(a){27==a.which&&parseInt(n.container.style.zIndex)===ae.zindex+n.baseZIndex&&n.close(a)})}},{key:"unbindDocumentEscapeListener",value:function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindGlobalListeners",value:function(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"ngOnDestroy",value:function(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&Gr.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Lt),T(fi),T(Lr),T(Kl))},t.\u0275cmp=$t({type:t,selectors:[["p-sidebar"]],contentQueries:function(e,n,i){var a;1&e&&ha(i,Sh,4),2&e&&vn(a=pn())&&(n.templates=a)},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:n5,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(Vs(),ce(0,t5,7,20,"div",0)),2&e&&P("ngIf",n.visible)},directives:[Br,Vi,Ga,Qs,wy],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center;justify-content:flex-end}.p-sidebar-icon{display:flex;align-items:center;justify-content:center}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[Ql("panelState",[_a("void => visible",[gk(r5)]),_a("visible => void",[gk(i5)])])]},changeDetection:0}),t}(),a5=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr,bh]]}),t}();function o5(t,r){if(1&t){var e=tn();A(0,"p-sidebar",1),ue("visibleChange",function(a){return he(e),H().isVisible=a}),A(1,"div",2),A(2,"i",3),ue("click",function(){return he(e),H().close()}),O(),O(),Ft(3,"app-info-card",4),O()}if(2&t){var n=H();P("visible",n.isVisible)("showCloseIcon",!1),N(3),P("message",n.trafficMessage)}}var s5=function(){var t=function(){function r(e,n){y(this,r),this.broker=e,this.service=n,this.unsubscribe$=new nt,this.isVisible=!1}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(Wa(this.unsubscribe$),En(function(i){return i instanceof yI})).subscribe(function(i){n.trafficMessage=n.service.getCachedMessageFromId(i.id),n.trafficMessage&&(n.isVisible=!0)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ro),T(WD))},t.\u0275cmp=$t({type:t,selectors:[["app-info-sidebar"]],decls:1,vars:1,consts:[["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-down","close-button","clickable",3,"click"],[3,"message"]],template:function(e,n){1&e&&ce(0,o5,4,3,"p-sidebar",0),2&e&&P("ngIf",!0)},directives:[Br,_I,fI],encapsulation:2}),t}(),u5=function(){function t(r){this.type=r,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Ea=u5,l5=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}(),rm=l5;function No(t,r){return t>r?1:t<r?-1:0}function im(t,r){return t.indexOf(r)>=0}function am(t,r,e){var n=t.length;if(t[0]<=r)return 0;if(r<=t[n-1])return n-1;var i=void 0;if(e>0){for(i=1;i<n;++i)if(t[i]<r)return i-1}else if(e<0){for(i=1;i<n;++i)if(t[i]<=r)return i}else for(i=1;i<n;++i){if(t[i]==r)return i;if(t[i]<r)return t[i-1]-r<r-t[i]?i-1:i}return n-1}function c5(t,r,e){for(;r<e;){var n=t[r];t[r]=t[e],t[e]=n,++r,--e}}function zh(t,r){for(var e=Array.isArray(r)?r:[r],n=e.length,i=0;i<n;i++)t[t.length]=e[i]}function nc(t,r){var e=t.length;if(e!==r.length)return!1;for(var n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}function Za(){return!0}function rc(){return!1}function Vo(){}var xn="function"==typeof Object.assign?Object.assign:function(t,r){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,i=arguments.length;n<i;++n){var a=arguments[n];if(null!=a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e};function fu(t){for(var r in t)delete t[r]}var CI="function"==typeof Object.values?Object.values:function(t){var r=[];for(var e in t)r.push(t[e]);return r};function ic(t){var r;for(r in t)return!1;return!r}var d5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v5=function(t){function r(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return d5(r,t),r.prototype.addEventListener=function(e,n){if(e&&n){var i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);-1===a.indexOf(n)&&a.push(n)}},r.prototype.dispatchEvent=function(e){var n="string"==typeof e?new Ea(e):e,i=n.type;n.target||(n.target=this.eventTarget_||this);var o,a=this.listeners_&&this.listeners_[i];if(a){var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,u[i]=0),++s[i];for(var l=0,c=a.length;l<c;++l)if(!1===(o="handleEvent"in a[l]?a[l].handleEvent(n):a[l].call(this,n))||n.propagationStopped){o=!1;break}if(--s[i],0===s[i]){var f=u[i];for(delete u[i];f--;)this.removeEventListener(i,Vo);delete s[i]}return o}},r.prototype.disposeInternal=function(){this.listeners_&&fu(this.listeners_)},r.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},r.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},r.prototype.removeEventListener=function(e,n){var i=this.listeners_&&this.listeners_[e];if(i){var a=i.indexOf(n);-1!==a&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=Vo,++this.pendingRemovals_[e]):(i.splice(a,1),0===i.length&&delete this.listeners_[e]))}},r}(rm),hu=v5;function lt(t,r,e,n,i){if(n&&n!==t&&(e=e.bind(n)),i){var a=e;e=function(){t.removeEventListener(r,e),a.apply(this,arguments)}}var o={target:t,type:r,listener:e};return t.addEventListener(r,e),o}function Wh(t,r,e,n){return lt(t,r,e,n,!0)}function Mt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),fu(t))}var p5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g5=function(t){function r(){var e=t.call(this)||this;return e.revision_=0,e}return p5(r,t),r.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},r.prototype.getRevision=function(){return this.revision_},r.prototype.on=function(e,n){if(Array.isArray(e)){for(var i=e.length,a=new Array(i),o=0;o<i;++o)a[o]=lt(this,e[o],n);return a}return lt(this,e,n)},r.prototype.once=function(e,n){var i;if(Array.isArray(e)){var a=e.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=Wh(this,e[o],n)}else i=Wh(this,e,n);return n.ol_key=i,i},r.prototype.un=function(e,n){var i=n.ol_key;if(i)!function(t){if(Array.isArray(t))for(var r=0,e=t.length;r<e;++r)Mt(t[r]);else Mt(t)}(i);else if(Array.isArray(e))for(var a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],n);else this.removeEventListener(e,n)},r}(hu),EI=g5;function ze(){return function(){throw new Error("Unimplemented abstract method.")}()}var m5=0;function Ye(t){return t.ol_uid||(t.ol_uid=String(++m5))}var SI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wI=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.key=n,a.oldValue=i,a}return SI(r,t),r}(Ea),_5=function(t){function r(e){var n=t.call(this)||this;return Ye(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return SI(r,t),r.prototype.get=function(e){var n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n},r.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},r.prototype.getProperties=function(){return this.values_&&xn({},this.values_)||{}},r.prototype.hasProperties=function(){return!!this.values_},r.prototype.notify=function(e,n){var i;i=Ui(e),this.dispatchEvent(new wI(i,e,n)),this.dispatchEvent(new wI(i="propertychange",e,n))},r.prototype.set=function(e,n,i){var a=this.values_||(this.values_={});if(i)a[e]=n;else{var o=a[e];a[e]=n,o!==n&&this.notify(e,o)}},r.prototype.setProperties=function(e,n){for(var i in e)this.set(i,e[i],n)},r.prototype.applyProperties=function(e){!e.values_||xn(this.values_||(this.values_={}),e.values_)},r.prototype.unset=function(e,n){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],ic(this.values_)&&(this.values_=null),n||this.notify(e,i)}},r}(EI),sm={};function Ui(t){return sm.hasOwnProperty(t)?sm[t]:sm[t]="change:"+t}var ji=_5,du="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",C5=-1!==du.indexOf("firefox"),E5=(-1!==du.indexOf("safari")&&du.indexOf("chrom"),-1!==du.indexOf("webkit")&&-1==du.indexOf("edge")),S5=-1!==du.indexOf("macintosh"),Kh="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,Yh="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,bI="undefined"!=typeof Image&&Image.prototype.decode,TI=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,r),window.removeEventListener("_",null,r)}catch(e){}return t}();function Jn(t,r,e){var n=e&&e.length?e.shift():Yh?new OffscreenCanvas(t||300,r||300):document.createElement("canvas");return t&&(n.width=t),r&&(n.height=r),n.getContext("2d")}function DI(t,r){var e=r.parentNode;e&&e.replaceChild(t,r)}function um(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var T5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D5=function(t){function r(e){var n=t.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return T5(r,t),r.prototype.disposeInternal=function(){um(this.element),t.prototype.disposeInternal.call(this)},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(e){this.map_&&um(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)Mt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Vo&&this.listenerKeys.push(lt(e,"postrender",this.render,this)),e.render())},r.prototype.render=function(e){},r.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},r}(ji),lm=D5,Zh="ol-hidden",Xh="ol-unselectable",cm="ol-control",kI="ol-collapsed",k5=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),II=["style","variant","weight","size","lineHeight","family"],AI=function(r){var e=r.match(k5);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,a=II.length;i<a;++i){var o=e[i+1];void 0!==o&&(n[II[i]]=o)}return n.families=n.family.split(/,\s?/),n},I5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),A5=function(t){function r(e){var n=this,a="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,a)||this).code=e,n.name="AssertionError",n.message=a,n}return I5(r,t),r}(Error),OI=A5;function Ze(t,r){if(!t)throw new OI(r)}function Sn(t,r,e){return Math.min(Math.max(t,r),e)}var O5="cosh"in Math?Math.cosh:function(e){var n=Math.exp(e);return(n+1/n)/2},M5="log2"in Math?Math.log2:function(e){return Math.log(e)*Math.LOG2E};function R5(t,r,e,n,i,a){var o=i-e,s=a-n;if(0!==o||0!==s){var u=((t-e)*o+(r-n)*s)/(o*o+s*s);u>1?(e=i,n=a):u>0&&(e+=o*u,n+=s*u)}return vu(t,r,e,n)}function vu(t,r,e,n){var i=e-t,a=n-r;return i*i+a*a}function Qh(t){return t*Math.PI/180}function pu(t,r){var e=t%r;return e*r<0?e+r:e}function Bo(t,r,e){return t+e*(r-t)}var x5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),F5=function(t){function r(e){var n=t.call(this)||this,i=xn({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,Ze("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return x5(r,t),r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(e){var n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=Sn(Math.round(100*this.getOpacity())/100,0,1),n.sourceState=this.getSourceState(),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i?i:!1===n.managed?1/0:0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},r.prototype.getLayersArray=function(e){return ze()},r.prototype.getLayerStatesArray=function(e){return ze()},r.prototype.getExtent=function(){return this.get("extent")},r.prototype.getMaxResolution=function(){return this.get("maxResolution")},r.prototype.getMinResolution=function(){return this.get("minResolution")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.getOpacity=function(){return this.get("opacity")},r.prototype.getSourceState=function(){return ze()},r.prototype.getVisible=function(){return this.get("visible")},r.prototype.getZIndex=function(){return this.get("zIndex")},r.prototype.setExtent=function(e){this.set("extent",e)},r.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},r.prototype.setMinResolution=function(e){this.set("minResolution",e)},r.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},r.prototype.setMinZoom=function(e){this.set("minZoom",e)},r.prototype.setOpacity=function(e){Ze("number"==typeof e,64),this.set("opacity",e)},r.prototype.setVisible=function(e){this.set("visible",e)},r.prototype.setZIndex=function(e){this.set("zIndex",e)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},r}(ji),MI=F5,L5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N5=function(t){function r(e){var n=this,i=xn({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Ui("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return L5(r,t),r.prototype.getLayersArray=function(e){var n=e||[];return n.push(this),n},r.prototype.getLayerStatesArray=function(e){var n=e||[];return n.push(this.getLayerState()),n},r.prototype.getSource=function(){return this.get("source")||null},r.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Mt(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=lt(e,"change",this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},r.prototype.render=function(e,n){var i=this.getRenderer();if(i.prepareFrame(e))return i.renderFrame(e,n)},r.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Mt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Mt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=lt(e,"precompose",function(n){var a=n.frameState.layerStatesArray,o=this.getLayerState(!1);Ze(!a.some(function(s){return s.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=lt(this,"change",e.render,e),this.changed())},r.prototype.setSource=function(e){this.set("source",e)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},r}(MI);function $h(t,r){if(!t.visible)return!1;var e=r.resolution;if(e<t.minResolution||e>=t.maxResolution)return!1;var n=r.zoom;return n>t.minZoom&&n<=t.maxZoom}var RI=N5,V5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B5=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var a=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:a+"-expand",u=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",l=void 0!==i.collapseClassName?i.collapseClassName:a+"-collpase";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u,n.collapseLabel_.className=l):n.collapseLabel_=u;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(n.label_=document.createElement("span"),n.label_.textContent=c,n.label_.className=s):n.label_=c;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(f),h.addEventListener("click",n.handleClick_.bind(n),!1);var v=n.element;return v.className=a+" "+Xh+" "+cm+(n.collapsed_&&n.collapsible_?" "+kI:"")+(n.collapsible_?"":" ol-uncollapsible"),v.appendChild(n.ulElement_),v.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return V5(r,t),r.prototype.collectSourceAttributions_=function(e){for(var n={},i=[],a=!0,o=e.layerStatesArray,s=0,u=o.length;s<u;++s){var l=o[s];if($h(l,e.viewState)){var c=l.layer.getSource();if(c){var f=c.getAttributions();if(f){var h=f(e);if(h)if(a=a&&!1!==c.getAttributionsCollapsible(),Array.isArray(h))for(var d=0,v=h.length;d<v;++d)h[d]in n||(i.push(h[d]),n[h[d]]=!0);else h in n||(i.push(h),n[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(a),i},r.prototype.updateElement_=function(e){if(e){var n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!nc(n,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var a=0,o=n.length;a<o;++a){var s=document.createElement("li");s.innerHTML=n[a],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},r.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(kI),this.collapsed_?DI(this.collapseLabel_,this.label_):DI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(e){this.updateElement_(e.frameState)},r}(lm),PI=B5,xI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jh=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.element=n,a.index=i,a}return xI(r,t),r}(Ea),H5=function(t){function r(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var o=0,s=i.array_.length;o<s;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return xI(r,t),r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(e){for(var n=0,i=e.length;n<i;++n)this.push(e[n]);return this},r.prototype.forEach=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)e(n[i],i,n)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(e){return this.array_[e]},r.prototype.getLength=function(){return this.get("length")},r.prototype.insertAt=function(e,n){this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Jh("add",n,e))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var n=this.getLength();return this.insertAt(n,e),this.getLength()},r.prototype.remove=function(e){for(var n=this.array_,i=0,a=n.length;i<a;++i)if(n[i]===e)return this.removeAt(i)},r.prototype.removeAt=function(e){var n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Jh("remove",n,e)),n},r.prototype.setAt=function(e,n){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(n,e);var a=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Jh("remove",a,e)),this.dispatchEvent(new Jh("add",n,e))}else{for(var o=i;o<e;++o)this.insertAt(o,void 0);this.insertAt(e,n)}},r.prototype.updateLength_=function(){this.set("length",this.array_.length)},r.prototype.assertUnique_=function(e,n){for(var i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==n)throw new OI(58)},r}(ji),Wr=H5;function LI(t){return Math.pow(t,3)}function gu(t){return 1-LI(1-t)}function fm(t){return 3*t*t-2*t*t*t}function U5(t){return t}var j5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),G5=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var a=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=a+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener("click",n.handleClick_.bind(n),!1);var f=n.element;return f.className=a+" "+Xh+" "+cm,f.appendChild(l),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Zh),n}return j5(r,t),r.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var n=this.getMap().getView();if(n){var i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:gu}):n.setRotation(0))}},r.prototype.render=function(e){var n=e.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var a="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(Zh);o||0!==i?o&&0!==i&&this.element.classList.remove(Zh):this.element.classList.add(Zh)}this.label_.style.transform=a}this.rotation_=i}},r}(lm),z5=G5,W5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),q5=function(t){function r(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:a+"-in",u=void 0!==i.zoomOutClassName?i.zoomOutClassName:a+"-out",l=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",f=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof l?document.createTextNode(l):l),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var v=document.createElement("button");v.className=u,v.setAttribute("type","button"),v.title=h,v.appendChild("string"==typeof c?document.createTextNode(c):c),v.addEventListener("click",n.handleClick_.bind(n,-o),!1);var m=n.element;return m.className=a+" "+Xh+" "+cm,m.appendChild(d),m.appendChild(v),n.duration_=void 0!==i.duration?i.duration:250,n}return W5(r,t),r.prototype.handleClick_=function(e,n){n.preventDefault(),this.zoomByDelta_(e)},r.prototype.zoomByDelta_=function(e){var i=this.getMap().getView();if(i){var a=i.getZoom();if(void 0!==a){var o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:gu})):i.setZoom(o)}}},r}(lm),K5=q5;function NI(t){var r=t||{},e=new Wr;return(void 0===r.zoom||r.zoom)&&e.push(new K5(r.zoomOptions)),(void 0===r.rotate||r.rotate)&&e.push(new z5(r.rotateOptions)),(void 0===r.attribution||r.attribution)&&e.push(new PI(r.attributionOptions)),e}var Y5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z5=function(t){function r(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Ui(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return Y5(r,t),r.prototype.clone=function(){var e=new r(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var i=this.getStyle();return i&&e.setStyle(i),e},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Mt(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=lt(e,"change",this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},r.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:(Ze("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}(e):void 0,this.changed()},r.prototype.setId=function(e){this.id_=e,this.changed()},r.prototype.setGeometryName=function(e){this.removeEventListener(Ui(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Ui(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(ji),VI=Z5,ac={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Sa={};Sa[ac.DEGREES]=2*Math.PI*6370997/360,Sa[ac.FEET]=.3048,Sa[ac.METERS]=1,Sa[ac.USFEET]=1200/3937;var Xa=ac;function Vt(t,r){var e=r[0],n=r[1];return r[0]=t[0]*e+t[2]*n+t[4],r[1]=t[1]*e+t[3]*n+t[5],r}function Gi(t,r,e,n,i,a,o,s){var u=Math.sin(a),l=Math.cos(a);return t[0]=n*l,t[1]=i*u,t[2]=-n*u,t[3]=i*l,t[4]=o*n*l-s*n*u+r,t[5]=o*i*u+s*i*l+e,t}function ed(t,r){var e=function(t){return t[0]*t[3]-t[1]*t[2]}(r);Ze(0!==e,32);var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5];return t[0]=o/e,t[1]=-i/e,t[2]=-a/e,t[3]=n/e,t[4]=(a*u-o*s)/e,t[5]=-(n*u-i*s)/e,t}function td(t){return"matrix("+t.join(", ")+")"}new Array(6);function BI(t){for(var r=[1/0,1/0,-1/0,-1/0],e=0,n=t.length;e<n;++e)_u(r,t[e]);return r}function vm(t,r,e){return e?(e[0]=t[0]-r,e[1]=t[1]-r,e[2]=t[2]+r,e[3]=t[3]+r,e):[t[0]-r,t[1]-r,t[2]+r,t[3]+r]}function HI(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t.slice()}function UI(t,r,e){var n,i;return(n=r<t[0]?t[0]-r:t[2]<r?r-t[2]:0)*n+(i=e<t[1]?t[1]-e:t[3]<e?e-t[3]:0)*i}function nd(t,r){return jI(t,r[0],r[1])}function yu(t,r){return t[0]<=r[0]&&r[2]<=t[2]&&t[1]<=r[1]&&r[3]<=t[3]}function jI(t,r,e){return t[0]<=r&&r<=t[2]&&t[1]<=e&&e<=t[3]}function pm(t,r){var o=r[0],s=r[1],u=0;return o<t[0]?u|=16:o>t[2]&&(u|=4),s<t[1]?u|=8:s>t[3]&&(u|=2),0===u&&(u=1),u}function Wi(t,r,e,n,i){return i?(i[0]=t,i[1]=r,i[2]=e,i[3]=n,i):[t,r,e,n]}function mu(t){return Wi(1/0,1/0,-1/0,-1/0,t)}function uc(t,r){return t[0]==r[0]&&t[2]==r[2]&&t[1]==r[1]&&t[3]==r[3]}function _u(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function zI(t,r,e,n,i){for(;e<n;e+=i)o8(t,r[e],r[e+1]);return t}function o8(t,r,e){t[0]=Math.min(t[0],r),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],r),t[3]=Math.max(t[3],e)}function WI(t,r){var e;return!!((e=r(Cu(t)))||(e=r(lc(t)),e)||(e=r(wu(t)),e)||(e=r(Qa(t)),e))&&e}function rd(t){var r=0;return gm(t)||(r=Bt(t)*mi(t)),r}function Cu(t){return[t[0],t[1]]}function lc(t){return[t[2],t[1]]}function Eu(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function s8(t,r){var e;return"bottom-left"===r?e=Cu(t):"bottom-right"===r?e=lc(t):"top-left"===r?e=Qa(t):"top-right"===r?e=wu(t):Ze(!1,13),e}function qI(t,r,e,n,i){var a=r*n[0]/2,o=r*n[1]/2,s=Math.cos(e),u=Math.sin(e),l=a*s,c=a*u,f=o*s,h=o*u,d=t[0],v=t[1],p=d-l+h,m=d-l-h,C=d+l-h,_=d+l+h,E=v-c-f,S=v-c+f,w=v+c+f,k=v+c-f;return Wi(Math.min(p,m,C,_),Math.min(E,S,w,k),Math.max(p,m,C,_),Math.max(E,S,w,k),i)}function mi(t){return t[3]-t[1]}function Su(t,r,e){var n=e||[1/0,1/0,-1/0,-1/0];return Cr(t,r)?(n[0]=t[0]>r[0]?t[0]:r[0],n[1]=t[1]>r[1]?t[1]:r[1],n[2]=t[2]<r[2]?t[2]:r[2],n[3]=t[3]<r[3]?t[3]:r[3]):mu(n),n}function Qa(t){return[t[0],t[3]]}function wu(t){return[t[2],t[3]]}function Bt(t){return t[2]-t[0]}function Cr(t,r){return t[0]<=r[2]&&t[2]>=r[0]&&t[1]<=r[3]&&t[3]>=r[1]}function gm(t){return t[2]<t[0]||t[3]<t[1]}var d8=function(){function t(r){this.code_=r.code,this.units_=r.units,this.extent_=void 0!==r.extent?r.extent:null,this.worldExtent_=void 0!==r.worldExtent?r.worldExtent:null,this.axisOrientation_=void 0!==r.axisOrientation?r.axisOrientation:"enu",this.global_=void 0!==r.global&&r.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Sa[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!(!r||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},t.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!(!this.global_||!r)},t.prototype.setWorldExtent=function(r){this.worldExtent_=r},t.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),KI=d8,v8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cc=6378137,bu=Math.PI*cc,p8=[-bu,-bu,bu,bu],g8=[-180,-85,180,85],id=cc*Math.log(Math.tan(Math.PI/2)),fc=function(t){function r(e){return t.call(this,{code:e,units:Xa.METERS,extent:p8,global:!0,worldExtent:g8,getPointResolution:function(i,a){return i/O5(a[1]/cc)}})||this}return v8(r,t),r}(KI),YI=[new fc("EPSG:3857"),new fc("EPSG:102100"),new fc("EPSG:102113"),new fc("EPSG:900913"),new fc("http://www.opengis.net/gml/srs/epsg.xml#3857")];var _8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZI=[-180,-90,180,90],E8=6378137*Math.PI/180,hc=function(t){function r(e,n){return t.call(this,{code:e,units:Xa.DEGREES,extent:ZI,axisOrientation:n,global:!0,metersPerUnit:E8,worldExtent:ZI})||this}return _8(r,t),r}(KI),XI=[new hc("CRS:84"),new hc("EPSG:4326","neu"),new hc("urn:ogc:def:crs:OGC:1.3:CRS84"),new hc("urn:ogc:def:crs:OGC:2:84"),new hc("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],ad={},_i={};function od(t,r,e){var n=t.getCode(),i=r.getCode();n in _i||(_i[n]={}),_i[n][i]=e}function ym(t,r,e){var n=e||6371008.8,i=Qh(t[1]),a=Qh(r[1]),o=(a-i)/2,s=Qh(r[0]-t[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(a);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function _m(t,r,e){var n;if(void 0!==r){for(var i=0,a=t.length;i<a;++i)r[i]=t[i];n=r}else n=t.slice();return n}function QI(t,r,e){if(void 0!==r&&t!==r){for(var n=0,i=t.length;n<i;++n)r[n]=t[n];t=r}return t}function k8(t){(function(t,r){ad[t]=r})(t.getCode(),t),od(t,t,_m)}function er(t){return"string"==typeof t?function(t){return ad[t]||ad[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function $I(t,r,e,n){var i,a=(t=er(t)).getPointResolutionFunc();if(a)i=a(r,e),n&&n!==t.getUnits()&&(o=t.getMetersPerUnit())&&(i=i*o/Sa[n]);else{var s=t.getUnits();if(s==Xa.DEGREES&&!n||n==Xa.DEGREES)i=r;else{var o,u=vc(t,er("EPSG:4326"));if(u===QI&&s!==Xa.DEGREES)i=r*t.getMetersPerUnit();else{var l=[e[0]-r/2,e[1],e[0]+r/2,e[1],e[0],e[1]-r/2,e[0],e[1]+r/2];i=(ym((l=u(l,l,2)).slice(0,2),l.slice(2,4))+ym(l.slice(4,6),l.slice(6,8)))/2}void 0!==(o=n?Sa[n]:t.getMetersPerUnit())&&(i/=o)}}return i}function JI(t){(function(t){t.forEach(k8)})(t),t.forEach(function(r){t.forEach(function(e){r!==e&&od(r,e,_m)})})}function Cm(t,r){return t?"string"==typeof t?er(t):t:er(r)}function dc(t,r){return gc(t,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function Tu(t,r){if(t===r)return!0;var e=t.getUnits()===r.getUnits();return(t.getCode()===r.getCode()||vc(t,r)===_m)&&e}function vc(t,r){var i=function(t,r){var e;return t in _i&&r in _i[t]&&(e=_i[t][r]),e}(t.getCode(),r.getCode());return i||(i=QI),i}function pc(t,r){return vc(er(t),er(r))}function gc(t,r,e){return pc(r,e)(t,void 0,t.length)}var Ci=null;function nA(){return Ci}function Em(t,r){return t}function wa(t,r){return t}function Sm(t,r){return t}function jo(t,r){return t}function Go(t,r,e,n,i,a){for(var o=a||[],s=0,u=r;u<e;u+=n){var l=t[u],c=t[u+1];o[s++]=i[0]*l+i[2]*c+i[4],o[s++]=i[1]*l+i[3]*c+i[5]}return a&&o.length!=s&&(o.length=s),o}function rA(t,r,e,n,i,a,o){for(var s=o||[],u=Math.cos(i),l=Math.sin(i),c=a[0],f=a[1],h=0,d=r;d<e;d+=n){var v=t[d]-c,p=t[d+1]-f;s[h++]=c+v*u-p*l,s[h++]=f+v*l+p*u;for(var m=d+2;m<d+n;++m)s[h++]=t[m]}return o&&s.length!=h&&(s.length=h),s}JI(YI),JI(XI),function(t,r,e,n){t.forEach(function(i){r.forEach(function(a){od(i,a,e),od(a,i,n)})})}(XI,YI,function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i){a[o]=bu*t[o]/180;var s=cc*Math.log(Math.tan(Math.PI*(+t[o+1]+90)/360));s>id?s=id:s<-id&&(s=-id),a[o+1]=s}return a},function(t,r,e){var n=t.length,i=e>1?e:2,a=r;void 0===a&&(a=i>2?t.slice():new Array(n));for(var o=0;o<n;o+=i)a[o]=180*t[o]/bu,a[o+1]=360*Math.atan(Math.exp(t[o+1]/cc))/Math.PI-90;return a});var x8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iA=[1,0,0,1,0,0],F8=function(t){function r(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(t){var e,n,i,r=!1;return function(){var a=Array.prototype.slice.call(arguments);return(!r||this!==i||!nc(a,n))&&(r=!0,i=this,n=a,e=t.apply(this,arguments)),e}}(function(n,i,a){if(!a)return this.getSimplifiedGeometry(i);var o=this.clone();return o.applyTransform(a),o.getSimplifiedGeometry(i)}),e}return x8(r,t),r.prototype.simplifyTransformed=function(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)},r.prototype.clone=function(){return ze()},r.prototype.closestPointXY=function(e,n,i,a){return ze()},r.prototype.containsXY=function(e,n){var i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n},r.prototype.getClosestPoint=function(e,n){var i=n||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},r.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},r.prototype.computeExtent=function(e){return ze()},r.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&mu(n),this.extentRevision_=this.getRevision()}return function(t,r){return r?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r):t}(this.extent_,e)},r.prototype.rotate=function(e,n){ze()},r.prototype.scale=function(e,n,i){ze()},r.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},r.prototype.getSimplifiedGeometry=function(e){return ze()},r.prototype.getType=function(){return ze()},r.prototype.applyTransform=function(e){ze()},r.prototype.intersectsExtent=function(e){return ze()},r.prototype.translate=function(e,n){ze()},r.prototype.transform=function(e,n){var i=er(e),a=i.getUnits()==Xa.TILE_PIXELS?function(o,s,u){var l=i.getExtent(),c=i.getWorldExtent(),f=mi(c)/mi(l);return Gi(iA,c[0],c[3],f,-f,0,0,0),Go(o,0,o.length,u,iA,s),pc(i,n)(o,s,u)}:pc(i,n);return this.applyTransform(a),this},r}(ji),L8=F8,N8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),V8=function(t){function r(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return N8(r,t),r.prototype.computeExtent=function(e){return function(t,r,e,n,i){return zI(mu(i),t,0,e,n)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},r.prototype.getCoordinates=function(){return ze()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},r.prototype.getSimplifiedGeometryInternal=function(e){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(e,n){this.stride=aA(e),this.layout=e,this.flatCoordinates=n},r.prototype.setCoordinates=function(e,n){ze()},r.prototype.setLayout=function(e,n,i){var a;if(e)a=aA(e);else{for(var o=0;o<i;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}e=function(t){var r;return 2==t?r="XY":3==t?r="XYZ":4==t&&(r="XYZM"),r}(a=n.length)}this.layout=e,this.stride=a},r.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();rA(i,0,i.length,a,e,n,i),this.changed()}},r.prototype.scale=function(e,n,i){var a=n;void 0===a&&(a=e);var o=i;o||(o=Eu(this.getExtent()));var s=this.getFlatCoordinates();if(s){var u=this.getStride();(function(t,r,e,n,i,a,o,s){for(var u=s||[],l=o[0],c=o[1],f=0,h=0;h<e;h+=n){var v=t[h+1]-c;u[f++]=l+i*(t[h]-l),u[f++]=c+a*v;for(var p=h+2;p<h+n;++p)u[f++]=t[p]}s&&u.length!=f&&(u.length=f)})(s,0,s.length,u,e,a,o,s),this.changed()}},r.prototype.translate=function(e,n){var i=this.getFlatCoordinates();if(i){var a=this.getStride();(function(t,r,e,n,i,a,o){for(var s=o||[],u=0,l=0;l<e;l+=n){s[u++]=t[l]+i,s[u++]=t[l+1]+a;for(var c=l+2;c<l+n;++c)s[u++]=t[c]}o&&s.length!=u&&(s.length=u)})(i,0,i.length,a,e,n,i),this.changed()}},r}(L8);function aA(t){var r;return"XY"==t?r=2:"XYZ"==t||"XYM"==t?r=3:"XYZM"==t&&(r=4),r}var wm=V8;function oA(t,r,e,n){for(var i=0,a=e.length;i<a;++i)for(var o=e[i],s=0;s<n;++s)t[r++]=o[s];return r}var j8=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),G8=function(t){function r(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return j8(r,t),r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){var o=this.flatCoordinates,s=vu(e,n,o[0],o[1]);if(s<a){for(var u=this.stride,l=0;l<u;++l)i[l]=o[l];return i.length=u,s}return a},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(e){return function(t,r){var e=t[0],n=t[1];return Wi(e,n,e,n,r)}(this.flatCoordinates,e)},r.prototype.getType=function(){return"Point"},r.prototype.intersectsExtent=function(e){return jI(e,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,r,e,n){for(var i=0,a=e.length;i<a;++i)t[r++]=e[i];return r}(this.flatCoordinates,0,e),this.changed()},r}(wm),bm=G8,z8=dt(931),uA=dt.n(z8);function qr(t,r){return Array.isArray(t)?t:(void 0===r?r=[t,t]:(r[0]=t,r[1]=t),r)}var K8=function(){function t(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=qr(r.scale),this.displacement_=r.displacement}return t.prototype.clone=function(){var r=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return ze()},t.prototype.getImage=function(r){return ze()},t.prototype.getHitDetectionImage=function(){return ze()},t.prototype.getPixelRatio=function(r){return 1},t.prototype.getImageState=function(){return ze()},t.prototype.getImageSize=function(){return ze()},t.prototype.getHitDetectionImageSize=function(){return ze()},t.prototype.getOrigin=function(){return ze()},t.prototype.getSize=function(){return ze()},t.prototype.setOpacity=function(r){this.opacity_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=qr(r)},t.prototype.listenImageChange=function(r){ze()},t.prototype.load=function(){ze()},t.prototype.unlistenImageChange=function(r){ze()},t}(),lA=K8,cA=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,fA=/^([a-z]*)$|^hsla?\(.*\)$/i;function hA(t){return"string"==typeof t?t:gA(t)}var r,e,Y8=(r={},e=0,function(n){var i;if(r.hasOwnProperty(n))i=r[n];else{if(e>=1024){var a=0;for(var o in r)0==(3&a++)&&(delete r[o],--e)}i=function(t){var r,e,n,i,a;if(fA.exec(t)&&(t=function(t){var r=document.createElement("div");if(r.style.color=t,""!==r.style.color){document.body.appendChild(r);var e=getComputedStyle(r).color;return document.body.removeChild(r),e}return""}(t)),cA.exec(t)){var s,o=t.length-1;s=o<=4?1:2;var u=4===o||8===o;r=parseInt(t.substr(1+0*s,s),16),e=parseInt(t.substr(1+1*s,s),16),n=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(r=(r<<4)+r,e=(e<<4)+e,n=(n<<4)+n,u&&(i=(i<<4)+i)),a=[r,e,n,i/255]}else 0==t.indexOf("rgba(")?pA(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),pA(a)):Ze(!1,14);return a}(n),r[n]=i,++e}return i});function vA(t){return Array.isArray(t)?t:Y8(t)}function pA(t){return t[0]=Sn(t[0]+.5|0,0,255),t[1]=Sn(t[1]+.5|0,0,255),t[2]=Sn(t[2]+.5|0,0,255),t[3]=Sn(t[3],0,1),t}function gA(t){var r=t[0];r!=(0|r)&&(r=r+.5|0);var e=t[1];e!=(0|e)&&(e=e+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+r+","+e+","+n+","+(void 0===t[3]?1:t[3])+")"}function qi(t){return Array.isArray(t)?gA(t):t}var yA="10px sans-serif",ba="#000",Du="round",ld=[],ku="round",mc="#000",_c="center",fd="middle",zo=[0,0,0,0],Ta=new ji;(new hu).setSize=function(){console.warn("labelCache is deprecated.")};var Tm,Iu=null,Dm={},Q8=function(){var a,o,r="32px ",e=["monospace","serif"],n=e.length,i="wmytzilWMYTZIL@#/&?$%10\uf013";function s(l,c,f){for(var h=!0,d=0;d<n;++d){var v=e[d];if(o=hd(l+" "+c+" "+r+v,i),f!=v){var p=hd(l+" "+c+" "+r+f+","+v,i);h=h&&p!=o}}return!!h}function u(){for(var l=!0,c=Ta.getKeys(),f=0,h=c.length;f<h;++f){var d=c[f];Ta.get(d)<100&&(s.apply(this,d.split("\n"))?(fu(Dm),Iu=null,Tm=void 0,Ta.set(d,100)):(Ta.set(d,Ta.get(d)+1,!0),l=!1))}l&&(clearInterval(a),a=void 0)}return function(l){var c=AI(l);if(c)for(var f=c.families,h=0,d=f.length;h<d;++h){var v=f[h],p=c.style+"\n"+c.weight+"\n"+v;void 0===Ta.get(p)&&(Ta.set(p,100,!0),s(c.style,c.weight,v)||(Ta.set(p,0,!0),void 0===a&&(a=setInterval(u,32))))}}}(),$8=function(){var t;return function(r){var e=Dm[r];if(null==e){if(Yh){var n=AI(r),i=mA(r,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=r,document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t);Dm[r]=e}return e}}();function mA(t,r){return Iu||(Iu=Jn(1,1)),t!=Tm&&(Iu.font=t,Tm=Iu.font),Iu.measureText(r)}function hd(t,r){return mA(t,r).width}function _A(t,r,e){if(r in e)return e[r];var n=hd(t,r);return e[r]=n,n}function CA(t,r,e,n){0!==r&&(t.translate(e,n),t.rotate(r),t.translate(-e,-n))}var dd=null,rq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iq=function(t){function r(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return rq(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_},r.prototype.getImage=function(e){if(!this.canvas_[e||1]){var n=this.createRenderOptions(),i=Jn(n.size*e||1,n.size*e||1);this.draw_(n,i,0,0,e||1),this.canvas_[e||1]=i.canvas}return this.canvas_[e||1]},r.prototype.getPixelRatio=function(e){return e},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return 2},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(e){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(e){},r.prototype.createRenderOptions=function(){var s,e=Du,n=ku,i=0,a=null,o=0,u=0;return this.stroke_&&(null===(s=this.stroke_.getColor())&&(s=mc),s=qi(s),void 0===(u=this.stroke_.getWidth())&&(u=1),a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=ku),void 0===(e=this.stroke_.getLineCap())&&(e=Du),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:s,strokeWidth:u,size:2*(this.radius_+u)+1,lineCap:e,lineDash:a,lineDashOffset:o,lineJoin:n,miterLimit:i}},r.prototype.render=function(){var e=this.createRenderOptions(),n=Jn(e.size,e.size);this.draw_(e,n,0,0,1),this.canvas_={},this.canvas_[1]=n.canvas;var i=n.canvas.width,a=i,o=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[i/2-o[0],i/2+o[1]],this.size_=[i,i],this.imageSize_=[a,a]},r.prototype.draw_=function(e,n,i,a,o){var s,u,l;n.setTransform(o,0,0,o,0,0),n.translate(i,a),n.beginPath();var c=this.points_;if(c===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var f=void 0!==this.radius2_?this.radius2_:this.radius_;for(f!==this.radius_&&(c*=2),s=0;s<=c;s++)u=2*s*Math.PI/c-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=s%2==0?this.radius_:f)*Math.cos(u),e.size/2+l*Math.sin(u))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=ba),n.fillStyle=qi(h),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,n.setLineDash&&e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke()),n.closePath()},r.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var n=this.fill_.getColor(),i=0;if("string"==typeof n&&(n=vA(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i){var a=Jn(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a,0,0)}}},r.prototype.drawHitDetectionCanvas_=function(e,n,i,a){n.translate(i,a),n.beginPath();var o=this.points_;if(o===1/0)n.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var s=void 0!==this.radius2_?this.radius2_:this.radius_;s!==this.radius_&&(o*=2);var u=void 0,l=void 0,c=void 0;for(u=0;u<=o;u++)c=2*u*Math.PI/o-Math.PI/2+this.angle_,n.lineTo(e.size/2+(l=u%2==0?this.radius_:s)*Math.cos(c),e.size/2+l*Math.sin(c))}n.fillStyle=ba,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.stroke()),n.closePath()},r}(lA),aq=iq,oq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sq=function(t){function r(e){var i=e||{};return t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:void 0!==i.scale?i.scale:1,rotation:void 0!==i.rotation?i.rotation:0,rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView,displacement:void 0!==i.displacement?i.displacement:[0,0]})||this}return oq(r,t),r.prototype.clone=function(){var e=this.getScale(),n=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},r.prototype.setRadius=function(e){this.radius_=e,this.render()},r}(aq),EA=sq,uq=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(r){this.color_=r},t}(),Au=uq,lq=function(){function t(r){var e=r||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var r=this.getColor();return new t({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(r){this.color_=r},t.prototype.setLineCap=function(r){this.lineCap_=r},t.prototype.setLineDash=function(r){this.lineDash_=r},t.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},t.prototype.setLineJoin=function(r){this.lineJoin_=r},t.prototype.setMiterLimit=function(r){this.miterLimit_=r},t.prototype.setWidth=function(r){this.width_=r},t}(),vd=lq,Ou=function(){function t(r){var e=r||{};this.geometry_=null,this.geometryFunction_=SA,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var r=this.getGeometry();return r&&"object"==typeof r&&(r=r.clone()),new t({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(r){this.renderer_=r},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(r){this.fill_=r},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(r){this.image_=r},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(r){this.text_=r},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(r){"function"==typeof r?this.geometryFunction_=r:"string"==typeof r?this.geometryFunction_=function(e){return e.get(r)}:r?void 0!==r&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=SA,this.geometry_=r},t.prototype.setZIndex=function(r){this.zIndex_=r},t}(),km=null;function fq(t,r){if(!km){var e=new Au({color:"rgba(255,255,255,0.4)"}),n=new vd({color:"#3399CC",width:1.25});km=[new Ou({image:new EA({fill:e,stroke:n,radius:5}),fill:e,stroke:n})]}return km}function SA(t){return t.getGeometry()}var wA=Ou,dq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vq=function(t){function r(e){var n=this,i=e||{},a=xn({},i);return delete a.style,delete a.renderBuffer,delete a.updateWhileAnimating,delete a.updateWhileInteracting,(n=t.call(this,a)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return dq(r,t),r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get("renderOrder")},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new(uA())(9)),this.getRenderer().renderDeclutter(e)},r.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},r.prototype.setStyle=function(e){this.style_=void 0!==e?e:fq,this.styleFunction_=null===e?void 0:function(t){var r,e;"function"==typeof t?r=t:(Array.isArray(t)?e=t:(Ze("function"==typeof t.getZIndex,41),e=[t]),r=function(){return e});return r}(this.style_),this.changed()},r}(RI),pq=vq,Ec={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},pd=[Ec.FILL],$a=[Ec.STROKE],Wo=[Ec.BEGIN_PATH],TA=[Ec.CLOSE_PATH],Oe=Ec,gq=function(){function t(){}return t.prototype.drawCustom=function(r,e,n){},t.prototype.drawGeometry=function(r){},t.prototype.setStyle=function(r){},t.prototype.drawCircle=function(r,e){},t.prototype.drawFeature=function(r,e){},t.prototype.drawGeometryCollection=function(r,e){},t.prototype.drawLineString=function(r,e){},t.prototype.drawMultiLineString=function(r,e){},t.prototype.drawMultiPoint=function(r,e){},t.prototype.drawMultiPolygon=function(r,e){},t.prototype.drawPoint=function(r,e){},t.prototype.drawPolygon=function(r,e){},t.prototype.drawText=function(r,e){},t.prototype.setFillStrokeStyle=function(r,e){},t.prototype.setImageStyle=function(r,e){},t.prototype.setTextStyle=function(r,e){},t}(),DA=gq;function gd(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=r;s<e;s+=n)a[o++]=t.slice(s,s+n);return a.length=o,a}function Im(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=gd(t,r,l,n,a[o]),r=l}return a.length=o,a}function yq(t,r,e,n,i){for(var a=void 0!==i?i:[],o=0,s=0,u=e.length;s<u;++s){var l=e[s];a[o++]=Im(t,r,l,n,a[o]),r=l[l.length-1]}return a.length=o,a}var mq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_q=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=a,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return mq(r,t),r.prototype.applyPixelRatio=function(e){var n=this.pixelRatio;return 1==n?e:e.map(function(i){return i*n})},r.prototype.appendFlatPointCoordinates=function(e,n){for(var i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates,s=o.length,u=0,l=e.length;u<l;u+=n)a[0]=e[u],a[1]=e[u+1],nd(i,a)&&(o[s++]=a[0],o[s++]=a[1]);return s},r.prototype.appendFlatLineCoordinates=function(e,n,i,a,o,s){var u=this.coordinates,l=u.length,c=this.getBufferedMaxExtent();s&&(n+=a);var p,m,C,f=e[n],h=e[n+1],d=this.tmpCoordinate_,v=!0;for(p=n+a;p<i;p+=a)d[0]=e[p],d[1]=e[p+1],(C=pm(c,d))!==m?(v&&(u[l++]=f,u[l++]=h,v=!1),u[l++]=d[0],u[l++]=d[1]):1===C?(u[l++]=d[0],u[l++]=d[1],v=!1):v=!0,f=d[0],h=d[1],m=C;return(o&&v||p===n+a)&&(u[l++]=f,u[l++]=h),l},r.prototype.drawCustomCoordinates_=function(e,n,i,a,o){for(var s=0,u=i.length;s<u;++s){var l=i[s],c=this.appendFlatLineCoordinates(e,n,l,a,!1,!1);o.push(c),n=l}return n},r.prototype.drawCustom=function(e,n,i){this.beginGeometry(e,n);var u,l,c,f,h,a=e.getType(),o=e.getStride(),s=this.coordinates.length;if("MultiPolygon"==a){u=e.getOrientedFlatCoordinates(),f=[];var d=e.getEndss();h=0;for(var v=0,p=d.length;v<p;++v){var m=[];h=this.drawCustomCoordinates_(u,h,d[v],o,m),f.push(m)}this.instructions.push([Oe.CUSTOM,s,f,e,i,yq])}else"Polygon"==a||"MultiLineString"==a?(c=[],u="Polygon"==a?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(u,0,e.getEnds(),o,c),this.instructions.push([Oe.CUSTOM,s,c,e,i,Im])):"LineString"==a||"Circle"==a?(u=e.getFlatCoordinates(),l=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Oe.CUSTOM,s,l,e,i,gd])):"MultiPoint"==a?(u=e.getFlatCoordinates(),(l=this.appendFlatPointCoordinates(u,o))>s&&this.instructions.push([Oe.CUSTOM,s,l,e,i,gd])):"Point"==a&&(u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),this.instructions.push([Oe.CUSTOM,s,l=this.coordinates.length,e,i]));this.endGeometry(n)},r.prototype.beginGeometry=function(e,n){this.beginGeometryInstruction1_=[Oe.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Oe.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var n,a,o,i=e.length,s=-1;for(n=0;n<i;++n)(o=(a=e[n])[0])==Oe.END_GEOMETRY?s=n:o==Oe.BEGIN_GEOMETRY&&(a[2]=n,c5(this.hitDetectionInstructions,s,n),s=-1)},r.prototype.setFillStrokeStyle=function(e,n){var i=this.state;if(e){var a=e.getColor();i.fillStyle=qi(a||ba)}else i.fillStyle=void 0;if(n){var o=n.getColor();i.strokeStyle=qi(o||mc);var s=n.getLineCap();i.lineCap=void 0!==s?s:Du;var u=n.getLineDash();i.lineDash=u?u.slice():ld;var l=n.getLineDashOffset();i.lineDashOffset=l||0;var c=n.getLineJoin();i.lineJoin=void 0!==c?c:ku;var f=n.getWidth();i.lineWidth=void 0!==f?f:1;var h=n.getMiterLimit();i.miterLimit=void 0!==h?h:10,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(e){var n=e.fillStyle,i=[Oe.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},r.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},r.prototype.createStroke=function(e){return[Oe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(e,n){var i=e.fillStyle;("string"!=typeof i||e.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(e,n){var i=e.strokeStyle,a=e.lineCap,o=e.lineDash,s=e.lineDashOffset,u=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!nc(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=u||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(void 0!==i&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=u,e.currentLineWidth=l,e.currentMiterLimit=c)},r.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Oe.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},r.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=HI(this.maxExtent),this.maxLineWidth>0)&&vm(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},r}(DA),Sc=_q,Cq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eq=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Cq(r,t),r.prototype.drawPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Oe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.drawMultiPoint=function(e,n){if(this.image_){this.beginGeometry(e,n);var i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,s=this.appendFlatPointCoordinates(i,a);this.instructions.push([Oe.DRAW_IMAGE,o,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,o,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},r.prototype.setImageStyle=function(e,n){var i=e.getAnchor(),a=e.getSize(),o=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),u=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=s,this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterImageWithText_=n},r}(Sc),Sq=Eq,wq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bq=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return wq(r,t),r.prototype.drawFlatCoordinates_=function(e,n,i,a){var o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,n,i,a,!1,!1),u=[Oe.MOVE_TO_LINE_TO,o,s];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i},r.prototype.drawLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Wo);var s=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push($a),this.endGeometry(n)}},r.prototype.drawMultiLineString=function(e,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Wo);for(var s=e.getEnds(),u=e.getFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push($a),this.endGeometry(n)}},r.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push($a),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},r.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push($a),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Wo)},r}(Sc),Tq=bq;function qo(t,r){return r*Math.round(t/r)}function Iq(t,r,e,n,i,a,o){if(r==e)return o;var l,c,s=qo(t[r],i),u=qo(t[r+1],i);r+=n,a[o++]=s,a[o++]=u;do{if(l=qo(t[r],i),c=qo(t[r+1],i),(r+=n)==e)return a[o++]=l,a[o++]=c,o}while(l==s&&c==u);for(;r<e;){var f=qo(t[r],i),h=qo(t[r+1],i);if(r+=n,f!=l||h!=c){var d=l-s,v=c-u,p=f-s,m=h-u;if(d*m==v*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(v<0&&m<v||v==m||v>0&&m>v)){l=f,c=h;continue}a[o++]=l,a[o++]=c,s=l,u=c,l=f,c=h}}return a[o++]=l,a[o++]=c,o}var Aq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oq=function(t){function r(e,n,i,a){return t.call(this,e,n,i,a)||this}return Aq(r,t),r.prototype.drawFlatCoordinatess_=function(e,n,i,a){var o=this.state,s=void 0!==o.fillStyle,u=void 0!==o.strokeStyle,l=i.length;this.instructions.push(Wo),this.hitDetectionInstructions.push(Wo);for(var c=0;c<l;++c){var f=i[c],h=this.coordinates.length,d=this.appendFlatLineCoordinates(e,n,f,a,!0,!u),v=[Oe.MOVE_TO_LINE_TO,h,d];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(TA),this.hitDetectionInstructions.push(TA)),n=f}return s&&(this.instructions.push(pd),this.hitDetectionInstructions.push(pd)),u&&(this.instructions.push($a),this.hitDetectionInstructions.push($a)),n},r.prototype.drawCircle=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),u=e.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,u,!1,!1);var c=[Oe.CIRCLE,l];this.instructions.push(Wo,c),this.hitDetectionInstructions.push(Wo,c),void 0!==i.fillStyle&&(this.instructions.push(pd),this.hitDetectionInstructions.push(pd)),void 0!==i.strokeStyle&&(this.instructions.push($a),this.hitDetectionInstructions.push($a)),this.endGeometry(n)}},r.prototype.drawPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),u=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(n)}},r.prototype.drawMultiPolygon=function(e,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,ba]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),u=e.getOrientedFlatCoordinates(),l=e.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(n)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,a=n.length;i<a;++i)n[i]=qo(n[i],e);return t.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},r}(Sc),IA=Oq;function Mq(t,r,e,n,i){var f,h,d,v,p,m,C,_,E,a=e,o=e,s=0,u=0,l=e;for(f=e;f<n;f+=i){var S=r[f],w=r[f+1];void 0!==v&&(_=S-v,E=w-p,d=Math.sqrt(_*_+E*E),void 0!==m&&(u+=h,Math.acos((m*_+C*E)/(h*d))>t&&(u>s&&(s=u,a=l,o=f),u=0,l=f-i)),h=d,m=_,C=E),v=S,p=w}return(u+=d)>s?[l,f]:[a,o]}var Rq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yd={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Pq=function(t){function r(e,n,i,a){var o=t.call(this,e,n,i,a)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return Rq(r,t),r.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},r.prototype.drawText=function(e,n){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var s=this.coordinates,u=s.length,l=e.getType(),c=null,f=e.getStride();if("line"!==o.placement||"LineString"!=l&&"MultiLineString"!=l&&"Polygon"!=l&&"MultiPolygon"!=l){var I=o.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),f=2;break;case"Polygon":c=e.getFlatInteriorPoint(),o.overflow||I.push(c[2]/this.resolution),f=3;break;case"MultiPolygon":var x=e.getFlatInteriorPoints();for(c=[],v=0,p=x.length;v<p;v+=3)o.overflow||I.push(x[v+2]/this.resolution),c.push(x[v],x[v+1]);if(0===c.length)return;f=2}if((k=this.appendFlatPointCoordinates(c,f))===u)return;this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);var B=o.padding;if(B!=zo&&(o.scale[0]<0||o.scale[1]<0)){var Y=o.padding[0],q=o.padding[1],ee=o.padding[2],de=o.padding[3];o.scale[0]<0&&(q=-q,de=-de),o.scale[1]<0&&(Y=-Y,ee=-ee),B=[Y,q,ee,de]}var _e=this.pixelRatio;this.instructions.push([Oe.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,B==zo?zo:B.map(function(De){return De*_e}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]);var se=1/_e;this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,u,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[se,se],NaN,this.declutterImageWithText_,B,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]),this.endGeometry(n)}else{if(!Cr(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),"LineString"==l)h=[c.length];else if("MultiLineString"==l)h=e.getEnds();else if("Polygon"==l)h=e.getEnds().slice(0,1);else if("MultiPolygon"==l){var d=e.getEndss();h=[];for(var v=0,p=d.length;v<p;++v)h.push(d[v][0])}this.beginGeometry(e,n);for(var m=o.textAlign,C=0,_=void 0,E=0,S=h.length;E<S;++E){if(null==m){var w=Mq(o.maxAngle,c,C,h[E],f);C=w[0],_=w[1]}else _=h[E];for(v=C;v<_;v+=f)s.push(c[v],c[v+1]);var k;C=h[E],this.drawChars_(u,k=s.length),u=k}this.endGeometry(n)}}},r.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||_c,textBaseline:n.textBaseline||fd,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(e,n){var i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,s=this.textKey_,u=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=yd[a.textBaseline],f=this.textOffsetY_*l,h=this.text_,d=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([Oe.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,l,f,o,d*l,h,s,1]),this.hitDetectionInstructions.push([Oe.DRAW_CHARS,e,n,c,a.overflow,u,a.maxAngle,1,f,o,d,h,s,1/l])},r.prototype.setTextStyle=function(e,n){var i,a,o;if(e){var s=e.getFill();s?((a=this.textFillState_)||(this.textFillState_=a={}),a.fillStyle=qi(s.getColor()||ba)):this.textFillState_=a=null;var u=e.getStroke();if(u){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var l=u.getLineDash(),c=u.getLineDashOffset(),f=u.getWidth(),h=u.getMiterLimit();o.lineCap=u.getLineCap()||Du,o.lineDash=l?l.slice():ld,o.lineDashOffset=void 0===c?0:c,o.lineJoin=u.getLineJoin()||ku,o.lineWidth=void 0===f?1:f,o.miterLimit=void 0===h?10:h,o.strokeStyle=qi(u.getColor()||mc)}else this.textStrokeState_=o=null;i=this.textState_;var d=e.getFont()||yA;Q8(d);var v=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||fd,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||zo,i.scale=void 0===v?[1,1]:v;var p=e.getOffsetX(),m=e.getOffsetY(),C=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===m?0:m,this.textRotateWithView_=void 0!==C&&C,this.textRotation_=void 0===_?0:_,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Ye(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+Ye(a.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},r}(Sc),Fq={Circle:IA,Default:Sc,Image:Sq,LineString:Tq,Polygon:IA,Text:Pq},Lq=function(){function t(r,e,n,i){this.tolerance_=r,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var r={};for(var e in this.buildersByZIndex_){r[e]=r[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var a=n[i].finish();r[e][i]=a}}return r},t.prototype.getBuilder=function(r,e){var n=void 0!==r?r.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var a=i[e];return void 0===a&&(a=new(0,Fq[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=a),a},t}(),OA=Lq,Nq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vq=function(t){function r(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Nq(r,t),r.prototype.getFeatures=function(e){return ze()},r.prototype.prepareFrame=function(e){return ze()},r.prototype.renderFrame=function(e,n){return ze()},r.prototype.loadedTileCallback=function(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(e,n,i){return function(a,o){var s=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(n,a,o,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){},r.prototype.getDataAtPixel=function(e,n,i){return ze()},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(e){var n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n},r.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},r}(EI),Bq=Vq,Hq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uq=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=a,o}return Hq(r,t),r}(Ea),MA=Uq,jq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gq=function(t){function r(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return jq(r,t),r.prototype.useContainer=function(e,n,i){var o,s,a=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===a&&(u=e.firstElementChild)instanceof HTMLCanvasElement&&(s=u.getContext("2d")),!s||0!==s.canvas.width&&s.canvas.style.transform!==n?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=s,this.containerReused=!0),!this.container){(o=document.createElement("div")).className=a;var u,l=o.style;l.position="absolute",l.width="100%",l.height="100%",s=Jn(),o.appendChild(u=s.canvas),(l=u.style).position="absolute",l.left="0",l.transformOrigin="top left",this.container=o,this.context=s}},r.prototype.clip=function(e,n,i){var a=n.pixelRatio,o=n.size[0]*a/2,s=n.size[1]*a/2,u=n.viewState.rotation,l=Qa(i),c=wu(i),f=lc(i),h=Cu(i);Vt(n.coordinateToPixelTransform,l),Vt(n.coordinateToPixelTransform,c),Vt(n.coordinateToPixelTransform,f),Vt(n.coordinateToPixelTransform,h),e.save(),CA(e,-u,o,s),e.beginPath(),e.moveTo(l[0]*a,l[1]*a),e.lineTo(c[0]*a,c[1]*a),e.lineTo(f[0]*a,f[1]*a),e.lineTo(h[0]*a,h[1]*a),e.clip(),CA(e,u,o,s)},r.prototype.clipUnrotated=function(e,n,i){var a=Qa(i),o=wu(i),s=lc(i),u=Cu(i);Vt(n.coordinateToPixelTransform,a),Vt(n.coordinateToPixelTransform,o),Vt(n.coordinateToPixelTransform,s),Vt(n.coordinateToPixelTransform,u);var l=this.inversePixelTransform;Vt(l,a),Vt(l,o),Vt(l,s),Vt(l,u),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()},r.prototype.dispatchRenderEvent_=function(e,n,i){var a=this.getLayer();if(a.hasListener(e)){var o=new MA(e,this.inversePixelTransform,i,n);a.dispatchEvent(o)}},r.prototype.preRender=function(e,n){this.dispatchRenderEvent_("prerender",e,n)},r.prototype.postRender=function(e,n){this.dispatchRenderEvent_("postrender",e,n)},r.prototype.getRenderTransform=function(e,n,i,a,o,s,u){var f=a/n;return Gi(this.tempTransform,o/2,s/2,f,-f,-i,-e[0]+u,-e[1])},r.prototype.getDataAtPixel=function(e,n,i){var c,a=Vt(this.inversePixelTransform,e.slice()),o=this.context,u=this.getLayer().getExtent();if(u&&!nd(u,Vt(n.pixelToCoordinateTransform,e.slice())))return null;try{var f=Math.round(a[0]),h=Math.round(a[1]),d=document.createElement("canvas"),v=d.getContext("2d");d.width=1,d.height=1,v.clearRect(0,0,1,1),v.drawImage(o.canvas,f,h,1,1,0,0,1,1),c=v.getImageData(0,0,1,1).data}catch(p){return"SecurityError"===p.name?new Uint8Array:c}return 0===c[3]?null:c},r}(Bq),RA=Gq;function zq(t,r,e,n,i,a,o,s,u,l,c,f){var h=t[r],d=t[r+1],v=0,p=0,m=0,C=0;function _(){v=h,p=d,h=t[r+=n],d=t[r+1],C+=m,m=Math.sqrt((h-v)*(h-v)+(d-p)*(d-p))}do{_()}while(r<e-n&&C+m<a);for(var E=(a-C)/m,S=Bo(v,h,E),w=Bo(p,d,E),k=r-n,I=C,x=a+s*u(l,i,c);r<e-n&&C+m<x;)_();var q,B=Bo(v,h,E=(x-C)/m),Y=Bo(p,d,E);if(f){var ee=[S,w,B,Y];rA(ee,0,4,2,f,ee,ee),q=ee[0]>ee[2]}else q=S>B;var de=Math.PI,_e=[],se=k+n===r;if(m=0,C=I,h=t[r=k],d=t[r+1],se){_();var Me=Math.atan2(d-p,h-v);return q&&(Me+=Me>0?-de:de),_e[0]=[De=(B+S)/2,tt=(Y+w)/2,(x-a)/2,Me,i],_e}for(var wt,xe=0,ct=i.length;xe<ct;){_();var j=Math.atan2(d-p,h-v);if(q&&(j+=j>0?-de:de),void 0!==wt){var yn=j-wt;if(yn+=yn>de?-2*de:yn<-de?2*de:0,Math.abs(yn)>o)return null}wt=j;for(var Be=xe,Je=0;xe<ct;++xe){var Wt=s*u(l,i[q?ct-xe-1:xe],c);if(r+n<e&&C+m<a+Je+Wt/2)break;Je+=Wt}if(xe!==Be){var sn=q?i.substring(ct-Be,ct-xe):i.substring(Be,xe),De=Bo(v,h,E=(a+Je/2-C)/m),tt=Bo(p,d,E);_e.push([De,tt,Je/2,j,sn]),a+=Je}}return _e}function PA(t,r,e,n){for(var i=t[r],a=t[r+1],o=0,s=r+n;s<e;s+=n){var u=t[s],l=t[s+1];o+=Math.sqrt((u-i)*(u-i)+(l-a)*(l-a)),i=u,a=l}return o}var Mu=[1/0,1/0,-1/0,-1/0],Ja=[],Da=[],ka=[],eo=[];function xA(t){return t[3].declutterBox}var Wq=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function FA(t,r){return("start"===r||"end"===r)&&!Wq.test(t)&&(r="start"===r?"left":"right"),yd[r]}var qq=function(){function t(r,e,n,i,a){this.overlaps=n,this.pixelRatio=e,this.resolution=r,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=a,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(r,e,n,i){var a=r+e+n+i;if(this.labels_[a])return this.labels_[a];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,u=this.textStates[e],l=this.pixelRatio,c=[u.scale[0]*l,u.scale[1]*l],f=FA(r,u.textAlign||_c),h=i&&o.lineWidth?o.lineWidth:0,d=r.split("\n"),v=d.length,p=[],m=function(t,r,e){for(var n=r.length,i=0,a=0;a<n;++a){var o=hd(t,r[a]);i=Math.max(i,o),e.push(o)}return i}(u.font,d,p),C=$8(u.font),E=m+h,S=[],w=(E+2)*c[0],k=(C*v+h)*c[1],I={width:w<0?Math.floor(w):Math.ceil(w),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:S};(1!=c[0]||1!=c[1])&&S.push("scale",c),S.push("font",u.font),i&&(S.push("strokeStyle",o.strokeStyle),S.push("lineWidth",h),S.push("lineCap",o.lineCap),S.push("lineJoin",o.lineJoin),S.push("miterLimit",o.miterLimit),(Yh?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(S.push("setLineDash",[o.lineDash]),S.push("lineDashOffset",o.lineDashOffset))),n&&S.push("fillStyle",s.fillStyle),S.push("textBaseline","middle"),S.push("textAlign","center");var q,B=.5-f,Y=f*E+B*h;if(i)for(q=0;q<v;++q)S.push("strokeText",[d[q],Y+B*p[q],.5*(h+C)+q*C]);if(n)for(q=0;q<v;++q)S.push("fillText",[d[q],Y+B*p[q],.5*(h+C)+q*C]);return this.labels_[a]=I,I},t.prototype.replayTextBackground_=function(r,e,n,i,a,o,s){r.beginPath(),r.moveTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,i),r.lineTo.apply(r,a),r.lineTo.apply(r,e),o&&(this.alignFill_=o[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(r,e,n,i,a,o,s,u,l,c,f,h,d,v,p,m){var B,C=n-(s*=h[0]),_=i-(u*=h[1]),E=a+l>r?r-l:a,S=o+c>e?e-c:o,w=v[3]+E*h[0]+v[1],k=v[0]+S*h[1]+v[2],I=C-v[3],x=_-v[0];return(p||0!==f)&&(Ja[0]=I,eo[0]=I,Ja[1]=x,Da[1]=x,Da[0]=I+w,ka[0]=Da[0],ka[1]=x+k,eo[1]=ka[1]),0!==f?(Vt(B=Gi([1,0,0,1,0,0],n,i,1,1,f,-n,-i),Ja),Vt(B,Da),Vt(B,ka),Vt(B,eo),Wi(Math.min(Ja[0],Da[0],ka[0],eo[0]),Math.min(Ja[1],Da[1],ka[1],eo[1]),Math.max(Ja[0],Da[0],ka[0],eo[0]),Math.max(Ja[1],Da[1],ka[1],eo[1]),Mu)):Wi(Math.min(I,I+w),Math.min(x,x+k),Math.max(I,I+w),Math.max(x,x+k),Mu),d&&(C=Math.round(C),_=Math.round(_)),{drawImageX:C,drawImageY:_,drawImageW:E,drawImageH:S,originX:l,originY:c,declutterBox:{minX:Mu[0],minY:Mu[1],maxX:Mu[2],maxY:Mu[3],value:m},canvasTransform:B,scale:h}},t.prototype.replayImageOrLabel_=function(r,e,n,i,a,o,s){var l=i.declutterBox,c=r.canvas,f=s?s[2]*i.scale[0]/2:0;return l.minX-f<=c.width/e&&l.maxX+f>=0&&l.minY-f<=c.height/e&&l.maxY+f>=0&&(!(!o&&!s)&&this.replayTextBackground_(r,Ja,Da,ka,eo,o,s),function(t,r,e,n,i,a,o,s,u,l,c){t.save(),1!==e&&(t.globalAlpha*=e),r&&t.setTransform.apply(t,r),n.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,r){for(var e=t.contextInstructions,n=0,i=e.length;n<i;n+=2)Array.isArray(e[n+1])?r[e[n]].apply(r,e[n+1]):r[e[n]]=e[n+1]}(n,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(n,i,a,o,s,0,0,o,s)):t.drawImage(n,i,a,o,s,u,l,o*c[0],s*c[1]),t.restore()}(r,i.canvasTransform,a,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(r){if(this.alignFill_){var e=Vt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;r.save(),r.translate(e[0]%n,e[1]%n),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},t.prototype.setStrokeStyle_=function(r,e){r.strokeStyle=e[1],r.lineWidth=e[2],r.lineCap=e[3],r.lineJoin=e[4],r.miterLimit=e[5],r.setLineDash&&(r.lineDashOffset=e[7],r.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(r,e,n,i){var a=this.textStates[e],o=this.createLabel(r,e,i,n),s=this.strokeStates[n],u=this.pixelRatio,l=FA(r,a.textAlign||_c),c=yd[a.textBaseline||fd],f=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/u-2*a.scale[0])+2*(.5-l)*f,anchorY:c*o.height/u+2*(.5-c)*f}},t.prototype.execute_=function(r,e,n,i,a,o,s,u){var l;this.pixelCoordinates_&&nc(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Go(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),function(t,r){t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5]}(this.renderedTransform_,n));for(var d,v,p,m,C,_,E,S,w,k,I,x,tt,wt,xe,ct,c=0,f=i.length,h=0,B=0,Y=0,q=null,ee=null,de=this.coordinateCache_,_e=this.viewRotation_,se=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,Me={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:_e},De=this.instructions!=i||this.overlaps?0:200;c<f;){var j=i[c];switch(j[0]){case Oe.BEGIN_GEOMETRY:ct=j[3],(tt=j[1]).getGeometry()?void 0===s||Cr(s,ct.getExtent())?++c:c=j[2]+1:c=j[2];break;case Oe.BEGIN_PATH:B>De&&(this.fill_(r),B=0),Y>De&&(r.stroke(),Y=0),!B&&!Y&&(r.beginPath(),m=NaN,C=NaN),++c;break;case Oe.CIRCLE:var Be=l[h=j[1]],Je=l[h+1],sn=l[h+2]-Be,Ln=l[h+3]-Je,Xi=Math.sqrt(sn*sn+Ln*Ln);r.moveTo(Be+Xi,Je),r.arc(Be,Je,Xi,0,2*Math.PI,!0),++c;break;case Oe.CLOSE_PATH:r.closePath(),++c;break;case Oe.CUSTOM:h=j[1],d=j[2];var Jo=j[4],J=6==j.length?j[5]:void 0;Me.geometry=j[3],Me.feature=tt,c in de||(de[c]=[]);var fe=de[c];J?J(l,h,d,2,fe):(fe[0]=l[h],fe[1]=l[h+1],fe.length=2),Jo(fe,Me),++c;break;case Oe.DRAW_IMAGE:h=j[1],d=j[2],v=j[4],p=j[5];var ge=j[6],Rt=j[7],br=j[8],Ei=j[9],Qi=j[10],qt=j[11],so=j[12],Tn=j[13],Nn=j[14];if(!(S=j[3])&&j.length>=19){var Si=this.drawLabelWithPointPlacement_(w=j[18],k=j[19],I=j[20],x=j[21]);j[3]=S=Si.label,j[4]=v=(Si.anchorX-j[22])*this.pixelRatio,j[5]=p=(Si.anchorY-j[23])*this.pixelRatio,j[6]=ge=S.height,j[13]=Tn=S.width}var Ac=void 0;j.length>24&&(Ac=j[24]);var lo=void 0,Aa=void 0,es=void 0;j.length>16?(lo=j[15],Aa=j[16],es=j[17]):(lo=zo,Aa=!1,es=!1),Qi&&se?qt+=_e:!Qi&&!se&&(qt-=_e);for(var Fu=0;h<d;h+=2)if(!(Ac&&Ac[Fu++]<Tn/this.pixelRatio)){var Ti=[r,e,S,bi=this.calculateImageOrLabelDimensions_(S.width,S.height,l[h],l[h+1],Tn,ge,v,p,br,Ei,qt,so,a,lo,Aa||es,tt),Rt,Aa?q:null,es?ee:null],Gd=void 0,L_=void 0;if(u&&Nn){if(!Nn[h]){Nn[h]=Ti;continue}if(Gd=Nn[h],delete Nn[h],L_=xA(Gd),u.collides(L_))continue}u&&u.collides(bi.declutterBox)||(Gd&&(u&&u.insert(L_),this.replayImageOrLabel_.apply(this,Gd)),u&&u.insert(bi.declutterBox),this.replayImageOrLabel_.apply(this,Ti))}++c;break;case Oe.DRAW_CHARS:var qM=j[1],KM=j[2],N_=j[3],$7=j[4];x=j[5];var J7=j[6],YM=j[7],ZM=j[8];I=j[9];var V_=j[10];w=j[11];var XM=[j[13],j[13]],B_=this.textStates[k=j[12]],Oc=B_.font,Mc=[B_.scale[0]*YM,B_.scale[1]*YM],Rc=void 0;Oc in this.widths_?Rc=this.widths_[Oc]:this.widths_[Oc]=Rc={};var QM=PA(l,qM,KM,2),$M=Math.abs(Mc[0])*_A(Oc,w,Rc);if($7||$M<=QM){var Pc=zq(l,qM,KM,2,w,(QM-$M)*yd[this.textStates[k].textAlign],J7,Math.abs(Mc[0]),_A,Oc,Rc,se?0:this.viewRotation_);e:if(Pc){var xc=[],co=void 0,zd=void 0,nr=void 0,Xr=void 0;if(I)for(co=0,zd=Pc.length;co<zd;++co){nr=this.createLabel((Xr=Pc[co])[4],k,"",I);var bi=this.calculateImageOrLabelDimensions_(nr.width,nr.height,Xr[0],Xr[1],nr.width,nr.height,v=Xr[2]+(Mc[0]<0?-V_:V_),p=N_*nr.height+2*(.5-N_)*V_*Mc[1]/Mc[0]-ZM,0,0,Xr[3],XM,!1,zo,!1,tt);if(u&&u.collides(bi.declutterBox))break e;xc.push([r,e,nr,bi,1,null,null])}if(x)for(co=0,zd=Pc.length;co<zd;++co){if(nr=this.createLabel((Xr=Pc[co])[4],k,x,""),bi=this.calculateImageOrLabelDimensions_(nr.width,nr.height,Xr[0],Xr[1],nr.width,nr.height,v=Xr[2],p=N_*nr.height-ZM,0,0,Xr[3],XM,!1,zo,!1,tt),u&&u.collides(bi.declutterBox))break e;xc.push([r,e,nr,bi,1,null,null])}u&&u.load(xc.map(xA));for(var H_=0,n9=xc.length;H_<n9;++H_)this.replayImageOrLabel_.apply(this,xc[H_])}}++c;break;case Oe.END_GEOMETRY:if(void 0!==o){var JM=o(tt=j[1],ct);if(JM)return JM}++c;break;case Oe.FILL:De?B++:this.fill_(r),++c;break;case Oe.MOVE_TO_LINE_TO:for(d=j[2],E=(xe=l[(h=j[1])+1])+.5|0,((_=(wt=l[h])+.5|0)!==m||E!==C)&&(r.moveTo(wt,xe),m=_,C=E),h+=2;h<d;h+=2)_=(wt=l[h])+.5|0,E=(xe=l[h+1])+.5|0,(h==d-2||_!==m||E!==C)&&(r.lineTo(wt,xe),m=_,C=E);++c;break;case Oe.SET_FILL_STYLE:q=j,this.alignFill_=j[2],B&&(this.fill_(r),B=0,Y&&(r.stroke(),Y=0)),r.fillStyle=j[1],++c;break;case Oe.SET_STROKE_STYLE:ee=j,Y&&(r.stroke(),Y=0),this.setStrokeStyle_(r,j),++c;break;case Oe.STROKE:De?Y++:r.stroke(),++c;break;default:++c}}B&&this.fill_(r),Y&&r.stroke()},t.prototype.execute=function(r,e,n,i,a,o){this.viewRotation_=i,this.execute_(r,e,n,this.instructions,a,void 0,void 0,o)},t.prototype.executeHitDetection=function(r,e,n,i,a){return this.viewRotation_=n,this.execute_(r,1,e,this.hitDetectionInstructions,!0,i,a)},t}(),Kq=qq,Om=["Polygon","Circle","LineString","Image","Text","Default"],Yq=function(){function t(r,e,n,i,a,o){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(a)}return t.prototype.clip=function(r,e){var n=this.getClipCoords(e);r.beginPath(),r.moveTo(n[0],n[1]),r.lineTo(n[2],n[3]),r.lineTo(n[4],n[5]),r.lineTo(n[6],n[7]),r.clip()},t.prototype.createExecutors_=function(r){for(var e in r){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=r[e],a=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i)n[o]=new Kq(this.resolution_,this.pixelRatio_,this.overlaps_,i[o],a)}},t.prototype.hasExecutors=function(r){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,a=r.length;i<a;++i)if(r[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(r,e,n,i,a,o){var s=2*(i=Math.round(i))+1,u=Gi(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-r[0],-r[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Jn(s,s));var f,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(_u(f=[1/0,1/0,-1/0,-1/0],r),vm(f,e*(this.renderBuffer_+i),f));var d,h=function(t){if(void 0!==Mm[t])return Mm[t];for(var r=2*t+1,e=t*t,n=new Array(e+1),i=0;i<=t;++i)for(var a=0;a<=t;++a){var o=i*i+a*a;if(o>e)break;var s=n[o];s||(n[o]=s=[]),s.push(4*((t+i)*r+(t+a))+3),i>0&&s.push(4*((t-i)*r+(t+a))+3),a>0&&(s.push(4*((t+i)*r+(t-a))+3),i>0&&s.push(4*((t-i)*r+(t-a))+3))}for(var u=[],l=(i=0,n.length);i<l;++i)n[i]&&u.push.apply(u,n[i]);return Mm[t]=u,u}(i);function v(k,I){for(var x=c.getImageData(0,0,s,s).data,B=0,Y=h.length;B<Y;B++)if(x[h[B]]>0){if(!o||"Image"!==d&&"Text"!==d||-1!==o.indexOf(k)){var q=(h[B]-3)/4,ee=i-q%s,de=i-(q/s|0),_e=a(k,I,ee*ee+de*de);if(_e)return _e}c.clearRect(0,0,s,s);break}}var m,C,_,E,S,p=Object.keys(this.executorsByZIndex_).map(Number);for(p.sort(No),m=p.length-1;m>=0;--m){var w=p[m].toString();for(_=this.executorsByZIndex_[w],C=Om.length-1;C>=0;--C)if(void 0!==(E=_[d=Om[C]])&&(S=E.executeHitDetection(c,u,n,v,f)))return S}},t.prototype.getClipCoords=function(r){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],a=e[2],o=e[3],s=[n,i,n,o,a,o,a,i];return Go(s,0,8,2,r,s),s},t.prototype.isEmpty=function(){return ic(this.executorsByZIndex_)},t.prototype.execute=function(r,e,n,i,a,o,s){var u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(No),this.maxExtent_&&(r.save(),this.clip(r,n));var c,f,h,d,v,p,l=o||Om;for(s&&u.reverse(),c=0,f=u.length;c<f;++c){var m=u[c].toString();for(v=this.executorsByZIndex_[m],h=0,d=l.length;h<d;++h)void 0!==(p=v[l[h]])&&p.execute(r,e,n,i,a,s)}this.maxExtent_&&r.restore()},t}(),Mm={},LA=Yq,Xq=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qq=function(t){function r(e,n,i,a,o,s,u){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=i,l.transform_=a,l.viewRotation_=o,l.squaredTolerance_=s,l.userTransform_=u,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return Xq(r,t),r.prototype.drawImages_=function(e,n,i,a){if(this.image_){var o=Go(e,n,i,2,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var f=0,h=o.length;f<h;f+=2){var d=o[f]-this.imageAnchorX_,v=o[f+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=d+this.imageAnchorX_,m=v+this.imageAnchorY_;Gi(u,p,m,1,1,c,-p,-m),s.setTransform.apply(s,u),s.translate(p,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,v,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}},r.prototype.drawText_=function(e,n,i,a){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Go(e,n,i,a,this.transform_,this.pixelCoordinates_),s=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);n<i;n+=a){var l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var f=Gi(this.tmpLocalTransform_,l,c,1,1,u,-l,-c);s.setTransform.apply(s,f),s.translate(l,c),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c)}}},r.prototype.moveToLineTo_=function(e,n,i,a,o){var s=this.context_,u=Go(e,n,i,a,this.transform_,this.pixelCoordinates_);s.moveTo(u[0],u[1]);var l=u.length;o&&(l-=2);for(var c=2;c<l;c+=2)s.lineTo(u[c],u[c+1]);return o&&s.closePath(),i},r.prototype.drawRings_=function(e,n,i,a){for(var o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(e,n,i[o],a,!0);return n},r.prototype.drawCircle=function(e){if(Cr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=function(t,r,e){var n=t.getFlatCoordinates();if(n){var i=t.getStride();return Go(n,0,n.length,i,r,e)}return null}(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],a=n[3]-n[1],o=Math.sqrt(i*i+a*a),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},r.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},r.prototype.setTransform=function(e){this.transform_=e},r.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},r.prototype.drawFeature=function(e,n){var i=n.getGeometryFunction()(e);!i||!Cr(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(e){for(var n=e.getGeometriesArray(),i=0,a=n.length;i<a;++i)this.drawGeometry(n[i])},r.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),""!==this.text_&&this.drawText_(n,0,n.length,i)},r.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(""!==this.text_){var a=e.getFlatMidpoint();this.drawText_(a,0,2,2)}}},r.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=e.getExtent();if(Cr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,a=e.getFlatCoordinates(),o=0,s=e.getEnds(),u=e.getStride();i.beginPath();for(var l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(a,o,s[l],u,!1);i.stroke()}if(""!==this.text_){var f=e.getFlatMidpoints();this.drawText_(f,0,f.length,2)}}},r.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Cr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=e.getOrientedFlatCoordinates(),a=0,o=e.getEndss(),s=e.getStride();n.beginPath();for(var u=0,l=o.length;u<l;++u)a=this.drawRings_(i,a,o[u],s);this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(""!==this.text_){var f=e.getFlatInteriorPoints();this.drawText_(f,0,f.length,2)}}},r.prototype.setContextFillState_=function(e){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},r.prototype.setContextStrokeState_=function(e){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),n.setLineDash&&(nc(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},r.prototype.setContextTextState_=function(e){var n=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:_c;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=a&&(i.textAlign=a,n.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=a,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})},r.prototype.setFillStrokeStyle=function(e,n){if(e){var i=e.getColor();this.fillState_={fillStyle:qi(i||ba)}}else this.fillState_=null;if(n){var a=n.getColor(),o=n.getLineCap(),s=n.getLineDash(),u=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:Du,lineDash:s||ld,lineDashOffset:u||0,lineJoin:void 0!==l?l:ku,lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==f?f:10,strokeStyle:qi(a||mc)}}else this.strokeState_=null},r.prototype.setImageStyle=function(e){if(e){var n=e.getSize();if(n){var i=e.getAnchor(),a=e.getImage(1),o=e.getOrigin(),s=e.getScaleArray();this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=n[1],this.image_=a,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]],this.imageWidth_=n[0]}else this.image_=null}else this.image_=null},r.prototype.setTextStyle=function(e){if(e){var n=e.getFill();if(n){var i=n.getColor();this.textFillState_={fillStyle:qi(i||ba)}}else this.textFillState_=null;var a=e.getStroke();if(a){var o=a.getColor(),s=a.getLineCap(),u=a.getLineDash(),l=a.getLineDashOffset(),c=a.getLineJoin(),f=a.getWidth(),h=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:Du,lineDash:u||ld,lineDashOffset:l||0,lineJoin:void 0!==c?c:ku,lineWidth:void 0!==f?f:1,miterLimit:void 0!==h?h:10,strokeStyle:qi(o||mc)}}else this.textStrokeState_=null;var d=e.getFont(),v=e.getOffsetX(),p=e.getOffsetY(),m=e.getRotateWithView(),C=e.getRotation(),_=e.getScaleArray(),E=e.getText(),S=e.getTextAlign(),w=e.getTextBaseline();this.textState_={font:void 0!==d?d:yA,textAlign:void 0!==S?S:_c,textBaseline:void 0!==w?w:fd},this.text_=void 0!==E?E:"",this.textOffsetX_=void 0!==v?this.pixelRatio_*v:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==C?C:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}else this.text_=""},r}(DA),$q=Qq,Jq=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var e in this.cache_)0==(3&r++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(r,e,n){var i=NA(r,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(r,e,n,i){var a=NA(r,e,n);this.cache_[a]=i,++this.cacheSize_},t.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},t}();function NA(t,r,e){return r+":"+t+":"+(e?hA(e):"null")}var md=new Jq,e6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t6=function(t){function r(e,n,i,a){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=a,o}return e6(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return ze()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){ze()},r}(hu),n6=t6,r6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Rm(t,r,e){var n=t;if(n.src&&bI){var i=n.decode(),a=!0;return i.then(function(){a&&r()}).catch(function(u){a&&("EncodingError"===u.name&&"Invalid image type."===u.message?r():e())}),function(){a=!1}}var s=[Wh(n,"load",r),Wh(n,"error",e)];return function(){s.forEach(Mt)}}!function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,i,0)||this;return u.src_=a,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=0,u.imageLoadFunction_=s,u}r6(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=mi(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Rm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(e){this.image_=e},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(n6);var i6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wc=null,a6=function(t){function r(e,n,i,a,o,s){var u=t.call(this)||this;return u.hitDetectionImage_=null,u.image_=e||new Image,null!==a&&(u.image_.crossOrigin=a),u.canvas_={},u.color_=s,u.unlisten_=null,u.imageState_=o,u.size_=i,u.src_=n,u}return i6(r,t),r.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){wc||(wc=Jn(1,1)),wc.drawImage(this.image_,0,0);try{wc.getImageData(0,0,1,1),this.tainted_=!1}catch(e){wc=null,this.tainted_=!0}}return!0===this.tainted_},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},r.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},r.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Jn(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Rm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]){var n=document.createElement("canvas");this.canvas_[e]=n,n.width=Math.ceil(this.image_.width*e),n.height=Math.ceil(this.image_.height*e);var i=n.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=hA(this.color_),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var a=i.getImageData(0,0,n.width,n.height),o=a.data,s=this.color_[0]/255,u=this.color_[1]/255,l=this.color_[2]/255,c=this.color_[3],f=0,h=o.length;f<h;f+=4)o[f]*=s,o[f+1]*=u,o[f+2]*=l,o[f+3]*=c;i.putImageData(a,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(hu),s6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),u6=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,f=i.src;Ze(!(void 0!==f&&l),4),Ze(!l||l&&c,5),(void 0===f||0===f.length)&&l&&(f=l.src||Ye(l)),Ze(void 0!==f&&f.length>0,6);var h=void 0!==i.src?0:2;return n.color_=void 0!==i.color?vA(i.color):null,n.iconImage_=function(t,r,e,n,i,a){var o=md.get(r,n,a);return o||(o=new a6(t,r,e,n,i,a),md.set(r,n,a,o)),o}(l,f,c,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return s6(r,t),r.prototype.clone=function(){var e=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=n[0]),"fraction"==this.anchorYUnits_&&(e[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+n[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},r.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(e){return this.iconImage_.getImage(e)},r.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_,n=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var i=this.getSize(),a=this.iconImage_.getSize();if(!i||!a)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=a[0]-i[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=a[1]-i[1]-e[1])}return e[0]+=n[0],e[1]+=n[1],this.origin_=e,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},r}(lA),Pm=u6,VA={Point:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawPoint(r,n)}if(o&&o.getText()){var l=t.getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},LineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},Polygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},MultiPoint:function(t,r,e,n,i){var s,a=e.getImage(),o=e.getText();if(i&&(t=i,s=a&&o&&o.getText()?{}:void 0),a){if(2!=a.getImageState())return;var u=t.getBuilder(e.getZIndex(),"Image");u.setImageStyle(a,s),u.drawMultiPoint(r,n)}if(o&&o.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(o,s),l.drawText(r,n)}},MultiLineString:function(t,r,e,n,i){var a=e.getStroke();if(a){var o=t.getBuilder(e.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(r,n)}var s=e.getText();if(s&&s.getText()){var u=(i||t).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s),u.drawText(r,n)}},MultiPolygon:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(o||a){var s=t.getBuilder(e.getZIndex(),"Polygon");s.setFillStrokeStyle(a,o),s.drawMultiPolygon(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}},GeometryCollection:function(t,r,e,n,i){var o,s,a=r.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,VA[a[o].getType()])(t,a[o],e,n,i)},Circle:function(t,r,e,n,i){var a=e.getFill(),o=e.getStroke();if(a||o){var s=t.getBuilder(e.getZIndex(),"Circle");s.setFillStrokeStyle(a,o),s.drawCircle(r,n)}var u=e.getText();if(u&&u.getText()){var l=(i||t).getBuilder(e.getZIndex(),"Text");l.setTextStyle(u),l.drawText(r,n)}}};function h6(t,r){return parseInt(Ye(t),10)-parseInt(Ye(r),10)}function xm(t,r){return.5*t/r}function BA(t,r,e,n,i,a,o){var s=!1,u=e.getImage();if(u){var l=u.getImageState();2==l||3==l?u.unlistenImageChange(i):(0==l&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,r,e,n,i,a){var o=e.getGeometryFunction()(r);if(o){var s=o.simplifyTransformed(n,i);e.getRenderer()?HA(t,s,e,r):(0,VA[s.getType()])(t,s,e,r,a)}}(t,r,e,n,a,o),s}function HA(t,r,e,n){if("GeometryCollection"!=r.getType())t.getBuilder(e.getZIndex(),"Default").drawCustom(r,n,e.getRenderer());else for(var i=r.getGeometries(),a=0,o=i.length;a<o;++a)HA(t,i[a],e,n)}function Fm(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function Lm(t,r){var e=Math.cos(r),n=Math.sin(r),a=t[1]*e+t[0]*n;return t[0]=t[0]*e-t[1]*n,t[1]=a,t}function GA(t,r){if(r.canWrapX()){var e=Bt(r.getExtent()),n=function(t,r,e){var n=r.getExtent(),i=0;if(r.canWrapX()&&(t[0]<n[0]||t[0]>n[2])){var a=e||Bt(n);i=Math.floor((t[0]-n[0])/a)}return i}(t,r,e);n&&(t[0]-=n*e)}return t}var A6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O6=function(t){function r(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return A6(r,t),r.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},r.prototype.renderWorlds=function(e,n,i){var a=n.extent,o=n.viewState,s=o.center,u=o.resolution,l=o.projection,c=o.rotation,f=l.getExtent(),h=this.getLayer().getSource(),d=n.pixelRatio,v=n.viewHints,p=!(v[0]||v[1]),m=this.context,C=Math.round(n.size[0]*d),_=Math.round(n.size[1]*d),E=h.getWrapX()&&l.canWrapX(),S=E?Bt(f):null,w=E?Math.ceil((a[2]-f[2])/S)+1:1,k=E?Math.floor((a[0]-f[0])/S):0;do{var I=this.getRenderTransform(s,u,c,d,C,_,k*S);e.execute(m,1,I,c,p,void 0,i)}while(++k<w)},r.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},r.prototype.renderFrame=function(e,n){var i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];(function(t,r,e){!function(t,r,e,n,i,a,o){t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=o}(t,r,0,0,e,0,0)})(this.pixelTransform,1/i,1/i),ed(this.inversePixelTransform,this.pixelTransform);var o=td(this.pixelTransform);this.useContainer(n,o,a.opacity);var s=this.context,u=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;if((!l||l.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&u.width>0&&(u.width=0),this.container;var f=Math.round(e.size[0]*i),h=Math.round(e.size[1]*i);u.width!=f||u.height!=h?(u.width=f,u.height=h,u.style.transform!==o&&(u.style.transform=o)):this.containerReused||s.clearRect(0,0,f,h),this.preRender(s,e);var d=e.viewState,p=!1;if(a.extent&&this.clipping){var m=jo(a.extent);(p=!yu(m,e.extent)&&Cr(m,e.extent))&&this.clipUnrotated(s,e,m)}this.renderWorlds(l,e),p&&s.restore(),this.postRender(s,e);var C=a.opacity,_=this.container;return C!==parseFloat(_.style.opacity)&&(_.style.opacity=1===C?"":String(C)),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(e){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Vt(this.pixelTransform,i);var a=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.renderedExtent_,c=this.getLayer(),f=[],h=i[0]/2,d=i[1]/2;f.push(this.getRenderTransform(a,o,s,.5,h,d,0).slice());var v=c.getSource(),p=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!yu(p,l)){for(var m=l[0],C=Bt(p),_=0;m<p[0];)--_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),m+=C;for(_=0,m=l[2];m>p[2];)++_,f.push(this.getRenderTransform(a,o,s,.5,h,d,C*_).slice()),m-=C}this.hitDetectionImageData_=function(t,r,e,n,i,a,o){var l=Jn(t[0]/2,t[1]/2);l.imageSmoothingEnabled=!1;for(var c=l.canvas,f=new $q(l,.5,i,null,o),h=e.length,d=Math.floor(16777215/h),v={},p=1;p<=h;++p){var m=e[p-1],C=m.getStyleFunction()||n;if(n){var _=C(m,a);if(_){Array.isArray(_)||(_=[_]);for(var S="#"+("000000"+(p*d).toString(16)).slice(-6),w=0,k=_.length;w<k;++w){var I=_[w],x=I.clone(),B=x.getFill();B&&B.setColor(S);var Y=x.getStroke();Y&&Y.setColor(S),x.setText(void 0);var q=I.getImage();if(q){var ee=q.getImageSize();if(!ee)continue;var de=document.createElement("canvas");de.width=ee[0],de.height=ee[1];var _e=de.getContext("2d",{alpha:!1});_e.fillStyle=S;var se=_e.canvas;_e.fillRect(0,0,se.width,se.height),Jn(ee?ee[0]:se.width,ee?ee[1]:se.height).drawImage(se,0,0),x.setImage(new Pm({img:se,imgSize:ee,anchor:q.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:q.getOrigin(),size:q.getSize(),opacity:q.getOpacity(),scale:q.getScale(),rotation:q.getRotation(),rotateWithView:q.getRotateWithView()}))}var wt=Number(x.getZIndex());(xe=v[wt])||(v[wt]=xe={},xe.Polygon=[],xe.Circle=[],xe.LineString=[],xe.Point=[]);var ct=x.getGeometryFunction()(m);ct&&Cr(i,ct.getExtent())&&xe[ct.getType().replace("Multi","")].push(ct,x)}}}}for(var j=Object.keys(v).map(Number).sort(No),yn=(p=0,j.length);p<yn;++p){var xe=v[j[p]];for(var Be in xe){var Je=xe[Be];for(w=0,k=Je.length;w<k;w+=2){f.setStyle(Je[w+1]);for(var mn=0,Wt=r.length;mn<Wt;++mn)f.setTransform(r[mn]),f.drawGeometry(Je[w])}}}return l.getImageData(0,0,c.width,c.height)}(i,f,this.renderedFeatures_,c.getStyleFunction(),l,o,s)}n(function(t,r,e){var n=[];if(e){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*e.width),u=e.data[i+2]+256*(e.data[i+1]+256*e.data[i]),l=Math.floor(16777215/r.length);u&&u%l==0&&n.push(r[u/l-1])}return n}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o){var s=this;if(this.replayGroup_){var d,u=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),f={},h=function(m,C,_){var E=Ye(m),S=f[E];if(S){if(!0!==S&&_<S.distanceSq){if(0===_)return f[E]=!0,o.splice(o.lastIndexOf(S),1),a(m,c,C);S.geometry=C,S.distanceSq=_}}else{if(0===_)return f[E]=!0,a(m,c,C);o.push(f[E]={feature:m,layer:c,geometry:C,distanceSq:_,callback:a})}},v=[this.replayGroup_];return this.declutterExecutorGroup&&v.push(this.declutterExecutorGroup),v.some(function(p){return d=p.forEachFeatureAtCoordinate(e,u,l,i,h,p===s.declutterExecutorGroup?n.declutterTree.all().map(function(m){return m.value}):null)}),d}},r.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},r.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(e){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var a=e.viewHints[0],o=e.viewHints[1],s=n.getUpdateWhileAnimating(),u=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&a||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var l=e.extent,c=e.viewState,f=c.projection,h=c.resolution,d=e.pixelRatio,v=n.getRevision(),p=n.getRenderBuffer(),m=n.getRenderOrder();void 0===m&&(m=h6);var C=c.center.slice(),_=vm(l,p*h),E=[_.slice()],S=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!yu(S,e.extent)){var w=Bt(S),k=Math.max(Bt(_)/2,w);_[0]=S[0]-k,_[2]=S[2]+k,GA(C,f);var I=function(t,r){var e=r.getExtent(),n=Eu(t);if(r.canWrapX()&&(n[0]<e[0]||n[0]>=e[2])){var i=Bt(e),o=Math.floor((n[0]-e[0])/i)*i;t[0]-=o,t[2]-=o}return t}(E[0],f);I[0]<S[0]&&I[2]<S[2]?E.push([I[0]+w,I[1],I[2]+w,I[3]]):I[0]>S[0]&&I[2]>S[2]&&E.push([I[0]-w,I[1],I[2]-w,I[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==v&&this.renderedRenderOrder_==m&&yu(this.renderedExtent_,_))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var B,x=new OA(xm(h,d),_,h,d);this.getLayer().getDeclutter()&&(B=new OA(xm(h,d),_,h,d));var q,Y=nA();if(Y){for(var ee=0,de=E.length;ee<de;++ee)i.loadFeatures(Sm(E[ee]),h,Y);q=vc(Y,f)}else for(ee=0,de=E.length;ee<de;++ee)i.loadFeatures(E[ee],h,f);var _e=function(t,r){var e=xm(t,r);return e*e}(h,d),se=function(xe){var ct,j=xe.getStyleFunction()||n.getStyleFunction();if(j&&(ct=j(xe,h)),ct){var yn=this.renderFeature(xe,_e,ct,x,q,B);this.dirty_=this.dirty_||yn}}.bind(this),Me=Sm(_),De=i.getFeaturesInExtent(Me);for(m&&De.sort(m),ee=0,de=De.length;ee<de;++ee)se(De[ee]);this.renderedFeatures_=De;var tt=x.finish(),wt=new LA(_,h,d,i.getOverlaps(),tt,n.getRenderBuffer());return B&&(this.declutterExecutorGroup=new LA(_,h,d,i.getOverlaps(),B.finish(),n.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=v,this.renderedRenderOrder_=m,this.renderedExtent_=_,this.renderedCenter_=C,this.renderedProjection_=f,this.replayGroup_=wt,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(e,n,i,a,o,s){if(!i)return!1;var u=!1;if(Array.isArray(i))for(var l=0,c=i.length;l<c;++l)u=BA(a,e,i[l],n,this.boundHandleStyleImageChange_,o,s)||u;else u=BA(a,e,i,n,this.boundHandleStyleImageChange_,o,s);return u},r}(RA),M6=O6,R6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P6=function(t){function r(e){return t.call(this,e)||this}return R6(r,t),r.prototype.createRenderer=function(){return new M6(this)},r}(pq),zA=P6,x6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),F6=function(t){function r(e){var n=this,i=e||{},a=xn({},i);return delete a.preload,delete a.useInterimTilesOnError,(n=t.call(this,a)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return x6(r,t),r.prototype.getPreload=function(){return this.get("preload")},r.prototype.setPreload=function(e){this.set("preload",e)},r.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},r.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},r}(RI),L6=F6,WA=function(){function t(r,e,n,i){this.minX=r,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(r){return this.containsXY(r[1],r[2])},t.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},t.prototype.containsXY=function(r,e){return this.minX<=r&&r<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},t.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},t}();function Nm(t,r,e,n,i){return void 0!==i?(i.minX=t,i.maxX=r,i.minY=e,i.maxY=n,i):new WA(t,r,e,n)}var qA=WA,N6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KA=function(t){function r(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new qA(0,0,0,0),n}return N6(r,t),r.prototype.isDrawableTile=function(e){var n=this.getLayer(),i=e.getState(),a=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!a},r.prototype.getTile=function(e,n,i,a){var o=a.pixelRatio,s=a.viewState.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,o,s);return 3==c.getState()&&(u.getUseInterimTilesOnError()?u.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},r.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},r.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(e,n){var i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,s=a.resolution,u=a.center,l=a.rotation,c=e.pixelRatio,f=this.getLayer(),h=f.getSource(),d=h.getRevision(),v=h.getTileGridForProjection(o),p=v.getZForResolution(s,h.zDirection),m=v.getResolution(p),C=e.extent,_=i.extent&&jo(i.extent);_&&(C=Su(C,jo(i.extent)));var E=h.getTilePixelRatio(c),S=Math.round(e.size[0]*E),w=Math.round(e.size[1]*E);if(l){var k=Math.round(Math.sqrt(S*S+w*w));S=k,w=k}var I=m*S/2/E,x=m*w/2/E,B=[u[0]-I,u[1]-x,u[0]+I,u[1]+x],Y=v.getTileRangeForExtentAndZ(C,p),q={};q[p]={};var ee=this.createLoadedTileFinder(h,o,q),de=this.tmpExtent,_e=this.tmpTileRange_;this.newTiles_=!1;for(var se=Y.minX;se<=Y.maxX;++se)for(var Me=Y.minY;Me<=Y.maxY;++Me){var De=this.getTile(p,se,Me,e);if(this.isDrawableTile(De)){var tt=Ye(this);if(2==De.getState()){q[p][De.tileCoord.toString()]=De;var wt=De.inTransition(tt);!this.newTiles_&&(wt||-1===this.renderedTiles.indexOf(De))&&(this.newTiles_=!0)}if(1===De.getAlpha(tt,e.time))continue}var xe=v.getTileCoordChildTileRange(De.tileCoord,_e,de),ct=!1;xe&&(ct=ee(p+1,xe)),ct||v.forEachTileCoordParentTileRange(De.tileCoord,ee,_e,de)}var j=m/s;Gi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,l,-S/2,-w/2);var yn=function(t){return Yh?td(t):(dd||(dd=Jn(1,1).canvas),dd.style.transform=td(t),dd.style.transform)}(this.pixelTransform);this.useContainer(n,yn,i.opacity);var Be=this.context,Je=Be.canvas;ed(this.inversePixelTransform,this.pixelTransform),Gi(this.tempTransform,S/2,w/2,j,j,0,-S/2,-w/2),Je.width!=S||Je.height!=w?(Je.width=S,Je.height=w):this.containerReused||Be.clearRect(0,0,S,w),_&&this.clipUnrotated(Be,e,_),xn(Be,h.getContextOptions()),this.preRender(Be,e),this.renderedTiles.length=0;var Wt,sn,Ln,mn=Object.keys(q).map(Number);mn.sort(No),1!==i.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(Wt=[],sn=[]):mn=mn.reverse();for(var Xi=mn.length-1;Xi>=0;--Xi){var tr=mn[Xi],Jo=h.getTilePixelSize(tr,c,o),fe=v.getResolution(tr)/m,ge=Jo[0]*fe*j,Rt=Jo[1]*fe*j,br=v.getTileCoordForCoordAndZ(Qa(B),tr),Ei=v.getTileCoordExtent(br),Qi=Vt(this.tempTransform,[E*(Ei[0]-B[0])/m,E*(B[3]-Ei[3])/m]),qt=E*h.getGutterForProjection(o),so=q[tr];for(var Tn in so){var Nn=(De=so[Tn]).tileCoord,Si=Qi[0]-(br[1]-Nn[1])*ge,wi=Math.round(Si+ge),uo=Qi[1]-(br[2]-Nn[2])*Rt,Ac=Math.round(uo+Rt),lo=wi-(se=Math.round(Si)),Aa=Ac-(Me=Math.round(uo)),es=p===tr;if(!(wt=es&&1!==De.getAlpha(Ye(this),e.time)))if(Wt){Be.save(),Ln=[se,Me,se+lo,Me,se+lo,Me+Aa,se,Me+Aa];for(var Fu=0,bi=Wt.length;Fu<bi;++Fu)if(p!==tr&&tr<sn[Fu]){var Ti=Wt[Fu];Be.beginPath(),Be.moveTo(Ln[0],Ln[1]),Be.lineTo(Ln[2],Ln[3]),Be.lineTo(Ln[4],Ln[5]),Be.lineTo(Ln[6],Ln[7]),Be.moveTo(Ti[6],Ti[7]),Be.lineTo(Ti[4],Ti[5]),Be.lineTo(Ti[2],Ti[3]),Be.lineTo(Ti[0],Ti[1]),Be.clip()}Wt.push(Ln),sn.push(tr)}else Be.clearRect(se,Me,lo,Aa);this.drawTileImage(De,e,se,Me,lo,Aa,qt,es,i.opacity),Wt&&!wt&&Be.restore(),this.renderedTiles.push(De),this.updateUsedTiles(e.usedTiles,h,De)}}return this.renderedRevision=d,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!uc(this.renderedExtent_,B),this.renderedExtent_=B,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(e,h,v,c,o,C,p,f.getPreload()),this.scheduleExpireCache(e,h),this.postRender(Be,e),i.extent&&Be.restore(),yn!==Je.style.transform&&(Je.style.transform=yn),this.container},r.prototype.drawTileImage=function(e,n,i,a,o,s,u,l,c){var f=this.getTileImage(e);if(f){var h=Ye(this),d=l?e.getAlpha(h,n.time):1,v=c*d,p=v!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=v),this.context.drawImage(f,u,u,f.width-2*u,f.height-2*u,i,a,o,s),p&&this.context.restore(),1!==d?n.animate=!0:l&&e.endTransition(h)}},r.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},r.prototype.getTileImage=function(e){return e.getImage()},r.prototype.scheduleExpireCache=function(e,n){if(n.canExpireCache()){var i=function(a,o,s){var u=Ye(a);u in s.usedTiles&&a.expireCache(s.viewState.projection,s.usedTiles[u])}.bind(null,n);e.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(e,n,i){var a=Ye(n);a in e||(e[a]={}),e[a][i.getKey()]=!0},r.prototype.manageTilePyramid=function(e,n,i,a,o,s,u,l,c){var f=Ye(n);f in e.wantedTiles||(e.wantedTiles[f]={});var m,C,_,E,S,w,h=e.wantedTiles[f],d=e.tileQueue,p=0;for(w=i.getMinZoom();w<=u;++w)for(C=i.getTileRangeForExtentAndZ(s,w,C),_=i.getResolution(w),E=C.minX;E<=C.maxX;++E)for(S=C.minY;S<=C.maxY;++S)u-w<=l?(++p,0==(m=n.getTile(w,E,S,a,o)).getState()&&(h[m.getKey()]=!0,d.isKeyQueued(m.getKey())||d.enqueue([m,f,i.getTileCoordCenter(m.tileCoord),_])),void 0!==c&&c(m)):n.useTile(w,E,S,o);n.updateCacheSize(p,o)},r}(RA),V6=KA,B6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),H6=function(t){function r(e){return t.call(this,e)||this}return B6(r,t),r.prototype.createRenderer=function(){return new V6(this)},r}(L6),U6=H6,j6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),G6=function(t){function r(e){var n=t.call(this)||this;return n.map_=e,n}return j6(r,t),r.prototype.dispatchRenderEvent=function(e,n){ze()},r.prototype.calculateMatrices2D=function(e){var n=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;Gi(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),ed(a,i)},r.prototype.forEachFeatureAtCoordinate=function(e,n,i,a,o,s,u,l){var c,f=n.viewState;function h(se,Me,De,tt){return o.call(s,Me,se?De:null,tt)}var d=f.projection,v=GA(e.slice(),d),p=[[0,0]];if(d.canWrapX()&&a){var C=Bt(d.getExtent());p.push([-C,0],[C,0])}for(var _=n.layerStatesArray,E=_.length,S=[],w=[],k=0;k<p.length;k++)for(var I=E-1;I>=0;--I){var x=_[I],B=x.layer;if(B.hasRenderer()&&$h(x,f)&&u.call(l,B)){var Y=B.getRenderer(),q=B.getSource();if(Y&&q){var ee=q.getWrapX()?v:e,de=h.bind(null,x.managed);w[0]=ee[0]+p[k][0],w[1]=ee[1]+p[k][1],c=Y.forEachFeatureAtCoordinate(w,n,i,de,S)}if(c)return c}}if(0!==S.length){var _e=1/S.length;return S.forEach(function(se,Me){return se.distanceSq+=Me*_e}),S.sort(function(se,Me){return se.distanceSq-Me.distanceSq}),S.some(function(se){return c=se.callback(se.feature,se.layer,se.geometry)}),c}},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){return ze()},r.prototype.hasFeatureAtCoordinate=function(e,n,i,a,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,a,Za,this,o,s)},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(e){ze()},r.prototype.scheduleExpireIconCache=function(e){md.canExpireCache()&&e.postRenderFunctions.push(z6)},r}(rm);function z6(t,r){md.expire()}var W6=G6,q6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),K6=function(t){function r(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=lt(Ta,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Xh+" ol-layers";var a=e.getViewport();return a.insertBefore(n.element_,a.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return q6(r,t),r.prototype.dispatchRenderEvent=function(e,n){var i=this.getMap();if(i.hasListener(e)){var a=new MA(e,void 0,n);i.dispatchEvent(a)}},r.prototype.disposeInternal=function(){Mt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(h,d){return h.zIndex-d.zIndex}),i=e.viewState;this.children_.length=0;for(var a=[],o=null,s=0,u=n.length;s<u;++s){var l=n[s];if(e.layerIndex=s,$h(l,i)&&("ready"==l.sourceState||"undefined"==l.sourceState)){var c=l.layer,f=c.render(e,o);!f||(f!==o&&(this.children_.push(f),o=f),"getDeclutter"in c&&a.push(c))}}for(s=a.length-1;s>=0;--s)a[s].renderDeclutter(e);(function(t,r){for(var e=t.childNodes,n=0;;++n){var i=e[n],a=r[n];if(!i&&!a)break;if(i!==a){if(!i){t.appendChild(a);continue}if(!a){t.removeChild(i),--n;continue}t.insertBefore(a,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},r.prototype.forEachLayerAtPixel=function(e,n,i,a,o){for(var s=n.viewState,u=n.layerStatesArray,c=u.length-1;c>=0;--c){var f=u[c],h=f.layer;if(h.hasRenderer()&&$h(f,s)&&o(h)){var v=h.getRenderer().getDataAtPixel(e,n,i);if(v){var p=a(h,v);if(p)return p}}}},r}(W6),Y6=K6,Z6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X6=function(t){function r(e){var n=this,i=e||{},a=xn({},i);delete a.layers;var o=i.layers;return(n=t.call(this,a)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Ui("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new Wr(o.slice(),{unique:!0}):Ze("function"==typeof o.getArray,43):o=new Wr(void 0,{unique:!0}),n.setLayers(o),n}return Z6(r,t),r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Mt),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(lt(e,"add",this.handleLayersAdd_,this),lt(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(Mt);fu(this.listenerKeys_);for(var i=e.getArray(),a=0,o=i.length;a<o;a++){var s=i[a];this.listenerKeys_[Ye(s)]=[lt(s,"propertychange",this.handleLayerChange_,this),lt(s,"change",this.handleLayerChange_,this)]}this.changed()},r.prototype.handleLayersAdd_=function(e){var n=e.element;this.listenerKeys_[Ye(n)]=[lt(n,"propertychange",this.handleLayerChange_,this),lt(n,"change",this.handleLayerChange_,this)],this.changed()},r.prototype.handleLayersRemove_=function(e){var i=Ye(e.element);this.listenerKeys_[i].forEach(Mt),delete this.listenerKeys_[i],this.changed()},r.prototype.getLayers=function(){return this.get("layers")},r.prototype.setLayers=function(e){this.set("layers",e)},r.prototype.getLayersArray=function(e){var n=void 0!==e?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},r.prototype.getLayerStatesArray=function(e){var n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(n)});for(var a=this.getLayerState(),o=i,s=n.length;o<s;o++){var u=n[o];u.opacity*=a.opacity,u.visible=u.visible&&a.visible,u.maxResolution=Math.min(u.maxResolution,a.maxResolution),u.minResolution=Math.max(u.minResolution,a.minResolution),u.minZoom=Math.max(u.minZoom,a.minZoom),u.maxZoom=Math.min(u.maxZoom,a.maxZoom),void 0!==a.extent&&(u.extent=void 0!==u.extent?Su(u.extent,a.extent):a.extent)}return n},r.prototype.getSourceState=function(){return"ready"},r}(MI),Q6=X6,$6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),J6=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.map=n,a.frameState=void 0!==i?i:null,a}return $6(r,t),r}(Ea),Cd=J6,eK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tK=function(t){function r(e,n,i,a,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==a&&a,s}return eK(r,t),Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(n){this.pixel_=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(n){this.coordinate_=n},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},r}(Cd),no=tK,_t={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},nK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rK=function(t){function r(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*Kh:Kh,i.down_=null;var a=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=a,i.pointerdownListenerKey_=lt(a,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=lt(a,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!TI&&{passive:!1}),i}return nK(r,t),r.prototype.emulateClick_=function(e){var n=new no(_t.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new no(_t.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new no(_t.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(e){var n=e;n.type==_t.POINTERUP||n.type==_t.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==_t.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var n=new no(_t.POINTERUP,this.map_,e);this.dispatchEvent(n),this.emulateClicks_&&!n.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Mt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(e){return 0===e.button},r.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var n=new no(_t.POINTERDOWN,this.map_,e);if(this.dispatchEvent(n),this.down_=e,0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(lt(i,_t.POINTERMOVE,this.handlePointerMove_,this),lt(i,_t.POINTERUP,this.handlePointerUp_,this),lt(this.element_,_t.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(lt(this.element_.getRootNode(),_t.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var n=new no(_t.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(n)}},r.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new no(e.type,this.map_,e,n))},r.prototype.handleTouchMove_=function(e){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&e.preventDefault()},r.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Mt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Mt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Mt),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},r}(hu),iK=rK,Ed=1/0,aK=function(){function t(r,e){this.priorityFunction_=r,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,fu(this.queuedElements_)},t.prototype.dequeue=function(){var r=this.elements_,e=this.priorities_,n=r[0];1==r.length?(r.length=0,e.length=0):(r[0]=r.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(r){Ze(!(this.keyFunction_(r)in this.queuedElements_),31);var e=this.priorityFunction_(r);return e!=Ed&&(this.elements_.push(r),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(r){return 2*r+1},t.prototype.getRightChildIndex_=function(r){return 2*r+2},t.prototype.getParentIndex_=function(r){return r-1>>1},t.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(r){return r in this.queuedElements_},t.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},t.prototype.siftUp_=function(r){for(var e=this.elements_,n=this.priorities_,i=e.length,a=e[r],o=n[r],s=r;r<i>>1;){var u=this.getLeftChildIndex_(r),l=this.getRightChildIndex_(r),c=l<i&&n[l]<n[u]?l:u;e[r]=e[c],n[r]=n[c],r=c}e[r]=a,n[r]=o,this.siftDown_(s,r)},t.prototype.siftDown_=function(r,e){for(var n=this.elements_,i=this.priorities_,a=n[e],o=i[e];e>r;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=a,i[e]=o},t.prototype.reprioritize=function(){var o,s,u,r=this.priorityFunction_,e=this.elements_,n=this.priorities_,i=0,a=e.length;for(s=0;s<a;++s)(u=r(o=e[s]))==Ed?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=u,e[i++]=o);e.length=i,n.length=i,this.heapify_()},t}(),oK=aK,sK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uK=function(t){function r(e,n){var i=t.call(this,function(a){return e.apply(null,a)},function(a){return a[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return sK(r,t),r.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(e){var n=e.target,i=n.getState();if(n.hifi&&2===i||3===i||4===i){n.removeEventListener("change",this.boundHandleTileChange_);var a=n.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(e,n){for(var o,s,i=0;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=(o=this.dequeue()[0]).getKey(),0===o.getState()&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,o.load())},r}(oK),lK=uK;function YA(t,r,e){return function(n,i,a,o,s){if(n){var u=r?0:a[0]*i,l=r?0:a[1]*i,c=s?s[0]:0,f=s?s[1]:0,h=t[0]+u/2+c,d=t[2]-u/2+c,v=t[1]+l/2+f,p=t[3]-l/2+f;h>d&&(d=h=(d+h)/2),v>p&&(p=v=(p+v)/2);var m=Sn(n[0],h,d),C=Sn(n[1],v,p),_=30*i;return o&&e&&(m+=-_*Math.log(1+Math.max(0,h-n[0])/_)+_*Math.log(1+Math.max(0,n[0]-d)/_),C+=-_*Math.log(1+Math.max(0,v-n[1])/_)+_*Math.log(1+Math.max(0,n[1]-p)/_)),[m,C]}}}function hK(t){return t}function Um(t,r,e,n){var i=Bt(r)/e[0],a=mi(r)/e[1];return n?Math.min(t,Math.max(i,a)):Math.min(t,Math.min(i,a))}function jm(t,r,e){var n=Math.min(t,r);return n*=Math.log(1+50*Math.max(0,t/r-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),Sn(n,e/2,2*r)}function ZA(t,r,e,n,i){return function(a,o,s,u){if(void 0!==a){var l=n?Um(t,n,s,i):t;return(void 0===e||e)&&u?jm(a,l,r):Sn(a,r,l)}}}function Gm(t){if(void 0!==t)return 0}function XA(t){if(void 0!==t)return t}function QA(t,r,e,n,i,a,o){var f,s=t[r],u=t[r+1],l=t[e]-s,c=t[e+1]-u;if(0===l&&0===c)f=r;else{var h=((i-s)*l+(a-u)*c)/(l*l+c*c);if(h>1)f=e;else{if(h>0){for(var d=0;d<n;++d)o[d]=Bo(t[r+d],t[e+d],h);return void(o.length=n)}f=r}}for(d=0;d<n;++d)o[d]=t[f+d];o.length=n}function $A(t,r,e,n,i){var a=t[r],o=t[r+1];for(r+=n;r<e;r+=n){var s=t[r],u=t[r+1],l=vu(a,o,s,u);l>i&&(i=l),a=s,o=u}return i}function eO(t,r,e,n,i,a,o,s,u,l,c){if(r==e)return l;var f,h;if(0===i){if((h=vu(o,s,t[r],t[r+1]))<l){for(f=0;f<n;++f)u[f]=t[r+f];return u.length=n,h}return l}for(var d=c||[NaN,NaN],v=r+n;v<e;)if(QA(t,v-n,v,n,o,s,d),(h=vu(o,s,d[0],d[1]))<l){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n,v+=n}else v+=n*Math.max((Math.sqrt(h)-Math.sqrt(l))/i|0,1);if(a&&(QA(t,e-n,r,n,o,s,d),(h=vu(o,s,d[0],d[1]))<l)){for(l=h,f=0;f<n;++f)u[f]=d[f];u.length=n}return l}function nO(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=o*s-a*u,a=s,o=u}return i/2}var yK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mK=function(t){function r(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return yK(r,t),r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(e,n,i,a){return a<UI(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($A(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.getArea=function(){return nO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return gd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=function(t,r,e,n,i,a,o){var s=(e-r)/n;if(s<3){for(;r<e;r+=n)a[o++]=t[r],a[o++]=t[r+1];return o}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[r,e-n],c=0;l.length>0;){for(var f=l.pop(),h=l.pop(),d=0,v=t[h],p=t[h+1],m=t[f],C=t[f+1],_=h+n;_<f;_+=n){var w=R5(t[_],t[_+1],v,p,m,C);w>d&&(c=_,d=w)}d>i&&(u[(c-r)/n]=1,h+n<c&&l.push(h,c),c+n<f&&l.push(c,f))}for(_=0;_<s;++_)u[_]&&(a[o++]=t[r+_*n],a[o++]=t[r+_*n+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new r(n,"XY")},r.prototype.getType=function(){return"LinearRing"},r.prototype.intersectsExtent=function(e){return!1},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oA(this.flatCoordinates,0,e,this.stride),this.changed()},r}(wm),iO=mK;function _K(t,r,e,n,i){return!WI(i,function(o){return!Ko(t,r,e,n,o[0],o[1])})}function Ko(t,r,e,n,i,a){for(var o=0,s=t[e-n],u=t[e-n+1];r<e;r+=n){var l=t[r],c=t[r+1];u<=a?c>a&&(l-s)*(a-u)-(i-s)*(c-u)>0&&o++:c<=a&&(l-s)*(a-u)-(i-s)*(c-u)<0&&o--,s=l,u=c}return 0!==o}function zm(t,r,e,n,i,a){if(0===e.length||!Ko(t,r,e[0],n,i,a))return!1;for(var o=1,s=e.length;o<s;++o)if(Ko(t,e[o-1],e[o],n,i,a))return!1;return!0}function Wm(t,r,e,n,i){var a=zI([1/0,1/0,-1/0,-1/0],t,r,e,n);return!!Cr(i,a)&&(!!(yu(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3])||function(t,r,e,n,i){for(var s,a=[t[r],t[r+1]],o=[];r+n<e;r+=n){if(o[0]=t[r+n],o[1]=t[r+n+1],s=i(a,o))return s;a[0]=o[0],a[1]=o[1]}return!1}(t,r,e,n,function(o,s){return function(t,r,e){var n=!1,i=pm(t,r),a=pm(t,e);if(1===i||1===a)n=!0;else{var o=t[0],s=t[1],u=t[2],l=t[3],h=e[0],d=e[1],v=(d-r[1])/(h-r[0]),p=void 0,m=void 0;!!(2&a)&&!(2&i)&&(n=(p=h-(d-l)/v)>=o&&p<=u),n||!(4&a)||4&i||(n=(m=d-(h-u)*v)>=s&&m<=l),n||!(8&a)||8&i||(n=(p=h-(d-s)/v)>=o&&p<=u),!n&&16&a&&!(16&i)&&(n=(m=d-(h-o)*v)>=s&&m<=l)}return n}(i,o,s)}))}function SK(t,r,e,n){for(;r<e-n;){for(var i=0;i<n;++i){var a=t[r+i];t[r+i]=t[e-n+i],t[e-n+i]=a}r+=n,e-=n}}function sO(t,r,e,n){for(var i=0,a=t[e-n],o=t[e-n+1];r<e;r+=n){var s=t[r],u=t[r+1];i+=(s-a)*(u+o),a=s,o=u}return 0===i?void 0:i>0}function qm(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=sO(t,r,u,n);(0===o?a&&l||!a&&!l:a&&!l||!a&&l)&&SK(t,r,u,n),r=u}return r}var wK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sd=function(t){function r(e,n,i){var a=t.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&i?(a.setFlatCoordinates(n,e),a.ends_=i):a.setCoordinates(e,n),a}return wK(r,t),r.prototype.appendLinearRing=function(e){this.flatCoordinates?zh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var e=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},r.prototype.closestPointXY=function(e,n,i,a){return a<UI(this.getExtent(),e,n)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,r,e,n,i){for(var a=0,o=e.length;a<o;++a){var s=e[a];i=$A(t,r,s,n,i),r=s}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,r,e,n,i,a,o,s,u,l,c){for(var f=c||[NaN,NaN],h=0,d=e.length;h<d;++h){var v=e[h];l=eO(t,r,v,n,i,a,o,s,u,l,f),r=v}return l}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,a))},r.prototype.containsXY=function(e,n){return zm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)},r.prototype.getArea=function(){return function(t,r,e,n){for(var i=0,a=0,o=e.length;a<o;++a){var s=e[a];i+=nO(t,r,s,n),r=s}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(e){var n;return void 0!==e?qm(n=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):n=this.flatCoordinates,Im(n,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Eu(this.getExtent());this.flatInteriorPoint_=function(t,r,e,n,i,a,o){for(var s,u,l,c,f,h,d,v=i[a+1],p=[],m=0,C=e.length;m<C;++m){var _=e[m];for(c=t[_-n],h=t[_-n+1],s=r;s<_;s+=n)f=t[s],d=t[s+1],(v<=h&&d<=v||h<=v&&v<=d)&&p.push(l=(v-h)/(d-h)*(f-c)+c),c=f,h=d}var E=NaN,S=-1/0;for(p.sort(No),c=p[0],s=1,u=p.length;s<u;++s){f=p[s];var w=Math.abs(f-c);w>S&&zm(t,r,e,n,l=(c+f)/2,v)&&(E=l,S=w),c=f}return isNaN(E)&&(E=i[a]),o?(o.push(E,v,S),o):[E,v,S]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new bm(this.getFlatInteriorPoint(),"XYM")},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new iO(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},r.prototype.getLinearRings=function(){for(var e=this.layout,n=this.flatCoordinates,i=this.ends_,a=[],o=0,s=0,u=i.length;s<u;++s){var l=i[s],c=new iO(n.slice(o,l),e);a.push(c),o=l}return a},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function(t,r,e,n,i){for(var a=void 0!==i&&i,o=0,s=e.length;o<s;++o){var u=e[o],l=sO(t,r,u,n);if(0===o){if(a&&l||!a&&!l)return!1}else if(a&&!l||!a&&l)return!1;r=u}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qm(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(e){var n=[],i=[];return n.length=function(t,r,e,n,i,a,o,s){for(var u=0,l=e.length;u<l;++u){var c=e[u];o=Iq(t,r,c,n,i,a,o),s.push(o),r=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new r(n,"XY",i)},r.prototype.getType=function(){return"Polygon"},r.prototype.intersectsExtent=function(e){return function(t,r,e,n,i){if(!function(t,r,e,n,i){return!!(Wm(t,r,e,n,i)||Ko(t,r,e,n,i[0],i[1])||Ko(t,r,e,n,i[0],i[3])||Ko(t,r,e,n,i[2],i[1])||Ko(t,r,e,n,i[2],i[3]))}(t,r,e[0],n,i))return!1;if(1===e.length)return!0;for(var a=1,o=e.length;a<o;++a)if(_K(t,e[a-1],e[a],n,i)&&!Wm(t,e[a-1],e[a],n,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},r.prototype.setCoordinates=function(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=function(t,r,e,n,i){for(var a=i||[],o=0,s=0,u=e.length;s<u;++s){var l=oA(t,r,e[s],n);a[o++]=l,r=l}return a.length=o,a}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},r}(wm),bK=Sd;function lO(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=[r,e,r,i,n,i,n,e,r,e];return new Sd(a,"XY",[a.length])}var DK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kK=function(t){function r(e){var n=t.call(this)||this,i=xn({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=Cm(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=wa(i.center)),i.extent&&(i.extent=jo(i.extent)),n.applyOptions_(i),n}return DK(r,t),r.prototype.applyOptions_=function(e){var i=function(t){var r,e,n,o=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=Cm(t.projection,"EPSG:3857"),d=h.getExtent(),v=t.constrainOnlyCenter,p=t.extent;if(!l&&!p&&h.isGlobal()&&(v=!1,p=d),void 0!==t.resolutions){var m=t.resolutions;e=m[o],n=void 0!==m[s]?m[s]:m[m.length-1],r=t.constrainResolution?function(t,r,e,n){return function(i,a,o,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=e?Um(u,e,o,n):u;if(s)return void 0===r||r?jm(i,c,l):Sn(i,l,c);var h=Math.min(c,i),d=Math.floor(am(t,h,a));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}(m,c,!v&&p,f):ZA(e,n,c,!v&&p,f)}else{var _=(d?Math.max(Bt(d),mi(d)):360*Sa[Xa.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),E=_/Math.pow(2,28);void 0!==(e=t.maxResolution)?o=0:e=_/Math.pow(u,o),void 0===(n=t.minResolution)&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(u,s):_/Math.pow(u,s):E),s=o+Math.floor(Math.log(e/n)/Math.log(u)),n=e/Math.pow(u,s-o),r=t.constrainResolution?function(t,r,e,n,i,a){return function(o,s,u,l){if(void 0!==o){var c=i?Um(r,i,u,a):r,f=void 0!==e?e:0;if(l)return void 0===n||n?jm(o,c,f):Sn(o,f,c);var v=Math.ceil(Math.log(r/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,m=Math.min(c,o),C=Math.floor(Math.log(r/m)/Math.log(t)+p),_=Math.max(v,C);return Sn(r/Math.pow(t,_),f,c)}}}(u,e,n,c,!v&&p,f):ZA(e,n,c,!v&&p,f)}return{constraint:r,maxResolution:e,minResolution:n,minZoom:o,zoomFactor:u}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=i.minZoom;var a=function(t){if(void 0!==t.extent)return YA(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=Cm(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,YA(n,!1,!1)}return hK}(e),o=i.constraint,s=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function(t){var r=Qh(5);return function(e,n){return n?e:void 0!==e?Math.abs(e)<=r?0:e:void 0}}():!1===e?XA:"number"==typeof e?function(t){var r=2*Math.PI/t;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/r+.5)*r:void 0}}(e):XA}return Gm}(e);this.constraints_={center:a,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},r.prototype.getUpdatedOptions_=function(e){var n=xn({},this.options_);return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),xn({},n,e)},r.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var a=arguments[i];a.center&&((a=xn({},a)).center=wa(a.center,this.getProjection())),a.anchor&&((a=xn({},a)).anchor=wa(a.anchor,this.getProjection())),n[i]=a}this.animateInternal.apply(this,n)},r.prototype.animateInternal=function(e){var i,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n),!this.isDef()){var a=arguments[n-1];return a.center&&this.setCenterInternal(a.center),void 0!==a.zoom&&this.setZoom(a.zoom),void 0!==a.rotation&&this.setRotation(a.rotation),void(i&&wd(i,!0))}for(var o=Date.now(),s=this.targetCenter_.slice(),u=this.targetResolution_,l=this.targetRotation_,c=[],f=0;f<n;++f){var h=arguments[f],d={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||fm,callback:i};if(h.center&&(d.sourceCenter=s,d.targetCenter=h.center.slice(),s=d.targetCenter),void 0!==h.zoom?(d.sourceResolution=u,d.targetResolution=this.getResolutionForZoom(h.zoom),u=d.targetResolution):h.resolution&&(d.sourceResolution=u,d.targetResolution=h.resolution,u=d.targetResolution),void 0!==h.rotation){d.sourceRotation=l;var v=pu(h.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+v,l=d.targetRotation}MK(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[0]>0},r.prototype.getInteracting=function(){return this.hints_[1]>0},r.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,n=0,i=this.animations_.length;n<i;++n){var a=this.animations_[n];if(a[0].callback&&wd(a[0].callback,!1),!e)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e},r.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var a=this.animations_[i],o=!0,s=0,u=a.length;s<u;++s){var l=a[s];if(!l.complete){var f=l.duration>0?(e-l.start)/l.duration:1;f>=1?(l.complete=!0,f=1):o=!1;var h=l.easing(f);if(l.sourceCenter){var d=l.sourceCenter[0],v=l.sourceCenter[1];this.targetCenter_=[d+h*(l.targetCenter[0]-d),v+h*(l.targetCenter[1]-v)]}if(l.sourceResolution&&l.targetResolution){var E=1===h?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){var S=this.getViewportSize_(this.getRotation()),w=this.constraints_.resolution(E,0,S,!0);this.targetCenter_=this.calculateCenterZoom(w,l.anchor)}this.targetResolution_=E,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var k=1===h?pu(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){var I=this.constraints_.rotation(k,!0);this.targetCenter_=this.calculateCenterRotate(I,l.anchor)}this.targetRotation_=k}if(this.applyTargetState_(!0),n=!0,!l.complete)break}}if(o){this.animations_[i]=null,this.setHint(0,-1);var x=a[0].callback;x&&wd(x,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(e,n){var i,a=this.getCenterInternal();return void 0!==a&&(Lm(i=[a[0]-n[0],a[1]-n[1]],e-this.getRotation()),function(t,r){t[0]+=+r[0],t[1]+=+r[1]}(i,n)),i},r.prototype.calculateCenterZoom=function(e,n){var i,a=this.getCenterInternal(),o=this.getResolution();return void 0!==a&&void 0!==o&&(i=[n[0]-e*(n[0]-a[0])/o,n[1]-e*(n[1]-a[1])/o]),i},r.prototype.getViewportSize_=function(e){var n=this.viewportSize_;if(e){var i=n[0],a=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return n},r.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Em(e,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get("center")},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},r.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},r.prototype.calculateExtent=function(e){return Sm(this.calculateExtentInternal(e),this.getProjection())},r.prototype.calculateExtentInternal=function(e){var n=e||this.getViewportSize_(),i=this.getCenterInternal();Ze(i,1);var a=this.getResolution();Ze(void 0!==a,2);var o=this.getRotation();return Ze(void 0!==o,3),qI(i,a,o,n)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},r.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get("resolution")},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(e,n){return this.getResolutionForExtentInternal(jo(e,this.getProjection()),n)},r.prototype.getResolutionForExtentInternal=function(e,n){var i=n||this.getViewportSize_(),a=Bt(e)/i[0],o=mi(e)/i[1];return Math.max(a,o)},r.prototype.getResolutionForValueFunction=function(e){var n=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/Math.log(n);return function(s){return i/Math.pow(n,s*o)}},r.prototype.getRotation=function(){return this.get("rotation")},r.prototype.getValueForResolutionFunction=function(e){var n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=Math.log(i/this.minResolution_)/n;return function(s){return Math.log(i/s)/n/o}},r.prototype.getViewportSizeMinusPadding_=function(e){var n=this.getViewportSize_(e),i=this.padding;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},r.prototype.getState=function(){var e=this.getProjection(),n=this.getResolution(),i=this.getRotation(),a=this.getCenterInternal(),o=this.padding;if(o){var s=this.getViewportSizeMinusPadding_();a=Ym(a,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:a.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var e,n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e},r.prototype.getZoomForResolution=function(e){var i,a,n=this.minZoom_||0;if(this.resolutions_){var o=am(this.resolutions_,e,1);n=o,i=this.resolutions_[o],a=o==this.resolutions_.length-1?2:i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return n+Math.log(i/e)/Math.log(a)},r.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=Sn(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Sn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},r.prototype.fit=function(e,n){var i;if(Ze(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Ze(!gm(e),25),i=lO(a=jo(e,this.getProjection()));else if("Circle"===e.getType()){var a;(i=lO(a=jo(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),Eu(a))}else{var o=nA();i=o?e.clone().transform(o,this.getProjection()):e}this.fitInternal(i,n)},r.prototype.fitInternal=function(e,n){var i=n||{},a=i.size;a||(a=this.getViewportSizeMinusPadding_());var u,o=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;u=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=e.getFlatCoordinates(),c=this.getRotation(),f=Math.cos(-c),h=Math.sin(-c),d=1/0,v=1/0,p=-1/0,m=-1/0,C=e.getStride(),_=0,E=l.length;_<E;_+=C){var S=l[_]*f-l[_+1]*h,w=l[_]*h+l[_+1]*f;d=Math.min(d,S),v=Math.min(v,w),p=Math.max(p,S),m=Math.max(m,w)}var k=this.getResolutionForExtentInternal([d,v,p,m],[a[0]-o[1]-o[3],a[1]-o[0]-o[2]]);k=isNaN(k)?u:Math.max(k,u),k=this.getConstrainedResolution(k,s?0:1);var I=(d+p)/2,x=(v+m)/2,q=this.getConstrainedCenter([(I+=(o[1]-o[3])/2*k)*f-(x+=(o[0]-o[2])/2*k)*(h=-h),x*f+I*h],k),ee=i.callback?i.callback:Vo;void 0!==i.duration?this.animateInternal({resolution:k,center:q,duration:i.duration,easing:i.easing},ee):(this.targetResolution_=k,this.targetCenter_=q,this.applyTargetState_(!1,!0),wd(ee,!0))},r.prototype.centerOn=function(e,n,i){this.centerOnInternal(wa(e,this.getProjection()),n,i)},r.prototype.centerOnInternal=function(e,n,i){this.setCenterInternal(Ym(e,n,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(e,n,i,a){var o,s=this.padding;if(s&&e){var u=this.getViewportSizeMinusPadding_(-i),l=Ym(e,a,[u[0]/2+s[3],u[1]/2+s[0]],n,i);o=[e[0]-l[0],e[1]-l[1]]}return o},r.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},r.prototype.adjustCenter=function(e){var n=Em(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustCenterInternal=function(e){var n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])},r.prototype.adjustResolution=function(e,n){var i=n&&wa(n,this.getProjection());this.adjustResolutionInternal(e,i)},r.prototype.adjustResolutionInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()},r.prototype.adjustZoom=function(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)},r.prototype.adjustRotation=function(e,n){n&&(n=wa(n,this.getProjection())),this.adjustRotationInternal(e,n)},r.prototype.adjustRotationInternal=function(e,n){var i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(a,n)),this.targetRotation_+=e,this.applyTargetState_()},r.prototype.setCenter=function(e){this.setCenterInternal(wa(e,this.getProjection()))},r.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},r.prototype.setHint=function(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]},r.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},r.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},r.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},r.prototype.applyTargetState_=function(e,n){var i=this.getAnimating()||this.getInteracting()||n,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),s=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,a,o));this.get("rotation")!==a&&this.set("rotation",a),this.get("resolution")!==s&&this.set("resolution",s),(!this.get("center")||!Fm(this.get("center"),u))&&this.set("center",u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(e,n,i){var a=void 0!==e?e:200,o=n||0,s=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,o,u),c=this.constraints_.center(this.targetCenter_,l,u,!1,this.calculateCenterShift(this.targetCenter_,l,s,u));if(0===a&&!this.cancelAnchor_)return this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,void this.applyTargetState_();var f=i||(0===a?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!Fm(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:a,easing:gu,anchor:f}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},r.prototype.endInteraction=function(e,n,i){var a=i&&wa(i,this.getProjection());this.endInteractionInternal(e,n,a)},r.prototype.endInteractionInternal=function(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)},r.prototype.getConstrainedCenter=function(e,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(e,n){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},r.prototype.getConstrainedResolution=function(e,n){var i=n||0,a=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,a)},r}(ji);function wd(t,r){setTimeout(function(){t(r)},0)}function MK(t){return!(t.sourceCenter&&t.targetCenter&&!Fm(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ym(t,r,e,n,i){var a=Math.cos(-i),o=Math.sin(-i),s=t[0]*a-t[1]*o,u=t[1]*a+t[0]*o;return[(s+=(r[0]/2-e[0])*n)*a-(u+=(e[1]-r[1]/2)*n)*(o=-o),u*a+s*o]}var cO=kK,RK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),PK=function(t){function r(e){var n=t.call(this)||this,i=function(t){var r=null;void 0!==t.keyboardEventTarget&&(r="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,a,o,e={},n=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Q6({layers:t.layers});return e.layergroup=n,e.target=t.target,e.view=void 0!==t.view?t.view:new cO,void 0!==t.controls&&(Array.isArray(t.controls)?i=new Wr(t.controls.slice()):(Ze("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?a=new Wr(t.interactions.slice()):(Ze("function"==typeof t.interactions.getArray,48),a=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Wr(t.overlays.slice()):(Ze("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Wr,{controls:i,interactions:a,keyboardEventTarget:r,overlays:o,values:e}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Kh,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new Wr,n.interactions=i.interactions||new Wr,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new lK(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Ui("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(Ui("view"),n.handleViewChanged_),n.addEventListener(Ui("size"),n.handleSizeChanged_),n.addEventListener(Ui("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.controls.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.addEventListener("add",function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener("remove",function(a){a.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener("remove",function(a){var s=a.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],a.element.setMap(null)}.bind(n)),n}return RK(r,t),r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(e){this.getControls().push(e)},r.prototype.addInteraction=function(e){this.getInteractions().push(e)},r.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},r.prototype.addOverlay=function(e){this.getOverlays().push(e)},r.prototype.addOverlayInternal_=function(e){var n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(e,n,i){if(this.frameState_){var a=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:Za,null)}},r.prototype.getFeaturesAtPixel=function(e,n){var i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},n),i},r.prototype.forEachLayerAtPixel=function(e,n,i){if(this.frameState_){var a=i||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==a.hitTolerance?a.hitTolerance:0,n,a.layerFilter||Za)}},r.prototype.hasFeatureAtPixel=function(e,n){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:Za,null)},r.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},r.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},r.prototype.getEventPixel=function(e){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]},r.prototype.getTarget=function(){return this.get("target")},r.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},r.prototype.getCoordinateFromPixel=function(e){return Em(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(e){var n=this.frameState_;return n?Vt(n.pixelToCoordinateTransform,e.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(e){var n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get("layergroup")},r.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},r.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var o=e[n].layer.getSource();if(o&&o.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(e){var n=wa(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},r.prototype.getPixelFromCoordinateInternal=function(e){var n=this.frameState_;return n?Vt(n.coordinateToPixelTransform,e.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get("size")},r.prototype.getView=function(){return this.get("view")},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},r.prototype.getTilePriority=function(e,n,i,a){return function(t,r,e,n,i){if(!t||!(e in t.wantedTiles)||!t.wantedTiles[e][r.getKey()])return Ed;var a=t.viewState.center,o=n[0]-a[0],s=n[1]-a[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i}(this.frameState_,e,n,i,a)},r.prototype.handleBrowserEvent=function(e,n){var a=new no(n||e.type,this,e);this.handleMapBrowserEvent(a)},r.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){var a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,s="host"in o?o.elementFromPoint(n.clientX,n.clientY):n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===a?a.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var u=this.getInteractions().getArray().slice(),l=u.length-1;l>=0;l--){var c=u[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},r.prototype.handlePostRender=function(){var e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,a=i;if(e){var o=e.viewHints;if(o[0]||o[1]){var s=!bI&&Date.now()-e.time>8;i=s?0:8,a=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}e&&this.hasListener("rendercomplete")&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",e);for(var u=this.postRenderFunctions_,l=0,c=u.length;l<c;++l)u[l](this,e);u.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var n=0,i=this.keyHandlerKeys_.length;n<i;++n)Mt(this.keyHandlerKeys_[n]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,um(this.viewport_)}if(e){for(var a in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new iK(this,this.moveTolerance_),_t)this.mapBrowserEventHandler_.addEventListener(_t[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!TI&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[lt(o,"keydown",this.handleBrowserEvent,this),lt(o,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Mt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Mt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=lt(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=lt(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Mt),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[lt(e,"propertychange",this.render,this),lt(e,"change",this.render,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),n=0,i=e.length;n<i;++n){var a=e[n].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(e){return this.getControls().remove(e)},r.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},r.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},r.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},r.prototype.renderFrame_=function(e){var n=this,i=this.getSize(),a=this.getView(),o=this.frameState_,s=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&a&&a.isDef()){var u=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=a.getState();s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:qI(l.center,l.resolution,l.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:u,wantedTiles:{}}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!gm(this.previousExtent_)&&!uc(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Cd("movestart",this,o)),this.previousExtent_=mu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!uc(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Cd("moveend",this,s)),HI(s.extent,this.previousExtent_))),this.dispatchEvent(new Cd("postrender",this,s)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},r.prototype.setLayerGroup=function(e){this.set("layergroup",e)},r.prototype.setSize=function(e){this.set("size",e)},r.prototype.setTarget=function(e){this.set("target",e)},r.prototype.setView=function(e){this.set("view",e)},r.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var n=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}},r}(ji),FK=PK,LK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NK=function(t){function r(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return LK(r,t),r.prototype.getActive=function(){return this.get("active")},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(e){return!0},r.prototype.setActive=function(e){this.set("active",e)},r.prototype.setMap=function(e){this.map_=e},r}(ji);function Zm(t,r,e,n){var i=t.getZoom();if(void 0!==i){var a=t.getConstrainedZoom(i+r),o=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:e,duration:void 0!==n?n:250,easing:gu})}}var Ru=NK,BK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HK=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return BK(r,t),r.prototype.handleEvent=function(e){var n=!1;if(e.type==_t.DBLCLICK){var i=e.originalEvent,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_;Zm(e.map.getView(),s,o,this.duration_),i.preventDefault(),n=!0}return!n},r}(Ru),UK=HK,jK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GK=function(t){function r(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return jK(r,t),r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==_t.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==_t.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==_t.POINTERDOWN){var a=this.handleDownEvent(e);this.handlingDownUpSequence=a,n=this.stopDown(a)}else e.type==_t.POINTERMOVE&&this.handleMoveEvent(e);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(e){if(function(t){var r=t.type;return r===_t.POINTERDOWN||r===_t.POINTERDRAG||r===_t.POINTERUP}(e)){var n=e.originalEvent,i=n.pointerId.toString();e.type==_t.POINTERUP?delete this.trackedPointers_[i]:(e.type==_t.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=n),this.targetPointers=CI(this.trackedPointers_)}},r}(Ru);function Xm(t){for(var r=t.length,e=0,n=0,i=0;i<r;i++)e+=t[i].clientX,n+=t[i].clientY;return[e/r,n/r]}var bc=GK;function Qm(t){var r=arguments;return function(e){for(var n=!0,i=0,a=r.length;i<a&&(n=n&&r[i](e));++i);return n}}var t_,WK=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},hO=function(r){return!r.map.getTargetElement().hasAttribute("tabindex")||function(r){return r.target.getTargetElement().contains(document.activeElement)}(r)},KK=Za,YK=function(r){return r.type==_t.CLICK},dO=function(r){var e=r.originalEvent;return 0==e.button&&!(E5&&S5&&e.ctrlKey)},vO=rc,ZK=function(r){return r.type==_t.SINGLECLICK},pO=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},gO=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},yO=function(r){var n=r.originalEvent.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},$m=function(r){var e=r.originalEvent;return Ze(void 0!==e,56),"mouse"==e.pointerType},XK=function(r){var e=r.originalEvent;return Ze(void 0!==e,56),e.isPrimary&&0===e.button},QK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$K=function(t){function r(e){var n=t.call(this,{stopDown:rc})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var a=i.condition?i.condition:Qm(pO,XK);return n.condition_=i.onFocusOnly?Qm(hO,a):a,n.noKinetic_=!1,n}return QK(r,t),r.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=Xm(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],s=e.map.getView();(function(t,r){t[0]*=r,t[1]*=r})(a,s.getResolution()),Lm(a,s.getRotation()),s.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(e){var n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),u=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([u[0]-a*Math.cos(o),u[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:gu})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},r}(bc),JK=$K,eY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tY=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:rc})||this).condition_=i.condition?i.condition:WK,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return eY(r,t),r.prototype.handleDragEvent=function(e){if($m(e)){var n=e.map,i=n.getView();if(i.getConstraints().rotation!==Gm){var a=n.getSize(),o=e.pixel,s=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}}},r.prototype.handleUpEvent=function(e){return!$m(e)||(e.map.getView().endInteraction(this.duration_),!1)},r.prototype.handleDownEvent=function(e){return!(!$m(e)||!dO(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},r}(bc),nY=tY,rY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iY=function(t){function r(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return rY(r,t),r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var e=this.startPixel_,n=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],n[0])+i,a.top=Math.min(e[1],n[1])+i,a.width=Math.abs(n[0]-e[0])+i,a.height=Math.abs(n[1]-e[1])+i},r.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,n=this.endPixel_,a=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new bK([a])},r.prototype.getGeometry=function(){return this.geometry_},r}(rm),aY=iY,mO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jm=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.coordinate=n,a.mapBrowserEvent=i,a}return mO(r,t),r}(Ea),oY=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.box_=new aY(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:dO,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return mO(r,t),r.prototype.defaultBoxEndCondition=function(e,n,i){var a=i[0]-n[0],o=i[1]-n[1];return a*a+o*o>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Jm("boxdrag",e.coordinate,e))},r.prototype.handleUpEvent=function(e){this.box_.setMap(null);var n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Jm(n?"boxend":"boxcancel",e.coordinate,e)),!1},r.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Jm("boxstart",e.coordinate,e)),!0)},r.prototype.onBoxEnd=function(e){},r}(bc),sY=oY,uY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lY=function(t){function r(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:gO,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return uY(r,t),r.prototype.onBoxEnd=function(e){var n=this.getMap(),i=n.getView(),a=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(a),u=function(t,r){return function(t,r){for(var e=0,n=r.length;e<n;++e)_u(t,r[e]);return t}(mu(void 0),t)}([n.getPixelFromCoordinateInternal(Cu(o)),n.getPixelFromCoordinateInternal(wu(o))]);(function(t,r){var e=(t[2]-t[0])/2*(r-1),n=(t[3]-t[1])/2*(r-1);t[0]-=e,t[2]+=e,t[1]-=n,t[3]+=n})(s,1/i.getResolutionForExtentInternal(u,a)),o=s}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,a)),f=i.getConstrainedCenter(Eu(o),c);i.animateInternal({resolution:c,center:f,duration:this.duration_,easing:gu})},r}(sY),cY=lY,fY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hY=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(a){return pO(a)&&yO(a)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return fY(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type){var i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(40==a||37==a||39==a||38==a)){var s=e.map.getView(),u=s.getResolution()*this.pixelDelta_,l=0,c=0;40==a?c=-u:37==a?l=-u:39==a?l=u:c=u;var f=[l,c];Lm(f,s.getRotation()),function(t,r,e){var n=t.getCenterInternal();n&&t.animateInternal({duration:void 0!==e?e:250,easing:U5,center:t.getConstrainedCenter([n[0]+r[0],n[1]+r[1]])})}(s,f,this.duration_),i.preventDefault(),n=!0}}return!n},r}(Ru),dY=hY,vY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pY=function(t){function r(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:yO,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return vY(r,t),r.prototype.handleEvent=function(e){var n=!1;if("keydown"==e.type||"keypress"==e.type){var i=e.originalEvent,a=i.charCode;if(this.condition_(e)&&(a=="+".charCodeAt(0)||a=="-".charCodeAt(0))){var o=e.map,s=a=="+".charCodeAt(0)?this.delta_:-this.delta_;Zm(o.getView(),s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},r}(Ru),gY=pY,yY=function(){function t(r,e,n){this.decay_=r,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(r,e){this.points_.push(r,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<r)return!1;for(var n=e-3;n>0&&this.points_[n+2]>r;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var a=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,a),this.initialVelocity_=Math.sqrt(a*a+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),mY=yY,_Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CY=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var a=i.condition?i.condition:KK;return n.condition_=i.onFocusOnly?Qm(hO,a):a,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return _Y(r,t),r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var o,i=e.map,a=e.originalEvent;if(a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=a.deltaY,C5&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Kh),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;var s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");var u=i.getView();if("trackpad"===this.mode_&&!u.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;var l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1},r.prototype.handleWheelZoom_=function(e){var n=e.getView();n.getAnimating()&&n.cancelAnimations();var i=-Sn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Zm(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},r}(Ru),EY=CY,SY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wY=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=rc),(n=t.call(this,a)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return SY(r,t),r.prototype.handleDragEvent=function(e){var n=0,i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=o;var u=e.map,l=u.getView();if(l.getConstraints().rotation!==Gm){var c=u.getViewport().getBoundingClientRect(),f=Xm(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(n,this.anchor_))}},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(bc),bY=wY,TY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DY=function(t){function r(e){var n=this,i=e||{},a=i;return a.stopDown||(a.stopDown=rc),(n=t.call(this,a)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return TY(r,t),r.prototype.handleDragEvent=function(e){var n=1,i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/u),this.lastDistance_=u;var l=e.map,c=l.getView();1!=n&&(this.lastScaleDelta_=n);var f=l.getViewport().getBoundingClientRect(),h=Xm(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),l.render(),c.adjustResolutionInternal(n,this.anchor_)},r.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1},r}(bc),kY=DY,AY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),OY=function(t){function r(e){return(e=xn({},e)).controls||(e.controls=NI()),e.interactions||(e.interactions=function(t){var r={onFocusOnly:!0}||{},e=new Wr,n=new mY(-.005,.05,100);return(void 0===r.altShiftDragRotate||r.altShiftDragRotate)&&e.push(new nY),(void 0===r.doubleClickZoom||r.doubleClickZoom)&&e.push(new UK({delta:r.zoomDelta,duration:r.zoomDuration})),(void 0===r.dragPan||r.dragPan)&&e.push(new JK({onFocusOnly:r.onFocusOnly,kinetic:n})),(void 0===r.pinchRotate||r.pinchRotate)&&e.push(new bY),(void 0===r.pinchZoom||r.pinchZoom)&&e.push(new kY({duration:r.zoomDuration})),(void 0===r.keyboard||r.keyboard)&&(e.push(new dY),e.push(new gY({delta:r.zoomDelta,duration:r.zoomDuration}))),(void 0===r.mouseWheelZoom||r.mouseWheelZoom)&&e.push(new EY({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(void 0===r.shiftDragZoom||r.shiftDragZoom)&&e.push(new cY({duration:r.zoomDuration})),e}()),t.call(this,e)||this}return AY(r,t),r.prototype.createRenderer=function(){return new Y6(this)},r}(FK),MY=OY,RY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),PY=function(t){function r(e,n,i){var a=t.call(this)||this,o=i||{};return a.tileCoord=e,a.state=n,a.interimTile=null,a.hifi=!0,a.key="",a.transition_=void 0===o.transition?250:o.transition,a.transitionStarts_={},a}return RY(r,t),r.prototype.changed=function(){this.dispatchEvent("change")},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},r.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},r.prototype.load=function(){ze()},r.prototype.getAlpha=function(e,n){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else this.transitionStarts_[e]=i=n;var a=n-i+1e3/60;return a>=this.transition_?1:LI(a/this.transition_)},r.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},r.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},r}(hu),_O=PY,xY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FY=function(t){function r(e,n,i,a,o,s){var u=t.call(this,e,n,s)||this;return u.crossOrigin_=a,u.src_=i,u.key=i,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.tileLoadFunction_=o,u}return xY(r,t),r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function(){var t=Jn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},r.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},r.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Rm(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(_O),NY=FY,HY=function(){function t(r,e,n,i,a,o){this.sourceProj_=r,this.targetProj_=e;var s={},u=pc(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var S=E[0]+"/"+E[1];return s[S]||(s[S]=u(E)),s[S]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Bt(i)==Bt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Bt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Bt(this.targetProj_.getExtent()):null;var l=Qa(n),c=wu(n),f=lc(n),h=Cu(n),d=this.transformInv_(l),v=this.transformInv_(c),p=this.transformInv_(f),m=this.transformInv_(h),C=10+(o?Math.max(0,Math.ceil(M5(rd(n)/(o*o*256*256)))):0);if(this.addQuad_(l,c,f,h,d,v,p,m,C),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(E,S,w){_=Math.min(_,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-_>this.sourceWorldWidth_/2){var S=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];S[0][0]-_>this.sourceWorldWidth_/2&&(S[0][0]-=this.sourceWorldWidth_),S[1][0]-_>this.sourceWorldWidth_/2&&(S[1][0]-=this.sourceWorldWidth_),S[2][0]-_>this.sourceWorldWidth_/2&&(S[2][0]-=this.sourceWorldWidth_);var w=Math.min(S[0][0],S[1][0],S[2][0]);Math.max(S[0][0],S[1][0],S[2][0])-w<this.sourceWorldWidth_/2&&(E.source=S)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(r,e,n,i,a,o){this.triangles_.push({source:[i,a,o],target:[r,e,n]})},t.prototype.addQuad_=function(r,e,n,i,a,o,s,u,l){var c=BI([a,o,s,u]),f=this.sourceWorldWidth_?Bt(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,v=!1;if(l>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(v=Bt(BI([r,e,n,i]))/this.targetWorldWidth_>.25||v),!d&&this.sourceProj_.isGlobal()&&f&&(v=f>.25||v)),!(!v&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||Cr(c,this.maxSourceExtent_)){var C=0;if(!(v||isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])))if(l>0)v=!0;else if(1!=(C=(isFinite(a[0])&&isFinite(a[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=C&&4!=C&&8!=C)return;if(l>0){if(!v){var E=this.transformInv_([(r[0]+n[0])/2,(r[1]+n[1])/2]),S=void 0;S=d?(pu(a[0],h)+pu(s[0],h))/2-pu(E[0],h):(a[0]+s[0])/2-E[0];var k=(a[1]+s[1])/2-E[1];v=S*S+k*k>this.errorThresholdSquared_}if(v){if(Math.abs(r[0]-n[0])<=Math.abs(r[1]-n[1])){var x=[(e[0]+n[0])/2,(e[1]+n[1])/2],B=this.transformInv_(x),Y=[(i[0]+r[0])/2,(i[1]+r[1])/2],q=this.transformInv_(Y);this.addQuad_(r,e,x,Y,a,o,B,q,l-1),this.addQuad_(Y,x,n,i,q,B,s,u,l-1)}else{var ee=[(r[0]+e[0])/2,(r[1]+e[1])/2],de=this.transformInv_(ee),_e=[(n[0]+i[0])/2,(n[1]+i[1])/2],se=this.transformInv_(_e);this.addQuad_(r,ee,_e,i,a,de,se,u,l-1),this.addQuad_(ee,e,n,_e,de,o,s,se,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&C)&&this.addTriangle_(r,n,i,a,s,u),0==(14&C)&&this.addTriangle_(r,n,e,a,s,o),C&&(0==(13&C)&&this.addTriangle_(e,i,r,o,u,a),0==(7&C)&&this.addTriangle_(e,i,n,o,u,s))}},t.prototype.calculateSourceExtent=function(){var r=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var a=e.source;_u(r,a[0]),_u(r,a[1]),_u(r,a[2])}),r},t.prototype.getTriangles=function(){return this.triangles_},t}(),UY=HY,EO={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function SO(t,r,e,n,i){t.beginPath(),t.moveTo(0,0),t.lineTo(r,e),t.lineTo(n,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(r,n)+1,Math.max(e,i)),t.restore()}function n_(t,r){return Math.abs(t[4*r]-210)>2||Math.abs(t[4*r+3]-191.25)>2}function wO(t,r,e,n){var i=gc(e,r,t),a=$I(r,n,e),o=r.getMetersPerUnit();void 0!==o&&(a*=o);var s=t.getMetersPerUnit();void 0!==s&&(a/=s);var u=t.getExtent();if(!u||nd(u,i)){var l=$I(t,a,i)/a;isFinite(l)&&l>0&&(a/=l)}return a}var WY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qY=function(t){function r(e,n,i,a,o,s,u,l,c,f,h,d){var v=t.call(this,o,0)||this;v.renderEdges_=void 0!==h&&h,v.contextOptions_=d,v.pixelRatio_=u,v.gutter_=l,v.canvas_=null,v.sourceTileGrid_=n,v.targetTileGrid_=a,v.wrappedTileCoord_=s||o,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var p=a.getTileCoordExtent(v.wrappedTileCoord_),m=v.targetTileGrid_.getExtent(),C=v.sourceTileGrid_.getExtent(),_=m?Su(p,m):p;if(0===rd(_))return v.state=4,v;var E=e.getExtent();E&&(C=C?Su(C,E):E);var S=a.getResolution(v.wrappedTileCoord_[0]),w=function(t,r,e,n){var i=Eu(e),a=wO(t,r,i,n);return(!isFinite(a)||a<=0)&&WI(e,function(o){return a=wO(t,r,o,n),isFinite(a)&&a>0}),a}(e,i,_,S);if(!isFinite(w)||w<=0)return v.state=4,v;if(v.triangulation_=new UY(e,i,_,C,w*(void 0!==f?f:.5),S),0===v.triangulation_.getTriangles().length)return v.state=4,v;v.sourceZ_=n.getZForResolution(w);var I=v.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(I[1]=Sn(I[1],C[1],C[3]),I[3]=Sn(I[3],C[1],C[3])):I=Su(I,C)),rd(I)){for(var x=n.getTileRangeForExtentAndZ(I,v.sourceZ_),B=x.minX;B<=x.maxX;B++)for(var Y=x.minY;Y<=x.maxY;Y++){var q=c(v.sourceZ_,B,Y,u);q&&v.sourceTiles_.push(q)}0===v.sourceTiles_.length&&(v.state=4)}else v.state=4;return v}return WY(r,t),r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,f,h){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),a="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(n),u=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,r,e,n,i,a,o,s,u,l,c,f){var h=Jn(Math.round(e*t),Math.round(e*r));if(xn(h,f),0===u.length)return h.canvas;function d(S){return Math.round(S*e)/e}h.scale(e,e),h.globalCompositeOperation="lighter";var v=[1/0,1/0,-1/0,-1/0];u.forEach(function(S,w,k){!function(t,r){r[0]<t[0]&&(t[0]=r[0]),r[2]>t[2]&&(t[2]=r[2]),r[1]<t[1]&&(t[1]=r[1]),r[3]>t[3]&&(t[3]=r[3])}(v,S.extent)});var p=Bt(v),m=mi(v),C=Jn(Math.round(e*p/n),Math.round(e*m/n));xn(C,f);var _=e/n;u.forEach(function(S,w,k){var I=S.extent[0]-v[0],x=-(S.extent[3]-v[3]),B=Bt(S.extent),Y=mi(S.extent);S.image.width>0&&S.image.height>0&&C.drawImage(S.image,l,l,S.image.width-2*l,S.image.height-2*l,I*_,x*_,B*_,Y*_)});var E=Qa(o);return s.getTriangles().forEach(function(S,w,k){var I=S.source,x=S.target,B=I[0][0],Y=I[0][1],q=I[1][0],ee=I[1][1],de=I[2][0],_e=I[2][1],se=d((x[0][0]-E[0])/a),Me=d(-(x[0][1]-E[1])/a),De=d((x[1][0]-E[0])/a),tt=d(-(x[1][1]-E[1])/a),wt=d((x[2][0]-E[0])/a),xe=d(-(x[2][1]-E[1])/a),ct=B,j=Y;B=0,Y=0;var Be=function(t){for(var r=t.length,e=0;e<r;e++){for(var n=e,i=Math.abs(t[e][e]),a=e+1;a<r;a++){var o=Math.abs(t[a][e]);o>i&&(i=o,n=a)}if(0===i)return null;var s=t[n];t[n]=t[e],t[e]=s;for(var u=e+1;u<r;u++)for(var l=-t[u][e]/t[e][e],c=e;c<r+1;c++)e==c?t[u][c]=0:t[u][c]+=l*t[e][c]}for(var f=new Array(r),h=r-1;h>=0;h--){f[h]=t[h][r]/t[h][h];for(var d=h-1;d>=0;d--)t[d][r]-=t[d][h]*f[h]}return f}([[q-=ct,ee-=j,0,0,De-se],[de-=ct,_e-=j,0,0,wt-se],[0,0,q,ee,tt-Me],[0,0,de,_e,xe-Me]]);if(Be){if(h.save(),h.beginPath(),function(){if(void 0===t_){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",SO(t,4,5,4,0),SO(t,4,5,0,5);var r=t.getImageData(0,0,3,3).data;t_=n_(r,0)||n_(r,4)||n_(r,8)}return t_}()||f===EO){h.moveTo(De,tt);for(var mn=se-De,Wt=Me-tt,sn=0;sn<4;sn++)h.lineTo(De+d((sn+1)*mn/4),tt+d(sn*Wt/3)),3!=sn&&h.lineTo(De+d((sn+1)*mn/4),tt+d((sn+1)*Wt/3));h.lineTo(wt,xe)}else h.moveTo(De,tt),h.lineTo(se,Me),h.lineTo(wt,xe);h.clip(),h.transform(Be[0],Be[2],Be[1],Be[3],se,Me),h.translate(v[0]-ct,v[3]-j),h.scale(n/e,-n/e),h.drawImage(C.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(S,w,k){var I=S.target,x=(I[0][0]-E[0])/a,B=-(I[0][1]-E[1])/a,Y=(I[1][0]-E[0])/a,q=-(I[1][1]-E[1])/a,ee=(I[2][0]-E[0])/a,de=-(I[2][1]-E[1])/a;h.beginPath(),h.moveTo(Y,q),h.lineTo(x,B),h.lineTo(ee,de),h.closePath(),h.stroke()}),h.restore()),h.canvas}(a,o,this.pixelRatio_,u,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},r.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,a){var o=n.getState();if(0==o||1==o){e++;var s=lt(n,"change",function(u){var l=n.getState();(2==l||3==l||4==l)&&(Mt(s),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(n,i,a){0==n.getState()&&n.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Mt),this.sourcesListenerKeys_=null},r}(_O),KY=qY,YY=function(){function t(r){this.highWaterMark=void 0!==r?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},t.prototype.forEach=function(r){for(var e=this.oldest_;e;)r(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(r,e){var n=this.entries_[r];return Ze(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(r){var e=this.entries_[r];return Ze(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[r],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.key_;return r},t.prototype.getValues=function(){var n,r=new Array(this.count_),e=0;for(n=this.newest_;n;n=n.older)r[e++]=n.value_;return r},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},t.prototype.replace=function(r,e){this.get(r),this.entries_[r].value_=e},t.prototype.set=function(r,e){Ze(!(r in this.entries_),16);var n={key_:r,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[r]=n,++this.count_},t.prototype.setSize=function(r){this.highWaterMark=r},t}(),ZY=YY;function bO(t,r,e,n){return void 0!==n?(n[0]=t,n[1]=r,n[2]=e,n):[t,r,e]}function Td(t,r,e){return t+"/"+r+"/"+e}function TO(t){return Td(t[0],t[1],t[2])}var JY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eZ=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return JY(r,t),r.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},r.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var n=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),i=n[0];this.forEach(function(a){a.tileCoord[0]!==i&&(this.remove(TO(a.tileCoord)),a.release())}.bind(this))}},r}(ZY),DO=eZ,tZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nZ=function(t){function r(e){var n=t.call(this)||this;return n.projection_=er(e.projection),n.attributions_=kO(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return tZ(r,t),r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolutions=function(){return ze()},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getContextOptions=function(){},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(e){this.attributions_=kO(e),this.changed()},r.prototype.setState=function(e){this.state_=e,this.changed()},r}(ji);function kO(t){return t?Array.isArray(t)?function(r){return t}:"function"==typeof t?t:function(r){return[t]}:null}var IO=nZ,rZ=[0,0,0],iZ=function(){function t(r){var e;if(this.minZoom=void 0!==r.minZoom?r.minZoom:0,this.resolutions_=r.resolutions,Ze(function(t,r,e){var n=function(o,s){return s-o}||No;return t.every(function(i,a){if(0===a)return!0;var o=n(t[a-1],i);return!(o>0||0===o)})}(this.resolutions_),17),!r.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==r.origin?r.origin:null,this.origins_=null,void 0!==r.origins&&(this.origins_=r.origins,Ze(this.origins_.length==this.resolutions_.length,20));var a=r.extent;void 0!==a&&!this.origin_&&!this.origins_&&(this.origin_=Qa(a)),Ze(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==r.tileSizes&&(this.tileSizes_=r.tileSizes,Ze(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==r.tileSize?r.tileSize:this.tileSizes_?null:256,Ze(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==r.sizes?this.fullTileRanges_=r.sizes.map(function(o,s){var u=new qA(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(a){var l=this.getTileRangeForExtentAndZ(a,s);u.minX=Math.max(l.minX,u.minX),u.maxX=Math.min(l.maxX,u.maxX),u.minY=Math.max(l.minY,u.minY),u.maxY=Math.min(l.maxY,u.maxY)}return u},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(r,e,n){for(var i=this.getTileRangeForExtentAndZ(r,e),a=i.minX,o=i.maxX;a<=o;++a)for(var s=i.minY,u=i.maxY;s<=u;++s)n([e,a,s])},t.prototype.forEachTileCoordParentTileRange=function(r,e,n,i){var o,s,u=null,l=r[0]-1;for(2===this.zoomFactor_?(o=r[1],s=r[2]):u=this.getTileCoordExtent(r,i);l>=this.minZoom;){if(e(l,2===this.zoomFactor_?Nm(o=Math.floor(o/2),o,s=Math.floor(s/2),s,n):this.getTileRangeForExtentAndZ(u,l,n)))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},t.prototype.getResolution=function(r){return this.resolutions_[r]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(r,e,n){if(r[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*r[1],a=2*r[2];return Nm(i,i+1,a,a+1,e)}var o=this.getTileCoordExtent(r,n);return this.getTileRangeForExtentAndZ(o,r[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(r,e,n){var i=this.getOrigin(r),a=this.getResolution(r),o=qr(this.getTileSize(r),this.tmpSize_);return Wi(i[0]+e.minX*o[0]*a,i[1]+e.minY*o[1]*a,i[0]+(e.maxX+1)*o[0]*a,i[1]+(e.maxY+1)*o[1]*a,n)},t.prototype.getTileRangeForExtentAndZ=function(r,e,n){var i=rZ;this.getTileCoordForXYAndZ_(r[0],r[3],e,!1,i);var a=i[1],o=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],e,!0,i),Nm(a,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(r){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),i=qr(this.getTileSize(r[0]),this.tmpSize_);return[e[0]+(r[1]+.5)*i[0]*n,e[1]-(r[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(r,e){var n=this.getOrigin(r[0]),i=this.getResolution(r[0]),a=qr(this.getTileSize(r[0]),this.tmpSize_),o=n[0]+r[1]*a[0]*i,s=n[1]-(r[2]+1)*a[1]*i;return Wi(o,s,o+a[0]*i,s+a[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(r,e,n){return this.getTileCoordForXYAndResolution_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(r,e,n,i,a){var o=this.getZForResolution(n),s=n/this.getResolution(o),u=this.getOrigin(o),l=qr(this.getTileSize(o),this.tmpSize_),f=i?.5:0,h=Math.floor((r-u[0])/n+(i?.5:0)),d=Math.floor((u[1]-e)/n+f),v=s*h/l[0],p=s*d/l[1];return i?(v=Math.ceil(v)-1,p=Math.ceil(p)-1):(v=Math.floor(v),p=Math.floor(p)),bO(o,v,p,a)},t.prototype.getTileCoordForXYAndZ_=function(r,e,n,i,a){var o=this.getOrigin(n),s=this.getResolution(n),u=qr(this.getTileSize(n),this.tmpSize_),c=i?.5:0,f=Math.floor((r-o[0])/s+(i?.5:0)),h=Math.floor((o[1]-e)/s+c),d=f/u[0],v=h/u[1];return i?(d=Math.ceil(d)-1,v=Math.ceil(v)-1):(d=Math.floor(d),v=Math.floor(v)),bO(n,d,v,a)},t.prototype.getTileCoordForCoordAndZ=function(r,e,n){return this.getTileCoordForXYAndZ_(r[0],r[1],e,!1,n)},t.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},t.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},t.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},t.prototype.getZForResolution=function(r,e){return Sn(am(this.resolutions_,r,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(r){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=n},t}(),AO=iZ;function OO(t){var r=t.getDefaultTileGrid();return r||(r=function(t,r,e,n){return function(t,r,e,n){var a=MO(t,undefined,e);return new AO({extent:t,origin:s8(t,"top-left"),resolutions:a,tileSize:e})}(i_(t),0,void 0)}(t),t.setDefaultTileGrid(r)),r}function MO(t,r,e,n){for(var i=void 0!==r?r:42,a=mi(t),o=Bt(t),s=qr(void 0!==e?e:256),u=n>0?n:Math.max(o/s[0],a/s[1]),l=i+1,c=new Array(l),f=0;f<l;++f)c[f]=u/Math.pow(2,f);return c}function i_(t){var r=(t=er(t)).getExtent();if(!r){var e=180*Sa[Xa.DEGREES]/t.getMetersPerUnit();r=Wi(-e,-e,e,e)}return r}var RO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lZ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var a=e.tileGrid;return a&&qr(a.getTileSize(a.getMinZoom()),[256,256]),n.tileCache=new DO(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return RO(r,t),r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);i&&i.expireCache(n)},r.prototype.forEachLoadedTile=function(e,n,i,a){var o=this.getTileCacheForProjection(e);if(!o)return!1;for(var u,l,c,s=!0,f=i.minX;f<=i.maxX;++f)for(var h=i.minY;h<=i.maxY;++h)l=Td(n,f,h),c=!1,o.containsKey(l)&&(c=2===(u=o.get(l)).getState())&&(c=!1!==a(u)),c||(s=!1);return s},r.prototype.getGutterForProjection=function(e){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},r.prototype.getOpaque=function(e){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(e,n,i,a,o){return ze()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:OO(e)},r.prototype.getTileCacheForProjection=function(e){return Ze(Tu(this.getProjection(),e),68),this.tileCache},r.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(e,n,i){var a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=qr(a.getTileSize(e),this.tmpSize);return 1==o?s:function(t,r,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*r+.5|0,e[1]=t[1]*r+.5|0,e}(s,o,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(e,n){var i=void 0!==n?n:this.getProjection(),a=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=function(t,r,e){var n=r[0],i=t.getTileCoordCenter(r),a=i_(e);if(nd(a,i))return r;var o=Bt(a),s=Math.ceil((a[0]-i[0])/o);return i[0]+=o*s,t.getTileCoordForCoordAndZ(i,n)}(a,e,i)),function(t,r){var e=t[0],n=t[1],i=t[2];if(r.getMinZoom()>e||e>r.getMaxZoom())return!1;var a=r.getFullTileRange(e);return!a||a.containsXY(n,i)}(e,a)?e:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(e,n){var i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)},r.prototype.useTile=function(e,n,i,a){},r}(IO),cZ=function(t){function r(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return RO(r,t),r}(Ea),fZ=lZ;function hZ(t,r){var e=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(o,s,u){if(o)return t.replace(e,o[0].toString()).replace(n,o[1].toString()).replace(i,o[2].toString()).replace(a,function(){var c=r.getFullTileRange(o[0]);return Ze(c,55),(c.getHeight()-o[2]-1).toString()})}}var gZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yZ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===r.prototype.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(n.tileUrlFunction=e.tileUrlFunction),n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return gZ(r,t),r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(e){var o,n=e.target,i=Ye(n),a=n.getState();1==a?(this.tileLoadingKeys_[i]=!0,o="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=3==a?"tileloaderror":2==a?"tileloadend":void 0),null!=o&&this.dispatchEvent(new cZ(o,n))},r.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},r.prototype.setTileUrlFunction=function(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==n?this.setKey(n):this.changed()},r.prototype.setUrl=function(e){var n=function(t){var r=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var n=e[1].charCodeAt(0),i=e[2].charCodeAt(0),a=void 0;for(a=n;a<=i;++a)r.push(t.replace(e[0],String.fromCharCode(a)));return r}if(e=/\{(\d+)-(\d+)\}/.exec(t)){for(var o=parseInt(e[2],10),s=parseInt(e[1],10);s<=o;s++)r.push(t.replace(e[0],s.toString()));return r}return r.push(t),r}(e);this.urls=n,this.setUrls(n)},r.prototype.setUrls=function(e){this.urls=e;var n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i)n[i]=hZ(t[i],r);return function(t){return 1===t.length?t[0]:function(r,e,n){if(r){var i=function(t){return(t[1]<<t[0])+t[2]}(r),a=pu(i,t.length);return t[a](r,e,n)}}}(n)}(e,this.tileGrid),n):this.setKey(n)},r.prototype.tileUrlFunction=function(e,n,i){},r.prototype.useTile=function(e,n,i){var a=Td(e,n,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)},r}(fZ),mZ=yZ,_Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CZ=function(t){function r(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:EZ,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:NY,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?EO:void 0,n.renderReprojectionEdges_=!1,n}return _Z(r,t),r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},r.prototype.expireCache=function(e,n){var i=this.getTileCacheForProjection(e);for(var a in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[a];o.expireCache(o==i?n:{})}},r.prototype.getContextOptions=function(){return this.contextOptions_},r.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!Tu(this.getProjection(),e)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},r.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Tu(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},r.prototype.getTileGridForProjection=function(e){var n=this.getProjection();if(this.tileGrid&&(!n||Tu(n,e)))return this.tileGrid;var i=Ye(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=OO(e)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(e){var n=this.getProjection();if(!n||Tu(n,e))return this.tileCache;var i=Ye(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new DO(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(e,n,i,a,o,s){var u=[e,n,i],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,a,o):void 0,f=new this.tileClass(u,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener("change",this.handleTileChange.bind(this)),f},r.prototype.getTile=function(e,n,i,a,o){var s=this.getProjection();if(!s||!o||Tu(s,o))return this.getTileInternal(e,n,i,a,s||o);var u=this.getTileCacheForProjection(o),l=[e,n,i],c=void 0,f=TO(l);u.containsKey(f)&&(c=u.get(f));var h=this.getKey();if(c&&c.key==h)return c;var d=this.getTileGridForProjection(s),v=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(l,o),m=new KY(s,d,o,v,l,p,this.getTilePixelRatio(a),this.getGutter(),function(C,_,E,S){return this.getTileInternal(C,_,E,S,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return m.key=h,c?(m.interimTile=c,m.refreshInterimChain(),u.replace(f,m)):u.set(f,m),m},r.prototype.getTileInternal=function(e,n,i,a,o){var s=null,u=Td(e,n,i),l=this.getKey();if(this.tileCache.containsKey(u)){if((s=this.tileCache.get(u)).key!=l){var c=s;(s=this.createTile_(e,n,i,a,o,l)).interimTile=0==c.getState()?c.interimTile:c,s.refreshInterimChain(),this.tileCache.replace(u,s)}}else s=this.createTile_(e,n,i,a,o,l),this.tileCache.set(u,s);return s},r.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var n in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},r.prototype.setTileGridForProjection=function(e,n){var i=er(e);if(i){var a=Ye(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=n)}},r}(mZ);function EZ(t,r){t.getImage().src=r}var SZ=CZ,wZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bZ=function(t){function r(e){var i=e||{},a=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var r=t||{},e=r.extent||er("EPSG:3857").getExtent(),n={extent:e,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:MO(e,r.maxZoom,r.tileSize,r.maxResolution)};return new AO(n)}({extent:i_(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this}return wZ(r,t),r}(SZ),TZ=bZ,DZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IZ=function(t){function r(e){var i=e||{};return t.call(this,{attributions:void 0!==i.attributions?i.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:void 0!==i.crossOrigin?i.crossOrigin:"anonymous",imageSmoothing:i.imageSmoothing,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,opaque:void 0===i.opaque||i.opaque,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:i.wrapX})||this}return DZ(r,t),r}(TZ),AZ=IZ,OZ=function(){function t(r){this.rbush_=new(uA())(r),this.items_={}}return t.prototype.insert=function(r,e){var n={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:e};this.rbush_.insert(n),this.items_[Ye(e)]=n},t.prototype.load=function(r,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=r[i],s=e[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=u,this.items_[Ye(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(r){var e=Ye(r),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(r,e){var n=this.items_[Ye(e)];uc([n.minX,n.minY,n.maxX,n.maxY],r)||(this.remove(e),this.insert(r,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},t.prototype.getInExtent=function(r){return this.rbush_.search({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}).map(function(i){return i.value})},t.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},t.prototype.forEachInExtent=function(r,e){return this.forEach_(this.getInExtent(r),e)},t.prototype.forEach_=function(r,e){for(var n,i=0,a=r.length;i<a;i++)if(n=e(r[i]))return n;return n},t.prototype.isEmpty=function(){return ic(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(r){var e=this.rbush_.toJSON();return Wi(e.minX,e.minY,e.maxX,e.maxY,r)},t.prototype.concat=function(r){for(var e in this.rbush_.load(r.rbush_.all()),r.items_)this.items_[e]=r.items_[e]},t}(),PO=OZ;function MZ(t,r){return[[-1/0,-1/0,1/0,1/0]]}function FO(t,r){return function(e,n,i,a,o){var s=this;!function(t,r,e,n,i,a,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(e,n,i):t,!0),"arraybuffer"==r.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(u){if(!s.status||s.status>=200&&s.status<300){var l=r.getType(),c=void 0;"json"==l||"text"==l?c=s.responseText:"xml"==l?(c=s.responseXML)||(c=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==l&&(c=s.response),c?a(r.readFeatures(c,{extent:e,featureProjection:i}),r.readProjection(c)):o()}else o()},s.onerror=o,s.send()}(t,r,e,n,i,function(u,l){void 0!==a&&a(u),s.addFeatures(u)},o||Vo)}}var LO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ro=function(t){function r(e,n,i){var a=t.call(this,e)||this;return a.feature=n,a.features=i,a}return LO(r,t),r}(Ea),PZ=function(t){function r(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=Vo,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Ze(n.format_,7),n.loader_=FO(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:MZ;var o,s,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new PO:null,n.loadedExtentsRtree_=new PO,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?s=i.features:i.features&&(s=(o=i.features).getArray()),!a&&void 0===o&&(o=new Wr(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==o&&n.bindFeaturesCollection_(o),n}return LO(r,t),r.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},r.prototype.addFeatureInternal=function(e){var n=Ye(e);if(this.addToIndex_(n,e)){this.setupChangeEvents_(n,e);var i=e.getGeometry();if(i){var a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new ro("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},r.prototype.setupChangeEvents_=function(e,n){this.featureChangeKeys_[e]=[lt(n,"change",this.handleFeatureChange_,this),lt(n,"propertychange",this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(e,n){var i=!0,a=n.getId();return void 0!==a&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=n),i&&(Ze(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),i},r.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},r.prototype.addFeaturesInternal=function(e){for(var n=[],i=[],a=[],o=0,s=e.length;o<s;o++){var l=Ye(u=e[o]);this.addToIndex_(l,u)&&i.push(u)}o=0;for(var c=i.length;o<c;o++){var u;l=Ye(u=i[o]),this.setupChangeEvents_(l,u);var f=u.getGeometry();if(f){var h=f.getExtent();n.push(h),a.push(u)}else this.nullGeometryFeatures_[l]=u}this.featuresRtree_&&this.featuresRtree_.load(n,a),o=0;for(var d=i.length;o<d;o++)this.dispatchEvent(new ro("addfeature",i[o]))},r.prototype.bindFeaturesCollection_=function(e){var n=!1;this.addEventListener("addfeature",function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener("removefeature",function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener("add",function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),e.addEventListener("remove",function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=e},r.prototype.clear=function(e){if(e){for(var n in this.featureChangeKeys_)this.featureChangeKeys_[n].forEach(Mt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var a in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new ro("clear");this.dispatchEvent(o),this.changed()},r.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureAtCoordinateDirect=function(e,n){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(a){if(a.getGeometry().intersectsCoordinate(e))return n(a)})},r.prototype.forEachFeatureInExtent=function(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},r.prototype.forEachFeatureIntersectingExtent=function(e,n){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){var o=n(i);if(o)return o}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ic(this.nullGeometryFeatures_)||zh(e,CI(this.nullGeometryFeatures_))),e},r.prototype.getFeaturesAtCoordinate=function(e){var n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n},r.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},r.prototype.getClosestFeatureToCoordinate=function(e,n){var i=e[0],a=e[1],o=null,s=[NaN,NaN],u=1/0,l=[-1/0,-1/0,1/0,1/0],c=n||Za;return this.featuresRtree_.forEachInExtent(l,function(f){if(c(f)){var h=f.getGeometry(),d=u;if((u=h.closestPointXY(i,a,s,u))<d){o=f;var v=Math.sqrt(u);l[0]=i-v,l[1]=a-v,l[2]=i+v,l[3]=a+v}}}),o},r.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},r.prototype.getFeatureById=function(e){var n=this.idIndex_[e.toString()];return void 0!==n?n:null},r.prototype.getFeatureByUid=function(e){var n=this.uidIndex_[e];return void 0!==n?n:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(e){var n=e.target,i=Ye(n),a=n.getGeometry();if(a){var o=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);var s=n.getId();if(void 0!==s){var u=s.toString();this.idIndex_[u]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[u]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new ro("changefeature",n))},r.prototype.hasFeature=function(e){var n=e.getId();return void 0!==n?n in this.idIndex_:Ye(e)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ic(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(e,n,i){var a=this.loadedExtentsRtree_,o=this.strategy_(e,n);this.loading=!1;for(var s=function(h,d){var v=o[h];a.forEachInExtent(v,function(m){return yu(m.extent,v)})||(u.dispatchEvent(new ro("featuresloadstart")),u.loader_.call(u,v,n,i,function(m){this.dispatchEvent(new ro("featuresloadend",void 0,m))}.bind(u),function(){this.dispatchEvent(new ro("featuresloaderror"))}.bind(u)),a.insert(v,{extent:v.slice()}),u.loading=u.loader_!==Vo)},u=this,l=0,c=o.length;l<c;++l)s(l)},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(e){var i,n=this.loadedExtentsRtree_;n.forEachInExtent(e,function(a){if(uc(a.extent,e))return i=a,!0}),i&&n.remove(i)},r.prototype.removeFeature=function(e){var n=Ye(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},r.prototype.removeFeatureInternal=function(e){var n=Ye(e);this.featureChangeKeys_[n].forEach(Mt),delete this.featureChangeKeys_[n];var i=e.getId();void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new ro("removefeature",e))},r.prototype.removeFromIdIndex_=function(e){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}return n},r.prototype.setLoader=function(e){this.loader_=e},r.prototype.setUrl=function(e){Ze(this.format_,7),this.setLoader(FO(e,this.format_))},r}(IO),NO=PZ,VO=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])})(e,n)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FZ=function(t){function r(e,n,i,a){var o=t.call(this,e)||this;return o.selected=n,o.deselected=i,o.mapBrowserEvent=a,o}return VO(r,t),r}(Ea),Dd={},LZ=function(t){function r(e){var a,n=t.call(this)||this,i=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=i.condition?i.condition:ZK,n.addCondition_=i.addCondition?i.addCondition:vO,n.removeCondition_=i.removeCondition?i.removeCondition:vO,n.toggleCondition_=i.toggleCondition?i.toggleCondition:gO,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:Za,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.style_=void 0!==i.style?i.style:function(){var t=function(){var t={},r=[255,255,255,1],e=[0,153,255,1];return t.Polygon=[new Ou({fill:new Au({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Ou({stroke:new vd({color:r,width:5})}),new Ou({stroke:new vd({color:e,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Ou({image:new EA({radius:6,fill:new Au({color:e}),stroke:new vd({color:r,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}();return zh(t.Polygon,t.LineString),zh(t.GeometryCollection,t.LineString),function(r){return r.getGeometry()?t[r.getGeometry().getType()]:null}}(),n.features_=i.features||new Wr,i.layers)if("function"==typeof i.layers)a=i.layers;else{var o=i.layers;a=function(u){return im(o,u)}}else a=Za;return n.layerFilter_=a,n.featureLayerAssociation_={},n}return VO(r,t),r.prototype.addFeatureLayerAssociation_=function(e,n){this.featureLayerAssociation_[Ye(e)]=n},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(e){return this.featureLayerAssociation_[Ye(e)]},r.prototype.setHitTolerance=function(e){this.hitTolerance_=e},r.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},r.prototype.addFeature_=function(e){this.style_&&this.applySelectedStyle_(e.element)},r.prototype.removeFeature_=function(e){this.style_&&this.restorePreviousStyle_(e.element)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(e){var n=Ye(e);n in Dd||(Dd[n]=e.getStyle()),e.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(e){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var a=n[i];if(a!==this&&a instanceof r&&a.getStyle()&&-1!==a.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(a.getStyle())}var o=Ye(e);e.setStyle(Dd[o]),delete Dd[o]},r.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Ye(e)]},r.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var n=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!n&&!i&&!a,s=e.map,u=this.getFeatures(),l=[],c=[];if(o){fu(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(p,m){if(this.filter_(p,m))return c.push(p),this.addFeatureLayerAssociation_(p,m),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=u.getLength()-1;f>=0;--f){var h=u.item(f),d=c.indexOf(h);d>-1?c.splice(d,1):(u.remove(h),l.push(h))}0!==c.length&&u.extend(c)}else{s.forEachFeatureAtPixel(e.pixel,function(p,m){if(this.filter_(p,m))return!n&&!a||im(u.getArray(),p)?(i||a)&&im(u.getArray(),p)&&(l.push(p),this.removeFeatureLayerAssociation_(p)):(c.push(p),this.addFeatureLayerAssociation_(p,m)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new FZ("select",c,l,e)),!0},r}(Ru),VZ=LZ,HZ=function(){function t(r){var e=r||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=qr(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Au({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var r=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(r){this.overflow_=r},t.prototype.setFont=function(r){this.font_=r},t.prototype.setMaxAngle=function(r){this.maxAngle_=r},t.prototype.setOffsetX=function(r){this.offsetX_=r},t.prototype.setOffsetY=function(r){this.offsetY_=r},t.prototype.setPlacement=function(r){this.placement_=r},t.prototype.setRotateWithView=function(r){this.rotateWithView_=r},t.prototype.setFill=function(r){this.fill_=r},t.prototype.setRotation=function(r){this.rotation_=r},t.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=qr(void 0!==r?r:1)},t.prototype.setStroke=function(r){this.stroke_=r},t.prototype.setText=function(r){this.text_=r},t.prototype.setTextAlign=function(r){this.textAlign_=r},t.prototype.setTextBaseline=function(r){this.textBaseline_=r},t.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},t.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},t.prototype.setPadding=function(r){this.padding_=r},t}(),UZ=HZ;function a_(t,r){if(t){var e=t.getProperties(),i=r?"assets/marker_blue.png":"assets/marker.png";t.setStyle(new wA({text:new UZ({text:e.info&&r?e.info:"",font:"bold 13px sans-serif",backgroundFill:new Au({color:"#ffffff"}),offsetY:-50,fill:new Au({color:"#555588"})}),image:new Pm({src:i,imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.7})}))}}var WZ=function(){var t=function(){function r(e){y(this,r),this.mapDataService=e,this.markers=[],this.unsubscribe$=new nt,this.onMarkerClicked=new Ce}return g(r,[{key:"ngAfterViewInit",value:function(){var n=this;this.map||this.initilizeMap(),this.mapDataService.mapInput$.pipe(Wa(this.unsubscribe$)).subscribe(function(i){i&&n.setupMap(i)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"setupMap",value:function(n){this.positions=n.markerPosisitons,this.userPos=n.userPos;var i=this.map.getView();this.positions.length>0?i.setCenter(dc([this.positions[0].lng,this.positions[0].lat])):this.userPos&&this.userPos.lat&&this.userPos.lng&&i.setCenter(dc([this.userPos.lng,this.userPos.lat])),i.setZoom(this.positions.length<2?r.ZoomLevelSingleMarker:r.ZoomLevelSeveralMarkers),this.updateMarkers(this.positions,!0),this.updateUserMarker(this.userPos)}},{key:"updateUserMarker",value:function(n){this.userPos=n,this.userMarker.setGeometry(null),n&&(this.userMarker.setGeometry(new bm(dc([n.lng,n.lat]))),function(t){!t||t.setStyle(new wA({image:new Pm({src:"assets/user.png",imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.5})}))}(this.userMarker))}},{key:"updateMarkers",value:function(n,i){for(var a=0;a<r.MaxNumMarkers;a++)this.markers[a].setGeometry(null);if(this.positions=n,n)for(var o=0;o<Math.min(n.length,r.MaxNumMarkers);o++){var s=n[o],u=this.markers[o];u.setId(s.id),u.setGeometry(new bm(dc([s.lng,s.lat]))),u.setProperties({info:s.info}),a_(u,!1)}}},{key:"initilizeMap",value:function(){var n=this;this.markers=[];for(var i=0;i<r.MaxNumMarkers;i++)this.markers.push(new VI({}));this.userMarker=new VI;var a=new PI({target:"attribution"}),o=new zA({source:new NO({features:this.markers})});this.map=new MY({controls:NI({attribution:!1}).extend([a]),target:"map",layers:[new U6({source:new AZ}),o,new zA({source:new NO({features:[this.userMarker]})})],view:new cO({center:dc([0,0]),zoom:r.ZoomLevelSingleMarker})}),function(t,r,e,n){var i=new VZ({style:null,condition:YK,toggleCondition:function(){return!0},layers:[r]});t.addInteraction(i),i.on("select",function(a){!function(t){!t||t.forEach(function(r){a_(r,!1)})}(e);var o=null;if(a.selected&&a.selected.length>0?o=a.selected:a.deselected&&a.deselected.length>0&&(o=a.deselected),o){var s=o[0];a_(s,!0),n(s.getId())}})}(this.map,o,this.markers,function(s){return n.onMarkerClicked.emit(s)})}}]),r}();return t.MaxNumMarkers=200,t.ZoomLevelSingleMarker=13,t.ZoomLevelSeveralMarkers=6,t.\u0275fac=function(e){return new(e||t)(T(mI))},t.\u0275cmp=$t({type:t,selectors:[["app-map"]],outputs:{onMarkerClicked:"onMarkerClicked"},decls:2,vars:0,consts:[["id","attribution"],["id","map",1,"map"]],template:function(e,n){1&e&&(Ft(0,"div",0),Ft(1,"div",1))},styles:["#map[_ngcontent-%COMP%]{height:90vh;width:100%}[_nghost-%COMP%]  .ol-zoom-in, [_nghost-%COMP%]  .ol-zoom-out, [_nghost-%COMP%]  .ol-rotate-reset{width:1.8em;height:1.8em;font-size:1.5em;font-weight:bold;opacity:.8;margin:5px;padding:0;border:2;border-radius:0;background-color:#d3d3d3}[_nghost-%COMP%]  .ol-zoom{max-width:60px}[_nghost-%COMP%]  .ol-hidden{display:none}[_nghost-%COMP%]  .ol-attribution>button{display:none}[_nghost-%COMP%]  .ol-attribution ul{list-style-type:none;padding:0;margin:0}[_nghost-%COMP%]  .ol-attribution{font-size:.7em;padding-bottom:5px}[_nghost-%COMP%]  .ol-compass{margin-left:-3px}"]}),t}();function qZ(t,r){if(1&t){var e=tn();A(0,"p-sidebar",1),ue("visibleChange",function(a){return he(e),H().isVisible=a}),A(1,"div",2),A(2,"i",3),ue("click",function(){return he(e),H().close()}),O(),ht(3),O(),A(4,"div"),A(5,"div"),ht(6),O(),O(),Ft(7,"hr"),A(8,"app-map",4),ue("onMarkerClicked",function(a){return he(e),H().onMapMarkerClicked(a)}),O(),O()}if(2&t){var n=H();P("visible",n.isVisible)("showCloseIcon",!1),N(3),Zn(" ",n.title," "),N(3),Zn(" ",n.details," ")}}var KZ=function(){var t=function(){function r(e,n){y(this,r),this.broker=e,this.mapDataService=n,this.unsubscribe$=new nt,this.isVisible=!1}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.broker.getMessage().pipe(Wa(this.unsubscribe$),En(function(i){return i instanceof Eh})).subscribe(function(i){var a=new Z4;a.markerPosisitons=i.positions,a.userPos=i.userPos,n.title=i.title,n.details=i.details,n.isVisible=!0,n.mapDataService.addNewMapInput(a)})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}},{key:"close",value:function(){this.isVisible=!1}},{key:"onMapMarkerClicked",value:function(n){this.broker.sendMessage(new yI(n))}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ro),T(mI))},t.\u0275cmp=$t({type:t,selectors:[["app-map-sidebar"]],decls:2,vars:1,consts:[["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-left","close-button","clickable",3,"click"],[3,"onMarkerClicked"]],template:function(e,n){1&e&&(ce(0,qZ,9,4,"p-sidebar",0),Ft(1,"app-info-sidebar")),2&e&&P("ngIf",n.isVisible)},directives:[Br,s5,_I,WZ],encapsulation:2}),t}(),BO=["container"],YZ=function(r,e,n,i){return{"pi-info-circle":r,"pi-exclamation-triangle":e,"pi-times-circle":n,"pi-check":i}};function ZZ(t,r){if(1&t&&(oi(0),Ft(1,"span",6),A(2,"div",7),A(3,"div",8),ht(4),O(),A(5,"div",9),ht(6),O(),O(),si()),2&t){var e=H();N(1),gr("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),P("ngClass",Rf(5,YZ,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),N(3),ci(e.message.summary),N(2),ci(e.message.detail)}}function XZ(t,r){1&t&&Yn(0)}function QZ(t,r){if(1&t){var e=tn();A(0,"button",10),ue("click",function(i){return he(e),H().onCloseIconClick(i)})("keydown.enter",function(i){return he(e),H().onCloseIconClick(i)}),Ft(1,"span",11),O()}}var $Z=function(r){return[r,"p-toast-message"]},JZ=function(r,e,n,i){return{showTransformParams:r,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:i}},eX=function(r){return{value:"visible",params:r}},tX=function(r){return{$implicit:r}};function nX(t,r){if(1&t){var e=tn();A(0,"p-toastItem",3),ue("onClose",function(s){return he(e),H().onMessageClose(s)})("@toastAnimation.start",function(s){return he(e),H().onAnimationStart(s)})("@toastAnimation.done",function(s){return he(e),H().onAnimationEnd(s)}),O()}if(2&t){var n=r.$implicit,i=r.index,a=H();P("message",n)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}var rX=function(){var t=function(){function r(e){y(this,r),this.zone=e,this.onClose=new Ce}return g(r,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var n=this;this.message.sticky||this.zone.runOutsideAngular(function(){n.timeout=setTimeout(function(){n.onClose.emit({index:n.index,message:n.message})},n.message.life||3e3)})}},{key:"clearTimeout",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)})},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(n){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(ut))},t.\u0275cmp=$t({type:t,selectors:[["p-toastItem"]],viewQuery:function(e,n){var i;1&e&&di(BO,5),2&e&&vn(i=pn())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,n){1&e&&(A(0,"div",0,1),ue("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),A(2,"div",2),ce(3,ZZ,7,10,"ng-container",3),ce(4,XZ,1,0,"ng-container",4),ce(5,QZ,2,0,"button",5),O(),O()),2&e&&(gr(n.message.styleClass),P("ngClass",dn(10,$Z,"p-toast-message-"+n.message.severity))("@messageState",dn(17,eX,Rf(12,JZ,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions))),yt("id",n.message.id),N(2),P("ngClass",n.message.contentStyleClass),N(1),P("ngIf",!n.template),N(1),P("ngTemplateOutlet",n.template)("ngTemplateOutletContext",dn(19,tX,n.message)),N(1),P("ngIf",!1!==n.message.closable))},directives:[Vi,Br,Qs,wy],encapsulation:2,data:{animation:[Ql("messageState",[xy("visible",zr({transform:"translateY(0)",opacity:1})),_a("void => *",[zr({transform:"{{showTransformParams}}",opacity:0}),qa("{{showTransitionParams}}")]),_a("* => void",[qa("{{hideTransitionParams}}",zr({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),t}(),iX=function(){var t=function(){function r(e,n,i){y(this,r),this.messageService=e,this.cd=n,this.config=i,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new Ce,this.id=YD()}return g(r,[{key:"ngOnInit",value:function(){var n=this;this.messageSubscription=this.messageService.messageObserver.subscribe(function(i){if(i)if(i instanceof Array){var a=i.filter(function(o){return n.canAdd(o)});n.add(a)}else n.canAdd(i)&&n.add([i])}),this.clearSubscription=this.messageService.clearObserver.subscribe(function(i){i?n.key===i&&(n.messages=null):n.messages=null,n.cd.markForCheck()})}},{key:"ngAfterViewInit",value:function(){this.breakpoints&&this.createStyle()}},{key:"add",value:function(n){this.messages=this.messages?[].concat(Z(this.messages),Z(n)):Z(n),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(Z(this.messagesArchieve),Z(n)):Z(n)),this.cd.markForCheck()}},{key:"canAdd",value:function(n){var i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i}},{key:"containsMessage",value:function(n,i){return!!n&&null!=n.find(function(a){return a.summary===i.summary&&a.detail==i.detail&&a.severity===i.severity})}},{key:"ngAfterContentInit",value:function(){var n=this;this.templates.forEach(function(i){i.getType(),n.template=i.template})}},{key:"onMessageClose",value:function(n){this.messages.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges()}},{key:"onAnimationStart",value:function(n){"void"===n.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Gr.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}},{key:"onAnimationEnd",value:function(n){"void"===n.toState&&this.autoZIndex&&Gr.clear(this.containerViewChild.nativeElement)}},{key:"createStyle",value:function(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);var n="";for(var i in this.breakpoints){var a="";for(var o in this.breakpoints[i])a+=o+":"+this.breakpoints[i][o]+" !important;";n+="\n                    @media screen and (max-width: ".concat(i,") {\n                        .p-toast[").concat(this.id,"] {\n                           ").concat(a,"\n                        }\n                    }\n                ")}this.styleElement.innerHTML=n}}},{key:"destroyStyle",value:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Gr.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Sy),T(Lr),T(Kl))},t.\u0275cmp=$t({type:t,selectors:[["p-toast"]],contentQueries:function(e,n,i){var a;1&e&&ha(i,Sh,4),2&e&&vn(a=pn())&&(n.templates=a)},viewQuery:function(e,n){var i;1&e&&di(BO,5),2&e&&vn(i=pn())&&(n.containerViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,n){1&e&&(A(0,"div",0,1),ce(2,nX,1,8,"p-toastItem",2),O()),2&e&&(gr(n.styleClass),P("ngClass","p-toast p-component p-toast-"+n.position)("ngStyle",n.style),N(2),P("ngForOf",n.messages))},directives:[Vi,Ga,Xf,rX],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Ql("toastAnimation",[_a(":enter, :leave",[iz("@*",rz())])])]},changeDetection:0}),t}(),aX=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr,bh],wh]}),t}(),oX=function(){var t=function(){function r(e,n,i){y(this,r),this.broker=e,this.primeNGmessageService=n,this.translationService=i,this.title="sr-traffic",this.isLoading=!1,this.unsubscribe$=new nt}return g(r,[{key:"ngOnInit",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){var a,i=this;return rt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.translationService.defaultLangCode="en",this.translationService.currentLocale=navigator.language,(a=this.broker.getMessage()).pipe(Wa(this.unsubscribe$),En(function(u){return u instanceof W4})).subscribe(function(u){i.primeNGmessageService.add({severity:"success",summary:"",detail:u.info})}),a.pipe(Wa(this.unsubscribe$),En(function(u){return u instanceof iu})).subscribe(function(u){i.primeNGmessageService.add({severity:"error",summary:"",detail:u.errorMessage})}),s.next=7,this.fetchBaseData();case 7:case"end":return s.stop()}},n,this)}))}},{key:"fetchBaseData",value:function(){return $n(this,void 0,void 0,rt().mark(function n(){return rt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{this.isLoading=!0}finally{this.isLoading=!1}case 1:case"end":return a.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(T(Ro),T(Sy),T(Y4))},t.\u0275cmp=$t({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","top-center"]],template:function(e,n){1&e&&(A(0,"div"),Ft(1,"app-map-sidebar"),O(),A(2,"div"),Ft(3,"router-outlet"),O(),Ft(4,"p-toast",0))},directives:[KZ,iy,iX],styles:[".content[_ngcontent-%COMP%]{padding-top:210px}.header[_ngcontent-%COMP%]{overflow:hidden;position:fixed;top:-8px;width:calc(100% - 16px);z-index:1000;margin-left:0;background-color:#fff;opacity:1;max-height:230px;min-height:230px}[_nghost-%COMP%]     .p-toast.p-component.p-toast-top-center{max-width:300px}"]}),t}(),lX=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({imports:[[yr]]}),t}();function HO(){return"undefined"!=typeof window&&void 0!==window.document}function o_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function io(t){switch(t.length){case 0:return new lu;case 1:return t[0];default:return new mk(t)}}function UO(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(n.forEach(function(f){var h=f.offset,d=h==u,v=d&&l||{};Object.keys(f).forEach(function(p){var m=p,C=f[p];if("offset"!==p)switch(m=r.normalizePropertyName(m,o),C){case"!":C=i[p];break;case ma:C=a[p];break;default:C=r.normalizeStyleValue(p,m,C,o)}v[m]=C}),d||s.push(v),l=v,u=h}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function s_(t,r,e,n){switch(r){case"start":t.onStart(function(){return n(e&&u_(e,"start",t))});break;case"done":t.onDone(function(){return n(e&&u_(e,"done",t))});break;case"destroy":t.onDestroy(function(){return n(e&&u_(e,"destroy",t))})}}function u_(t,r,e){var n=e.totalTime,a=l_(t.element,t.triggerName,t.fromState,t.toState,r||t.phaseName,null==n?t.totalTime:n,!!e.disabled),o=t._data;return null!=o&&(a._data=o),a}function l_(t,r,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:r,fromState:e,toState:n,phaseName:i,totalTime:a,disabled:!!o}}function Sr(t,r,e){var n;return t instanceof Map?(n=t.get(r))||t.set(r,n=e):(n=t[r])||(n=t[r]=e),n}function jO(t){var r=t.indexOf(":");return[t.substring(1,r),t.substr(r+1)]}var c_=function(r,e){return!1},f_=function(r,e){return!1},GO=function(r,e,n){return[]},zO=o_();(zO||"undefined"!=typeof Element)&&(c_=HO()?function(r,e){for(;e&&e!==document.documentElement;){if(e===r)return!0;e=e.parentNode||e.host}return!1}:function(r,e){return r.contains(e)},f_=function(){if(zO||Element.prototype.matches)return function(e,n){return e.matches(n)};var t=Element.prototype,r=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return r?function(e,n){return r.apply(e,[n])}:f_}(),GO=function(r,e,n){var i=[];if(n)for(var a=r.querySelectorAll(e),o=0;o<a.length;o++)i.push(a[o]);else{var s=r.querySelector(e);s&&i.push(s)}return i});var Zo=null,WO=!1;function h_(t){Zo||(Zo=("undefined"!=typeof document?document.body:null)||{},WO=!!Zo.style&&"WebkitAppearance"in Zo.style);var r=!0;return Zo.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(r=t in Zo.style)&&WO&&(r="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zo.style),r}var d_=f_,v_=c_,p_=GO;function qO(t){var r={};return Object.keys(t).forEach(function(e){var n=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[n]=t[e]}),r}var KO=function(){var t=function(){function r(){y(this,r)}return g(r,[{key:"validateStyleProperty",value:function(n){return h_(n)}},{key:"matchesElement",value:function(n,i){return d_(n,i)}},{key:"containsElement",value:function(n,i){return v_(n,i)}},{key:"query",value:function(n,i,a){return p_(n,i,a)}},{key:"computeStyle",value:function(n,i,a){return a||""}},{key:"animate",value:function(n,i,a,o,s){return new lu(a,o)}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),g_=function(){var t=g(function r(){y(this,r)});return t.NOOP=new KO,t}(),ZO="ng-enter",y_="ng-leave",kd="ng-trigger",Id=".ng-trigger",XO="ng-animating",m_=".ng-animating";function Xo(t){if("number"==typeof t)return t;var r=t.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:__(parseFloat(r[1]),r[2])}function __(t,r){return"s"===r?1e3*t:t}function Ad(t,r,e){return t.hasOwnProperty("duration")?t:function(t,r,e){var i,a=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return r.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=__(parseFloat(s[1]),s[2]);var u=s[3];null!=u&&(a=__(parseFloat(u),s[4]));var l=s[5];l&&(o=l)}else i=t;if(!e){var c=!1,f=r.length;i<0&&(r.push("Duration values below 0 are not allowed for this animation step."),c=!0),a<0&&(r.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&r.splice(f,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:a,easing:o}}(t,r,e)}function Pu(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function ao(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)for(var n in t)e[n]=t[n];else Pu(t,e);return e}function QO(t,r,e){return e?r+":"+e+";":""}function $O(t){for(var r="",e=0;e<t.style.length;e++){var n=t.style.item(e);r+=QO(0,n,t.style.getPropertyValue(n))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=QO(0,yX(i),t.style[i]));t.setAttribute("style",r)}function Zi(t,r,e){t.style&&(Object.keys(r).forEach(function(n){var i=E_(n);e&&!e.hasOwnProperty(n)&&(e[n]=t.style[i]),t.style[i]=r[n]}),o_()&&$O(t))}function Qo(t,r){t.style&&(Object.keys(r).forEach(function(e){var n=E_(e);t.style[n]=""}),o_()&&$O(t))}function Dc(t){return Array.isArray(t)?1==t.length?t[0]:vk(t):t}var C_=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function JO(t){var r=[];if("string"==typeof t){for(var e;e=C_.exec(t);)r.push(e[1]);C_.lastIndex=0}return r}function Od(t,r,e){var n=t.toString(),i=n.replace(C_,function(a,o){var s=r[o];return r.hasOwnProperty(o)||(e.push("Please provide a value for the animation param ".concat(o)),s=""),s.toString()});return i==n?t:i}function Md(t){for(var r=[],e=t.next();!e.done;)r.push(e.value),e=t.next();return r}var gX=/-+([a-z0-9])/g;function E_(t){return t.replace(gX,function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function yX(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eM(t,r){return 0===t||0===r}function tM(t,r,e){var n=Object.keys(e);if(n.length&&r.length){var i=r[0],a=[];if(n.forEach(function(u){i.hasOwnProperty(u)||a.push(u),i[u]=e[u]}),a.length)for(var o=function(){var l=r[s];a.forEach(function(c){l[c]=S_(t,c)})},s=1;s<r.length;s++)o()}return r}function wr(t,r,e){switch(r.type){case 7:return t.visitTrigger(r,e);case 0:return t.visitState(r,e);case 1:return t.visitTransition(r,e);case 2:return t.visitSequence(r,e);case 3:return t.visitGroup(r,e);case 4:return t.visitAnimate(r,e);case 5:return t.visitKeyframes(r,e);case 6:return t.visitStyle(r,e);case 8:return t.visitReference(r,e);case 9:return t.visitAnimateChild(r,e);case 10:return t.visitAnimateRef(r,e);case 11:return t.visitQuery(r,e);case 12:return t.visitStagger(r,e);default:throw new Error("Unable to resolve animation metadata node #".concat(r.type))}}function S_(t,r){return window.getComputedStyle(t)[r]}function mX(t,r){var e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(n){return function(t,r,e){if(":"==t[0]){var n=function(t,r){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,n){return parseFloat(n)>parseFloat(e)};case":decrement":return function(e,n){return parseFloat(n)<parseFloat(e)};default:return r.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,e);if("function"==typeof n)return void r.push(n);t=n}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push('The provided transition expression "'.concat(t,'" is not supported')),r;var a=i[1],o=i[2],s=i[3];r.push(nM(a,s)),"<"==o[0]&&!("*"==a&&"*"==s)&&r.push(nM(s,a))}(n,e,r)}):e.push(t),e}var Pd=new Set(["true","1"]),xd=new Set(["false","0"]);function nM(t,r){var e=Pd.has(t)||xd.has(t),n=Pd.has(r)||xd.has(r);return function(i,a){var o="*"==t||t==i,s="*"==r||r==a;return!o&&e&&"boolean"==typeof i&&(o=i?Pd.has(t):xd.has(t)),!s&&n&&"boolean"==typeof a&&(s=a?Pd.has(r):xd.has(r)),o&&s}}var EX=new RegExp("s*".concat(":self","s*,?"),"g");function iM(t,r,e){return new SX(t).build(r,e)}var SX=function(){function t(r){y(this,t),this._driver=r}return g(t,[{key:"build",value:function(e,n){var i=new TX(n);return this._resetContextStyleTimingState(i),wr(this,Dc(e),i)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,n){var i=this,a=n.queryCount=0,o=n.depCount=0,s=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(l){if(i._resetContextStyleTimingState(n),0==l.type){var c=l,f=c.name;f.toString().split(/\s*,\s*/).forEach(function(d){c.name=d,s.push(i.visitState(c,n))}),c.name=f}else if(1==l.type){var h=i.visitTransition(l,n);a+=h.queryCount,o+=h.depCount,u.push(h)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:u,queryCount:a,depCount:o,options:null}}},{key:"visitState",value:function(e,n){var i=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(i.containsDynamicStyles){var o=new Set,s=a||{};if(i.styles.forEach(function(l){if(Fd(l)){var c=l;Object.keys(c).forEach(function(f){JO(c[f]).forEach(function(h){s.hasOwnProperty(h)||o.add(h)})})}}),o.size){var u=Md(o.values());n.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(u.join(", ")))}}return{type:0,name:e.name,style:i,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,n){n.queryCount=0,n.depCount=0;var i=wr(this,Dc(e.animation),n);return{type:1,matchers:mX(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:$o(e.options)}}},{key:"visitSequence",value:function(e,n){var i=this;return{type:2,steps:e.steps.map(function(a){return wr(i,a,n)}),options:$o(e.options)}}},{key:"visitGroup",value:function(e,n){var i=this,a=n.currentTime,o=0,s=e.steps.map(function(u){n.currentTime=a;var l=wr(i,u,n);return o=Math.max(o,n.currentTime),l});return n.currentTime=o,{type:3,steps:s,options:$o(e.options)}}},{key:"visitAnimate",value:function(e,n){var i=function(t,r){var e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return w_(Ad(t,r).duration,0,"");var i=t,a=i.split(/\s+/).some(function(s){return"{"==s.charAt(0)&&"{"==s.charAt(1)});if(a){var o=w_(0,0,"");return o.dynamic=!0,o.strValue=i,o}return w_((e=e||Ad(i,r)).duration,e.delay,e.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;var a,o=e.styles?e.styles:zr({});if(5==o.type)a=this.visitKeyframes(o,n);else{var s=e.styles,u=!1;if(!s){u=!0;var l={};i.easing&&(l.easing=i.easing),s=zr(l)}n.currentTime+=i.duration+i.delay;var c=this.visitStyle(s,n);c.isEmptyStep=u,a=c}return n.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}},{key:"visitStyle",value:function(e,n){var i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}},{key:"_makeStyleAst",value:function(e,n){var i=[];Array.isArray(e.styles)?e.styles.forEach(function(s){"string"==typeof s?s==ma?i.push(s):n.errors.push("The provided style string value ".concat(s," is not allowed.")):i.push(s)}):i.push(e.styles);var a=!1,o=null;return i.forEach(function(s){if(Fd(s)){var u=s,l=u.easing;if(l&&(o=l,delete u.easing),!a)for(var c in u)if(u[c].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:a,options:null}}},{key:"_validateStyleAst",value:function(e,n){var i=this,a=n.currentAnimateTimings,o=n.currentTime,s=n.currentTime;a&&s>0&&(s-=a.duration+a.delay),e.styles.forEach(function(u){"string"!=typeof u&&Object.keys(u).forEach(function(l){if(i._driver.validateStyleProperty(l)){var c=n.collectedStyles[n.currentQuerySelector],f=c[l],h=!0;f&&(s!=o&&s>=f.startTime&&o<=f.endTime&&(n.errors.push('The CSS property "'.concat(l,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(s,'ms" and "').concat(o,'ms"')),h=!1),s=f.startTime),h&&(c[l]={startTime:s,endTime:o}),n.options&&function(t,r,e){var n=r.params||{},i=JO(t);i.length&&i.forEach(function(a){n.hasOwnProperty(a)||e.push("Unable to resolve the local animation param ".concat(a," in the given list of values"))})}(u[l],n.options,n.errors)}else n.errors.push('The provided animation property "'.concat(l,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,n){var i=this,a={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),a;var s=0,u=[],l=!1,c=!1,f=0,h=e.steps.map(function(E){var S=i._makeStyleAst(E,n),w=null!=S.offset?S.offset:function(t){if("string"==typeof t)return null;var r=null;if(Array.isArray(t))t.forEach(function(n){if(Fd(n)&&n.hasOwnProperty("offset")){var i=n;r=parseFloat(i.offset),delete i.offset}});else if(Fd(t)&&t.hasOwnProperty("offset")){var e=t;r=parseFloat(e.offset),delete e.offset}return r}(S.styles),k=0;return null!=w&&(s++,k=S.offset=w),c=c||k<0||k>1,l=l||k<f,f=k,u.push(k),S});c&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&n.errors.push("Please ensure that all keyframe offsets are in order");var d=e.steps.length,v=0;s>0&&s<d?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(v=1/(d-1));var p=d-1,m=n.currentTime,C=n.currentAnimateTimings,_=C.duration;return h.forEach(function(E,S){var w=v>0?S==p?1:v*S:u[S],k=w*_;n.currentTime=m+C.delay+k,C.duration=k,i._validateStyleAst(E,n),E.offset=w,a.styles.push(E)}),a}},{key:"visitReference",value:function(e,n){return{type:8,animation:wr(this,Dc(e.animation),n),options:$o(e.options)}}},{key:"visitAnimateChild",value:function(e,n){return n.depCount++,{type:9,options:$o(e.options)}}},{key:"visitAnimateRef",value:function(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:$o(e.options)}}},{key:"visitQuery",value:function(e,n){var i=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;var o=function(t){var r=!!t.split(/\s*,\s*/).find(function(e){return":self"==e});return r&&(t=t.replace(EX,"")),t=t.replace(/@\*/g,Id).replace(/@\w+/g,function(e){return Id+"-"+e.substr(1)}).replace(/:animating/g,m_),[t,r]}(e.selector),s=K(o,2),u=s[0],l=s[1];n.currentQuerySelector=i.length?i+" "+u:u,Sr(n.collectedStyles,n.currentQuerySelector,{});var c=wr(this,Dc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:$o(e.options)}}},{key:"visitStagger",value:function(e,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");var i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ad(e.timings,n.errors,!0);return{type:12,animation:wr(this,Dc(e.animation),n),timings:i,options:null}}}]),t}(),TX=g(function t(r){y(this,t),this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function Fd(t){return!Array.isArray(t)&&"object"==typeof t}function $o(t){return t?(t=Pu(t)).params&&(t.params=function(t){return t?Pu(t):null}(t.params)):t={},t}function w_(t,r,e){return{duration:t,delay:r,easing:e}}function b_(t,r,e,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:r,preStyleProps:e,postStyleProps:n,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var T_=function(){function t(){y(this,t),this._map=new Map}return g(t,[{key:"consume",value:function(e){var n=this._map.get(e);return n?this._map.delete(e):n=[],n}},{key:"append",value:function(e,n){var i,a=this._map.get(e);a||this._map.set(e,a=[]),(i=a).push.apply(i,Z(n))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),OX=new RegExp(":enter","g"),RX=new RegExp(":leave","g");function oM(t,r,e,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new PX).buildKeyframes(t,r,e,n,i,a,o,s,u,l)}var PX=function(){function t(){y(this,t)}return g(t,[{key:"buildKeyframes",value:function(e,n,i,a,o,s,u,l,c){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new T_;var h=new xX(e,n,c,a,o,f,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),wr(this,i,h);var d=h.timelines.filter(function(p){return p.containsAnimation()});if(d.length&&Object.keys(u).length){var v=d[d.length-1];v.allowOnlyTimelineStyles()||v.setStyles([u],null,h.errors,l)}return d.length?d.map(function(p){return p.buildKeyframes()}):[b_(n,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,n){}},{key:"visitState",value:function(e,n){}},{key:"visitTransition",value:function(e,n){}},{key:"visitAnimateChild",value:function(e,n){var i=n.subInstructions.consume(n.element);if(i){var a=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,a,a.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}},{key:"visitAnimateRef",value:function(e,n){var i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}},{key:"_visitSubInstructions",value:function(e,n,i){var o=n.currentTimeline.currentTime,s=null!=i.duration?Xo(i.duration):null,u=null!=i.delay?Xo(i.delay):null;return 0!==s&&e.forEach(function(l){var c=n.appendInstructionToTimeline(l,s,u);o=Math.max(o,c.duration+c.delay)}),o}},{key:"visitReference",value:function(e,n){n.updateOptions(e.options,!0),wr(this,e.animation,n),n.previousNode=e}},{key:"visitSequence",value:function(e,n){var i=this,a=n.subContextCount,o=n,s=e.options;if(s&&(s.params||s.delay)&&((o=n.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ld);var u=Xo(s.delay);o.delayNextStep(u)}e.steps.length&&(e.steps.forEach(function(l){return wr(i,l,o)}),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),n.previousNode=e}},{key:"visitGroup",value:function(e,n){var i=this,a=[],o=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Xo(e.options.delay):0;e.steps.forEach(function(u){var l=n.createSubContext(e.options);s&&l.delayNextStep(s),wr(i,u,l),o=Math.max(o,l.currentTimeline.currentTime),a.push(l.currentTimeline)}),a.forEach(function(u){return n.currentTimeline.mergeTimelineCollectedStyles(u)}),n.transformIntoNewTimeline(o),n.previousNode=e}},{key:"_visitTiming",value:function(e,n){if(e.dynamic){var i=e.strValue;return Ad(n.params?Od(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,n){var i=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),a.snapshotCurrentStyles());var o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}},{key:"visitStyle",value:function(e,n){var i=n.currentTimeline,a=n.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();var o=a&&a.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}},{key:"visitKeyframes",value:function(e,n){var i=n.currentAnimateTimings,a=n.currentTimeline.duration,o=i.duration,u=n.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(function(l){u.forwardTime((l.offset||0)*o),u.setStyles(l.styles,l.easing,n.errors,n.options),u.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(u),n.transformIntoNewTimeline(a+o),n.previousNode=e}},{key:"visitQuery",value:function(e,n){var i=this,a=n.currentTimeline.currentTime,o=e.options||{},s=o.delay?Xo(o.delay):0;s&&(6===n.previousNode.type||0==a&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ld);var u=a,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=l.length;var c=null;l.forEach(function(f,h){n.currentQueryIndex=h;var d=n.createSubContext(e.options,f);s&&d.delayNextStep(s),f===n.element&&(c=d.currentTimeline),wr(i,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}},{key:"visitStagger",value:function(e,n){var i=n.parentContext,a=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),u=s*(n.currentQueryTotal-1),l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=u-l;break;case"full":l=i.currentStaggerTime}var f=n.currentTimeline;l&&f.delayNextStep(l);var h=f.currentTime;wr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=a.currentTime-h+(a.startTime-i.currentTimeline.startTime)}}]),t}(),Ld={},xX=function(){function t(r,e,n,i,a,o,s,u){y(this,t),this._driver=r,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ld,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new sM(this._driver,e,0),s.push(this.currentTimeline)}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,n){var i=this;if(e){var a=e,o=this.options;null!=a.duration&&(o.duration=Xo(a.duration)),null!=a.delay&&(o.delay=Xo(a.delay));var s=a.params;if(s){var u=o.params;u||(u=this.options.params={}),Object.keys(s).forEach(function(l){(!n||!u.hasOwnProperty(l))&&(u[l]=Od(s[l],u,i.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var n=this.options.params;if(n){var i=e.params={};Object.keys(n).forEach(function(a){i[a]=n[a]})}}return e}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=n||this.element,o=new t(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Ld,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,n,i){var a={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new FX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(o),a}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,n,i,a,o,s){var u=[];if(a&&u.push(this.element),e.length>0){e=(e=e.replace(OX,"."+this._enterClassName)).replace(RX,"."+this._leaveClassName);var c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),u.push.apply(u,Z(c))}return!o&&0==u.length&&s.push('`query("'.concat(n,'")` returned zero elements. (Use `query("').concat(n,'", { optional: true })` if you wish to allow this.)')),u}}]),t}(),sM=function(){function t(r,e,n,i){y(this,t),this._driver=r,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return g(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,n){this._localTimelineStyles[e]=n,this._globalTimelineStyles[e]=n,this._styleSummary[e]={time:this.currentTime,value:n}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var n=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(i){n._backFill[i]=n._globalTimelineStyles[i]||ma,n._currentKeyframe[i]=ma}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,n,i,a){var o=this;n&&(this._previousKeyframe.easing=n);var s=a&&a.params||{},u=function(t,r){var n,e={};return t.forEach(function(i){"*"===i?(n=n||Object.keys(r)).forEach(function(a){e[a]=ma}):ao(i,!1,e)}),e}(e,this._globalTimelineStyles);Object.keys(u).forEach(function(l){var c=Od(u[l],s,i);o._pendingStyles[l]=c,o._localTimelineStyles.hasOwnProperty(l)||(o._backFill[l]=o._globalTimelineStyles.hasOwnProperty(l)?o._globalTimelineStyles[l]:ma),o._updateStyle(l,c)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(function(a){e._currentKeyframe[a]=n[a]}),Object.keys(this._localTimelineStyles).forEach(function(a){e._currentKeyframe.hasOwnProperty(a)||(e._currentKeyframe[a]=e._localTimelineStyles[a])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(n){var i=e._localTimelineStyles[n];e._pendingStyles[n]=i,e._updateStyle(n,i)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var n in this._currentKeyframe)e.push(n);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var n=this;Object.keys(e._styleSummary).forEach(function(i){var a=n._styleSummary[i],o=e._styleSummary[i];(!a||o.time>a.time)&&n._updateStyle(i,o.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var n=new Set,i=new Set,a=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach(function(f,h){var d=ao(f,!0);Object.keys(d).forEach(function(v){var p=d[v];"!"==p?n.add(v):p==ma&&i.add(v)}),a||(d.offset=h/e.duration),o.push(d)});var s=n.size?Md(n.values()):[],u=i.size?Md(i.values()):[];if(a){var l=o[0],c=Pu(l);l.offset=0,c.offset=1,o=[l,c]}return b_(this.element,o,s,u,this.duration,this.startTime,this.easing,!1)}}]),t}(),FX=function(t){M(e,t);var r=R(e);function e(n,i,a,o,s,u){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return y(this,e),(l=r.call(this,n,i,u.delay)).keyframes=a,l.preStyleProps=o,l.postStyleProps=s,l._stretchStartingKeyframe=c,l.timings={duration:u.duration,delay:u.delay,easing:u.easing},l}return g(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var i=this.keyframes,a=this.timings,o=a.delay,s=a.duration,u=a.easing;if(this._stretchStartingKeyframe&&o){var l=[],c=s+o,f=o/c,h=ao(i[0],!1);h.offset=0,l.push(h);var d=ao(i[0],!1);d.offset=uM(f),l.push(d);for(var v=i.length-1,p=1;p<=v;p++){var m=ao(i[p],!1);m.offset=uM((o+m.offset*s)/c),l.push(m)}s=c,o=0,u="",i=l}return b_(this.element,i,this.preStyleProps,this.postStyleProps,s,o,u,!0)}}]),e}(sM);function uM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=Math.pow(10,r-1);return Math.round(t*e)/e}var D_=g(function t(){y(this,t)}),NX=function(t){M(e,t);var r=R(e);function e(){return y(this,e),r.apply(this,arguments)}return g(e,[{key:"normalizePropertyName",value:function(i,a){return E_(i)}},{key:"normalizeStyleValue",value:function(i,a,o,s){var u="",l=o.toString().trim();if(VX[a]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{var c=o.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push("Please provide a CSS unit value for ".concat(i,":").concat(o))}return l+u}}]),e}(D_),VX=function(){return function(t){var r={};return t.forEach(function(e){return r[e]=!0}),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function lM(t,r,e,n,i,a,o,s,u,l,c,f,h){return{type:0,element:t,triggerName:r,isRemovalTransition:i,fromState:e,fromStyles:a,toState:n,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:f,errors:h}}var k_={},cM=function(){function t(r,e,n){y(this,t),this._triggerName=r,this.ast=e,this._stateStyles=n}return g(t,[{key:"match",value:function(e,n,i,a){return function(t,r,e,n,i){return t.some(function(a){return a(r,e,n,i)})}(this.ast.matchers,e,n,i,a)}},{key:"buildStyles",value:function(e,n,i){var a=this._stateStyles["*"],o=this._stateStyles[e],s=a?a.buildStyles(n,i):{};return o?o.buildStyles(n,i):s}},{key:"build",value:function(e,n,i,a,o,s,u,l,c,f){var h=[],d=this.ast.options&&this.ast.options.params||k_,p=this.buildStyles(i,u&&u.params||k_,h),m=l&&l.params||k_,C=this.buildStyles(a,m,h),_=new Set,E=new Map,S=new Map,w="void"===a,k={params:U(U({},d),m)},I=f?[]:oM(e,n,this.ast.animation,o,s,p,C,k,c,h),x=0;if(I.forEach(function(Y){x=Math.max(Y.duration+Y.delay,x)}),h.length)return lM(n,this._triggerName,i,a,w,p,C,[],[],E,S,x,h);I.forEach(function(Y){var q=Y.element,ee=Sr(E,q,{});Y.preStyleProps.forEach(function(_e){return ee[_e]=!0});var de=Sr(S,q,{});Y.postStyleProps.forEach(function(_e){return de[_e]=!0}),q!==n&&_.add(q)});var B=Md(_.values());return lM(n,this._triggerName,i,a,w,p,C,I,B,E,S,x)}}]),t}(),UX=function(){function t(r,e,n){y(this,t),this.styles=r,this.defaultParams=e,this.normalizer=n}return g(t,[{key:"buildStyles",value:function(e,n){var i=this,a={},o=Pu(this.defaultParams);return Object.keys(e).forEach(function(s){var u=e[s];null!=u&&(o[s]=u)}),this.styles.styles.forEach(function(s){if("string"!=typeof s){var u=s;Object.keys(u).forEach(function(l){var c=u[l];c.length>1&&(c=Od(c,o,n));var f=i.normalizer.normalizePropertyName(l,n);c=i.normalizer.normalizeStyleValue(l,f,c,n),a[f]=c})}}),a}}]),t}(),GX=function(){function t(r,e,n){var i=this;y(this,t),this.name=r,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(function(a){i.states[a.name]=new UX(a.style,a.options&&a.options.params||{},n)}),fM(this.states,"true","1"),fM(this.states,"false","0"),e.transitions.forEach(function(a){i.transitionFactories.push(new cM(r,a,i.states))}),this.fallbackTransition=function(t,r,e){return new cM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(o,s){return!0}],options:null,queryCount:0,depCount:0},r)}(r,this.states)}return g(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,n,i,a){return this.transitionFactories.find(function(s){return s.match(e,n,i,a)})||null}},{key:"matchStyles",value:function(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}]),t}();function fM(t,r,e){t.hasOwnProperty(r)?t.hasOwnProperty(e)||(t[e]=t[r]):t.hasOwnProperty(e)&&(t[r]=t[e])}var WX=new T_,qX=function(){function t(r,e,n){y(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return g(t,[{key:"register",value:function(e,n){var i=[],a=iM(this._driver,n,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: ".concat(i.join("\n")));this._animations[e]=a}},{key:"_buildPlayer",value:function(e,n,i){var a=e.element,o=UO(this._driver,this._normalizer,a,e.keyframes,n,i);return this._driver.animate(a,o,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,n){var u,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],l=new Map;if(s?(u=oM(this._driver,n,s,ZO,y_,{},{},a,WX,o)).forEach(function(h){var d=Sr(l,h.element,{});h.postStyleProps.forEach(function(v){return d[v]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),u=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));l.forEach(function(h,d){Object.keys(h).forEach(function(v){h[v]=i._driver.computeStyle(d,v,ma)})});var c=u.map(function(h){var d=l.get(h.element);return i._buildPlayer(h,{},d)}),f=io(c);return this._playersById[e]=f,f.onDestroy(function(){return i.destroy(e)}),this.players.push(f),f}},{key:"destroy",value:function(e){var n=this._getPlayer(e);n.destroy(),delete this._playersById[e];var i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}},{key:"_getPlayer",value:function(e){var n=this._playersById[e];if(!n)throw new Error("Unable to find the timeline player referenced by ".concat(e));return n}},{key:"listen",value:function(e,n,i,a){var o=l_(n,"","","");return s_(this._getPlayer(e),i,o,a),function(){}}},{key:"command",value:function(e,n,i,a){if("register"!=i)if("create"!=i){var s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}else this.create(e,n,a[0]||{});else this.register(e,a[0])}}]),t}(),hM="ng-animate-queued",dM="ng-animate-disabled",vM=".ng-animate-disabled",YX="ng-star-inserted",XX=[],pM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed",I_=function(){function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";y(this,t),this.namespaceId=e;var n=r&&r.hasOwnProperty("value"),i=n?r.value:r;if(this.value=t7(i),n){var a=Pu(r);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return g(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var n=e.params;if(n){var i=this.options.params;Object.keys(n).forEach(function(a){null==i[a]&&(i[a]=n[a])})}}}]),t}(),kc="void",A_=new I_(kc),$X=function(){function t(r,e,n){y(this,t),this.id=r,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Zr(e,this._hostClassName)}return g(t,[{key:"listen",value:function(e,n,i,a){var o=this;if(!this._triggers.hasOwnProperty(n))throw new Error('Unable to listen on the animation trigger event "'.concat(i,'" because the animation trigger "').concat(n,"\" doesn't exist!"));if(null==i||0==i.length)throw new Error('Unable to listen on the animation trigger "'.concat(n,'" because the provided event is undefined!'));if(!function(t){return"start"==t||"done"==t}(i))throw new Error('The provided animation trigger event "'.concat(i,'" for the animation trigger "').concat(n,'" is not supported!'));var s=Sr(this._elementListeners,e,[]),u={name:n,phase:i,callback:a};s.push(u);var l=Sr(this._engine.statesByElement,e,{});return l.hasOwnProperty(n)||(Zr(e,kd),Zr(e,kd+"-"+n),l[n]=A_),function(){o._engine.afterFlush(function(){var c=s.indexOf(u);c>=0&&s.splice(c,1),o._triggers[n]||delete l[n]})}}},{key:"register",value:function(e,n){return!this._triggers[e]&&(this._triggers[e]=n,!0)}},{key:"_getTrigger",value:function(e){var n=this._triggers[e];if(!n)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return n}},{key:"trigger",value:function(e,n,i){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(n),u=new O_(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Zr(e,kd),Zr(e,kd+"-"+n),this._engine.statesByElement.set(e,l={}));var c=l[n],f=new I_(i,this.id),h=i&&i.hasOwnProperty("value");!h&&c&&f.absorbOptions(c.options),l[n]=f,c||(c=A_);var d=f.value===kc;if(d||c.value!==f.value){var C=Sr(this._engine.playersByElement,e,[]);C.forEach(function(S){S.namespaceId==a.id&&S.triggerName==n&&S.queued&&S.destroy()});var _=s.matchTransition(c.value,f.value,e,f.params),E=!1;if(!_){if(!o)return;_=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:c,toState:f,player:u,isFallbackTransition:E}),E||(Zr(e,hM),u.onStart(function(){xu(e,hM)})),u.onDone(function(){var S=a.players.indexOf(u);S>=0&&a.players.splice(S,1);var w=a._engine.playersByElement.get(e);if(w){var k=w.indexOf(u);k>=0&&w.splice(k,1)}}),this.players.push(u),C.push(u),u}if(!a7(c.params,f.params)){var v=[],p=s.matchStyles(c.value,c.params,v),m=s.matchStyles(f.value,f.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(function(){Qo(e,p),Zi(e,m)})}}},{key:"deregister",value:function(e){var n=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(i,a){delete i[e]}),this._elementListeners.forEach(function(i,a){n._elementListeners.set(a,i.filter(function(o){return o.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var n=this._engine.playersByElement.get(e);n&&(n.forEach(function(i){return i.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var i=this,a=this._engine.driver.query(e,Id,!0);a.forEach(function(o){if(!o[Yr]){var s=i._engine.fetchNamespacesByElement(o);s.size?s.forEach(function(u){return u.triggerLeaveAnimation(o,n,!1,!0)}):i.clearElementCache(o)}}),this._engine.afterFlushAnimationsDone(function(){return a.forEach(function(o){return i.clearElementCache(o)})})}},{key:"triggerLeaveAnimation",value:function(e,n,i,a){var o=this,s=this._engine.statesByElement.get(e);if(s){var u=[];if(Object.keys(s).forEach(function(l){if(o._triggers[l]){var c=o.trigger(e,l,kc,a);c&&u.push(c)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,n),i&&io(u).onDone(function(){return o._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var n=this,i=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(i&&a){var o=new Set;i.forEach(function(s){var u=s.name;if(!o.has(u)){o.add(u);var c=n._triggers[u].fallbackTransition,f=a[u]||A_,h=new I_(kc),d=new O_(n.id,u,e);n._engine.totalQueuedPlayers++,n._queue.push({element:e,triggerName:u,transition:c,fromState:f,toState:h,player:d,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,n){var i=this,a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),!this.triggerLeaveAnimation(e,n,!0)){var o=!1;if(a.totalAnimations){var s=a.players.length?a.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else for(var u=e;u=u.parentNode;)if(a.statesByElement.get(u)){o=!0;break}}if(this.prepareLeaveAnimationListeners(e),o)a.markElementAsRemoved(this.id,e,!1,n);else{var c=e[Yr];(!c||c===pM)&&(a.afterFlush(function(){return i.clearElementCache(e)}),a.destroyInnerAnimations(e),a._onRemovalComplete(e,n))}}}},{key:"insertNode",value:function(e,n){Zr(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var n=this,i=[];return this._queue.forEach(function(a){var o=a.player;if(!o.destroyed){var s=a.element,u=n._elementListeners.get(s);u&&u.forEach(function(l){if(l.name==a.triggerName){var c=l_(s,a.triggerName,a.fromState.value,a.toState.value);c._data=e,s_(a.player,l.phase,c,l.callback)}}),o.markedForDestroy?n._engine.afterFlush(function(){o.destroy()}):i.push(a)}}),this._queue=[],i.sort(function(a,o){var s=a.transition.ast.depCount,u=o.transition.ast.depCount;return 0==s||0==u?s-u:n._engine.driver.containsElement(a.element,o.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(n){return n.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var n=!1;return this._elementListeners.has(e)&&(n=!0),!!this._queue.find(function(i){return i.element===e})||n}}]),t}(),JX=function(){function t(r,e,n){y(this,t),this.bodyNode=r,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(i,a){}}return g(t,[{key:"_onRemovalComplete",value:function(e,n){this.onRemovalComplete(e,n)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(n){n.players.forEach(function(i){i.queued&&e.push(i)})}),e}},{key:"createNamespace",value:function(e,n){var i=new $X(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}},{key:"_balanceNamespaceList",value:function(e,n){var i=this._namespaceList.length-1;if(i>=0){for(var a=!1,o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,n)){this._namespaceList.splice(o+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(n,e),e}},{key:"register",value:function(e,n){var i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}},{key:"registerTrigger",value:function(e,n,i){var a=this._namespaceLookup[e];a&&a.register(n,i)&&this.totalAnimations++}},{key:"destroy",value:function(e,n){var i=this;if(e){var a=this._fetchNamespace(e);this.afterFlush(function(){i.namespacesByHostElement.delete(a.hostElement),delete i._namespaceLookup[e];var o=i._namespaceList.indexOf(a);o>=0&&i._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(function(){return a.destroy(n)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var n=new Set,i=this.statesByElement.get(e);if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=i[a[o]].namespaceId;if(s){var u=this._fetchNamespace(s);u&&n.add(u)}}return n}},{key:"trigger",value:function(e,n,i,a){if(Nd(n)){var o=this._fetchNamespace(e);if(o)return o.trigger(n,i,a),!0}return!1}},{key:"insertNode",value:function(e,n,i,a){if(Nd(n)){var o=n[Yr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;var s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){var u=this._fetchNamespace(e);u&&u.insertNode(n,i)}a&&this.collectEnterElement(n)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zr(e,dM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xu(e,dM))}},{key:"removeNode",value:function(e,n,i,a){if(Nd(n)){var o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,a):this.markElementAsRemoved(e,n,!1,a),i){var s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,a)}}else this._onRemovalComplete(n,a)}},{key:"markElementAsRemoved",value:function(e,n,i,a){this.collectedLeaveElements.push(n),n[Yr]={namespaceId:e,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1}}},{key:"listen",value:function(e,n,i,a,o){return Nd(n)?this._fetchNamespace(e).listen(n,i,a,o):function(){}}},{key:"_buildInstruction",value:function(e,n,i,a,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,a,e.fromState.options,e.toState.options,n,o)}},{key:"destroyInnerAnimations",value:function(e){var n=this,i=this.driver.query(e,Id,!0);i.forEach(function(a){return n.destroyActiveAnimationsForElement(a)}),0!=this.playersByQueriedElement.size&&(i=this.driver.query(e,m_,!0)).forEach(function(a){return n.finishActiveQueriedAnimationOnElement(a)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var n=this.playersByElement.get(e);n&&n.forEach(function(i){i.queued?i.markedForDestroy=!0:i.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var n=this.playersByQueriedElement.get(e);n&&n.forEach(function(i){return i.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(n){if(e.players.length)return io(e.players).onDone(function(){return n()});n()})}},{key:"processLeaveNode",value:function(e){var n=this,i=e[Yr];if(i&&i.setForRemoval){if(e[Yr]=pM,i.namespaceId){this.destroyInnerAnimations(e);var a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}this.driver.matchesElement(e,vM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vM,!0).forEach(function(o){n.markElementAsDisabled(o,!1)})}},{key:"flush",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(h,d){return e._balanceNamespaceList(h,d)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var a=0;a<this.collectedEnterElements.length;a++){var o=this.collectedEnterElements[a];Zr(o,YX)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var s=[];try{i=this._flushAnimations(s,n)}finally{for(var u=0;u<s.length;u++)s[u]()}}else for(var l=0;l<this.collectedLeaveElements.length;l++){var c=this.collectedLeaveElements[l];this.processLeaveNode(c)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(h){return h()}),this._flushFns=[],this._whenQuietFns.length){var f=this._whenQuietFns;this._whenQuietFns=[],i.length?io(i).onDone(function(){f.forEach(function(h){return h()})}):f.forEach(function(h){return h()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,n){var i=this,a=new T_,o=[],s=new Map,u=[],l=new Map,c=new Map,f=new Map,h=new Set;this.disabledNodes.forEach(function(J){h.add(J);for(var fe=i.driver.query(J,".ng-animate-queued",!0),ge=0;ge<fe.length;ge++)h.add(fe[ge])});var d=this.bodyNode,v=Array.from(this.statesByElement.keys()),p=mM(v,this.collectedEnterElements),m=new Map,C=0;p.forEach(function(J,fe){var ge=ZO+C++;m.set(fe,ge),J.forEach(function(Rt){return Zr(Rt,ge)})});for(var _=[],E=new Set,S=new Set,w=0;w<this.collectedLeaveElements.length;w++){var k=this.collectedLeaveElements[w],I=k[Yr];I&&I.setForRemoval&&(_.push(k),E.add(k),I.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(J){return E.add(J)}):S.add(k))}var x=new Map,B=mM(v,Array.from(E));B.forEach(function(J,fe){var ge=y_+C++;x.set(fe,ge),J.forEach(function(Rt){return Zr(Rt,ge)})}),e.push(function(){p.forEach(function(J,fe){var ge=m.get(fe);J.forEach(function(Rt){return xu(Rt,ge)})}),B.forEach(function(J,fe){var ge=x.get(fe);J.forEach(function(Rt){return xu(Rt,ge)})}),_.forEach(function(J){i.processLeaveNode(J)})});for(var Y=[],q=[],ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(n).forEach(function(J){var fe=J.player,ge=J.element;if(Y.push(fe),i.collectedEnterElements.length){var Rt=ge[Yr];if(Rt&&Rt.setForMove)return void fe.destroy()}var br=!d||!i.driver.containsElement(d,ge),Ei=x.get(ge),Qi=m.get(ge),qt=i._buildInstruction(J,a,Qi,Ei,br);if(qt.errors&&qt.errors.length)q.push(qt);else{if(br)return fe.onStart(function(){return Qo(ge,qt.fromStyles)}),fe.onDestroy(function(){return Zi(ge,qt.toStyles)}),void o.push(fe);if(J.isFallbackTransition)return fe.onStart(function(){return Qo(ge,qt.fromStyles)}),fe.onDestroy(function(){return Zi(ge,qt.toStyles)}),void o.push(fe);qt.timelines.forEach(function(Tn){return Tn.stretchStartingKeyframe=!0}),a.append(ge,qt.timelines),u.push({instruction:qt,player:fe,element:ge}),qt.queriedElements.forEach(function(Tn){return Sr(l,Tn,[]).push(fe)}),qt.preStyleProps.forEach(function(Tn,Nn){var Si=Object.keys(Tn);if(Si.length){var wi=c.get(Nn);wi||c.set(Nn,wi=new Set),Si.forEach(function(uo){return wi.add(uo)})}}),qt.postStyleProps.forEach(function(Tn,Nn){var Si=Object.keys(Tn),wi=f.get(Nn);wi||f.set(Nn,wi=new Set),Si.forEach(function(uo){return wi.add(uo)})})}});if(q.length){var _e=[];q.forEach(function(J){_e.push("@".concat(J.triggerName," has failed due to:\n")),J.errors.forEach(function(fe){return _e.push("- ".concat(fe,"\n"))})}),Y.forEach(function(J){return J.destroy()}),this.reportError(_e)}var se=new Map,Me=new Map;u.forEach(function(J){var fe=J.element;a.has(fe)&&(Me.set(fe,fe),i._beforeAnimationBuild(J.player.namespaceId,J.instruction,se))}),o.forEach(function(J){var fe=J.element;i._getPreviousPlayers(fe,!1,J.namespaceId,J.triggerName,null).forEach(function(Rt){Sr(se,fe,[]).push(Rt),Rt.destroy()})});var De=_.filter(function(J){return CM(J,c,f)}),tt=new Map;yM(tt,this.driver,S,f,ma).forEach(function(J){CM(J,c,f)&&De.push(J)});var xe=new Map;p.forEach(function(J,fe){yM(xe,i.driver,new Set(J),c,"!")}),De.forEach(function(J){var fe=tt.get(J),ge=xe.get(J);tt.set(J,U(U({},fe),ge))});var ct=[],j=[],yn={};u.forEach(function(J){var fe=J.element,ge=J.player,Rt=J.instruction;if(a.has(fe)){if(h.has(fe))return ge.onDestroy(function(){return Zi(fe,Rt.toStyles)}),ge.disabled=!0,ge.overrideTotalTime(Rt.totalTime),void o.push(ge);var br=yn;if(Me.size>1){for(var Ei=fe,Qi=[];Ei=Ei.parentNode;){var qt=Me.get(Ei);if(qt){br=qt;break}Qi.push(Ei)}Qi.forEach(function(Nn){return Me.set(Nn,br)})}var so=i._buildAnimation(ge.namespaceId,Rt,se,s,xe,tt);if(ge.setRealPlayer(so),br===yn)ct.push(ge);else{var Tn=i.playersByElement.get(br);Tn&&Tn.length&&(ge.parentPlayer=io(Tn)),o.push(ge)}}else Qo(fe,Rt.fromStyles),ge.onDestroy(function(){return Zi(fe,Rt.toStyles)}),j.push(ge),h.has(fe)&&o.push(ge)}),j.forEach(function(J){var fe=s.get(J.element);if(fe&&fe.length){var ge=io(fe);J.setRealPlayer(ge)}}),o.forEach(function(J){J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(var Be=0;Be<_.length;Be++){var Je=_[Be],mn=Je[Yr];if(xu(Je,y_),!mn||!mn.hasAnimation){var Wt=[];if(l.size){var sn=l.get(Je);sn&&sn.length&&Wt.push.apply(Wt,Z(sn));for(var Ln=this.driver.query(Je,m_,!0),Xi=0;Xi<Ln.length;Xi++){var tr=l.get(Ln[Xi]);tr&&tr.length&&Wt.push.apply(Wt,Z(tr))}}var Jo=Wt.filter(function(J){return!J.destroyed});Jo.length?r7(this,Je,Jo):this.processLeaveNode(Je)}}return _.length=0,ct.forEach(function(J){i.players.push(J),J.onDone(function(){J.destroy();var fe=i.players.indexOf(J);i.players.splice(fe,1)}),J.play()}),ct}},{key:"elementContainsData",value:function(e,n){var i=!1,a=n[Yr];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,n,i,a,o){var s=[];if(n){var u=this.playersByQueriedElement.get(e);u&&(s=u)}else{var l=this.playersByElement.get(e);if(l){var c=!o||o==kc;l.forEach(function(f){f.queued||!c&&f.triggerName!=a||s.push(f)})}}return(i||a)&&(s=s.filter(function(f){return!(i&&i!=f.namespaceId||a&&a!=f.triggerName)})),s}},{key:"_beforeAnimationBuild",value:function(e,n,i){var f,a=this,s=n.element,u=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName,c=b(n.timelines);try{var h=function(){var p=f.value.element,m=p!==s,C=Sr(i,p,[]);a._getPreviousPlayers(p,m,u,l,n.toState).forEach(function(E){var S=E.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),E.destroy(),C.push(E)})};for(c.s();!(f=c.n()).done;)h()}catch(d){c.e(d)}finally{c.f()}Qo(s,n.fromStyles)}},{key:"_buildAnimation",value:function(e,n,i,a,o,s){var u=this,l=n.triggerName,c=n.element,f=[],h=new Set,d=new Set,v=n.timelines.map(function(m){var C=m.element;h.add(C);var _=C[Yr];if(_&&_.removedBeforeQueried)return new lu(m.duration,m.delay);var E=C!==c,S=function(t){var r=[];return _M(t,r),r}((i.get(C)||XX).map(function(Y){return Y.getRealPlayer()})).filter(function(Y){return!!Y.element&&Y.element===C}),w=o.get(C),k=s.get(C),I=UO(u.driver,u._normalizer,C,m.keyframes,w,k),x=u._buildPlayer(m,I,S);if(m.subTimeline&&a&&d.add(C),E){var B=new O_(e,l,C);B.setRealPlayer(x),f.push(B)}return x});f.forEach(function(m){Sr(u.playersByQueriedElement,m.element,[]).push(m),m.onDone(function(){return function(t,r,e){var n;if(t instanceof Map){if(n=t.get(r)){if(n.length){var i=n.indexOf(e);n.splice(i,1)}0==n.length&&t.delete(r)}}else if(n=t[r]){if(n.length){var a=n.indexOf(e);n.splice(a,1)}0==n.length&&delete t[r]}return n}(u.playersByQueriedElement,m.element,m)})}),h.forEach(function(m){return Zr(m,XO)});var p=io(v);return p.onDestroy(function(){h.forEach(function(m){return xu(m,XO)}),Zi(c,n.toStyles)}),d.forEach(function(m){Sr(a,m,[]).push(p)}),p}},{key:"_buildPlayer",value:function(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new lu(e.duration,e.delay)}}]),t}(),O_=function(){function t(r,e,n){y(this,t),this.namespaceId=r,this.triggerName=e,this.element=n,this._player=new lu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return g(t,[{key:"setRealPlayer",value:function(e){var n=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(i){n._queuedCallbacks[i].forEach(function(a){return s_(e,i,void 0,a)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var n=this,i=this._player;i.triggerCallback&&e.onStart(function(){return i.triggerCallback("start")}),e.onDone(function(){return n.finish()}),e.onDestroy(function(){return n.destroy()})}},{key:"_queueEvent",value:function(e,n){Sr(this._queuedCallbacks,e,[]).push(n)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var n=this._player;n.triggerCallback&&n.triggerCallback(e)}}]),t}();function t7(t){return null!=t?t:null}function Nd(t){return t&&1===t.nodeType}function gM(t,r){var e=t.style.display;return t.style.display=null!=r?r:"none",e}function yM(t,r,e,n,i){var a=[];e.forEach(function(u){return a.push(gM(u))});var o=[];n.forEach(function(u,l){var c={};u.forEach(function(f){var h=c[f]=r.computeStyle(l,f,i);(!h||0==h.length)&&(l[Yr]=QX,o.push(l))}),t.set(l,c)});var s=0;return e.forEach(function(u){return gM(u,a[s++])}),o}function mM(t,r){var e=new Map;if(t.forEach(function(s){return e.set(s,[])}),0==r.length)return e;var i=new Set(r),a=new Map;function o(s){if(!s)return 1;var u=a.get(s);if(u)return u;var l=s.parentNode;return u=e.has(l)?l:i.has(l)?1:o(l),a.set(s,u),u}return r.forEach(function(s){var u=o(s);1!==u&&e.get(u).push(s)}),e}var Vd="$$classes";function Zr(t,r){if(t.classList)t.classList.add(r);else{var e=t[Vd];e||(e=t[Vd]={}),e[r]=!0}}function xu(t,r){if(t.classList)t.classList.remove(r);else{var e=t[Vd];e&&delete e[r]}}function r7(t,r,e){io(e).onDone(function(){return t.processLeaveNode(r)})}function _M(t,r){for(var e=0;e<t.length;e++){var n=t[e];n instanceof mk?_M(n.players,r):r.push(n)}}function a7(t,r){var e=Object.keys(t),n=Object.keys(r);if(e.length!=n.length)return!1;for(var i=0;i<e.length;i++){var a=e[i];if(!r.hasOwnProperty(a)||t[a]!==r[a])return!1}return!0}function CM(t,r,e){var n=e.get(t);if(!n)return!1;var i=r.get(t);return i?n.forEach(function(a){return i.add(a)}):r.set(t,n),e.delete(t),!0}var Bd=function(){function t(r,e,n){var i=this;y(this,t),this.bodyNode=r,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=function(a,o){},this._transitionEngine=new JX(r,e,n),this._timelineEngine=new qX(r,e,n),this._transitionEngine.onRemovalComplete=function(a,o){return i.onRemovalComplete(a,o)}}return g(t,[{key:"registerTrigger",value:function(e,n,i,a,o){var s=e+"-"+a,u=this._triggerCache[s];if(!u){var l=[],c=iM(this._driver,o,l);if(l.length)throw new Error('The animation trigger "'.concat(a,'" has failed to build due to the following errors:\n - ').concat(l.join("\n - ")));u=function(t,r,e){return new GX(t,r,e)}(a,c,this._normalizer),this._triggerCache[s]=u}this._transitionEngine.registerTrigger(n,a,u)}},{key:"register",value:function(e,n){this._transitionEngine.register(e,n)}},{key:"destroy",value:function(e,n){this._transitionEngine.destroy(e,n)}},{key:"onInsert",value:function(e,n,i,a){this._transitionEngine.insertNode(e,n,i,a)}},{key:"onRemove",value:function(e,n,i,a){this._transitionEngine.removeNode(e,n,a||!1,i)}},{key:"disableAnimations",value:function(e,n){this._transitionEngine.markElementAsDisabled(e,n)}},{key:"process",value:function(e,n,i,a){if("@"==i.charAt(0)){var s=K(jO(i),2);this._timelineEngine.command(s[0],n,s[1],a)}else this._transitionEngine.trigger(e,n,i,a)}},{key:"listen",value:function(e,n,i,a,o){if("@"==i.charAt(0)){var u=K(jO(i),2);return this._timelineEngine.listen(u[0],n,u[1],o)}return this._transitionEngine.listen(e,n,i,a,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function EM(t,r){var e=null,n=null;return Array.isArray(r)&&r.length?(e=M_(r[0]),r.length>1&&(n=M_(r[r.length-1]))):r&&(e=M_(r)),e||n?new o7(t,e,n):null}var o7=function(){var t=function(){function r(e,n,i){y(this,r),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var a=r.initialStylesByElement.get(e);a||r.initialStylesByElement.set(e,a={}),this._initialStyles=a}return g(r,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Zi(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Zi(this._element,this._initialStyles),this._endStyles&&(Zi(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Qo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),Zi(this._element,this._initialStyles),this._state=3)}}]),r}();return t.initialStylesByElement=new WeakMap,t}();function M_(t){for(var r=null,e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];s7(i)&&((r=r||{})[i]=t[i])}return r}function s7(t){return"display"===t||"position"===t}var SM="animation",wM="animationend",c7=function(){function t(r,e,n,i,a,o,s){var u=this;y(this,t),this._element=r,this._name=e,this._duration=n,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(l){return u._handleCallback(l)}}return g(t,[{key:"apply",value:function(){(function(t,r){var e=P_(t,"").trim();e.length&&(function(t,r){for(var e=0,n=0;n<t.length;n++)","===t.charAt(n)&&e++;return e}(e)+1,r="".concat(e,", ").concat(r)),Hd(t,"",r)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),DM(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){bM(this._element,this._name,"paused")}},{key:"resume",value:function(){bM(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var n=TM(this._element,this._name);this._position=e*this._duration,Hd(this._element,"Delay","-".concat(this._position,"ms"),n)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var n=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),DM(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,r){var n=P_(t,"").split(","),i=R_(n,r);i>=0&&(n.splice(i,1),Hd(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function bM(t,r,e){Hd(t,"PlayState",e,TM(t,r))}function TM(t,r){var e=P_(t,"");return e.indexOf(",")>0?R_(e.split(","),r):R_([e],r)}function R_(t,r){for(var e=0;e<t.length;e++)if(t[e].indexOf(r)>=0)return e;return-1}function DM(t,r,e){e?t.removeEventListener(wM,r):t.addEventListener(wM,r)}function Hd(t,r,e,n){var i=SM+r;if(null!=n){var a=t.style[i];if(a.length){var o=a.split(",");o[n]=e,e=o.join(",")}}t.style[i]=e}function P_(t,r){return t.style[SM+r]||""}var kM=function(){function t(r,e,n,i,a,o,s,u){y(this,t),this.element=r,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return g(t,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new c7(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var n={};if(this.hasStarted()){var i=this._state>=3;Object.keys(this._finalStyles).forEach(function(a){"offset"!=a&&(n[a]=i?e._finalStyles[a]:S_(e.element,a))})}this.currentSnapshot=n}}]),t}(),g7=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this)).element=n,a._startingStyles={},a.__initialized=!1,a._styles=qO(i),a}return g(e,[{key:"init",value:function(){var i=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(a){i._startingStyles[a]=i.element.style[a]}),Se(Re(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var i=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(a){return i.element.style.setProperty(a,i._styles[a])}),Se(Re(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var i=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(a){var o=i._startingStyles[a];o?i.element.style.setProperty(a,o):i.element.style.removeProperty(a)}),this._startingStyles=null,Se(Re(e.prototype),"destroy",this).call(this))}}]),e}(lu),y7="gen_css_kf_",AM=function(){function t(){y(this,t),this._count=0}return g(t,[{key:"validateStyleProperty",value:function(e){return h_(e)}},{key:"matchesElement",value:function(e,n){return d_(e,n)}},{key:"containsElement",value:function(e,n){return v_(e,n)}},{key:"query",value:function(e,n,i){return p_(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"buildKeyframeElement",value:function(e,n,i){i=i.map(function(u){return qO(u)});var a="@keyframes ".concat(n," {\n"),o="";i.forEach(function(u){o=" ";var l=parseFloat(u.offset);a+="".concat(o).concat(100*l,"% {\n"),o+=" ",Object.keys(u).forEach(function(c){var f=u[c];switch(c){case"offset":return;case"easing":return void(f&&(a+="".concat(o,"animation-timing-function: ").concat(f,";\n")));default:return void(a+="".concat(o).concat(c,": ").concat(f,";\n"))}}),a+="".concat(o,"}\n")}),a+="}\n";var s=document.createElement("style");return s.textContent=a,s}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=s.filter(function(C){return C instanceof kM}),c={};eM(i,a)&&l.forEach(function(C){var _=C.currentSnapshot;Object.keys(_).forEach(function(E){return c[E]=_[E]})});var f=_7(n=tM(e,n,c));if(0==i)return new g7(e,f);var h="".concat(y7).concat(this._count++),d=this.buildKeyframeElement(e,h,n),v=m7(e);v.appendChild(d);var p=EM(e,n),m=new kM(e,n,h,i,a,o,f,p);return m.onDestroy(function(){return C7(d)}),m}}]),t}();function m7(t){var r,e=null===(r=t.getRootNode)||void 0===r?void 0:r.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head}function _7(t){var r={};return t&&(Array.isArray(t)?t:[t]).forEach(function(n){Object.keys(n).forEach(function(i){"offset"==i||"easing"==i||(r[i]=n[i])})}),r}function C7(t){t.parentNode.removeChild(t)}var MM=function(){function t(r,e,n,i){y(this,t),this.element=r,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return g(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,n,i){return e.animate(n,i)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(i){"offset"!=i&&(n[i]=e._finished?e._finalKeyframe[i]:S_(e.element,i))}),this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){var n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(function(i){return i()}),n.length=0}}]),t}(),E7=function(){function t(){y(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(RM().toString()),this._cssKeyframesDriver=new AM}return g(t,[{key:"validateStyleProperty",value:function(e){return h_(e)}},{key:"matchesElement",value:function(e,n){return d_(e,n)}},{key:"containsElement",value:function(e,n){return v_(e,n)}},{key:"query",value:function(e,n,i){return p_(e,n,i)}},{key:"computeStyle",value:function(e,n,i){return window.getComputedStyle(e)[n]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,n,i,a,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6?arguments[6]:void 0,l=!u&&!this._isNativeImpl;if(l)return this._cssKeyframesDriver.animate(e,n,i,a,o,s);var c=0==a?"both":"forwards",f={duration:i,delay:a,fill:c};o&&(f.easing=o);var h={},d=s.filter(function(p){return p instanceof MM});eM(i,a)&&d.forEach(function(p){var m=p.currentSnapshot;Object.keys(m).forEach(function(C){return h[C]=m[C]})});var v=EM(e,n=tM(e,n=n.map(function(p){return ao(p,!1)}),h));return new MM(e,n,f,v)}}]),t}();function RM(){return HO()&&Element.prototype.animate||{}}var w7=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a){var o;return y(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=i.createRenderer(a.body,{id:"0",encapsulation:Jr.None,styles:[],data:{animation:[]}}),o}return g(n,[{key:"build",value:function(a){var o=this._nextAnimationId.toString();this._nextAnimationId++;var s=Array.isArray(a)?vk(a):a;return PM(this._renderer,null,o,"register",[s]),new b7(o,this._renderer)}}]),n}(dk);return t.\u0275fac=function(e){return new(e||t)(z(Cl),z(nn))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),b7=function(t){M(e,t);var r=R(e);function e(n,i){var a;return y(this,e),(a=r.call(this))._id=n,a._renderer=i,a}return g(e,[{key:"create",value:function(i,a){return new T7(this._id,i,a||{},this._renderer)}}]),e}(nz),T7=function(){function t(r,e,n,i){y(this,t),this.id=r,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return g(t,[{key:"_listen",value:function(e,n){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),n)}},{key:"_command",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return PM(this._renderer,this.element,this.id,e,i)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,n;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}]),t}();function PM(t,r,e,n,i){return t.setProperty(r,"@@".concat(e,":").concat(n),i)}var xM="@.disabled",D7=function(){var t=function(){function r(e,n,i){y(this,r),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(a,o){var s=null==o?void 0:o.parentNode(a);s&&o.removeChild(s,a)}}return g(r,[{key:"createRenderer",value:function(n,i){var a=this,s=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){var u=this._rendererCache.get(s);return u||(u=new FM("",s,this.engine),this._rendererCache.set(s,u)),u}var l=i.id,c=i.id+"-"+this._currentId;return this._currentId++,this.engine.register(c,n),i.data.animation.forEach(function d(v){Array.isArray(v)?v.forEach(d):a.engine.registerTrigger(l,c,n,v.name,v)}),new k7(this,c,s,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var n=this;this.promise.then(function(){n._microtaskId++})}},{key:"scheduleListenerCallback",value:function(n,i,a){var o=this;n>=0&&n<this._microtaskId?this._zone.run(function(){return i(a)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){o._zone.run(function(){o._animationCallbacksBuffer.forEach(function(s){var u=K(s,2);(0,u[0])(u[1])}),o._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}},{key:"end",value:function(){var n=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){n._scheduleCountTask(),n.engine.flush(n._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Cl),z(Bd),z(ut))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),FM=function(){function t(r,e,n){y(this,t),this.namespaceId=r,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(i){return e.destroyNode(i)}:null}return g(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,n){return this.delegate.createElement(e,n)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}},{key:"insertBefore",value:function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,a)}},{key:"removeChild",value:function(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}},{key:"selectRootElement",value:function(e,n){return this.delegate.selectRootElement(e,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,n,i,a){this.delegate.setAttribute(e,n,i,a)}},{key:"removeAttribute",value:function(e,n,i){this.delegate.removeAttribute(e,n,i)}},{key:"addClass",value:function(e,n){this.delegate.addClass(e,n)}},{key:"removeClass",value:function(e,n){this.delegate.removeClass(e,n)}},{key:"setStyle",value:function(e,n,i,a){this.delegate.setStyle(e,n,i,a)}},{key:"removeStyle",value:function(e,n,i){this.delegate.removeStyle(e,n,i)}},{key:"setProperty",value:function(e,n,i){"@"==n.charAt(0)&&n==xM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}},{key:"setValue",value:function(e,n){this.delegate.setValue(e,n)}},{key:"listen",value:function(e,n,i){return this.delegate.listen(e,n,i)}},{key:"disableAnimations",value:function(e,n){this.engine.disableAnimations(e,n)}}]),t}(),k7=function(t){M(e,t);var r=R(e);function e(n,i,a,o){var s;return y(this,e),(s=r.call(this,i,a,o)).factory=n,s.namespaceId=i,s}return g(e,[{key:"setProperty",value:function(i,a,o){"@"==a.charAt(0)?"."==a.charAt(1)&&a==xM?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,a.substr(1),o):this.delegate.setProperty(i,a,o)}},{key:"listen",value:function(i,a,o){var s=this;if("@"==a.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(i),l=a.substr(1),c="";if("@"!=l.charAt(0)){var f=function(t){var r=t.indexOf(".");return[t.substring(0,r),t.substr(r+1)]}(l),h=K(f,2);l=h[0],c=h[1]}return this.engine.listen(this.namespaceId,u,l,c,function(d){s.factory.scheduleListenerCallback(d._data||-1,o,d)})}return this.delegate.listen(i,a,o)}}]),e}(FM),O7=function(){var t=function(r){M(n,r);var e=R(n);function n(i,a,o){return y(this,n),e.call(this,i.body,a,o)}return g(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Bd);return t.\u0275fac=function(e){return new(e||t)(z(nn),z(g_),z(D_))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),LM=new Te("AnimationModuleType"),NM=[{provide:dk,useClass:w7},{provide:D_,useFactory:function(){return new NX}},{provide:Bd,useClass:O7},{provide:Cl,useFactory:function(t,r,e){return new D7(t,r,e)},deps:[th,Bd,ut]}],VM=[{provide:g_,useFactory:function(){return"function"==typeof RM()?new E7:new AM}},{provide:LM,useValue:"BrowserAnimations"}].concat(NM),x7=[{provide:g_,useClass:KO},{provide:LM,useValue:"NoopAnimations"}].concat(NM),F7=function(){var t=function(){function r(){y(this,r)}return g(r,null,[{key:"withConfig",value:function(n){return{ngModule:r,providers:n.disableAnimations?x7:VM}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:VM,imports:[mT]}),t}();function x_(t,r){var e=F(t)?t:function(){return t},n=function(a){return a.error(e())};return new et(r?function(i){return r.schedule(n,0,i)}:n)}var oo=new et(ar);function L7(t){return new et(function(r){return t.subscribe(r)})}var N7={connector:function(){return new nt}};function BM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N7,e=r.connector;return At(function(n,i){var a=e();un(t(L7(a))).subscribe(i),i.add(n.subscribe(a))})}function HM(t,r){return r?function(e){return Rl(r.pipe(Dr(1),At(function(t,r){t.subscribe(new Ct(r,ar))})),e.pipe(HM(t)))}:Zt(function(e,n){return t(e,n).pipe(Dr(1),function(t){return Ue(function(){return t})}(e))})}function UM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ek,e=nk(t,r);return HM(function(){return e})}var Ic="Service workers are disabled or not supported by this browser",jd=function(){function t(r){if(y(this,t),this.serviceWorker=r,r){var n=su(r,"controllerchange").pipe(Ue(function(){return r.controller})),a=Rl(rh(function(){return me(r.controller)}),n);this.worker=a.pipe(En(function(c){return!!c})),this.registration=this.worker.pipe(Ur(function(){return r.getRegistration()}));var l=su(r,"message").pipe(Ue(function(c){return c.data})).pipe(En(function(c){return c&&c.type})).pipe(function(t){return t?function(r){return BM(t)(r)}:function(r){return function(t,r){var e=F(t)?t:function(){return t};return F(r)?BM(r,{connector:e}):function(n){return new TT(n,e)}}(new nt)(r)}}());l.connect(),this.events=l}else this.worker=this.events=this.registration=rh(function(){return x_(new Error("Service workers are disabled or not supported by this browser"))})}return g(t,[{key:"postMessage",value:function(e,n){return this.worker.pipe(Dr(1),Qn(function(i){i.postMessage(U({action:e},n))})).toPromise().then(function(){})}},{key:"postMessageWithOperation",value:function(e,n,i){var a=this.waitForOperationCompleted(i),o=this.postMessage(e,n);return Promise.all([o,a]).then(function(s){return K(s,2)[1]})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(En("string"==typeof e?function(a){return a.type===e}:function(a){return e.includes(a.type)}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(Dr(1))}},{key:"waitForOperationCompleted",value:function(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(En(function(n){return n.nonce===e}),Dr(1),Ue(function(n){if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),t}(),G7=function(){var t=function(){function r(e){if(y(this,r),this.sw=e,this.subscriptionChanges=new nt,!e.isEnabled)return this.messages=oo,this.notificationClicks=oo,void(this.subscription=oo);this.messages=this.sw.eventsOfType("PUSH").pipe(Ue(function(i){return i.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ue(function(i){return i.data})),this.pushManager=this.sw.registration.pipe(Ue(function(i){return i.pushManager}));var n=this.pushManager.pipe(Ur(function(i){return i.getSubscription()}));this.subscription=tv(n,this.subscriptionChanges)}return g(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(n){var i=this;if(!this.sw.isEnabled)return Promise.reject(new Error(Ic));for(var a={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length)),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return a.applicationServerKey=s,this.pushManager.pipe(Ur(function(l){return l.subscribe(a)}),Dr(1)).toPromise().then(function(l){return i.subscriptionChanges.next(l),l})}},{key:"unsubscribe",value:function(){var n=this;return this.sw.isEnabled?this.subscription.pipe(Dr(1),Ur(function(o){if(null===o)throw new Error("Not subscribed to push notifications.");return o.unsubscribe().then(function(s){if(!s)throw new Error("Unsubscribe failed!");n.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ic))}},{key:"decodeBase64",value:function(n){return atob(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(jd))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),z7=function(){var t=function(){function r(e){if(y(this,r),this.sw=e,!e.isEnabled)return this.versionUpdates=oo,this.available=oo,this.activated=oo,void(this.unrecoverable=oo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(En(function(n){return"VERSION_READY"===n.type}),Ue(function(n){return{type:"UPDATE_AVAILABLE",current:n.currentVersion,available:n.latestVersion}})),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return g(r,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ic));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ic));var n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(jd))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),t}(),F_=g(function t(){y(this,t)}),jM=new Te("NGSW_REGISTER_SCRIPT");function W7(t,r,e,n){return function(){if(Ng(n)&&"serviceWorker"in navigator&&!1!==e.enabled){var o;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)o=e.registrationStrategy();else{var u=function(t){return G(t)||we(t)||D(t)||ne()}((e.registrationStrategy||"registerWhenStable:30000").split(":")),l=u[0],c=u.slice(1);switch(l){case"registerImmediately":o=me(null);break;case"registerWithDelay":o=GM(+c[0]||0);break;case"registerWhenStable":o=c[0]?tv(zM(t),GM(+c[0])):zM(t);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(e.registrationStrategy))}}t.get(ut).runOutsideAngular(function(){return o.pipe(Dr(1)).subscribe(function(){return navigator.serviceWorker.register(r,{scope:e.scope}).catch(function(h){return console.error("Service worker registration failed with:",h)})})})}}}function GM(t){return me(null).pipe(UM(t))}function zM(t){return t.get(Ks).isStable.pipe(En(function(e){return e}))}function q7(t,r){return new jd(Ng(r)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var K7=function(){var t=function(){function r(){y(this,r)}return g(r,null,[{key:"register",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:r,providers:[{provide:jM,useValue:n},{provide:F_,useValue:i},{provide:jd,useFactory:q7,deps:[F_,Ua]},{provide:Dl,useFactory:W7,deps:[fn,jM,F_,Ua],multi:!0}]}}}]),r}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t}),t.\u0275inj=at({providers:[G7,z7]}),t}();var X7=function(){var t=function(){function r(e,n){y(this,r),this.messageService=e,this.logging=n}return g(r,[{key:"intercept",value:function(n,i){var a=this;return i.handle(n).pipe(function(t,r){var e=r;return function(n){return n.pipe(function(t){return At(function(r,e){var n,a,i=!1;!function s(){n=r.subscribe(new Ct(e,void 0,void 0,function(u){a||(a=new nt,t(a).subscribe(new Ct(e,function(){return n?s():i=!0}))),a&&a.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,s())}()})}(function(i){return i.pipe(UM(t),Zt(function(a){return e-- >0?me(a):x_("Network problem, try again.")}))}))}}(1e3,3),pa(function(o){return a.handleError(o,a.messageService)}))}},{key:"handleError",value:function(n,i){return n&&"string"==typeof n?(this.logging.logError("err: "+n),i.sendMessage(new iu(n))):n&&(0===n.status?(this.logging.logError("Connection error."),i.sendMessage(new iu("Connection error."))):(this.logging.logError("An error has occurred."),i.sendMessage(new iu("An error has occurred.")))),x_(n)}}]),r}();return t.\u0275fac=function(e){return new(e||t)(z(Ro),z(Wl))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Q7=function(){var t=g(function r(){y(this,r)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=st({type:t,bootstrap:[oX]}),t.\u0275inj=at({providers:[Sy,Wl,{provide:my,useClass:X7,multi:!0,deps:[Ro,Wl]}],imports:[[mT,z4,e3,lX,F7,a5,aX,l3,n4,lW,E4,L4,A4,_4,K7.register("ngsw-worker.js",{enabled:true})]]}),t}();sU().bootstrapModule(Q7).catch(function(t){return console.error(t)})},774:function($i,Di,dt){$i.exports=dt(452)}},function($i){$i($i.s=503)}]);