(self.webpackChunksr_traffic=self.webpackChunksr_traffic||[]).push([[179],{489:(al,ll,Ai)=>{"use strict";function Pe(n){return"function"==typeof n}function Je(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ul=Je(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Oi(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Pe(i))try{i()}catch(o){t=o instanceof ul?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{bc(o)}catch(s){t=t??[],s instanceof ul?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ul(t)}}add(t){var e;if(t&&t!==this)if(this.closed)bc(t);else{if(t instanceof Yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Oi(e,t)}remove(t){const{_teardowns:e}=this;e&&Oi(e,t),t instanceof Yt&&t._removeParent(this)}}Yt.EMPTY=(()=>{const n=new Yt;return n.closed=!0,n})();const ro=Yt.EMPTY;function Dc(n){return n instanceof Yt||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function bc(n){Pe(n)?n():n.unsubscribe()}const xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Er={setTimeout(...n){const{delegate:t}=Er;return(t?.setTimeout||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=Er;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rs(n){Er.setTimeout(()=>{const{onUnhandledError:t}=xi;if(!t)throw n;t(n)})}function di(){}const oo=b("C",void 0,void 0);function b(n,t,e){return{kind:n,value:t,error:e}}let k=null;function J(n){if(xi.useDeprecatedSynchronousErrorHandling){const t=!k;if(t&&(k={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=k;if(k=null,e)throw i}}else n()}class Z extends Yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dc(t)&&t.add(this)):this.destination=Tt}static create(t,e,i){return new se(t,e,i)}next(t){this.isStopped?ke(function T(n){return b("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ke(function Sc(n){return b("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ke(oo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class se extends Z{constructor(t,e,i){let r;if(super(),Pe(t))r=t;else if(t){let o;({next:r,error:e,complete:i}=t),this&&xi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,r=r?.bind(o),e=e?.bind(o),i=i?.bind(o)}this.destination={next:r?Ie(r):di,error:Ie(e??Be),complete:i?Ie(i):di}}}function Ie(n,t){return(...e)=>{try{n(...e)}catch(i){xi.useDeprecatedSynchronousErrorHandling?function ee(n){xi.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=n)}(i):Rs(i)}}}function Be(n){throw n}function ke(n,t){const{onStoppedNotification:e}=xi;e&&Er.setTimeout(()=>e(n,t))}const Tt={closed:!0,next:di,error:Be,complete:di},Ge="function"==typeof Symbol&&Symbol.observable||"@@observable";function dt(n){return n}function nr(n){return 0===n.length?dt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Ps(n){return n&&n instanceof Z||function Yf(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&Dc(n)}(e)?e:new se(e,i,r);return J(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=wr(i))((r,o)=>{let s;s=this.subscribe(a=>{try{e(a)}catch(l){o(l),s?.unsubscribe()}},o,r)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ge](){return this}pipe(...e){return nr(e)(this)}toPromise(e){return new(e=wr(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function wr(n){var t;return null!==(t=n??xi.Promise)&&void 0!==t?t:Promise}const Uo=Je(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ve=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new eC(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Uo}next(e){J(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(e)}})}error(e){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ro:(o.push(e),new Yt(()=>Oi(o,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ue;return e.source=this,e}}return n.create=(t,e)=>new eC(t,e),n})();class eC extends Ve{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:ro}}function tC(n){return Pe(n?.lift)}function At(n){return t=>{if(tC(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Dt extends Z{constructor(t,e,i,r,o){super(t),this.onFinalize=o,this._next=e?function(s){try{e(s)}catch(a){t.error(a)}}:super._next,this._error=r?function(s){try{r(s)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function ve(n,t){return At((e,i)=>{let r=0;e.subscribe(new Dt(i,o=>{i.next(n.call(t,o,r++))}))})}function Go(n){return this instanceof Go?(this.v=n,this):new Go(n)}function A1(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Go?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(i[h](f))}catch(p){d(o[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function O1(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function rC(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Xf=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function oC(n){return Pe(n?.then)}function sC(n){return Pe(n[Ge])}function aC(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function lC(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uC=function R1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cC(n){return Pe(n?.[uC])}function dC(n){return A1(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Go(e.read());if(r)return yield Go(void 0);yield yield Go(i)}}finally{e.releaseLock()}})}function hC(n){return Pe(n?.getReader)}function hi(n){if(n instanceof Ue)return n;if(null!=n){if(sC(n))return function P1(n){return new Ue(t=>{const e=n[Ge]();if(Pe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xf(n))return function L1(n){return new Ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(oC(n))return function F1(n){return new Ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Rs)})}(n);if(aC(n))return fC(n);if(cC(n))return function N1(n){return new Ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(hC(n))return function k1(n){return fC(dC(n))}(n)}throw lC(n)}function fC(n){return new Ue(t=>{(function V1(n,t){var e,i,r,o;return function I1(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(c.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=O1(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Tr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Bt(n,t,e=1/0){return Pe(t)?Bt((i,r)=>ve((o,s)=>t(i,o,r,s))(hi(n(i,r))),e):("number"==typeof t&&(e=t),At((i,r)=>function B1(n,t,e,i,r,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&t.complete()},f=g=>u<i?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let m=!1;hi(e(g,c++)).subscribe(new Dt(t,_=>{r?.(_),o?f(_):t.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<i;){const _=l.shift();s?Tr(t,s,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return n.subscribe(new Dt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Ls(n=1/0){return Bt(dt,n)}const Dr=new Ue(n=>n.complete());function pC(n){return n&&Pe(n.schedule)}function Qf(n){return n[n.length-1]}function gC(n){return Pe(Qf(n))?n.pop():void 0}function cl(n){return pC(Qf(n))?n.pop():void 0}function mC(n,t=0){return At((e,i)=>{e.subscribe(new Dt(i,r=>Tr(i,n,()=>i.next(r),t),()=>Tr(i,n,()=>i.complete(),t),r=>Tr(i,n,()=>i.error(r),t)))})}function _C(n,t=0){return At((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function vC(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ue(e=>{Tr(e,t,()=>{const i=n[Symbol.asyncIterator]();Tr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ot(n,t){return t?function K1(n,t){if(null!=n){if(sC(n))return function U1(n,t){return hi(n).pipe(_C(t),mC(t))}(n,t);if(Xf(n))return function $1(n,t){return new Ue(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(oC(n))return function G1(n,t){return hi(n).pipe(_C(t),mC(t))}(n,t);if(aC(n))return vC(n,t);if(cC(n))return function z1(n,t){return new Ue(e=>{let i;return Tr(e,t,()=>{i=n[uC](),Tr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Pe(i?.return)&&i.return()})}(n,t);if(hC(n))return function W1(n,t){return vC(dC(n),t)}(n,t)}throw lC(n)}(n,t):hi(n)}function Jf(...n){const t=cl(n),e=function H1(n,t){return"number"==typeof Qf(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?hi(i[0]):Ls(e)(Ot(i,t)):Dr}function Pn(n){return n<=0?()=>Dr:At((t,e)=>{let i=0;t.subscribe(new Dt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ep(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Pn(1)).subscribe(()=>n())}function it(n){for(let t in n)if(n[t]===it)return t;throw Error("Could not find renamed property on target object.")}function tp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function rt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(rt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function np(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Y1=it({__forward_ref__:it});function We(n){return n.__forward_ref__=We,n.toString=function(){return rt(this())},n}function me(n){return ip(n)?n():n}function ip(n){return"function"==typeof n&&n.hasOwnProperty(Y1)&&n.__forward_ref__===We}class I extends Error{constructor(t,e){super(function Ic(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Mc(n,t){throw new I(-201,!1)}function Yn(n,t){null==n&&function Ke(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ac(n){return yC(n,Oc)||yC(n,EC)}function yC(n,t){return n.hasOwnProperty(t)?n[t]:null}function CC(n){return n&&(n.hasOwnProperty(rp)||n.hasOwnProperty(rR))?n[rp]:null}const Oc=it({\u0275prov:it}),rp=it({\u0275inj:it}),EC=it({ngInjectableDef:it}),rR=it({ngInjectorDef:it});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let op;function fi(n){const t=op;return op=n,t}function wC(n,t,e){const i=Ac(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&fe.Optional?null:void 0!==t?t:void Mc(rt(n))}function so(n){return{toString:n}.toString()}var Ri=(()=>((Ri=Ri||{})[Ri.OnPush=0]="OnPush",Ri[Ri.Default=1]="Default",Ri))(),Pi=(()=>{return(n=Pi||(Pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Pi;var n})();const ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fs={},ze=[],xc=it({\u0275cmp:it}),sp=it({\u0275dir:it}),ap=it({\u0275pipe:it}),TC=it({\u0275mod:it}),Sr=it({\u0275fac:it}),dl=it({__NG_ELEMENT_ID__:it});let sR=0;function jt(n){return so(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ri.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Pi.Emulated,id:"c"+sR++,styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=SC(n.inputs,i),r.outputs=SC(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(DC).filter(bC):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(wn).filter(bC):null,r})}function DC(n){return Xe(n)||En(n)}function bC(n){return null!==n}function et(n){return so(()=>({type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function SC(n,t){if(null==n)return Fs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const ae=jt;function Ln(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xe(n){return n[xc]||null}function En(n){return n[sp]||null}function wn(n){return n[ap]||null}function Zn(n,t){const e=n[TC]||null;if(!e&&!0===t)throw new Error(`Type ${rt(n)} does not have '\u0275mod' property.`);return e}function Fn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Fi(n){return Array.isArray(n)&&!0===n[1]}function cp(n){return 0!=(8&n.flags)}function Fc(n){return 2==(2&n.flags)}function Nc(n){return 1==(1&n.flags)}function Ni(n){return null!==n.template}function hR(n){return 0!=(256&n[2])}function qo(n,t){return n.hasOwnProperty(Sr)?n[Sr]:null}class gR{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nn(){return AC}function AC(n){return n.type.prototype.ngOnChanges&&(n.setInput=_R),mR}function mR(){const n=xC(this),t=n?.current;if(t){const e=n.previous;if(e===Fs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function _R(n,t,e,i){const r=xC(n)||function vR(n,t){return n[OC]=t}(n,{previous:Fs,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new gR(l&&l.currentValue,t,s===Fs),n[i]=t}Nn.ngInherit=!0;const OC="__ngSimpleChanges__";function xC(n){return n[OC]||null}function Ht(n){for(;Array.isArray(n);)n=n[0];return n}function kc(n,t){return Ht(t[n])}function mi(n,t){return Ht(t[n.index])}function gp(n,t){return n.data[t]}function js(n,t){return n[t]}function Qn(n,t){const e=t[n];return Fn(e)?e:e[0]}function Vc(n){return 64==(64&n[2])}function ao(n,t){return null==t?null:n[t]}function RC(n){n[18]=0}function mp(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ye={lFrame:UC(null),bindingsEnabled:!0};function LC(){return ye.bindingsEnabled}function O(){return ye.lFrame.lView}function je(){return ye.lFrame.tView}function ue(n){return ye.lFrame.contextLView=n,n[8]}function ce(n){return ye.lFrame.contextLView=null,n}function Zt(){let n=FC();for(;null!==n&&64===n.type;)n=n.parent;return n}function FC(){return ye.lFrame.currentTNode}function ir(n,t){const e=ye.lFrame;e.currentTNode=n,e.isParent=t}function _p(){return ye.lFrame.isParent}function vp(){ye.lFrame.isParent=!1}function Tn(){const n=ye.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Hs(){return ye.lFrame.bindingIndex++}function Mr(n){const t=ye.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function PR(n,t){const e=ye.lFrame;e.bindingIndex=e.bindingRootIndex=n,yp(t)}function yp(n){ye.lFrame.currentDirectiveIndex=n}function BC(){return ye.lFrame.currentQueryIndex}function Ep(n){ye.lFrame.currentQueryIndex=n}function FR(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function jC(n,t,e){if(e&fe.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&fe.Host||(r=FR(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ye.lFrame=HC();return i.currentTNode=t,i.lView=n,!0}function wp(n){const t=HC(),e=n[1];ye.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function HC(){const n=ye.lFrame,t=null===n?null:n.child;return null===t?UC(n):t}function UC(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function GC(){const n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $C=GC;function Tp(){const n=GC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dn(){return ye.lFrame.selectedIndex}function lo(n){ye.lFrame.selectedIndex=n}function Rt(){const n=ye.lFrame;return gp(n.tView,n.selectedIndex)}function Bc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(e,c)}}function jc(n,t,e){zC(n,t,3,e)}function Hc(n,t,e,i){(3&n[2])===e&&zC(n,t,e,i)}function Dp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function zC(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&($R(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function $R(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class _l{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Uc(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];KC(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function WC(n){return 3===n||4===n||6===n}function KC(n){return 64===n.charCodeAt(0)}function Gc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||qC(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function qC(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function YC(n){return-1!==n}function Us(n){return 32767&n}function Gs(n,t){let e=function YR(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Sp=!0;function $c(n){const t=Sp;return Sp=n,t}let ZR=0;const rr={};function yl(n,t){const e=Mp(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Ip(i.data,n),Ip(t,null),Ip(i.blueprint,null));const r=zc(n,t),o=n.injectorIndex;if(YC(r)){const s=Us(r),a=Gs(r,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function Ip(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Mp(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function zc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=rE(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Wc(n,t,e){!function XR(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(dl)&&(i=e[dl]),null==i&&(i=e[dl]=ZR++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function QC(n,t,e){if(e&fe.Optional||void 0!==n)return n;Mc()}function JC(n,t,e,i){if(e&fe.Optional&&void 0===i&&(i=null),0==(e&(fe.Self|fe.Host))){const r=n[9],o=fi(void 0);try{return r?r.get(t,i,e&fe.Optional):wC(t,i,e&fe.Optional)}finally{fi(o)}}return QC(i,0,e)}function eE(n,t,e,i=fe.Default,r){if(null!==n){if(1024&t[2]){const s=function nP(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=tE(o,s,e,i|fe.Self,rr);if(a!==rr)return a;let l=o.parent;if(!l){const u=s[21];if(u){const c=u.get(e,rr,i);if(c!==rr)return c}l=rE(s),s=s[15]}o=l}return r}(n,t,e,i,rr);if(s!==rr)return s}const o=tE(n,t,e,i,rr);if(o!==rr)return o}return JC(t,e,i,r)}function tE(n,t,e,i,r){const o=function eP(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(dl)?n[dl]:void 0;return"number"==typeof t?t>=0?255&t:tP:t}(e);if("function"==typeof o){if(!jC(t,n,i))return i&fe.Host?QC(r,0,i):JC(t,e,i,r);try{const s=o(i);if(null!=s||i&fe.Optional)return s;Mc()}finally{$C()}}else if("number"==typeof o){let s=null,a=Mp(n,t),l=-1,u=i&fe.Host?t[16][6]:null;for((-1===a||i&fe.SkipSelf)&&(l=-1===a?zc(n,t):t[a+8],-1!==l&&iE(i,!1)?(s=t[1],a=Us(l),t=Gs(l,t)):a=-1);-1!==a;){const c=t[1];if(nE(o,a,c.data)){const d=JR(a,t,e,s,i,u);if(d!==rr)return d}l=t[a+8],-1!==l&&iE(i,t[1].data[a+8]===u)&&nE(o,a,t)?(s=c,a=Us(l),t=Gs(l,t)):a=-1}}return r}function JR(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],c=Kc(a,s,e,null==i?Fc(a)&&Sp:i!=s&&0!=(3&a.type),r&fe.Host&&o===a);return null!==c?Cl(t,s,c,a):rr}function Kc(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,c=o>>20,h=r?a+c:n.directiveEnd;for(let f=i?a:a+c;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&Ni(f)&&f.type===e)return l}return null}function Cl(n,t,e,i){let r=n[e];const o=t.data;if(function zR(n){return n instanceof _l}(r)){const s=r;s.resolving&&function Z1(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${e}`)}(function $e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}(o[e]));const a=$c(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?fi(s.injectImpl):null;jC(n,i,fe.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function GR(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=AC(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&fi(l),$c(a),s.resolving=!1,$C()}}return r}function nE(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function iE(n,t){return!(n&fe.Self||n&fe.Host&&t)}class $s{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return eE(this._tNode,this._lView,t,i,e)}}function tP(){return new $s(Zt(),O())}function Ap(n){return ip(n)?()=>{const t=Ap(me(n));return t&&t()}:qo(n)}function rE(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const Ws="__parameters__";function qs(n,t,e){return so(()=>{const i=function Op(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Ws)?l[Ws]:Object.defineProperty(l,Ws,{value:[]})[Ws];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class le{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Jn(i,t)):t!==n&&t.push(i)}return t}function Ar(n,t){n.forEach(e=>Array.isArray(e)?Ar(e,t):t(e))}function sE(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function qc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Dl(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ei(n,t,e){let i=Ys(n,t);return i>=0?n[1|i]=e:(i=~i,function sP(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Rp(n,t){const e=Ys(n,t);if(e>=0)return n[1|e]}function Ys(n,t){return function uE(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const bl={},Lp="__NG_DI_FLAG__",Zc="ngTempTokenPath",pP=/\n/gm,cE="__source";let Sl;function Zs(n){const t=Sl;return Sl=n,t}function mP(n,t=fe.Default){if(void 0===Sl)throw new I(-203,!1);return null===Sl?wC(n,void 0,t):Sl.get(n,t&fe.Optional?null:void 0,t)}function G(n,t=fe.Default){return(function oR(){return op}()||mP)(me(n),t)}function Nt(n,t=fe.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),G(n,t)}function Fp(n){const t=[];for(let e=0;e<n.length;e++){const i=me(n[e]);if(Array.isArray(i)){if(0===i.length)throw new I(900,!1);let r,o=fe.Default;for(let s=0;s<i.length;s++){const a=i[s],l=_P(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(G(r,o))}else t.push(G(i))}return t}function Il(n,t){return n[Lp]=t,n.prototype[Lp]=t,n}function _P(n){return n[Lp]}const Ml=Il(qs("Optional"),8),Al=Il(qs("SkipSelf"),4);let kp;function co(n){return n instanceof class TE{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}const zp=new le("ENVIRONMENT_INITIALIZER"),xE=new le("INJECTOR",-1),RE=new le("INJECTOR_DEF_TYPES");class PE{get(t,e=bl){if(e===bl){const i=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw i.name="NullInjectorError",i}return e}}function tL(...n){return{\u0275providers:LE(0,n)}}function LE(n,...t){const e=[],i=new Set;let r;return Ar(t,o=>{const s=o;Wp(s,e,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&FE(r,e),e}function FE(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Ar(r,o=>{t.push(o)})}}function Wp(n,t,e,i){if(!(n=me(n)))return!1;let r=null,o=CC(n);const s=!o&&Xe(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=CC(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Wp(u,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{Ar(o.imports,c=>{Wp(c,t,e,i)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&FE(u,t)}if(!a){const u=qo(r)||(()=>new r);t.push({provide:r,useFactory:u,deps:ze},{provide:RE,useValue:r,multi:!0},{provide:zp,useValue:()=>G(r),multi:!0})}const l=o.providers;null==l||a||Ar(l,c=>{t.push(c)})}}return r!==n&&void 0!==n.providers}const nL=it({provide:String,useValue:it});function Kp(n){return null!==n&&"object"==typeof n&&nL in n}function Yo(n){return"function"==typeof n}const qp=new le("Set Injector scope."),nd={},rL={};let Yp;function id(){return void 0===Yp&&(Yp=new PE),Yp}class ho{}class VE extends ho{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xp(t,s=>this.processProvider(s)),this.records.set(xE,Js(void 0,this)),r.has("environment")&&this.records.set(ho,Js(void 0,this));const o=this.records.get(qp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(RE.multi,ze,fe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Zs(this),i=fi(void 0);try{return t()}finally{Zs(e),fi(i)}}get(t,e=bl,i=fe.Default){this.assertNotDestroyed();const r=Zs(this),o=fi(void 0);try{if(!(i&fe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function uL(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(t)&&Ac(t);a=l&&this.injectableDefInScope(l)?Js(Zp(t),nd):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&fe.Self?id():this.parent).get(t,e=i&fe.Optional&&e===bl?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Zc]=s[Zc]||[]).unshift(rt(t)),r)throw s;return function vP(n,t,e,i){const r=n[Zc];throw t[cE]&&r.unshift(t[cE]),n.message=function yP(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=rt(t);if(Array.isArray(t))r=t.map(rt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(pP,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Zc]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{fi(o),Zs(r)}}resolveInjectorInitializers(){const t=Zs(this),e=fi(void 0);try{const i=this.get(zp.multi,ze,fe.Self);for(const r of i)r()}finally{Zs(t),fi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(rt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){let e=Yo(t=me(t))?t:me(t&&t.provide);const i=function sL(n){return Kp(n)?Js(void 0,n.useValue):Js(BE(n),nd)}(t);if(Yo(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Js(void 0,nd,!0),r.factory=()=>Fp(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===nd&&(e.value=rL,e.value=e.factory()),"object"==typeof e.value&&e.value&&function lL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=me(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Zp(n){const t=Ac(n),e=null!==t?t.factory:qo(n);if(null!==e)return e;if(n instanceof le)throw new I(204,!1);if(n instanceof Function)return function oL(n){const t=n.length;if(t>0)throw Dl(t,"?"),new I(204,!1);const e=function nR(n){const t=n&&(n[Oc]||n[EC]);if(t){const e=function iR(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new I(204,!1)}function BE(n,t,e){let i;if(Yo(n)){const r=me(n);return qo(r)||Zp(r)}if(Kp(n))i=()=>me(n.useValue);else if(function kE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Fp(n.deps||[]));else if(function NE(n){return!(!n||!n.useExisting)}(n))i=()=>G(me(n.useExisting));else{const r=me(n&&(n.useClass||n.provide));if(!function aL(n){return!!n.deps}(n))return qo(r)||Zp(r);i=()=>new r(...Fp(n.deps))}return i}function Js(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function cL(n){return!!n.\u0275providers}function Xp(n,t){for(const e of n)Array.isArray(e)?Xp(e,t):cL(e)?Xp(e.\u0275providers,t):t(e)}class jE{}class fL{resolveComponentFactory(t){throw function hL(n){const t=Error(`No component factory found for ${rt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Fl=(()=>{class n{}return n.NULL=new fL,n})();function pL(){return ea(Zt(),O())}function ea(n,t){return new kt(mi(n,t))}let kt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=pL,n})();function gL(n){return n instanceof kt?n.nativeElement:n}class Nl{}let ki=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mL(){const n=O(),e=Qn(Zt().index,n);return(Fn(e)?e:n)[11]}(),n})(),_L=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class kl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vL=new kl("14.2.2"),Qp={};function ig(n){return n.ngOriginalError}class ta{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&ig(t);for(;e&&ig(e);)e=ig(e);return e||null}}const rg=new Map;let OL=0;const sg="__ngContext__";function pn(n,t){Fn(t)?(n[sg]=t[20],function RL(n){rg.set(n[20],n)}(t)):n[sg]=t}function xr(n){return n instanceof Function?n():n}var kn=(()=>((kn=kn||{})[kn.Important=1]="Important",kn[kn.DashCase=2]="DashCase",kn))();function lg(n,t){return undefined(n,t)}function Bl(n){const t=n[3];return Fi(t)?t[3]:t}function ug(n){return t0(n[13])}function cg(n){return t0(n[4])}function t0(n){for(;null!==n&&!Fi(n);)n=n[4];return n}function ia(n,t,e,i,r){if(null!=i){let o,s=!1;Fi(i)?o=i:Fn(i)&&(s=!0,i=i[0]);const a=Ht(i);0===n&&null!==e?null==r?l0(t,e,a):Zo(t,e,a,r||null,!0):1===n&&null!==e?Zo(t,e,a,r||null,!0):2===n?function g0(n,t,e){const i=rd(n,t);i&&function oF(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function lF(n,t,e,i,r){const o=e[7];o!==Ht(e)&&ia(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];jl(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function hg(n,t,e){return n.createElement(t,e)}function r0(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,mp(r,-1)),e.splice(i,1)}function fg(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&r0(r,i),t>0&&(n[e-1][4]=i[4]);const o=qc(n,10+t);!function XL(n,t){jl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function o0(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&jl(n,t,e,3,null,null),function eF(n){let t=n[13];if(!t)return pg(n[1],n);for(;t;){let e=null;if(Fn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Fn(t)&&pg(t[1],t),t=t[3];null===t&&(t=n),Fn(t)&&pg(t[1],t),e=t&&t[4]}t=e}}(t)}}function pg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function rF(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof _l)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function iF(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Ht(t[s]),l=i[r=e[o+2]],u=e[o+3];"boolean"==typeof u?a.removeEventListener(e[o],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Fi(t[3])){e!==t[3]&&r0(e,t);const i=t[19];null!==i&&i.detachView(n)}!function PL(n){rg.delete(n[20])}(t)}}function s0(n,t,e){return function a0(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Pi.None||r===Pi.Emulated)return null}return mi(i,e)}(n,t.parent,e)}function Zo(n,t,e,i,r){n.insertBefore(t,e,i,r)}function l0(n,t,e){n.appendChild(t,e)}function u0(n,t,e,i,r){null!==i?Zo(n,t,e,i,r):l0(n,t,e)}function rd(n,t){return n.parentNode(t)}function c0(n,t,e){return h0(n,t,e)}let h0=function d0(n,t,e){return 40&n.type?mi(n,e):null};function od(n,t,e,i){const r=s0(n,i,t),o=t[11],a=c0(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)u0(o,r,e[l],a,!1);else u0(o,r,e,a,!1)}function sd(n,t){if(null!==t){const e=t.type;if(3&e)return mi(t,n);if(4&e)return mg(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return sd(n,i);{const r=n[t.index];return Fi(r)?mg(-1,r):Ht(r)}}if(32&e)return lg(t,n)()||Ht(n[t.index]);{const i=p0(n,t);return null!==i?Array.isArray(i)?i[0]:sd(Bl(n[16]),i):sd(n,t.next)}}return null}function p0(n,t){return null!==t?n[16][6].projection[t.projection]:null}function mg(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return sd(i,r)}return t[7]}function _g(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&pn(Ht(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)_g(n,t,e.child,i,r,o,!1),ia(t,n,r,a,o);else if(32&l){const u=lg(e,i);let c;for(;c=u();)ia(t,n,r,c,o);ia(t,n,r,a,o)}else 16&l?m0(n,t,i,e,r,o):ia(t,n,r,a,o);e=s?e.projectionNext:e.next}}function jl(n,t,e,i,r,o){_g(e,i,n.firstChild,t,r,o,!1)}function m0(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ia(t,n,r,l[u],o);else _g(n,t,l,s[3],r,o,!0)}function _0(n,t,e){n.setAttribute(t,"style",e)}function vg(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function v0(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const y0="ng-template";function cF(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==v0(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function C0(n){return 4===n.type&&n.value!==y0}function dF(n,t,e){return t===(4!==n.type||e?n.value:y0)}function hF(n,t,e){let i=4;const r=n.attrs||[],o=function gF(n){for(let t=0;t<n.length;t++)if(WC(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!dF(n,l,e)||""===l&&1===t.length){if(Vi(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!cF(n.attrs,u,e)){if(Vi(i))return!1;s=!0}continue}const d=fF(8&i?"class":l,r,C0(n),e);if(-1===d){if(Vi(i))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==v0(f,u,0)||2&i&&u!==h){if(Vi(i))return!1;s=!0}}}}else{if(!s&&!Vi(i)&&!Vi(l))return!1;if(s&&Vi(l))continue;s=!1,i=l|1&i}}return Vi(i)||s}function Vi(n){return 0==(1&n)}function fF(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function mF(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function E0(n,t,e=!1){for(let i=0;i<t.length;i++)if(hF(n,t[i],e))return!0;return!1}function _F(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function w0(n,t){return n?":not("+t.trim()+")":t}function vF(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Vi(s)&&(t+=w0(o,r),r=""),i=s,o=o||!Vi(i);e++}return""!==r&&(t+=w0(o,r)),t}const Ee={};function S(n){T0(je(),O(),Dn()+n,!1)}function T0(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&jc(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Hc(t,o,0,e)}lo(e)}function I0(n,t=null,e=null,i){const r=M0(n,t,e,i);return r.resolveInjectorInitializers(),r}function M0(n,t=null,e=null,i,r=new Set){const o=[e||ze,tL(n)];return i=i||("object"==typeof n?void 0:rt(n)),new VE(o,t||id(),i||null,r)}let Sn=(()=>{class n{static create(e,i){if(Array.isArray(e))return I0({name:""},i,e,"");{var r;const o=null!==(r=e.name)&&void 0!==r?r:"";return I0({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=bl,n.NULL=new PE,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>G(xE)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,t=fe.Default){const e=O();return null===e?G(n,t):eE(Zt(),e,me(n),t)}function Tg(){throw new Error("invalid")}function ld(n,t){return n<<17|t<<2}function Bi(n){return n>>17&32767}function Dg(n){return 2|n}function Rr(n){return(131068&n)>>2}function bg(n,t){return-131069&n|t<<2}function Sg(n){return 1|n}function z0(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Ep(r),s.contentQueries(2,t[o],o)}}}function dd(n,t,e,i,r,o,s,a,l,u,c){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==c||n&&1024&n[2])&&(d[2]|=1024),RC(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=u||n&&n[9]||null,d[6]=o,d[20]=function xL(){return OL++}(),d[21]=c,d[16]=2==t.type?n[16]:d,d}function oa(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Lg(n,t,e,i,r){const o=FC(),s=_p(),l=n.data[t]=function eN(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function RR(){return ye.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function ml(){const n=ye.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ir(o,!0),o}function sa(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Fg(n,t,e){wp(t);try{const i=n.viewQuery;null!==i&&Gg(1,i,e);const r=n.template;null!==r&&W0(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&z0(n,t),n.staticViewQueries&&Gg(2,n.viewQuery,e);const o=n.components;null!==o&&function XF(n,t){for(let e=0;e<t.length;e++)mN(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Tp()}}function hd(n,t,e,i){const r=t[2];if(128!=(128&r)){wp(t);try{RC(t),function kC(n){return ye.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&W0(n,t,e,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&jc(t,u,null)}else{const u=n.preOrderHooks;null!==u&&Hc(t,u,0,null),Dp(t,0)}if(function pN(n){for(let t=ug(n);null!==t;t=cg(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(512&r[2])&&mp(o,1),r[2]|=512}}}(t),function fN(n){for(let t=ug(n);null!==t;t=cg(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Vc(i)&&hd(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&z0(n,t),s){const u=n.contentCheckHooks;null!==u&&jc(t,u)}else{const u=n.contentHooks;null!==u&&Hc(t,u,1),Dp(t,1)}!function YF(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)lo(~r);else{const o=r,s=e[++i],a=e[++i];PR(s,o),a(2,t[o])}}}finally{lo(-1)}}(n,t);const a=n.components;null!==a&&function ZF(n,t){for(let e=0;e<t.length;e++)gN(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Gg(2,l,i),s){const u=n.viewCheckHooks;null!==u&&jc(t,u)}else{const u=n.viewHooks;null!==u&&Hc(t,u,2),Dp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,mp(t[3],-1))}finally{Tp()}}}function W0(n,t,e,i,r){const o=Dn(),s=2&i;try{lo(-1),s&&t.length>22&&T0(n,t,22,!1),e(i,r)}finally{lo(o)}}function K0(n,t,e){if(cp(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Ng(n,t,e){!LC()||(function oN(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||yl(e,t),pn(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=Ni(l);u&&cN(t,e,l);const c=Cl(t,n,a,e);pn(c,t),null!==s&&dN(0,a-r,c,l,0,s),u&&(Qn(e.index,t)[8]=c)}}(n,t,e,mi(e,t)),128==(128&e.flags)&&function sN(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function LR(){return ye.lFrame.currentDirectiveIndex}();try{lo(o);for(let a=i;a<r;a++){const l=n.data[a],u=t[a];yp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ew(l,u)}}finally{lo(-1),yp(s)}}(n,t,e))}function kg(n,t,e=mi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function q0(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Vg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Vg(n,t,e,i,r,o,s,a,l,u){const c=22+i,d=c+r,h=function QF(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ee);return e}(c,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Y0(n,t,e,i){const r=ow(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&sw(n).push(i,r.length-1))}function Z0(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function X0(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let u=t.directiveStart;u<i;u++){const c=r[u],d=c.inputs,h=null===o||C0(t)?null:hN(d,o);s.push(h),a=Z0(d,u,a),l=Z0(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function Q0(n,t){const e=Qn(t,n);16&e[2]||(e[2]|=32)}function Bg(n,t,e,i){let r=!1;if(LC()){const o=function aN(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];E0(e,s.selectors,!1)&&(r||(r=[]),Wc(yl(e,t),n,s.type),Ni(s)?(tw(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,nw(e,n.data.length,o.length);for(let c=0;c<o.length;c++){const d=o[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=sa(n,t,o.length,null);for(let c=0;c<o.length;c++){const d=o[c];e.mergedAttrs=Gc(e.mergedAttrs,d.hostAttrs),iw(n,e,t,u,d),uN(u,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),u++}X0(n,e)}s&&function lN(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new I(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Gc(e.mergedAttrs,e.attrs),r}function J0(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function rN(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function ew(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function tw(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function uN(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ni(t)&&(e[""]=n)}}function nw(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function iw(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=qo(r.type)),s=new _l(o,Ni(r),w);n.blueprint[i]=s,e[i]=s,J0(n,t,0,i,sa(n,e,r.hostVars,Ee),r)}function cN(n,t,e){const i=mi(t,n),r=q0(e),o=n[10],s=fd(n,dd(n,r,null,e.onPush?32:16,i,t,o,o.createRenderer(i,e),null,null,null));n[t.index]=s}function or(n,t,e,i,r,o){const s=mi(n,t);!function jg(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Ce(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],s,o,n.value,e,i,r)}function dN(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],d=s[l++];null!==a?i.setInput(e,d,u,c):e[c]=d}}}function hN(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function rw(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function gN(n,t){const e=Qn(t,n);if(Vc(e)){const i=e[1];48&e[2]?hd(i,e,i.template,e[8]):e[5]>0&&Hg(e)}}function Hg(n){for(let i=ug(n);null!==i;i=cg(i))for(let r=10;r<i.length;r++){const o=i[r];if(Vc(o))if(512&o[2]){const s=o[1];hd(s,o,s.template,o[8])}else o[5]>0&&Hg(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Qn(e[i],n);Vc(r)&&r[5]>0&&Hg(r)}}function mN(n,t){const e=Qn(t,n),i=e[1];(function _N(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Fg(i,e,e[8])}function fd(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Ug(n){for(;n;){n[2]|=32;const t=Bl(n);if(hR(n)&&!t)return n;n=t}return null}function pd(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{hd(n,t,n.template,e)}catch(s){throw i&&lw(t,s),s}finally{r.end&&r.end()}}function Gg(n,t,e){Ep(0),t(n,e)}function ow(n){return n[7]||(n[7]=[])}function sw(n){return n.cleanup||(n.cleanup=[])}function lw(n,t){const e=n[9],i=e?e.get(ta,null):null;i&&i.handleError(t)}function $g(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],u=n.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Pr(n,t,e){const i=kc(t,n);!function n0(n,t,e){n.setValue(t,e)}(n[11],i,e)}function gd(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=np(r,a):2==o&&(i=np(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function md(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Ht(o)),Fi(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&md(l[1],l,u,i)}const s=e.type;if(8&s)md(n,t,e.child,i);else if(32&s){const a=lg(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=p0(t,e);if(Array.isArray(a))i.push(...a);else{const l=Bl(t[16]);md(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Hl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return md(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Fi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(fg(t,i),qc(e,i))}this._attachedToViewContainer=!1}o0(this._lView[1],this._lView)}onDestroy(t){Y0(this._lView[1],this._lView,null,t)}markForCheck(){Ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JL(n,t){jl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t}}class vN extends Hl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;pd(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class zg extends Fl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xe(t);return new Ul(e,this.ngModule)}}function uw(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class CN{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,Qp,i);return r!==Qp||e===Qp?r:this.parentInjector.get(t,e,i)}}class Ul extends jE{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function yF(n){return n.map(vF).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return uw(this.componentDef.inputs)}get outputs(){return uw(this.componentDef.outputs)}create(t,e,i,r){var o;let s=(r=r||this.ngModule)instanceof ho?r:null===(o=r)||void 0===o?void 0:o.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new CN(t,s):t,l=a.get(Nl,null);if(null===l)throw new I(407,!1);const u=a.get(_L,null),c=l.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=i?function JF(n,t,e){return n.selectRootElement(t,e===Pi.ShadowDom)}(c,i,this.componentDef.encapsulation):hg(l.createRenderer(null,this.componentDef),d,function yN(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(d)),f=this.componentDef.onPush?288:272,p=Vg(0,null,null,1,0,null,null,null,null,null),g=dd(null,p,null,f,null,null,l,c,u,a,null);let m,_;wp(g);try{const y=function TN(n,t,e,i,r,o){const s=e[1];e[22]=n;const l=oa(s,22,2,"#host",null),u=l.mergedAttrs=t.hostAttrs;null!==u&&(gd(l,u,!0),null!==n&&(Uc(r,n,u),null!==l.classes&&vg(r,n,l.classes),null!==l.styles&&_0(r,n,l.styles)));const c=i.createRenderer(n,t),d=dd(e,q0(t),null,t.onPush?32:16,e[22],l,i,c,o||null,null,null);return s.firstCreatePass&&(Wc(yl(l,e),s,t.type),tw(s,l),nw(l,e.length,1)),fd(e,d),e[22]=d}(h,this.componentDef,g,l,c);if(h)if(i)Uc(c,h,["ng-version",vL.full]);else{const{attrs:v,classes:C}=function CF(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Vi(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);v&&Uc(c,h,v),C&&C.length>0&&vg(c,h,C.join(" "))}if(_=gp(p,22),void 0!==e){const v=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const E=e[C];v.push(null!=E?Array.from(E):null)}}m=function DN(n,t,e,i){const r=e[1],o=function iN(n,t,e){const i=Zt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),iw(n,i,t,sa(n,t,1,null),e),X0(n,i));const r=Cl(t,n,i.directiveStart,i);pn(r,t);const o=mi(i,t);return o&&pn(o,t),r}(r,e,t);if(n[8]=e[8]=o,null!==i)for(const a of i)a(o,t);if(t.contentQueries){const a=Zt();t.contentQueries(1,o,a.directiveStart)}const s=Zt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(lo(s.index),J0(e[1],s,0,s.directiveStart,s.directiveEnd,t),ew(t,o)),o}(y,this.componentDef,g,[bN]),Fg(p,g,null)}finally{Tp()}return new wN(this.componentType,m,ea(_,g),g,_)}}class wN extends class dL{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new vN(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const o=this._rootLView;$g(o[1],o,r,t,e),Q0(o,this._tNode.index)}}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function bN(){const n=Zt();Bc(O()[1],n)}function Qe(n){let t=function cw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ni(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Wg(n.inputs),s.declaredInputs=Wg(n.declaredInputs),s.outputs=Wg(n.outputs);const a=r.hostBindings;a&&AN(n,a);const l=r.viewQuery,u=r.contentQueries;if(l&&IN(n,l),u&&MN(n,u),tp(n.inputs,r.inputs),tp(n.declaredInputs,r.declaredInputs),tp(n.outputs,r.outputs),Ni(r)&&r.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function SN(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Gc(r.hostAttrs,e=Gc(e,r.hostAttrs))}}(i)}function Wg(n){return n===Fs?{}:n===ze?[]:n}function IN(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function MN(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function AN(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let _d=null;function Xo(){if(!_d){const n=ot.Symbol;if(n&&n.iterator)_d=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(_d=i)}}}return _d}function Gl(n){return!!Kg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xo()in n)}function Kg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sr(n,t,e){return n[t]=e}function $l(n,t){return n[t]}function gn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Qo(n,t,e,i){const r=gn(n,t,e);return gn(n,t+1,i)||r}function _i(n,t,e,i,r,o){const s=Qo(n,t,e,i);return Qo(n,t+2,r,o)||s}function st(n,t,e,i){const r=O();return gn(r,Hs(),t)&&(je(),or(Rt(),r,n,t,e,i)),st}function ua(n,t,e,i,r,o){const a=Qo(n,function Ir(){return ye.lFrame.bindingIndex}(),e,r);return Mr(2),a?t+Ce(e)+i+Ce(r)+o:Ee}function B(n,t,e,i,r,o,s,a){const l=O(),u=je(),c=n+22,d=u.firstCreatePass?function kN(n,t,e,i,r,o,s,a,l){const u=t.consts,c=oa(t,n,4,s||null,ao(u,a));Bg(t,e,c,ao(u,l)),Bc(t,c);const d=c.tViews=Vg(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,e,i,r,o,s):u.data[c];ir(d,!1);const h=l[11].createComment("");od(u,l,h,d),pn(h,l),fd(l,l[c]=rw(h,l,h,d)),Nc(d)&&Ng(u,l,d),null!=s&&kg(l,d,a)}function In(n){return js(function xR(){return ye.lFrame.contextLView}(),22+n)}function D(n,t,e){const i=O();return gn(i,Hs(),t)&&function ti(n,t,e,i,r,o,s,a){const l=mi(t,e);let c,u=t.inputs;!a&&null!=u&&(c=u[i])?($g(n,e,c,i,r),Fc(t)&&Q0(e,t.index)):3&t.type&&(i=function tN(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}(je(),Rt(),i,n,t,i[11],e,!1),D}function qg(n,t,e,i,r){const s=r?"class":"style";$g(n,e,t.inputs[s],s,i)}function F(n,t,e,i){const r=O(),o=je(),s=22+n,a=r[11],l=r[s]=hg(a,t,function UR(){return ye.lFrame.currentNamespace}()),u=o.firstCreatePass?function BN(n,t,e,i,r,o,s){const a=t.consts,u=oa(t,n,2,r,ao(a,o));return Bg(t,e,u,ao(a,s)),null!==u.attrs&&gd(u,u.attrs,!1),null!==u.mergedAttrs&&gd(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,r,0,t,e,i):o.data[s];ir(u,!0);const c=u.mergedAttrs;null!==c&&Uc(a,l,c);const d=u.classes;null!==d&&vg(a,l,d);const h=u.styles;return null!==h&&_0(a,l,h),64!=(64&u.flags)&&od(o,r,l,u),0===function SR(){return ye.lFrame.elementDepthCount}()&&pn(l,r),function IR(){ye.lFrame.elementDepthCount++}(),Nc(u)&&(Ng(o,r,u),K0(o,u,r)),null!==i&&kg(r,u),F}function V(){let n=Zt();_p()?vp():(n=n.parent,ir(n,!1));const t=n;!function MR(){ye.lFrame.elementDepthCount--}();const e=je();return e.firstCreatePass&&(Bc(e,n),cp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function KR(n){return 0!=(16&n.flags)}(t)&&qg(e,t,O(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qR(n){return 0!=(32&n.flags)}(t)&&qg(e,t,O(),t.stylesWithoutHost,!1),V}function vt(n,t,e,i){return F(n,t,e,i),V(),vt}function Gt(n,t,e){const i=O(),r=je(),o=n+22,s=r.firstCreatePass?function jN(n,t,e,i,r){const o=t.consts,s=ao(o,i),a=oa(t,n,8,"ng-container",s);return null!==s&&gd(a,s,!0),Bg(t,e,a,ao(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];ir(s,!0);const a=i[o]=i[11].createComment("");return od(r,i,a,s),pn(a,i),Nc(s)&&(Ng(r,i,s),K0(r,s,i)),null!=e&&kg(i,s),Gt}function $t(){let n=Zt();const t=je();return _p()?vp():(n=n.parent,ir(n,!1)),t.firstCreatePass&&(Bc(t,n),cp(n)&&t.queries.elementEnd(n)),$t}function yt(n,t,e){return Gt(n,t,e),$t(),yt}function zt(){return O()}function zl(n){return!!n&&"function"==typeof n.then}const Yg=function Cw(n){return!!n&&"function"==typeof n.subscribe};function ie(n,t,e,i){const r=O(),o=je(),s=Zt();return function ww(n,t,e,i,r,o,s,a){const l=Nc(i),c=n.firstCreatePass&&sw(n),d=t[8],h=ow(t);let f=!0;if(3&i.type||a){const m=mi(i,t),_=a?a(m):m,y=h.length,v=a?E=>a(Ht(E[i.index])):i.index;let C=null;if(!a&&l&&(C=function HN(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,f=!1;else{o=Dw(i,t,d,o,!1);const E=e.listen(_,r,o);h.push(o,E),c&&c.push(r,v,y,y+1)}}else o=Dw(i,t,d,o,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[r])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const M=t[g[_]][g[_+1]].subscribe(o),x=h.length;h.push(o,M),c&&c.push(r,i.index,x,-(x+1))}}}(o,r,r[11],s,n,t,0,i),ie}function Tw(n,t,e,i){try{return!1!==e(i)}catch(r){return lw(n,r),!1}}function Dw(n,t,e,i,r){return function o(s){if(s===Function)return i;Ug(2&n.flags?Qn(n.index,t):t);let l=Tw(t,0,i,s),u=o.__ngNextListenerFn__;for(;u;)l=Tw(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function A(n=1){return function NR(n){return(ye.lFrame.contextLView=function kR(n,t){for(;n>0;)t=t[15],n--;return t}(n,ye.lFrame.contextLView))[8]}(n)}function UN(n,t){let e=null;const i=function pF(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?E0(n,o,!0):_F(i,o))return r}else e=r}return e}function ma(n){const t=O()[16][6];if(!t.projection){const i=t.projection=Dl(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?UN(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Jo(n,t=0,e){const i=O(),r=je(),o=oa(r,22+n,16,null,e||null);null===o.projection&&(o.projection=t),vp(),64!=(64&o.flags)&&function aF(n,t,e){m0(t[11],0,t,e,s0(n,e,t),c0(e.parent||t[6],e,t))}(r,i,o)}function Lw(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Bi(o):Rr(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];zN(n[a],t)&&(l=!0,n[a+1]=i?Sg(c):Dg(c)),a=i?Bi(c):Rr(c)}l&&(n[e+1]=i?Dg(o):Sg(o))}function zN(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ys(n,t)>=0}const Qt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fw(n){return n.substring(Qt.key,Qt.keyEnd)}function WN(n){return n.substring(Qt.value,Qt.valueEnd)}function Nw(n,t){const e=Qt.textEnd;return e===t?-1:(t=Qt.keyEnd=function YN(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Qt.key=t,e),_a(n,t,e))}function kw(n,t){const e=Qt.textEnd;let i=Qt.key=_a(n,t,e);return e===i?-1:(i=Qt.keyEnd=function ZN(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=Bw(n,i,e),i=Qt.value=_a(n,i,e),i=Qt.valueEnd=function XN(n,t,e){let i=-1,r=-1,o=-1,s=t,a=s;for(;s<e;){const l=n.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=jw(n,l,s,e):t===s-4&&85===o&&82===r&&76===i&&40===l?a=s=jw(n,41,s,e):l>32&&(a=s),o=r,r=i,i=-33&l}return a}(n,i,e),Bw(n,i,e))}function Vw(n){Qt.key=0,Qt.keyEnd=0,Qt.value=0,Qt.valueEnd=0,Qt.textEnd=n.length}function _a(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Bw(n,t,e,i){return(t=_a(n,t,e))<e&&t++,t}function jw(n,t,e,i){let r=-1,o=e;for(;o<i;){const s=n.charCodeAt(o++);if(s==t&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Xg(n,t,e){return ji(n,t,e,!1),Xg}function va(n,t){return ji(n,t,null,!0),va}function vi(n){Hi(Gw,QN,n,!1)}function QN(n,t){for(let e=function qN(n){return Vw(n),kw(n,_a(n,0,Qt.textEnd))}(t);e>=0;e=kw(t,e))Gw(n,Fw(t),WN(t))}function Vn(n){Hi(ei,ar,n,!0)}function ar(n,t){for(let e=function KN(n){return Vw(n),Nw(n,_a(n,0,Qt.textEnd))}(t);e>=0;e=Nw(t,e))ei(n,Fw(t),!0)}function ji(n,t,e,i){const r=O(),o=je(),s=Mr(2);o.firstUpdatePass&&Uw(o,n,s,i),t!==Ee&&gn(r,s,t)&&$w(o,o.data[Dn()],r,r[11],n,r[s+1]=function ok(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=rt(co(n)))),n}(t,e),i,s)}function Hi(n,t,e,i){const r=je(),o=Mr(2);r.firstUpdatePass&&Uw(r,null,o,i);const s=O();if(e!==Ee&&gn(s,o,e)){const a=r.data[Dn()];if(Ww(a,i)&&!Hw(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=np(l,e||"")),qg(r,a,s,e,i)}else!function rk(n,t,e,i,r,o,s,a){r===Ee&&(r=ze);let l=0,u=0,c=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const h=l<r.length?r[l+1]:void 0,f=u<o.length?o[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&$w(n,t,e,i,p,g,s,a),c=l<r.length?r[l]:null,d=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function ik(n,t,e){if(null==e||""===e)return ze;const i=[],r=co(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function Hw(n,t){return t>=n.expandoStartIndex}function Uw(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Dn()],s=Hw(n,e);Ww(o,i)&&null===t&&!s&&(t=!1),t=function JN(n,t,e,i){const r=function Cp(n){const t=ye.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Wl(e=Qg(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=Qg(r,n,t,e,i),null===o){let l=function ek(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Rr(i))return n[Bi(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Qg(null,n,t,l[1],i),l=Wl(l,t.attrs,i),function tk(n,t,e,i){n[Bi(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function nk(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Wl(i,n[o].hostAttrs,e);return Wl(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function GN(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Bi(s),l=Rr(s);n[i]=e;let c,u=!1;if(Array.isArray(e)){const d=e;c=d[1],(null===c||Ys(d,c)>0)&&(u=!0)}else c=e;if(r)if(0!==l){const h=Bi(n[a+1]);n[i+1]=ld(h,a),0!==h&&(n[h+1]=bg(n[h+1],i)),n[a+1]=function BF(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=ld(a,0),0!==a&&(n[a+1]=bg(n[a+1],i)),a=i;else n[i+1]=ld(l,0),0===a?a=i:n[l+1]=bg(n[l+1],i),l=i;u&&(n[i+1]=Dg(n[i+1])),Lw(n,c,i,!0),Lw(n,c,i,!1),function $N(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ys(o,t)>=0&&(e[i+1]=Sg(e[i+1]))}(t,c,n,i,o),s=ld(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function Qg(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Wl(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Wl(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ei(n,s,!!e||t[++o]))}return void 0===n?null:n}function Gw(n,t,e){ei(n,t,co(e))}function $w(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,u=l[a+1];yd(function k0(n){return 1==(1&n)}(u)?zw(l,t,e,r,Rr(u),s):void 0)||(yd(o)||function N0(n){return 2==(2&n)}(u)&&(o=zw(l,null,e,r,a,s)),function uF(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:kn.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=kn.Important),n.setStyle(e,i,r,o))}}(i,s,kc(Dn(),e),r,o))}function zw(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=e[r+1];h===Ee&&(h=d?ze:void 0);let f=d?Rp(h,i):c===i?h:void 0;if(u&&!yd(f)&&(f=Rp(l,i)),yd(f)&&(a=f,s))return a;const p=n[r+1];r=s?Bi(p):Rr(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Rp(l,i))}return a}function yd(n){return void 0!==n}function Ww(n,t){return 0!=(n.flags&(t?16:32))}function tt(n,t=""){const e=O(),i=je(),r=n+22,o=i.firstCreatePass?oa(i,r,1,t,null):i.data[r],s=e[r]=function dg(n,t){return n.createText(t)}(e[11],t);od(i,e,s,o),ir(o,!1)}function Ui(n){return Bn("",n,""),Ui}function Bn(n,t,e){const i=O(),r=function la(n,t,e,i){return gn(n,Hs(),e)?t+Ce(e)+i:Ee}(i,n,t,e);return r!==Ee&&Pr(i,Dn(),r),Bn}function Jg(n,t,e,i,r){const o=O(),s=ua(o,n,t,e,i,r);return s!==Ee&&Pr(o,Dn(),s),Jg}const es=void 0;var bk=["en",[["a","p"],["AM","PM"],es],[["AM","PM"],es,es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",es,"{1} 'at' {0}",es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dk(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ya={};function Mn(n){const t=function Sk(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=hT(t);if(e)return e;const i=t.split("-")[0];if(e=hT(i),e)return e;if("en"===i)return bk;throw new I(701,!1)}function hT(n){return n in ya||(ya[n]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[n]),ya[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const Ca="en-US";let fT=Ca;function nm(n,t,e,i,r){if(n=me(n),Array.isArray(n))for(let o=0;o<n.length;o++)nm(n[o],t,e,i,r);else{const o=je(),s=O();let a=Yo(n)?n:me(n.provide),l=BE(n);const u=Zt(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(Yo(n)||!n.multi){const f=new _l(l,r,w),p=rm(a,t,r?c:c+h,d);-1===p?(Wc(yl(u,s),o,a),im(o,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=rm(a,t,c+h,d),p=rm(a,t,c,c+h),g=f>=0&&e[f],m=p>=0&&e[p];if(r&&!m||!r&&!g){Wc(yl(u,s),o,a);const _=function TV(n,t,e,i,r){const o=new _l(n,e,w);return o.multi=[],o.index=t,o.componentProviders=0,VT(o,r,i&&!e),o}(r?wV:EV,e.length,r,i,l);!r&&m&&(e[p].providerFactory=_),im(o,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(_),s.push(_)}else im(o,n,f>-1?f:p,VT(e[r?p:f],l,!r&&i));!r&&i&&m&&e[p].componentProviders++}}}function im(n,t,e,i){const r=Yo(t),o=function iL(n){return!!n.useClass}(t);if(r||o){const l=(o?me(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const c=u.indexOf(e);-1===c?u.push(e,[i,l]):u[c+1].push(i,l)}else u.push(e,l)}}}function VT(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function rm(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function EV(n,t,e,i){return om(this.multi,[])}function wV(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Cl(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),om(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],om(r,o);return o}function om(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function at(n,t=[]){return e=>{e.providersResolver=(i,r)=>function CV(n,t,e){const i=je();if(i.firstCreatePass){const r=Ni(n);nm(e,i.data,i.blueprint,r,!0),nm(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class ts{}class BT{}class jT extends ts{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zg(this);const i=Zn(t);this._bootstrapComponents=xr(i.bootstrap),this._r3Injector=M0(t,e,[{provide:ts,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sm extends BT{constructor(t){super(),this.moduleType=t}create(t){return new jT(this.moduleType,t)}}class bV extends ts{constructor(t,e,i){super(),this.componentFactoryResolver=new zg(this),this.instance=null;const r=new VE([...t,{provide:ts,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],e||id(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Dd(n,t,e=null){return new bV(n,t,e).injector}let SV=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=LE(0,e.type),r=i.length>0?Dd([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(G(ho))}),n})();function HT(n){n.getStandaloneInjector=t=>t.get(SV).getOrCreateStandaloneInjector(n)}function lm(n,t,e){const i=Tn()+n,r=O();return r[i]===Ee?sr(r,i,e?t.call(e):t()):$l(r,i)}function nt(n,t,e,i){return function YT(n,t,e,i,r,o){const s=t+e;return gn(n,s,r)?sr(n,s+1,o?i.call(o,r):i(r)):Ql(n,s+1)}(O(),Tn(),n,t,e,i)}function jn(n,t,e,i,r){return ZT(O(),Tn(),n,t,e,i,r)}function ns(n,t,e,i,r,o){return function XT(n,t,e,i,r,o,s,a){const l=t+e;return function vd(n,t,e,i,r){const o=Qo(n,t,e,i);return gn(n,t+2,r)||o}(n,l,r,o,s)?sr(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Ql(n,l+3)}(O(),Tn(),n,t,e,i,r,o)}function bd(n,t,e,i,r,o,s){return function QT(n,t,e,i,r,o,s,a,l){const u=t+e;return _i(n,u,r,o,s,a)?sr(n,u+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Ql(n,u+4)}(O(),Tn(),n,t,e,i,r,o,s)}function Ql(n,t){const e=n[t];return e===Ee?void 0:e}function ZT(n,t,e,i,r,o,s){const a=t+e;return Qo(n,a,r,o)?sr(n,a+2,s?i.call(s,r,o):i(r,o)):Ql(n,a+2)}function um(n){return t=>{setTimeout(n,void 0,t)}}const pe=class $V extends Ve{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){var a,l,u;const d=t;r=null===(a=d.next)||void 0===a?void 0:a.bind(d),o=null===(l=d.error)||void 0===l?void 0:l.bind(d),s=null===(u=d.complete)||void 0===u?void 0:u.bind(d)}this.__isAsync&&(o=um(o),r&&(r=um(r)),s&&(s=um(s)));const c=super.subscribe({next:r,error:o,complete:s});return t instanceof Yt&&t.add(c),c}};function zV(){return this._results[Xo()]()}class cm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Xo(),i=cm.prototype;i[e]||(i[e]=zV)}get changes(){return this._changes||(this._changes=new pe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Jn(t);(this._changesDetected=!function rP(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=qV,n})();const WV=lr,KV=class extends WV{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=dd(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),Fg(i,r,t),new Hl(r)}};function qV(){return Sd(Zt(),O())}function Sd(n,t){return 4&n.type?new KV(t,n,ea(n,t)):null}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=YV,n})();function YV(){return rD(Zt(),O())}const ZV=Gi,nD=class extends ZV{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const t=zc(this._hostTNode,this._hostLView);if(YC(t)){const e=Gs(t,this._hostLView),i=Us(t);return new $s(e[1].data[i+8],e)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=iD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,r),s}createComponent(t,e,i,r,o){const s=t&&!function Tl(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Ul(Xe(t)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?u:this.parentInjector).get(ho,null);h&&(o=h)}const c=l.create(u,r,void 0,o);return this.insert(c.hostView,a),c}insert(t,e){const i=t._lView,r=i[1];if(function bR(n){return Fi(n[3])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=i[3],h=new nD(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function tF(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],sE(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function nF(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,s,o);const a=mg(o,s),l=i[11],u=rd(l,s[7]);return null!==u&&function QL(n,t,e,i,r,o){i[0]=r,i[6]=t,jl(n,i,e,1,r,o)}(r,s[6],l,i,u,a),t.attachToViewContainerRef(),sE(dm(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=iD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=fg(this._lContainer,e);i&&(qc(dm(this._lContainer),e),o0(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=fg(this._lContainer,e);return i&&null!=qc(dm(this._lContainer),e)?new Hl(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function iD(n){return n[8]}function dm(n){return n[8]||(n[8]=[])}function rD(n,t){let e;const i=t[n.index];if(Fi(i))e=i;else{let r;if(8&n.type)r=Ht(i);else{const o=t[11];r=o.createComment("");const s=mi(n,t);Zo(o,rd(o,s),r,function sF(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=rw(i,t,r,n),fd(t,e)}return new nD(e,n,t)}class hm{constructor(t){this.queryList=t,this.matches=null}clone(){return new hm(this.queryList)}setDirty(){this.queryList.setDirty()}}class fm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new fm(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==uD(t,e).matches&&this.queries[e].setDirty()}}class oD{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class pm{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new pm(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gm{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,JV(e,o)),this.matchTNodeWithReadOption(t,e,Kc(e,t,o,!1,!1))}else i===lr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Kc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===kt||r===Gi||r===lr&&4&e.type)this.addMatch(e.index,-2);else{const o=Kc(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function JV(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function t2(n,t,e,i){return-1===e?function e2(n,t){return 11&n.type?ea(n,t):4&n.type?Sd(n,t):null}(t,n):-2===e?function n2(n,t,e){return e===kt?ea(t,n):e===lr?Sd(t,n):e===Gi?rD(t,n):void 0}(n,t,i):Cl(n,n[1],e,t)}function sD(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:t2(t,o[u],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function mm(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=sD(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&mm(h[1],h,u,i)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];mm(f[1],f,u,i)}}}}}return i}function Lt(n){const t=O(),e=je(),i=BC();Ep(i+1);const r=uD(e,i);if(n.dirty&&function DR(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?mm(e,t,i,[]):sD(e,t,r,i);n.reset(o,gL),n.notifyOnChanges()}return!0}return!1}function ni(n,t,e){const i=je();i.firstCreatePass&&(lD(i,new oD(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),aD(i,O(),t)}function ur(n,t,e,i){const r=je();if(r.firstCreatePass){const o=Zt();lD(r,new oD(t,e,i),o.index),function o2(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}aD(r,O(),e)}function Ft(){return function r2(n,t){return n[19].queries[t].queryList}(O(),BC())}function aD(n,t,e){const i=new cm(4==(4&e));Y0(n,t,i,i.destroy),null===t[19]&&(t[19]=new fm),t[19].queries.push(new hm(i))}function lD(n,t,e){null===n.queries&&(n.queries=new pm),n.queries.track(new gm(t,e))}function uD(n,t){return n.queries.getByIndex(t)}function Lr(n,t){return Sd(n,t)}function Md(...n){}const tu=new le("Application Initializer");let Ad=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Md,this.reject=Md,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(zl(o))e.push(o);else if(Yg(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(G(tu,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nu=new le("AppId",{providedIn:"root",factory:function MD(){return`${Em()}${Em()}${Em()}`}});function Em(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AD=new le("Platform Initializer"),iu=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OD=new le("appBootstrapListener"),xD=new le("AnimationModuleType");let b2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fr=new le("LocaleId",{providedIn:"root",factory:()=>Nt(Fr,fe.Optional|fe.SkipSelf)||function S2(){return typeof $localize<"u"&&$localize.locale||Ca}()});class M2{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let wm=(()=>{class n{compileModuleSync(e){return new sm(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=xr(Zn(e).declarations).reduce((s,a)=>{const l=Xe(a);return l&&s.push(new Ul(l)),s},[]);return new M2(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x2=(()=>Promise.resolve(0))();function Tm(n){typeof Zone>"u"?x2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function R2(){let n=ot.requestAnimationFrame,t=ot.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function F2(n){const t=()=>{!function L2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bm(n),n.isCheckStableRunning=!0,Dm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return LD(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),FD(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return LD(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),FD(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,bm(n),Dm(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new I(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,P2,Md,Md);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const P2={};function Dm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function LD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FD(n){n._nesting--,Dm(n)}class N2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const ND=new le(""),Od=new le("");let Mm,Sm=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mm||(function k2(n){Mm=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),Tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tm(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(G(lt),G(Im),G(Od))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Im=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){var r,o;return null!==(r=null===(o=Mm)||void 0===o?void 0:o.findTestabilityInTree(this,e,i))&&void 0!==r?r:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),go=null;const kD=new le("AllowMultipleToken"),Am=new le("PlatformDestroyListeners");class VD{constructor(t,e){this.name=t,this.token=e}}function jD(n,t,e=[]){const i=`Platform: ${t}`,r=new le(i);return(o=[])=>{let s=Om();if(!s||s.injector.get(kD,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function j2(n){if(go&&!go.get(kD,!1))throw new I(400,!1);go=n;const t=n.get(UD);(function BD(n){const t=n.get(AD,null);t&&t.forEach(e=>e())})(n)}(function HD(n=[],t){return Sn.create({name:t,providers:[{provide:qp,useValue:"platform"},{provide:Am,useValue:new Set([()=>go=null])},...n]})}(a,i))}return function U2(n){const t=Om();if(!t)throw new I(401,!1);return t}()}}function Om(){var n,t;return null!==(n=null===(t=go)||void 0===t?void 0:t.get(UD))&&void 0!==n?n:null}let UD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function $D(n,t){let e;return e="noop"===n?new N2:("zone.js"===n?void 0:n)||new lt(t),e}(i?.ngZone,function GD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:lt,useValue:r}];return r.run(()=>{const s=Sn.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(ta,null);if(!l)throw new I(402,!1);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{xd(this._modules,a),u.unsubscribe()})}),function zD(n,t,e){try{const i=e();return zl(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const u=a.injector.get(Ad);return u.runInitializers(),u.donePromise.then(()=>(function pT(n){Yn(n,"Expected localeId to be defined"),"string"==typeof n&&(fT=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Fr,Ca)||Ca),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=WD({},i);return function V2(n,t,e){const i=new sm(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ta);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new I(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Am,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(G(Sn))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function WD(n,t){return Array.isArray(t)?t.reduce(WD,n):{...n,...t}}let Ta=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ue(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ue(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),Tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=Jf(o,s.pipe(function q1(n={}){const{connector:t=(()=>new Ve),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),s=l=null,c=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return At((g,m)=>{u++,!d&&!c&&h();const _=l=l??t();m.add(()=>{u--,0===u&&!d&&!c&&(a=ep(p,r))}),_.subscribe(m),s||(s=new se({next:y=>_.next(y),error:y=>{d=!0,h(),a=ep(f,e,y),_.error(y)},complete:()=>{c=!0,h(),a=ep(f,i),_.complete()}}),Ot(g).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof jE;if(!this._injector.get(Ad).done)throw!r&&function Ns(n){const t=Xe(n)||En(n)||wn(n);return null!==t&&t.standalone}(e),new I(405,false);let s;s=r?e:this._injector.get(Fl).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function B2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ts),u=s.create(Sn.NULL,[],i||s.selector,a),c=u.location.nativeElement,d=u.injector.get(ND,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),xd(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;xd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(OD,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>xd(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new I(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(G(lt),G(ho),G(ta))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let qD=!0,ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=z2,n})();function z2(n){return function W2(n,t,e){if(Fc(n)&&!e){const i=Qn(n.index,t);return new Hl(i,i)}return 47&n.type?new Hl(t[16],t):null}(Zt(),O(),16==(16&n))}class JD{constructor(){}supports(t){return Gl(t)}create(t){return new Q2(t)}}const X2=(n,t)=>t;class Q2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||X2}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<tb(i,r,o)?e:i,a=tb(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,c=l-r;if(u!=c){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;c<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Gl(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function LN(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Xo()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new J2(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class J2{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eB{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class eb{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new eB,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class nb{constructor(){}supports(t){return t instanceof Map||Kg(t)}create(){return new tB}}class tB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Kg(t)))throw new I(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new nB(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class nB{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ib(){return new Ld([new JD])}let Ld=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ib()),deps:[[n,new Al,new Ml]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new I(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:ib}),n})();function rb(){return new ru([new nb])}let ru=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||rb()),deps:[[n,new Al,new Ml]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new I(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:rb}),n})();const oB=jD(null,"core",[]);let sB=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(G(Ta))},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({}),n})();let Fd=null;function cr(){return Fd}const an=new le("DocumentToken");let Fm=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return function cB(){return G(ob)}()},providedIn:"platform"}),n})();const dB=new le("Location Initialized");let ob=(()=>{class n extends Fm{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(e){const i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){sb()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){sb()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(G(an))},n.\u0275prov=q({token:n,factory:function(){return function hB(){return new ob(G(an))}()},providedIn:"platform"}),n})();function sb(){return!!window.history.pushState}function Nm(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ab(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vr(n){return n&&"?"!==n[0]?"?"+n:n}let rs=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return Nt(ub)},providedIn:"root"}),n})();const lb=new le("appBaseHref");let ub=(()=>{class n extends rs{constructor(e,i){var r,o,s;super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=null!==(r=null!==(o=i??this._platformLocation.getBaseHrefFromDOM())&&void 0!==o?o:null===(s=Nt(an).location)||void 0===s?void 0:s.origin)&&void 0!==r?r:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Nm(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Vr(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Vr(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var i,r;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(G(Fm),G(lb,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fB=(()=>{class n extends rs{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Nm(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Vr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Vr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var i,r;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(G(Fm),G(lb,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),km=(()=>{class n{constructor(e){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=ab(cb(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vr(i))}normalize(e){return n.stripTrailingSlash(function gB(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,cb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var i,r;null===(i=(r=this._locationStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);var r;this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Vr,n.joinWithSlash=Nm,n.stripTrailingSlash=ab,n.\u0275fac=function(e){return new(e||n)(G(rs))},n.\u0275prov=q({token:n,factory:function(){return function pB(){return new km(G(rs))}()},providedIn:"root"}),n})();function cb(n){return n.replace(/\/index.html$/,"")}var Vt=(()=>((Vt=Vt||{})[Vt.Format=0]="Format",Vt[Vt.Standalone=1]="Standalone",Vt))(),Re=(()=>((Re=Re||{})[Re.Narrow=0]="Narrow",Re[Re.Abbreviated=1]="Abbreviated",Re[Re.Wide=2]="Wide",Re[Re.Short=3]="Short",Re))(),bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.Medium=1]="Medium",bt[bt.Long=2]="Long",bt[bt.Full=3]="Full",bt))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function Nd(n,t){return Ci(Mn(n)[z.DateFormat],t)}function kd(n,t){return Ci(Mn(n)[z.TimeFormat],t)}function Vd(n,t){return Ci(Mn(n)[z.DateTimeFormat],t)}function yi(n,t){const e=Mn(n),i=e[z.NumberSymbols][t];if(typeof i>"u"){if(t===he.CurrencyDecimal)return e[z.NumberSymbols][he.Decimal];if(t===he.CurrencyGroup)return e[z.NumberSymbols][he.Group]}return i}function hb(n){if(!n[z.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ci(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Bm(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const MB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ou={},AB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),ge=(()=>((ge=ge||{})[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge))(),Se=(()=>((Se=Se||{})[Se.DayPeriods=0]="DayPeriods",Se[Se.Days=1]="Days",Se[Se.Months=2]="Months",Se[Se.Eras=3]="Eras",Se))();function OB(n,t,e,i){let r=function BB(n){if(gb(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Bd(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(MB))return function jB(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,u),t}(i)}const t=new Date(n);if(!gb(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Br(e,t)||t;let a,s=[];for(;t;){if(a=AB.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;t=c}}let l=r.getTimezoneOffset();i&&(l=pb(i,l),r=function VB(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function kB(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(pb(t,r)-r))}(r,i,!0));let u="";return s.forEach(c=>{const d=function NB(n){if(Hm[n])return Hm[n];let t;switch(n){case"G":case"GG":case"GGG":t=ft(Se.Eras,Re.Abbreviated);break;case"GGGG":t=ft(Se.Eras,Re.Wide);break;case"GGGGG":t=ft(Se.Eras,Re.Narrow);break;case"y":t=Kt(ge.FullYear,1,0,!1,!0);break;case"yy":t=Kt(ge.FullYear,2,0,!0,!0);break;case"yyy":t=Kt(ge.FullYear,3,0,!1,!0);break;case"yyyy":t=Kt(ge.FullYear,4,0,!1,!0);break;case"Y":t=Gd(1);break;case"YY":t=Gd(2,!0);break;case"YYY":t=Gd(3);break;case"YYYY":t=Gd(4);break;case"M":case"L":t=Kt(ge.Month,1,1);break;case"MM":case"LL":t=Kt(ge.Month,2,1);break;case"MMM":t=ft(Se.Months,Re.Abbreviated);break;case"MMMM":t=ft(Se.Months,Re.Wide);break;case"MMMMM":t=ft(Se.Months,Re.Narrow);break;case"LLL":t=ft(Se.Months,Re.Abbreviated,Vt.Standalone);break;case"LLLL":t=ft(Se.Months,Re.Wide,Vt.Standalone);break;case"LLLLL":t=ft(Se.Months,Re.Narrow,Vt.Standalone);break;case"w":t=jm(1);break;case"ww":t=jm(2);break;case"W":t=jm(1,!0);break;case"d":t=Kt(ge.Date,1);break;case"dd":t=Kt(ge.Date,2);break;case"c":case"cc":t=Kt(ge.Day,1);break;case"ccc":t=ft(Se.Days,Re.Abbreviated,Vt.Standalone);break;case"cccc":t=ft(Se.Days,Re.Wide,Vt.Standalone);break;case"ccccc":t=ft(Se.Days,Re.Narrow,Vt.Standalone);break;case"cccccc":t=ft(Se.Days,Re.Short,Vt.Standalone);break;case"E":case"EE":case"EEE":t=ft(Se.Days,Re.Abbreviated);break;case"EEEE":t=ft(Se.Days,Re.Wide);break;case"EEEEE":t=ft(Se.Days,Re.Narrow);break;case"EEEEEE":t=ft(Se.Days,Re.Short);break;case"a":case"aa":case"aaa":t=ft(Se.DayPeriods,Re.Abbreviated);break;case"aaaa":t=ft(Se.DayPeriods,Re.Wide);break;case"aaaaa":t=ft(Se.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":t=ft(Se.DayPeriods,Re.Abbreviated,Vt.Standalone,!0);break;case"bbbb":t=ft(Se.DayPeriods,Re.Wide,Vt.Standalone,!0);break;case"bbbbb":t=ft(Se.DayPeriods,Re.Narrow,Vt.Standalone,!0);break;case"B":case"BB":case"BBB":t=ft(Se.DayPeriods,Re.Abbreviated,Vt.Format,!0);break;case"BBBB":t=ft(Se.DayPeriods,Re.Wide,Vt.Format,!0);break;case"BBBBB":t=ft(Se.DayPeriods,Re.Narrow,Vt.Format,!0);break;case"h":t=Kt(ge.Hours,1,-12);break;case"hh":t=Kt(ge.Hours,2,-12);break;case"H":t=Kt(ge.Hours,1);break;case"HH":t=Kt(ge.Hours,2);break;case"m":t=Kt(ge.Minutes,1);break;case"mm":t=Kt(ge.Minutes,2);break;case"s":t=Kt(ge.Seconds,1);break;case"ss":t=Kt(ge.Seconds,2);break;case"S":t=Kt(ge.FractionalSeconds,1);break;case"SS":t=Kt(ge.FractionalSeconds,2);break;case"SSS":t=Kt(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Hd(Jt.Short);break;case"ZZZZZ":t=Hd(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Hd(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Hd(Jt.Long);break;default:return null}return Hm[n]=t,t}(c);u+=d?d(r,e,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Bd(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Br(n,t){const e=function mB(n){return Mn(n)[z.LocaleId]}(n);if(ou[e]=ou[e]||{},ou[e][t])return ou[e][t];let i="";switch(t){case"shortDate":i=Nd(n,bt.Short);break;case"mediumDate":i=Nd(n,bt.Medium);break;case"longDate":i=Nd(n,bt.Long);break;case"fullDate":i=Nd(n,bt.Full);break;case"shortTime":i=kd(n,bt.Short);break;case"mediumTime":i=kd(n,bt.Medium);break;case"longTime":i=kd(n,bt.Long);break;case"fullTime":i=kd(n,bt.Full);break;case"short":const r=Br(n,"shortTime"),o=Br(n,"shortDate");i=jd(Vd(n,bt.Short),[r,o]);break;case"medium":const s=Br(n,"mediumTime"),a=Br(n,"mediumDate");i=jd(Vd(n,bt.Medium),[s,a]);break;case"long":const l=Br(n,"longTime"),u=Br(n,"longDate");i=jd(Vd(n,bt.Long),[l,u]);break;case"full":const c=Br(n,"fullTime"),d=Br(n,"fullDate");i=jd(Vd(n,bt.Full),[c,d])}return i&&(ou[e][t]=i),i}function jd(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function zi(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Kt(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function RB(n,t){switch(n){case ge.FullYear:return t.getFullYear();case ge.Month:return t.getMonth();case ge.Date:return t.getDate();case ge.Hours:return t.getHours();case ge.Minutes:return t.getMinutes();case ge.Seconds:return t.getSeconds();case ge.FractionalSeconds:return t.getMilliseconds();case ge.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===ge.Hours)0===a&&-12===e&&(a=12);else if(n===ge.FractionalSeconds)return function xB(n,t){return zi(n,3).substring(0,t)}(a,t);const l=yi(s,he.MinusSign);return zi(a,t,l,i,r)}}function ft(n,t,e=Vt.Format,i=!1){return function(r,o){return function PB(n,t,e,i,r,o){switch(e){case Se.Months:return function yB(n,t,e){const i=Mn(n),o=Ci([i[z.MonthsFormat],i[z.MonthsStandalone]],t);return Ci(o,e)}(t,r,i)[n.getMonth()];case Se.Days:return function vB(n,t,e){const i=Mn(n),o=Ci([i[z.DaysFormat],i[z.DaysStandalone]],t);return Ci(o,e)}(t,r,i)[n.getDay()];case Se.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const u=function TB(n){const t=Mn(n);return hb(t),(t[z.ExtraData][2]||[]).map(i=>"string"==typeof i?Bm(i):[Bm(i[0]),Bm(i[1])])}(t),c=function DB(n,t,e){const i=Mn(n);hb(i);const o=Ci([i[z.ExtraData][0],i[z.ExtraData][1]],t)||[];return Ci(o,e)||[]}(t,r,i),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return c[d]}return function _B(n,t,e){const i=Mn(n),o=Ci([i[z.DayPeriodsFormat],i[z.DayPeriodsStandalone]],t);return Ci(o,e)}(t,r,i)[s<12?0:1];case Se.Eras:return function CB(n,t){return Ci(Mn(n)[z.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Hd(n){return function(t,e,i){const r=-1*i,o=yi(e,he.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Jt.Short:return(r>=0?"+":"")+zi(s,2,o)+zi(Math.abs(r%60),2,o);case Jt.ShortGMT:return"GMT"+(r>=0?"+":"")+zi(s,1,o);case Jt.Long:return"GMT"+(r>=0?"+":"")+zi(s,2,o)+":"+zi(Math.abs(r%60),2,o);case Jt.Extended:return 0===i?"Z":(r>=0?"+":"")+zi(s,2,o)+":"+zi(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function fb(n){return Bd(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function jm(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=fb(e),s=function FB(n){const t=Bd(n,0,1).getDay();return Bd(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return zi(r,n,yi(i,he.MinusSign))}}function Gd(n,t=!1){return function(e,i){return zi(fb(e).getFullYear(),n,yi(i,he.MinusSign),t)}}const Hm={};function pb(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function gb(n){return n instanceof Date&&!isNaN(n.valueOf())}function yb(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Wi=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Gl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${rt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(w(Ld),w(ru),w(kt),w(ki))},n.\u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class JB{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let au=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new JB(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),wb(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{wb(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(Gi),w(lr),w(Ld))},n.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function wb(n,t){n.context.$implicit=t.item}let ri=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new tj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(w(Gi),w(lr))},n.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class tj{constructor(){this.$implicit=null,this.ngIf=null}}function Tb(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${rt(t)}'.`)}let jr=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:kn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(ru),w(ki))},n.\u0275dir=ae({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),os=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(w(Gi))},n.\u0275dir=ae({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nn]}),n})();const pj=new le("DATE_PIPE_DEFAULT_TIMEZONE");let bb=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{var s;return OB(e,i,o||this.locale,null!==(s=r??this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw function Ki(n,t){return new I(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(w(Fr,16),w(pj,24))},n.\u0275pipe=Ln({name:"date",type:n,pure:!0,standalone:!0}),n})(),On=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({}),n})();const Ib="browser";function Mb(n){return n===Ib}let Mj=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Aj(G(an),window)}),n})();class Aj{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Oj(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ab(this.window.history)||Ab(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ab(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ob{}class Jm extends class qj extends class uB{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function lB(n){Fd||(Fd=n)}(new Jm)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Yj(){return uu=uu||document.querySelector("base"),uu?uu.getAttribute("href"):null}();return null==e?null:function Zj(n){Wd=Wd||document.createElement("a"),Wd.setAttribute("href",n);const t=Wd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){uu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return yb(document.cookie,t)}}let Wd,uu=null;const Lb=new le("TRANSITION_ID"),Qj=[{provide:tu,useFactory:function Xj(n,t,e){return()=>{e.get(Ad).donePromise.then(()=>{const i=cr(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Lb,an,Sn],multi:!0}];let eH=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Kd=new le("EventManagerPlugins");let qd=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(G(Kd),G(lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Fb{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=cr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Nb=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),cu=(()=>{class n extends Nb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(kb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(kb))}}return n.\u0275fac=function(e){return new(e||n)(G(an))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function kb(n){cr().remove(n)}const e_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},t_=/%COMP%/g;function Yd(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Yd(n,r,e):(r=r.replace(t_,n),e.push(r))}return e}function jb(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zd=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new n_(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Pi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new sH(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Pi.ShadowDom:return new aH(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Yd(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(G(qd),G(cu),G(nu))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class n_{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(e_[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ub(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ub(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=e_[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=e_[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(kn.DashCase|kn.Important)?t.style.setProperty(e,i,r&kn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&kn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jb(i)):this.eventManager.addEventListener(t,e,jb(i))}}function Ub(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sH extends n_{constructor(t,e,i,r){super(t),this.component=i;const o=Yd(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function iH(n){return"_ngcontent-%COMP%".replace(t_,n)}(r+"-"+i.id),this.hostAttr=function rH(n){return"_nghost-%COMP%".replace(t_,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class aH extends n_{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Yd(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lH=(()=>{class n extends Fb{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(G(an))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Gb=["alt","control","meta","shift"],uH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dH=(()=>{class n extends Fb{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Gb.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=uH[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Gb.forEach(s=>{s!==r&&(0,cH[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(G(an))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const zb=[{provide:iu,useValue:Ib},{provide:AD,useValue:function hH(){Jm.makeCurrent()},multi:!0},{provide:an,useFactory:function pH(){return function AP(n){kp=n}(document),document},deps:[]}],gH=jD(oB,"browser",zb),Wb=new le(""),Kb=[{provide:Od,useClass:class Jj{addToWindow(t){ot.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),ot.getAllAngularRootElements=()=>t.getAllRootElements(),ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(i=>{const r=ot.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?cr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:ND,useClass:Sm,deps:[lt,Im,Od]},{provide:Sm,useClass:Sm,deps:[lt,Im,Od]}],qb=[{provide:qp,useValue:"root"},{provide:ta,useFactory:function fH(){return new ta},deps:[]},{provide:Kd,useClass:lH,multi:!0,deps:[an,lt,iu]},{provide:Kd,useClass:dH,multi:!0,deps:[an]},{provide:Zd,useClass:Zd,deps:[qd,cu,nu]},{provide:Nl,useExisting:Zd},{provide:Nb,useExisting:cu},{provide:cu,useClass:cu,deps:[an]},{provide:qd,useClass:qd,deps:[Kd,lt]},{provide:Ob,useClass:eH,deps:[]},[]];let Yb=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:nu,useValue:e.appId},{provide:Lb,useExisting:nu},Qj]}}}return n.\u0275fac=function(e){return new(e||n)(G(Wb,12))},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[...qb,...Kb],imports:[On,sB]}),n})(),Zb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(G(an))},n.\u0275prov=q({token:n,factory:function(e){let i=null;return i=e?new e:function _H(){return new Zb(G(an))}(),i},providedIn:"root"}),n})();function re(...n){return Ot(n,cl(n))}typeof window<"u"&&window;class Ei extends Ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const du=Je(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:bH}=Array,{getPrototypeOf:SH,prototype:IH,keys:MH}=Object;function Jb(n){if(1===n.length){const t=n[0];if(bH(t))return{args:t,keys:null};if(function AH(n){return n&&"object"==typeof n&&SH(n)===IH}(t)){const e=MH(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:OH}=Array;function o_(n){return ve(t=>function xH(n,t){return OH(t)?n(...t):n(t)}(n,t))}function eS(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function tS(...n){const t=cl(n),e=gC(n),{args:i,keys:r}=Jb(n);if(0===i.length)return Ot([],t);const o=new Ue(function RH(n,t,e=dt){return i=>{nS(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)nS(t,()=>{const u=Ot(n[l],t);let c=!1;u.subscribe(new Dt(i,d=>{o[l]=d,c||(c=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>eS(r,s):dt));return e?o.pipe(o_(e)):o}function nS(n,t,e){n?Tr(e,n,t):t()}function hu(...n){return function PH(){return Ls(1)}()(Ot(n,cl(n)))}function Xd(n){return new Ue(t=>{hi(n()).subscribe(t)})}function _o(n,t){const e=Pe(n)?n:()=>n,i=r=>r.error(e());return new Ue(t?r=>t.schedule(i,0,r):i)}function s_(){return At((n,t)=>{let e=null;n._refCount++;const i=new Dt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class a_ extends Ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tC(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Yt;const e=this.getSubject();t.add(this.source.subscribe(new Dt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Yt.EMPTY)}return t}refCount(){return s_()(this)}}function Un(n,t){return At((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(new Dt(i,l=>{r?.unsubscribe();let u=0;const c=o++;hi(n(l,c)).subscribe(r=new Dt(i,d=>i.next(t?t(l,d,c,u++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function en(n,t){return At((e,i)=>{let r=0;e.subscribe(new Dt(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Qd(n){return At((t,e)=>{let i=!1;t.subscribe(new Dt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function iS(n=FH){return At((t,e)=>{let i=!1;t.subscribe(new Dt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function FH(){return new du}function vo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?en((r,o)=>n(r,o,i)):dt,Pn(1),e?Qd(t):iS(()=>new du))}function yo(n,t){return Pe(t)?Bt(n,t,1):Bt(n,1)}function ln(n,t,e){const i=Pe(n)||t||e?{next:n,error:t,complete:e}:n;return i?At((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(new Dt(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):dt}function Hr(n){return At((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Dt(e,void 0,void 0,s=>{o=hi(n(s,Hr(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function NH(n,t,e,i,r){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(new Dt(s,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function rS(n,t){return At(NH(n,t,arguments.length>=2,!0))}function l_(n){return n<=0?()=>Dr:At((t,e)=>{let i=[];t.subscribe(new Dt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function oS(n,t){const e=arguments.length>=2;return i=>i.pipe(n?en((r,o)=>n(r,o,i)):dt,l_(1),e?Qd(t):iS(()=>new du))}function sS(n){return ve(()=>n)}function u_(n){return At((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Ae="primary",fu=Symbol("RouteTitle");class VH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Da(n){return new VH(n)}function BH(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function dr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!aS(n[r],t[r]))return!1;return!0}function aS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function lS(n){return Array.prototype.concat.apply([],n)}function uS(n){return n.length>0?n[n.length-1]:null}function un(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Co(n){return Yg(n)?n:zl(n)?Ot(Promise.resolve(n)):re(n)}const UH={exact:function hS(n,t,e){if(!as(n.segments,t.segments)||!Jd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!hS(n.children[i],t.children[i],e))return!1;return!0},subset:fS},cS={exact:function GH(n,t){return dr(n,t)},subset:function $H(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>aS(n[e],t[e]))},ignored:()=>!0};function dS(n,t,e){return UH[e.paths](n.root,t.root,e.matrixParams)&&cS[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function fS(n,t,e){return pS(n,t,t.segments,e)}function pS(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!as(r,e)||t.hasChildren()||!Jd(r,e,i))}if(n.segments.length===e.length){if(!as(n.segments,e)||!Jd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!fS(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(as(n.segments,r)&&Jd(n.segments,r,i)&&n.children[Ae])&&pS(n.children[Ae],t,o,i)}}function Jd(n,t,e){return t.every((i,r)=>cS[e](n[r].parameters,i.parameters))}class ss{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return KH.serialize(this)}}class Oe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,un(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eh(this)}}class pu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Da(this.parameters)),this._parameterMap}toString(){return vS(this)}}function as(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let gS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return new d_},providedIn:"root"}),n})();class d_{parse(t){const e=new nU(t);return new ss(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${gu(t.root,!0)}`,i=function ZH(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${th(e)}=${th(r)}`).join("&"):`${th(e)}=${th(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qH(n){return encodeURI(n)}(t.fragment)}`:""}`}}const KH=new d_;function eh(n){return n.segments.map(t=>vS(t)).join("/")}function gu(n,t){if(!n.hasChildren())return eh(n);if(t){const e=n.children[Ae]?gu(n.children[Ae],!1):"",i=[];return un(n.children,(r,o)=>{o!==Ae&&i.push(`${o}:${gu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function WH(n,t){let e=[];return un(n.children,(i,r)=>{r===Ae&&(e=e.concat(t(i,r)))}),un(n.children,(i,r)=>{r!==Ae&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ae?[gu(n.children[Ae],!1)]:[`${r}:${gu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ae]?`${eh(n)}/${e[0]}`:`${eh(n)}/(${e.join("//")})`}}function mS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function th(n){return mS(n).replace(/%3B/gi,";")}function h_(n){return mS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(n){return decodeURIComponent(n)}function _S(n){return nh(n.replace(/\+/g,"%20"))}function vS(n){return`${h_(n.path)}${function YH(n){return Object.keys(n).map(t=>`;${h_(t)}=${h_(n[t])}`).join("")}(n.parameters)}`}const XH=/^[^\/()?;=#]+/;function ih(n){const t=n.match(XH);return t?t[0]:""}const QH=/^[^=?&#]+/,eU=/^[^&#]+/;class nU{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ae]=new Oe(t,e)),i}parseSegment(){const t=ih(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new pu(nh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ih(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ih(this.remaining);r&&(i=r,this.capture(i))}t[nh(e)]=nh(i)}parseQueryParam(t){const e=function JH(n){const t=n.match(QH);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function tU(n){const t=n.match(eU);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=_S(e),o=_S(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ih(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ae);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ae]:new Oe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}}function f_(n){return n.segments.length>0?new Oe([],{[Ae]:n}):n}function rh(n){const t={};for(const i of Object.keys(n.children)){const o=rh(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function iU(n){if(1===n.numberOfChildren&&n.children[Ae]){const t=n.children[Ae];return new Oe(n.segments.concat(t.segments),t.children)}return n}(new Oe(n.segments,t))}function ls(n){return n instanceof ss}function sU(n,t,e,i,r){var o;if(0===e.length)return ba(t.root,t.root,t.root,i,r);const s=function ES(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CS(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return un(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new CS(e,t,i)}(e);if(s.toRoot())return ba(t.root,t.root,new Oe([],{}),i,r);const l=function a(c){var d;const h=function lU(n,t,e,i){if(n.isAbsolute)return new Sa(t.root,!0,0);if(-1===i)return new Sa(e,e===t.root,0);return function wS(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new Sa(i,!1,r-o)}(e,i+(mu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,null===(d=n.snapshot)||void 0===d?void 0:d._urlSegment,c),f=h.processChildren?vu(h.segmentGroup,h.index,s.commands):g_(h.segmentGroup,h.index,s.commands);return ba(t.root,h.segmentGroup,f,i,r)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex);return l}function mu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _u(n){return"object"==typeof n&&null!=n&&n.outlets}function ba(n,t,e,i,r){let s,o={};i&&un(i,(l,u)=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),s=n===t?e:yS(n,t,e);const a=f_(rh(s));return new ss(a,o,r)}function yS(n,t,e){const i={};return un(n.children,(r,o)=>{i[o]=r===t?e:yS(r,t,e)}),new Oe(n.segments,i)}class CS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&mu(i[0]))throw new I(4003,!1);const r=i.find(_u);if(r&&r!==uS(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sa{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function g_(n,t,e){if(n||(n=new Oe([],{})),0===n.segments.length&&n.hasChildren())return vu(n,t,e);const i=function cU(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(_u(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!DS(l,u,s))return o;i+=2}else{if(!DS(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Oe(n.segments.slice(0,i.pathIndex),{});return o.children[Ae]=new Oe(n.segments.slice(i.pathIndex),n.children),vu(o,0,r)}return i.match&&0===r.length?new Oe(n.segments,{}):i.match&&!n.hasChildren()?m_(n,t,e):i.match?vu(n,0,r):m_(n,t,e)}function vu(n,t,e){if(0===e.length)return new Oe(n.segments,{});{const i=function uU(n){return _u(n[0])?n[0].outlets:{[Ae]:n}}(e),r={};return un(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=g_(n.children[s],t,o))}),un(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Oe(n.segments,r)}}function m_(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(_u(o)){const l=dU(o.outlets);return new Oe(i,l)}if(0===r&&mu(e[0])){i.push(new pu(n.segments[t].path,TS(e[0]))),r++;continue}const s=_u(o)?o.outlets[Ae]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&mu(a)?(i.push(new pu(s,TS(a))),r+=2):(i.push(new pu(s,{})),r++)}return new Oe(i,{})}function dU(n){const t={};return un(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=m_(new Oe([],{}),0,e))}),t}function TS(n){const t={};return un(n,(e,i)=>t[i]=`${e}`),t}function DS(n,t,e){return n==e.path&&dr(t,e.parameters)}class Ur{constructor(t,e){this.id=t,this.url=e}}class __ extends Ur{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends Ur{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oh extends Ur{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bS extends Ur{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hU extends Ur{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fU extends Ur{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pU extends Ur{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gU extends Ur{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mU extends Ur{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _U{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vU{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yU{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CU{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EU{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wU{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SS{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=v_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=v_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=y_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return y_(t,this._root).map(e=>e.value)}}function v_(n,t){if(n===t.value)return t;for(const e of t.children){const i=v_(n,e);if(i)return i}return null}function y_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=y_(n,e);if(i.length)return i.unshift(t),i}return[]}class Gr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ia(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class MS extends IS{constructor(t,e){super(t),this.snapshot=e,C_(this,t)}toString(){return this.snapshot.toString()}}function AS(n,t){const e=function DU(n,t){const s=new sh([],{},{},"",{},Ae,t,null,n.root,-1,{});return new xS("",new Gr(s,[]))}(n,t),i=new Ei([new pu("",{})]),r=new Ei({}),o=new Ei({}),s=new Ei({}),a=new Ei(""),l=new cs(i,r,s,a,o,Ae,t,e.root);return l.snapshot=e.root,new MS(new Gr(l,[]),e)}class cs{constructor(t,e,i,r,o,s,a,l){var u,c;this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=null!==(u=null===(c=this.data)||void 0===c?void 0:c.pipe(ve(d=>d[fu])))&&void 0!==u?u:re(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(t=>Da(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(t=>Da(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OS(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function bU(n){return n.reduce((t,e)=>{var i;return{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...null===(i=e.routeConfig)||void 0===i?void 0:i.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(i))}class sh{constructor(t,e,i,r,o,s,a,l,u,c,d,h){var f;this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.title=null===(f=this.data)||void 0===f?void 0:f[fu],this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xS extends IS{constructor(t,e){super(e),this.url=t,C_(this,e)}toString(){return RS(this._root)}}function C_(n,t){t.value._routerState=n,t.children.forEach(e=>C_(n,e))}function RS(n){const t=n.children.length>0?` { ${n.children.map(RS).join(", ")} } `:"";return`${n.value}${t}`}function E_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,dr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),dr(t.params,e.params)||n.params.next(e.params),function jH(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!dr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),dr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function w_(n,t){const e=dr(n.params,t.params)&&function zH(n,t){return as(n,t)&&n.every((e,i)=>dr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||w_(n.parent,t.parent))}function yu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function IU(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yu(n,i,r);return yu(n,i)})}(n,t,e);return new Gr(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>yu(n,a)),s}}const i=function MU(n){return new cs(new Ei(n.url),new Ei(n.params),new Ei(n.queryParams),new Ei(n.fragment),new Ei(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>yu(n,o));return new Gr(i,r)}}const T_="ngNavigationCancelingError";function PS(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ls(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=LS(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function LS(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[T_]=!0,i.cancellationCode=t,e&&(i.url=e),i}function FS(n){return NS(n)&&ls(n.url)}function NS(n){return n&&n[T_]}class AU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cu,this.attachRef=null}}let Cu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new AU,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ah=!1;let D_=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.name=r||Ae,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,ah);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,ah);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,ah);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new I(4013,ah);this._activatedRoute=e;const r=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new OU(e,a,r.injector);if(i&&function xU(n){return!!n.resolveComponentFactory}(i)){const u=i.resolveComponentFactory(s);this.activated=r.createComponent(u,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(w(Cu),w(Gi),function El(n){return function QR(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(WC(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Zt(),n)}("name"),w(ii),w(ho))},n.\u0275dir=ae({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class OU{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===cs?this.route:t===Cu?this.childContexts:this.parent.get(t,e)}}let b_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=jt({type:n,selectors:[["ng-component"]],standalone:!0,features:[HT],decls:1,vars:0,template:function(e,i){1&e&&vt(0,"router-outlet")},dependencies:[D_],encapsulation:2}),n})();function kS(n,t){var e;return n.providers&&!n._injector&&(n._injector=Dd(n.providers,t,`Route: ${n.path}`)),null!==(e=n._injector)&&void 0!==e?e:t}function I_(n){const t=n.children&&n.children.map(I_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ae&&(e.component=b_),e}function wi(n){return n.outlet||Ae}function VS(n,t){const e=n.filter(i=>wi(i)===t);return e.push(...n.filter(i=>wi(i)!==t)),e}function Eu(n){var t;if(!n)return null;if(null!==(t=n.routeConfig)&&void 0!==t&&t._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const i=e.routeConfig;if(null!=i&&i._loadedInjector)return i._loadedInjector;if(null!=i&&i._injector)return i._injector}return null}class NU{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),E_(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ia(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),un(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ia(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Ia(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ia(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new wU(o.value.snapshot))}),t.children.length&&this.forwardEvent(new CU(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(E_(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),E_(l.route.value),this.activateChildRoutes(t,null,a.children)}else{var s;const l=Eu(r.snapshot),u=null!==(s=l?.get(Fl))&&void 0!==s?s:null;a.attachRef=null,a.route=r,a.resolver=u,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class BS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lh{constructor(t,e){this.component=t,this.route=e}}function kU(n,t,e){const i=n._root;return wu(i,t?t._root:null,e,[i.value])}function Ma(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function tR(n){return null!==Ac(n)}(n)?t.get(n):n:i}function wu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ia(t);return n.children.forEach(s=>{(function BU(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function jU(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!as(n.url,t.url);case"pathParamsOrQueryParamsChange":return!as(n.url,t.url)||!dr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w_(n,t)||!dr(n.queryParams,t.queryParams);default:return!w_(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new BS(i)):(o.data=s.data,o._resolvedData=s._resolvedData),wu(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lh(a.outlet.component,s))}else s&&Tu(t,a,r),r.canActivateChecks.push(new BS(i)),wu(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),un(o,(s,a)=>Tu(s,e.getContext(a),r)),r}function Tu(n,t,e){const i=Ia(n),r=n.value;un(i,(o,s)=>{Tu(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new lh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Du(n){return"function"==typeof n}function M_(n){return n instanceof du||"EmptyError"===n?.name}const uh=Symbol("INITIAL_VALUE");function Aa(){return Un(n=>tS(n.map(t=>t.pipe(Pn(1),function LH(...n){const t=cl(n);return At((e,i)=>{(t?hu(n,e,t):hu(n,e)).subscribe(i)})}(uh)))).pipe(ve(t=>{for(const e of t)if(!0!==e){if(e===uh)return uh;if(!1===e||e instanceof ss)return e}return!0}),en(t=>t!==uh),Pn(1)))}function jS(n){return function Ho(...n){return nr(n)}(ln(t=>{if(ls(t))throw PS(0,t)}),ve(t=>!0===t))}const A_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HS(n,t,e,i,r){const o=O_(n,t,e);return o.matched?function iG(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?re(r.map(s=>{const a=Ma(s,n);return Co(function WU(n){return n&&Du(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Aa(),jS()):re(!0)}(i=kS(t,i),t,e).pipe(ve(s=>!0===s?o:{...A_})):re(o)}function O_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...A_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||BH)(e,n,t);if(!o)return{...A_};const s={};un(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function ch(n,t,e,i,r="corrected"){if(e.length>0&&function sG(n,t,e){return e.some(i=>dh(n,t,i)&&wi(i)!==Ae)}(n,e,i)){const s=new Oe(t,function oG(n,t,e,i){const r={};r[Ae]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&wi(o)!==Ae){const s=new Oe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[wi(o)]=s}return r}(n,t,i,new Oe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function aG(n,t,e){return e.some(i=>dh(n,t,i))}(n,e,i)){const s=new Oe(n.segments,function rG(n,t,e,i,r,o){const s={};for(const a of i)if(dh(n,e,a)&&!r[wi(a)]){const l=new Oe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[wi(a)]=l}return{...r,...s}}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Oe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function dh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function US(n,t,e,i){return!!(wi(n)===i||i!==Ae&&dh(t,e,n))&&("**"===n.path||O_(t,n,e).matched)}function GS(n,t,e){return 0===t.length&&!n.children[e]}const hh=!1;class fh{constructor(t){this.segmentGroup=t||null}}class $S{constructor(t){this.urlTree=t}}function bu(n){return _o(new fh(n))}function zS(n){return _o(new $S(n))}class dG{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=ch(this.urlTree.root,[],[],this.config).segmentGroup,e=new Oe(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ae).pipe(ve(o=>this.createUrlTree(rh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hr(o=>{if(o instanceof $S)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof fh?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ae).pipe(ve(r=>this.createUrlTree(rh(r),t.queryParams,t.fragment))).pipe(Hr(r=>{throw r instanceof fh?this.noMatchError(r):r}))}noMatchError(t){return new I(4002,hh)}createUrlTree(t,e,i){const r=f_(t);return new ss(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(ve(o=>new Oe([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Ot(r).pipe(yo(o=>{const s=i.children[o],a=VS(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(ve(l=>({segment:l,outlet:o})))}),rS((o,s)=>(o[s.outlet]=s.segment,o),{}),oS())}expandSegment(t,e,i,r,o,s){return Ot(i).pipe(yo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Hr(u=>{if(u instanceof fh)return re(null);throw u}))),vo(a=>!!a),Hr((a,l)=>{if(M_(a))return GS(e,r,o)?re(new Oe([],{})):bu(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return US(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):bu(e):bu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zS(o):this.lineralizeSegments(i,o).pipe(Bt(s=>{const a=new Oe(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=O_(e,r,o);if(!a)return bu(e);const d=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?zS(d):this.lineralizeSegments(r,d).pipe(Bt(h=>this.expandSegment(t,e,i,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=kS(i,t),i.loadChildren?(i._loadedRoutes?re({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(ve(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Oe(r,{})))):re(new Oe(r,{}))):HS(e,i,r,t).pipe(Un(({matched:s,consumedSegments:a,remainingSegments:l})=>{var u;return s?(t=null!==(u=i._injector)&&void 0!==u?u:t,this.getChildConfig(t,i,r).pipe(Bt(d=>{var h;const f=null!==(h=d.injector)&&void 0!==h?h:t,p=d.routes,{segmentGroup:g,slicedSegments:m}=ch(e,a,l,p),_=new Oe(g.segments,g.children);if(0===m.length&&_.hasChildren())return this.expandChildren(f,p,_).pipe(ve(E=>new Oe(a,E)));if(0===p.length&&0===m.length)return re(new Oe(a,{}));const y=wi(i)===o;return this.expandSegment(f,_,p,m,y?Ae:o,!0).pipe(ve(C=>new Oe(a.concat(C.segments),C.children)))}))):bu(e)}))}getChildConfig(t,e,i){return e.children?re({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?re({routes:e._loadedRoutes,injector:e._loadedInjector}):function nG(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?re(!0):re(r.map(s=>{const a=Ma(s,n);return Co(function UU(n){return n&&Du(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Aa(),jS())}(t,e,i).pipe(Bt(r=>r?this.configLoader.loadChildren(t,e).pipe(ln(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function uG(n){return _o(LS(hh,3))}())):re({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return re(i);if(r.numberOfChildren>1||!r.children[Ae])return _o(new I(4e3,hh));r=r.children[Ae]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ss(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return un(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return un(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new Oe(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new I(4001,hh);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class fG{}class mG{constructor(t,e,i,r,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=ch(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ae).pipe(ve(e=>{if(null===e)return null;const i=new sh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gr(i,e),o=new xS(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=OS(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return Ot(Object.keys(i.children)).pipe(yo(r=>{const o=i.children[r],s=VS(e,r);return this.processSegmentGroup(t,s,o,r)}),rS((r,o)=>r&&o?(r.push(...o),r):null),function kH(n,t=!1){return At((e,i)=>{let r=0;e.subscribe(new Dt(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),Qd(null),oS(),ve(r=>{if(null===r)return null;const o=WS(r);return function _G(n){n.sort((t,e)=>t.value.outlet===Ae?-1:e.value.outlet===Ae?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return Ot(e).pipe(yo(s=>{var a;return this.processSegmentAgainstRoute(null!==(a=s._injector)&&void 0!==a?a:t,s,i,r,o)}),vo(s=>!!s),Hr(s=>{if(M_(s))return GS(i,r,o)?re([]):re(null);throw s}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!US(e,i,r,o))return re(null);let s;if("**"===e.path){var a,l;const u=r.length>0?uS(r).parameters:{},c=qS(i)+r.length;s=re({snapshot:new sh(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZS(e),wi(e),null!==(a=null!==(l=e.component)&&void 0!==l?l:e._loadedComponent)&&void 0!==a?a:null,e,KS(i),c,XS(e),c),consumedSegments:[],remainingSegments:[]})}else s=HS(i,e,r,t).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:d,parameters:h})=>{var f,p;if(!u)return null;const g=qS(i)+c.length;return{snapshot:new sh(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZS(e),wi(e),null!==(f=null!==(p=e.component)&&void 0!==p?p:e._loadedComponent)&&void 0!==f?f:null,e,KS(i),g,XS(e),g),consumedSegments:c,remainingSegments:d}}));return s.pipe(Un(u=>{var c,d;if(null===u)return re(null);const{snapshot:h,consumedSegments:f,remainingSegments:p}=u;t=null!==(c=e._injector)&&void 0!==c?c:t;const g=null!==(d=e._loadedInjector)&&void 0!==d?d:t,m=function vG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:_,slicedSegments:y}=ch(i,f,p,m.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===y.length&&_.hasChildren())return this.processChildren(g,m,_).pipe(ve(C=>null===C?null:[new Gr(h,C)]));if(0===m.length&&0===y.length)return re([new Gr(h,[])]);const v=wi(e)===o;return this.processSegment(g,m,_,y,v?Ae:o).pipe(ve(C=>null===C?null:[new Gr(h,C)]))}))}}function yG(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function WS(n){const t=[],e=new Set;for(const i of n){if(!yG(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=WS(i.children);t.push(new Gr(i.value,r))}return t.filter(i=>!e.has(i))}function KS(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function qS(n){var t;let e=n,i=null!==(t=e._segmentIndexShift)&&void 0!==t?t:0;for(;e._sourceSegment;){var r;e=e._sourceSegment,i+=null!==(r=e._segmentIndexShift)&&void 0!==r?r:0}return i-1}function ZS(n){return n.data||{}}function XS(n){return n.resolve||{}}function QS(n){return"string"==typeof n.title||null===n.title}function x_(n){return Un(t=>{const e=n(t);return e?Ot(e).pipe(ve(()=>t)):re(t)})}let JS=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;){var o;i=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:i,r=r.children.find(s=>s.outlet===Ae)}return i}getResolvedTitleForRoute(e){return e.data[fu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return Nt(eI)},providedIn:"root"}),n})(),eI=(()=>{class n extends JS{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(G(Zb))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IG{}class AG extends class MG{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gh=new le("",{providedIn:"root",factory:()=>({})}),R_=new le("ROUTES");let P_=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return re(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Co(e.loadComponent()).pipe(ln(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),u_(()=>{this.componentLoaders.delete(e)})),r=new a_(i,()=>new Ve).pipe(s_());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ve(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(e).injector,u=lS(l.get(R_,[],fe.Self|fe.Optional)));return{routes:u.map(I_),injector:l}}),u_(()=>{this.childrenLoaders.delete(i)})),s=new a_(o,()=>new Ve).pipe(s_());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(e){return Co(e()).pipe(Bt(i=>i instanceof BT||Array.isArray(i)?re(i):Ot(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(G(Sn),G(wm))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xG{}class RG{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function PG(n){throw n}function LG(n,t,e){return t.parse("/")}const FG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nI(){var n,t;const e=Nt(gS),i=Nt(Cu),r=Nt(km),o=Nt(Sn),s=Nt(wm),a=null!==(n=Nt(R_,{optional:!0}))&&void 0!==n?n:[],l=null!==(t=Nt(gh,{optional:!0}))&&void 0!==t?t:{},u=Nt(eI),c=Nt(JS,{optional:!0}),d=Nt(xG,{optional:!0}),h=Nt(IG,{optional:!0}),f=new cn(null,e,i,r,o,s,lS(a));return d&&(f.urlHandlingStrategy=d),h&&(f.routeReuseStrategy=h),f.titleStrategy=c??u,function kG(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,f),f}let cn=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ve,this.errorHandler=PG,this.malformedUriErrorHandler=LG,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>re(void 0),this.urlHandlingStrategy=new RG,this.routeReuseStrategy=new AG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(P_),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new vU(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new _U(h)),this.ngModule=s.get(ts),this.console=s.get(b2);const d=s.get(lt);this.isNgZoneEnabled=d instanceof lt&&lt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function HH(){return new ss(new Oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AS(this.currentUrlTree,this.rootComponentType),this.transitions=new Ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(en(r=>0!==r.id),ve(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Un(r=>{let o=!1,s=!1;return re(r).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return iI(a.source)&&(this.browserUrlTree=a.extractedUrl),re(a).pipe(Un(d=>{const h=this.transitions.getValue();return i.next(new __(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Dr:Promise.resolve(d)}),function hG(n,t,e,i){return Un(r=>function cG(n,t,e,i,r){return new dG(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(ve(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ln(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function EG(n,t,e,i,r,o){return Bt(s=>function gG(n,t,e,i,r,o,s="emptyOnly",a="legacy"){return new mG(n,t,e,i,r,s,a,o).recognize().pipe(Un(l=>null===l?function pG(n){return new Ue(t=>t.error(n))}(new fG):re(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(ve(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ln(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new hU(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,_=new __(h,this.serializeUrl(f),p,g);i.next(_);const y=AS(f,this.rootComponentType).snapshot;return re(r={...a,targetSnapshot:y,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Dr}),ln(a=>{const l=new fU(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ve(a=>r={...a,guards:kU(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function qU(n,t){return Bt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?re({...e,guardsResult:!0}):function YU(n,t,e,i){return Ot(n).pipe(Bt(r=>function tG(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?re(o.map(a=>{var l;const u=null!==(l=Eu(t))&&void 0!==l?l:r,c=Ma(a,u);return Co(function zU(n){return n&&Du(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):u.runInContext(()=>c(n,t,e,i))).pipe(vo())})).pipe(Aa()):re(!0)}(r.component,r.route,e,t,i)),vo(r=>!0!==r,!0))}(s,i,r,n).pipe(Bt(a=>a&&function HU(n){return"boolean"==typeof n}(a)?function ZU(n,t,e,i){return Ot(t).pipe(yo(r=>hu(function QU(n,t){return null!==n&&t&&t(new yU(n)),re(!0)}(r.route.parent,i),function XU(n,t){return null!==n&&t&&t(new EU(n)),re(!0)}(r.route,i),function eG(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function VU(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Xd(()=>re(s.guards.map(l=>{var u;const c=null!==(u=Eu(s.node))&&void 0!==u?u:e,d=Ma(l,c);return Co(function $U(n){return n&&Du(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(vo())})).pipe(Aa())));return re(o).pipe(Aa())}(n,r.path,e),function JU(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return re(!0);const r=i.map(o=>Xd(()=>{var s;const a=null!==(s=Eu(t))&&void 0!==s?s:e,l=Ma(o,a);return Co(function GU(n){return n&&Du(n.canActivate)}(l)?l.canActivate(t,n):a.runInContext(()=>l(t,n))).pipe(vo())}));return re(r).pipe(Aa())}(n,r.route,e))),vo(r=>!0!==r,!0))}(i,o,n,t):re(a)),ve(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ln(a=>{if(r.guardsResult=a.guardsResult,ls(a.guardsResult))throw PS(0,a.guardsResult);const l=new pU(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),en(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),x_(a=>{if(a.guards.canActivateChecks.length)return re(a).pipe(ln(l=>{const u=new gU(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Un(l=>{let u=!1;return re(l).pipe(function wG(n,t){return Bt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return re(e);let o=0;return Ot(r).pipe(yo(s=>function TG(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!QS(r)&&(o[fu]=r.title),function DG(n,t,e,i){const r=function bG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return re({});const o={};return Ot(r).pipe(Bt(s=>function SG(n,t,e,i){var r;const o=null!==(r=Eu(t))&&void 0!==r?r:i,s=Ma(n,o);return Co(s.resolve?s.resolve(t,e):o.runInContext(()=>s(t,e)))}(n[s],t,e,i).pipe(vo(),ln(a=>{o[s]=a}))),l_(1),sS(o),Hr(s=>M_(s)?Dr:_o(s)))}(o,n,t,i).pipe(ve(s=>(n._resolvedData=s,n.data=OS(n,e).resolve,r&&QS(r)&&(n.data[fu]=r.title),null)))}(s.route,i,n,t)),ln(()=>o++),l_(1),Bt(s=>o===r.length?re(e):Dr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ln({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ln(l=>{const u=new mU(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),x_(a=>{const l=u=>{var c;const d=[];null!==(c=u.routeConfig)&&void 0!==c&&c.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ln(h=>{u.component=h}),ve(()=>{})));for(const h of u.children)d.push(...l(h));return d};return tS(l(a.targetSnapshot.root)).pipe(Qd(),Pn(1))}),x_(()=>this.afterPreactivation()),ve(a=>{const l=function SU(n,t,e){const i=yu(n,t._root,e?e._root:void 0);return new MS(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ve(i=>(new NU(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ln({next(){o=!0},complete(){o=!0}}),u_(()=>{var a;o||s||this.cancelNavigationTransition(r,"",1),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Hr(a=>{if(s=!0,NS(a)){FS(a)||(this.navigated=!0,this.restoreHistory(r,!0));const u=new oh(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(u),FS(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iI(r.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{var l;this.restoreHistory(r,!0);const u=new bS(r.id,this.serializeUrl(r.extractedUrl),a,null!==(l=r.targetSnapshot)&&void 0!==l?l:void 0);i.next(u);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Dr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=null!==(r=e.state)&&void 0!==r&&r.navigationId?e.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(I_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=r||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),sU(u,this.currentUrlTree,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ls(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function VG(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new I(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...FG}:!1===i?{...NG}:i,ls(e))return dS(this.currentUrlTree,e,r);const o=this.parseUrl(e);return dS(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{var i;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new us(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(i=this.titleStrategy)||void 0===i||i.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,l=g});const c=++this.navigationId;let d;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(r=this.location.getState()),r&&r.\u0275routerPageId)d=r.\u0275routerPageId;else if(o.replaceUrl||o.skipLocationChange){var h;d=null!==(h=this.browserPageId)&&void 0!==h?h:0}else{var f;d=(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1}else d=0;return this.setTransition({id:c,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){var r,o;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new oh(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Tg()},n.\u0275prov=q({token:n,factory:function(){return nI()},providedIn:"root"}),n})();function iI(n){return"imperative"!==n}class rI{}let HG=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(en(e=>e instanceof us),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i){var o,s;l.providers&&!l._injector&&(l._injector=Dd(l.providers,e,`Route: ${l.path}`));const u=null!==(o=l._injector)&&void 0!==o?o:e,c=null!==(s=l._loadedInjector)&&void 0!==s?s:u;if(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)r.push(this.preloadConfig(u,l));else if(l.children||l._loadedRoutes){var a;r.push(this.processRoutes(c,null!==(a=l.children)&&void 0!==a?a:l._loadedRoutes))}}return Ot(r).pipe(Ls())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):re(null);const o=r.pipe(Bt(s=>{var a;return null===s?re(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return i.loadComponent&&!i._loadedComponent?Ot([o,this.loader.loadComponent(i)]).pipe(Ls()):o})}}return n.\u0275fac=function(e){return new(e||n)(G(cn),G(wm),G(ho),G(rI),G(P_))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N_=new le("");let oI=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof __?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof us&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof SS&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new SS(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Tg()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function Oa(n,t){return{\u0275kind:n,\u0275providers:t}}function k_(n){return[{provide:R_,multi:!0,useValue:n}]}function aI(){const n=Nt(Sn);return t=>{var e,i;const r=n.get(Ta);if(t!==r.components[0])return;const o=n.get(cn),s=n.get(lI);1===n.get(V_)&&o.initialNavigation(),null===(e=n.get(uI,null,fe.Optional))||void 0===e||e.setUpPreloading(),null===(i=n.get(N_,null,fe.Optional))||void 0===i||i.init(),o.resetRootComponentType(r.componentTypes[0]),s.next(),s.complete()}}const lI=new le("",{factory:()=>new Ve}),V_=new le("",{providedIn:"root",factory:()=>1});const uI=new le("");function zG(n){return Oa(0,[{provide:uI,useExisting:HG},{provide:rI,useExisting:n}])}const cI=new le("ROUTER_FORROOT_GUARD"),WG=[km,{provide:gS,useClass:d_},{provide:cn,useFactory:nI},Cu,{provide:cs,useFactory:function sI(n){return n.routerState.root},deps:[cn]},P_];function KG(){return new VD("Router",cn)}let dI=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[WG,[],k_(e),{provide:cI,useFactory:XG,deps:[[cn,new Ml,new Al]]},{provide:gh,useValue:i||{}},null!=i&&i.useHash?{provide:rs,useClass:fB}:{provide:rs,useClass:ub},{provide:N_,useFactory:()=>{const n=Nt(cn),t=Nt(Mj),e=Nt(gh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new oI(n,t,e)}},null!=i&&i.preloadingStrategy?zG(i.preloadingStrategy).\u0275providers:[],{provide:VD,multi:!0,useFactory:KG},null!=i&&i.initialNavigation?QG(i):[],[{provide:hI,useFactory:aI},{provide:OD,multi:!0,useExisting:hI}]]}}static forChild(e){return{ngModule:n,providers:[k_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(G(cI,8))},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[b_]}),n})();function XG(n){return"guarded"}function QG(n){return["disabled"===n.initialNavigation?Oa(3,[{provide:tu,multi:!0,useFactory:()=>{const t=Nt(cn);return()=>{t.setUpLocationChangeListener()}}},{provide:V_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oa(2,[{provide:V_,useValue:0},{provide:tu,multi:!0,deps:[Sn],useFactory:t=>{const e=t.get(dB,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(cn),a=t.get(lI);(function r(o){t.get(cn).events.pipe(en(a=>a instanceof us||a instanceof oh||a instanceof bS),ve(a=>a instanceof us||a instanceof oh&&(0===a.code||1===a.code)&&null),en(a=>null!==a),Pn(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),s.afterPreactivation=()=>(o(!0),i||a.closed?re(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const hI=new le("");function fI(n,t,e,i,r,o,s){try{var a=n[o](s),l=a.value}catch(u){return void e(u)}a.done?t(l):Promise.resolve(l).then(i,r)}function Gn(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(l){fI(o,i,r,s,a,"next",l)}function a(l){fI(o,i,r,s,a,"throw",l)}s(void 0)})}}class yh{}class Su extends yh{constructor(t){super(),this.errorMessage=t}get Type(){return"ErrorOccurredMessage"}}class Ch extends yh{constructor(t,e,i,r){super(),this.positions=t,this.userPos=e,this.title=i,this.details=r}get Type(){return"ShowMapMessage"}}let e3=(()=>{class n{get BaseUrl(){return"https://api.sr.se/api/v2/"}get FormatParam(){return"format=json"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t3{}function B_(n){return n*Math.PI/180}function pI(n,t,e,i){let o=B_(i-t),s=B_(n),a=B_(e),l=6371*Math.acos(Math.sin(s)*Math.sin(a)+Math.cos(s)*Math.cos(a)*Math.cos(o));return Math.round(l)}function j_(n,t){const e="object"==typeof t;return new Promise((i,r)=>{let s,o=!1;n.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):e?i(t.defaultValue):r(new du)}})})}class gI{}class mI{}class $r{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class i3{encodeKey(t){return _I(t)}encodeValue(t){return _I(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const o3=/%(\d[a-f0-9])/gi,s3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _I(n){return encodeURIComponent(n).replace(o3,(t,e)=>{var i;return null!==(i=s3[e])&&void 0!==i?i:t})}function Eh(n){return`${n}`}class Eo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new i3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Eh):[Eh(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Eo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Eh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Eh(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class a3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function vI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yI(n){return typeof Blob<"u"&&n instanceof Blob}function CI(n){return typeof FormData<"u"&&n instanceof FormData}class Iu{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function l3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $r),this.context||(this.context=new a3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Eo,this.urlWithParams=e}serializeBody(){return null===this.body?null:vI(this.body)||yI(this.body)||CI(this.body)||function u3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Eo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CI(this.body)?null:yI(this.body)?this.body.type||null:vI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Eo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),c)),new Iu(i,r,s,{params:c,headers:u,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var qt=(()=>((qt=qt||{})[qt.Sent=0]="Sent",qt[qt.UploadProgress=1]="UploadProgress",qt[qt.ResponseHeader=2]="ResponseHeader",qt[qt.DownloadProgress=3]="DownloadProgress",qt[qt.Response=4]="Response",qt[qt.User=5]="User",qt))();class H_{constructor(t,e=200,i="OK"){this.headers=t.headers||new $r,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class U_ extends H_{constructor(t={}){super(t),this.type=qt.ResponseHeader}clone(t={}){return new U_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wh extends H_{constructor(t={}){super(t),this.type=qt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class EI extends H_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function G_(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wI=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Iu)o=e;else{let l,u;l=r.headers instanceof $r?r.headers:new $r(r.headers),r.params&&(u=r.params instanceof Eo?r.params:new Eo({fromObject:r.params})),o=new Iu(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=re(o).pipe(yo(l=>this.handler.handle(l)));if(e instanceof Iu||"events"===r.observe)return s;const a=s.pipe(en(l=>l instanceof wh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ve(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ve(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ve(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ve(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Eo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,G_(r,i))}post(e,i,r={}){return this.request("POST",e,G_(r,i))}put(e,i,r={}){return this.request("PUT",e,G_(r,i))}}return n.\u0275fac=function(e){return new(e||n)(G(gI))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class TI{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const $_=new le("HTTP_INTERCEPTORS");let c3=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const d3=/^\)\]\}',?\n/;let DI=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ue(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=r.statusText||"OK",p=new $r(r.getAllResponseHeaders()),g=function h3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new U_({headers:p,status:r.status,statusText:f,url:g}),s},l=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),_=null;204!==p&&(_=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=_?200:0);let y=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof _){const v=_;_=_.replace(d3,"");try{_=""!==_?JSON.parse(_):null}catch(C){_=v,y&&(y=!1,_={error:C,text:_})}}y?(i.next(new wh({body:_,headers:f,status:p,statusText:g,url:m||void 0})),i.complete()):i.error(new EI({error:_,headers:f,status:p,statusText:g,url:m||void 0}))},u=f=>{const{url:p}=a(),g=new EI({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(g)};let c=!1;const d=f=>{c||(i.next(a()),c=!0);let p={type:qt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:qt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),e.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",h)),r.send(o),i.next({type:qt.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",l),r.removeEventListener("timeout",u),e.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(G(Ob))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const z_=new le("XSRF_COOKIE_NAME"),W_=new le("XSRF_HEADER_NAME");class bI{}let f3=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yb(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(G(an),G(iu),G(z_))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),K_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(G(bI),G(W_))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),p3=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get($_,[]);this.chain=i.reduceRight((r,o)=>new TI(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(G(mI),G(Sn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),g3=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:K_,useClass:c3}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:z_,useValue:e.cookieName}:[],e.headerName?{provide:W_,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[K_,{provide:$_,useExisting:K_,multi:!0},{provide:bI,useClass:f3},{provide:z_,useValue:"XSRF-TOKEN"},{provide:W_,useValue:"X-XSRF-TOKEN"}]}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[wI,{provide:gI,useClass:p3},DI,{provide:mI,useExisting:DI}],imports:[g3.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Mu=(()=>{class n{constructor(){}logInfo(e){console.info(e)}logError(e){console.error(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();var xa=(()=>{return(n=xa||(xa={}))[n.V\u00e4gtrafik=0]="V\xe4gtrafik",n[n.Kollektivtrafik=1]="Kollektivtrafik",n[n.PlaneradSt\u00f6rening=2]="PlaneradSt\xf6rening",n[n.\u00d6vrigt=3]="\xd6vrigt",xa;var n})(),Au=(()=>{return(n=Au||(Au={})).V\u00e4garbete="V\xe4garbete",n.Trafikst\u00f6rning="Trafikst\xf6rning",n.TrafikOlycka="Trafikolycka",Au;var n})();let SI=(()=>{class n extends e3{constructor(e,i){super(),this.http=e,this.logger=i,this.categoryMap={0:"V\xe4gtrafik",1:"Kollektivtrafik",2:"Planerad st\xf6rning",3:"\xd6vrigt"},this.priorityNameMap={0:"Empty",1:"Mycket allvarlig h\xe4ndelse",2:"Stor h\xe4ndelse",3:"St\xf6rning",4:"Information",5:"Mindre st\xf6rning"}}fetchAllTrafficAreas(){var e=this;return Gn(function*(){let i=`${e.BaseUrl}traffic/areas/?page=1&size=100&${e.FormatParam}`;const r=yield j_(e.http.get(`${i}`));return r.areas.sort((o,s)=>o.name.localeCompare(s.name)),r.areas})()}fetchClosestTrafficAreaForPosition(e){var i=this;return Gn(function*(){let r=`${i.BaseUrl}traffic/areas/?longitude=${e.lng}&latitude=${e.lat}&${i.FormatParam}`;return(yield j_(i.http.get(`${r}`))).area})()}fetchAllTrafficMessages(e){var i=this;return Gn(function*(){let r=`${i.BaseUrl}traffic/messages/?page=1&size=200&${i.FormatParam}`;return yield i.fetchMessages(r,e)})()}fetchAllTrafficMessagesForArea(e,i){var r=this;return Gn(function*(){let o=`${r.BaseUrl}traffic/messages/?trafficareaname=${e}&page=1&size=100&${r.FormatParam}`;return yield r.fetchMessages(o,i)})()}getCachedMessageFromId(e){if(this.cachedMessages)return this.cachedMessages.find(i=>i.id===e)}fetchMessages(e,i){var r=this;return Gn(function*(){const o=yield j_(r.http.get(`${e}`)),s=[];return o.messages.forEach(a=>{let l=new t3;if(l.category=a.category,l.categoryName=r.categoryMap[a.category],l.priorityName=r.priorityNameMap[a.priority],l.priority=a.priority,l.description=a.description,l.title=a.title,l.subCategory=a.subcategory,l.exactLocation=a.exactlocation,l.latitude=a.latitude,l.longitude=a.longitude,l.id=a.id,i.lng&&i.lat&&a.latitude&&a.longitude)try{l.distance=pI(i.lat,i.lng,a.latitude,a.longitude)}catch(u){r.logger.logError(u)}a.createddate&&(l.createdDate=function n3(n){return"/Date(-62135596800000)/"===n?null:new Date(JSON.parse(n.match(/\d+/)[0]))}(a.createddate)),s.push(l)}),s.sort((a,l)=>a.priority<l.priority?-1:1),r.cachedMessages=s,r.cachedMessages})()}}return n.\u0275fac=function(e){return new(e||n)(G(wI),G(Mu))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ds=(()=>{class n{constructor(){this.subject=new Ve}sendMessage(e){this.subject.next(e)}getMessage(){return this.subject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_3=(()=>{class n{constructor(){this.localStorage=window.localStorage}get(e){if(this.isSupported){const i=this.localStorage.getItem(e);if(i)try{return JSON.parse(i)}catch{}}return null}set(e,i){return!!this.isSupported&&(this.localStorage.setItem(e,JSON.stringify(i)),!0)}get isSupported(){return!!this.localStorage}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var s=0;s<r.length;s++){if(r[s]==e)return o;r[s].attributes&&r[s].attributes[i]&&1==r[s].nodeType&&o++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const o=i.offsetHeight,s=i.getBoundingClientRect(),a=this.getViewport();let l,u;s.top+o+r.height>a.height?(l=-1*r.height,e.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,e.style.transformOrigin="top"),u=r.width>a.width?-1*s.left:s.left+r.width>a.width?-1*(s.left+r.width-a.width):0,e.style.top=l+"px",e.style.left=u+"px"}static absolutePosition(e,i){let f,p,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,s=r.width,a=i.offsetHeight,l=i.offsetWidth,u=i.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport();u.top+a+o>h.height?(f=u.top+c-o,e.style.transformOrigin="bottom",f<0&&(f=c)):(f=a+u.top+c,e.style.transformOrigin="top"),p=u.left+s>h.width?Math.max(0,u.left+d+l-s):u.left+d,e.style.top=f+"px",e.style.left=p+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return o.test(l.getPropertyValue("overflow"))||o.test(l.getPropertyValue("overflowX"))||o.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let u=l.split(",");for(let c of u){let d=this.findSingle(a,c);d&&s(d)&&i.push(d)}}9!==a.nodeType&&s(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),c=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);c<0?e.scrollTop=d+c:c+f>h&&(e.scrollTop=d+c-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,s=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&r.push(o);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class II{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=K.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Ct{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,s,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((s=t.length)!=e.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,u=e instanceof Date;if(l!=u)return!1;if(l&&u)return t.getTime()==e.getTime();var c=t instanceof RegExp,d=e instanceof RegExp;if(c!=d)return!1;if(c&&d)return t.toString()==e.toString();var h=Object.keys(t);if((s=h.length)!==Object.keys(e).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,h[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(t[a=h[o]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,s=i.length;o<s;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>e){i.splice(s,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var MI=0;function AI(){return"pr_id_"+ ++MI}var oi=function v3(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,s,a)=>{s&&(s.style.zIndex=String(((o,s)=>{let a=n.length>0?n[n.length-1]:{key:o,value:s},l=a.value+(a.key===o?0:s)+1;return n.push({key:o,value:l}),l})(o,a)))},clear:o=>{o&&((o=>{n=n.filter(s=>s.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const y3=["*"];let _n=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Ou=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[_n.STARTS_WITH,_n.CONTAINS,_n.NOT_CONTAINS,_n.ENDS_WITH,_n.EQUALS,_n.NOT_EQUALS],numeric:[_n.EQUALS,_n.NOT_EQUALS,_n.LESS_THAN,_n.LESS_THAN_OR_EQUAL_TO,_n.GREATER_THAN,_n.GREATER_THAN_OR_EQUAL_TO],date:[_n.DATE_IS,_n.DATE_IS_NOT,_n.DATE_BEFORE,_n.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Ve,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OI=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),C3=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Ct.removeAccents(i.toString()).toLocaleLowerCase(r);return Ct.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Ct.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Ct.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Ct.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Ct.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Ct.removeAccents(i.toString()).toLocaleLowerCase(r),s=Ct.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==s.indexOf(o,s.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Ct.removeAccents(e.toString()).toLocaleLowerCase(r)==Ct.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Ct.removeAccents(e.toString()).toLocaleLowerCase(r)==Ct.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Ct.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,s){let a=[];if(e)for(let l of e)for(let u of i){let c=Ct.resolveFieldData(l,u);if(this.filters[o](c,r,s)){a.push(l);break}}return a}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q_=(()=>{class n{constructor(){this.messageSource=new Ve,this.clearSource=new Ve,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),E3=(()=>{class n{constructor(){this.clickSource=new Ve,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=jt({type:n,selectors:[["p-header"]],ngContentSelectors:y3,decls:1,vars:0,template:function(e,i){1&e&&(ma(),Jo(0))},encapsulation:2}),n})(),Ra=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(w(lr))},n.\u0275dir=ae({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Th=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})(),Y_=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(K.removeClass(i,"p-ink-active"),!K.getHeight(i)&&!K.getWidth(i)){let a=Math.max(K.getOuterWidth(this.el.nativeElement),K.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=K.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-K.getWidth(i)/2,s=e.pageY-r.top+document.body.scrollLeft-K.getHeight(i)/2;i.style.top=s+"px",i.style.left=o+"px",K.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&K.removeClass(a,"p-ink-active")},401)}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&K.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),K.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),K.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(lt),w(Ou,8))},n.\u0275dir=ae({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Dh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})(),D3=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,K.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&K.addClass(e,i);let r=this.getIconClass();r&&K.addMultipleClasses(e,r);let o=K.findSingle(this.el.nativeElement,".p-button-label");o?this.el.nativeElement.insertBefore(e,o):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=K.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=K.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(K.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(w(kt))},n.\u0275dir=ae({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On,Dh]}),n})();class xI{}const zr="*";function xu(n,t){return{type:7,name:n,definitions:t,options:{}}}function wo(n,t=null){return{type:4,styles:t,timings:n}}function RI(n,t=null){return{type:2,steps:n,options:t}}function qi(n){return{type:6,styles:n,offset:null}}function Z_(n,t,e){return{type:0,name:n,styles:t,options:e}}function Wr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function PI(n,t=null){return{type:8,animation:n,options:t}}function I3(n=null){return{type:9,options:n}}function LI(n,t=null){return{type:10,animation:n,options:t}}function M3(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function FI(n){Promise.resolve().then(n)}class Ru{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class NI{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?FI(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}let kI=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(w(ki),w(kt))},n.\u0275dir=ae({type:n}),n})(),hs=(()=>{class n extends kI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=function fn(n){return so(()=>{const t=n.prototype.constructor,e=t[Sr]||Ap(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Sr]||Ap(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(n)))(i||n)}}(),n.\u0275dir=ae({type:n,features:[Qe]}),n})();const si=new le("NgValueAccessor"),x3={provide:si,useExisting:We(()=>bh),multi:!0},P3=new le("CompositionEventMode");let bh=(()=>{class n extends kI{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function R3(){const n=cr()?cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(w(ki),w(kt),w(P3,8))},n.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[at([x3]),Qe]}),n})();const vn=new le("NgValidators"),Do=new le("NgAsyncValidators");function qI(n){return null!=n}function YI(n){return zl(n)?Ot(n):n}function ZI(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function XI(n,t){return t.map(e=>e(n))}function QI(n){return n.map(t=>function N3(n){return!n.validate}(t)?t:e=>t.validate(e))}function Q_(n){return null!=n?function JI(n){if(!n)return null;const t=n.filter(qI);return 0==t.length?null:function(e){return ZI(XI(e,t))}}(QI(n)):null}function J_(n){return null!=n?function eM(n){if(!n)return null;const t=n.filter(qI);return 0==t.length?null:function(e){return function A3(...n){const t=gC(n),{args:e,keys:i}=Jb(n),r=new Ue(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;hi(e[c]).subscribe(new Dt(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(i?eS(i,a):a),o.complete())}))}});return t?r.pipe(o_(t)):r}(XI(e,t).map(YI)).pipe(ve(ZI))}}(QI(n)):null}function tM(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ev(n){return n?Array.isArray(n)?n:[n]:[]}function Ih(n,t){return Array.isArray(n)?n.includes(t):n===t}function rM(n,t){const e=ev(t);return ev(n).forEach(r=>{Ih(e,r)||e.push(r)}),e}function oM(n,t){return ev(t).filter(e=>!Ih(n,e))}class sM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Q_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=J_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class xn extends sM{get formDirective(){return null}get path(){return null}}class Kr extends sM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let lM=(()=>{class n extends class aM{constructor(t){this._cd=t}get isTouched(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.touched)}get isUntouched(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.untouched)}get isPristine(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.pristine)}get isDirty(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.dirty)}get isValid(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.valid)}get isInvalid(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.invalid)}get isPending(){var t,e;return!(null===(t=this._cd)||void 0===t||null===(e=t.control)||void 0===e||!e.pending)}get isSubmitted(){var t;return!(null===(t=this._cd)||void 0===t||!t.submitted)}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(w(Kr,2))},n.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&va("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Qe]}),n})();const Pu="VALID",Ah="INVALID",Pa="PENDING",Lu="DISABLED";function cM(n){return Array.isArray(n)?Q_(n):n||null}function dM(n){return Array.isArray(n)?J_(n):n||null}function Oh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Fu(n,t){var e,i;(function av(n,t){const e=function nM(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(tM(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function iM(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(tM(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ph(t._rawValidators,r),Ph(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&(null===(e=(i=t.valueAccessor).setDisabledState)||void 0===e||e.call(i,!0)),function W3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gM(n,t)})}(n,t),function q3(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function K3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gM(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function z3(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ph(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gM(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function CM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const n$={provide:Kr,useExisting:We(()=>Fh)},DM=(()=>Promise.resolve())();let Fh=(()=>{class n extends Kr{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new class extends class pM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=cM(this._rawValidators),this._composedAsyncValidatorFn=dM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Pu}get invalid(){return this.status===Ah}get pending(){return this.status==Pa}get disabled(){return this.status===Lu}get enabled(){return this.status!==Lu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=cM(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=dM(t)}addValidators(t){this.setValidators(rM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oM(t,this._rawAsyncValidators))}hasValidator(t){return Ih(this._rawValidators,t)}hasAsyncValidator(t){return Ih(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pa,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lu,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pu,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pu||this.status===Pa)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lu:Pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pa,this._hasOwnPendingAsyncValidator=!0;const e=YI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?Lu:this.errors?Ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pa)?Pa:this._anyControlsHaveStatus(Ah)?Ah:Pu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Oh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,i){super(function rv(n){return(Oh(n)?n.validators:n)||null}(e),function ov(n,t){return(Oh(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=CM(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){CM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new pe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function uv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===bh?e=o:function X3(n){return Object.getPrototypeOf(n.constructor)===hs}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function lv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){DM.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function kr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);DM.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function xh(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(w(xn,9),w(vn,10),w(Do,10),w(si,10),w(ii,8))},n.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([n$]),Qe,Nn]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[SM]}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[I$]}),n})(),O$=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?K.appendChild(this.container,this.el.nativeElement):K.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),K.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?oi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&oi.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+K.getWindowScrollLeft(),top:e.top+K.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+K.getOuterWidth(this.el.nativeElement),r=e.top+(K.getOuterHeight(this.el.nativeElement)-K.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-K.getOuterWidth(this.container),r=e.top+(K.getOuterHeight(this.el.nativeElement)-K.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(K.getOuterWidth(this.el.nativeElement)-K.getOuterWidth(this.container))/2,r=e.top-K.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(K.getOuterWidth(this.el.nativeElement)-K.getOuterWidth(this.container))/2,r=e.top+K.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return K.hasClass(e,"p-inputwrapper")?K.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=K.getOuterWidth(this.container),s=K.getOuterHeight(this.container),a=K.getViewport();return r+o>a.width||r<0||i<0||i+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new II(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):K.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&oi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(lt),w(Ou))},n.\u0275dir=ae({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Nn]}),n})(),x$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();const R$=["element"],P$=["content"];function L$(n,t){1&n&&yt(0)}const _v=function(n,t){return{$implicit:n,options:t}};function F$(n,t){if(1&n&&(Gt(0),B(1,L$,1,0,"ng-container",7),$t()),2&n){const e=A(2);S(1),D("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",jn(2,_v,e.loadedItems,e.getContentOptions()))}}function N$(n,t){1&n&&yt(0)}function k$(n,t){if(1&n&&(Gt(0),B(1,N$,1,0,"ng-container",7),$t()),2&n){const e=t.$implicit,i=t.index,r=A(3);S(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",jn(2,_v,e,r.getOptions(i)))}}const V$=function(n){return{"p-scroller-loading":n}};function B$(n,t){if(1&n&&(F(0,"div",8,9),B(2,k$,2,5,"ng-container",10),V()),2&n){const e=A(2);D("ngClass",nt(4,V$,e.d_loading))("ngStyle",e.contentStyle),S(2),D("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function j$(n,t){1&n&&vt(0,"div",11),2&n&&D("ngStyle",A(2).spacerStyle)}function H$(n,t){1&n&&yt(0)}const U$=function(n){return{numCols:n}},$M=function(n){return{options:n}};function G$(n,t){if(1&n&&(Gt(0),B(1,H$,1,0,"ng-container",7),$t()),2&n){const e=t.index,i=A(4);S(1),D("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",nt(4,$M,i.getLoaderOptions(e,i.both&&nt(2,U$,i._numItemsInViewport.cols))))}}function $$(n,t){if(1&n&&(Gt(0),B(1,G$,2,6,"ng-container",14),$t()),2&n){const e=A(3);S(1),D("ngForOf",e.loaderArr)}}function z$(n,t){1&n&&yt(0)}const W$=function(){return{styleClass:"p-scroller-loading-icon"}};function K$(n,t){if(1&n&&(Gt(0),B(1,z$,1,0,"ng-container",7),$t()),2&n){const e=A(4);S(1),D("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",nt(3,$M,lm(2,W$)))}}function q$(n,t){1&n&&vt(0,"i",16)}function Y$(n,t){if(1&n&&(B(0,K$,2,5,"ng-container",0),B(1,q$,1,0,"ng-template",null,15,Lr)),2&n){const e=In(2);D("ngIf",A(3).loaderIconTemplate)("ngIfElse",e)}}const Z$=function(n){return{"p-component-overlay":n}};function X$(n,t){if(1&n&&(F(0,"div",12),B(1,$$,2,1,"ng-container",0),B(2,Y$,3,2,"ng-template",null,13,Lr),V()),2&n){const e=In(3),i=A(2);D("ngClass",nt(3,Z$,!i.loaderTemplate)),S(1),D("ngIf",i.loaderTemplate)("ngIfElse",e)}}const Q$=function(n,t){return{"p-scroller":!0,"p-both-scroll":n,"p-horizontal-scroll":t}};function J$(n,t){if(1&n){const e=zt();Gt(0),F(1,"div",2,3),ie("scroll",function(r){return ue(e),ce(A().onContainerScroll(r))}),B(3,F$,2,5,"ng-container",0),B(4,B$,3,6,"ng-template",null,4,Lr),B(6,j$,1,1,"div",5),B(7,X$,4,5,"div",6),V(),$t()}if(2&n){const e=In(5),i=A();S(1),Vn(i._styleClass),D("ngStyle",i._style)("ngClass",jn(10,Q$,i.both,i.horizontal)),st("id",i._id)("tabindex",i.tabindex),S(2),D("ngIf",i.contentTemplate)("ngIfElse",e),S(3),D("ngIf",i._showSpacer),S(1),D("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function ez(n,t){1&n&&yt(0)}const tz=function(n,t){return{rows:n,columns:t}};function nz(n,t){if(1&n&&(Gt(0),B(1,ez,1,0,"ng-container",7),$t()),2&n){const e=A(2);S(1),D("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",jn(5,_v,e.items,jn(2,tz,e._items,e.loadedColumns)))}}function iz(n,t){if(1&n&&(Jo(0),B(1,nz,2,8,"ng-container",17)),2&n){const e=A();S(1),D("ngIf",e.contentTemplate)}}const rz=["*"];let oz=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new pe,this.onScroll=new pe,this.onScrollIndexChange=new pe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._delay=0,this._resizeDelay=10,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1,this._disabled||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(this.initialized&&!i&&(e.items||e.itemSize||e.scrollHeight||e.scrollWidth)&&this.init(),e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.setContentEl(this.contentEl),this.init(),this.defaultWidth=K.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=K.getHeight(this.elementViewChild.nativeElement),this.initialized=!0}ngAfterViewChecked(){this.calculateAutoSize()}ngOnDestroy(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){var i,r;this.contentEl=e||(null===(i=this.contentViewChild)||void 0===i?void 0:i.nativeElement)||K.findSingle(null===(r=this.elementViewChild)||void 0===r?void 0:r.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems}getElementRef(){return this.elementViewChild}scrollTo(e){var i,r;this.lastScrollPos=this.both?{top:0,left:0}:0,null===(i=this.elementViewChild)||void 0===i||null===(r=i.nativeElement)||void 0===r||r.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),s=(u=0,c)=>u<=c?0:u,a=(u,c,d)=>u*c+d,l=(u=0,c=0)=>this.scrollTo({left:u,top:c,behavior:i});if(this.both){const u={rows:s(e[0],r[0]),cols:s(e[1],r[1])};(u.rows!==this.first.rows||u.cols!==this.first.cols)&&l(a(u.cols,this._itemSize[1],o.left),a(u.rows,this._itemSize[0],o.top))}else{const u=s(e,r);u!==this.first&&(this.horizontal?l(a(u,this._itemSize,o.left),0):l(0,a(u,this._itemSize,o.top)))}}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:s}=this.getRenderedRange(),a=(c=0,d=0)=>this.scrollTo({left:c,top:d,behavior:r}),u="to-end"===i;if("to-start"===i){if(this.both)s.first.rows-o.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>e){const c=(s.first-1)*this._itemSize;this.horizontal?a(c,0):a(0,c)}}else if(u)if(this.both)s.last.rows-o.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=e+1){const c=(s.first+1)*this._itemSize;this.horizontal?a(c,0):a(0,c)}}else this.scrollToIndex(e,r)}getRenderedRange(){var e;const i=(s,a)=>Math.floor(s/(a||s));let r=this.first,o=0;if(null!==(e=this.elementViewChild)&&void 0!==e&&e.nativeElement){const{scrollTop:s,scrollLeft:a}=this.elementViewChild.nativeElement;this.both?(r={rows:i(s,this._itemSize[0]),cols:i(a,this._itemSize[1])},o={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols}):(r=i(this.horizontal?a:s,this._itemSize),o=r+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:r,last:o}}}calculateNumItems(){var e,i;const r=this.getContentPosition(),o=null!==(e=this.elementViewChild)&&void 0!==e&&e.nativeElement?this.elementViewChild.nativeElement.offsetWidth-r.left:0,s=null!==(i=this.elementViewChild)&&void 0!==i&&i.nativeElement?this.elementViewChild.nativeElement.offsetHeight-r.top:0,a=(d,h)=>Math.ceil(d/(h||d)),l=d=>Math.ceil(d/2),u=this.both?{rows:a(s,this._itemSize[0]),cols:a(o,this._itemSize[1])}:a(this.horizontal?o:s,this._itemSize);return{numItemsInViewport:u,numToleratedItems:this.d_numToleratedItems||(this.both?[l(u.rows),l(u.cols)]:l(u))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,u,c=!1)=>this.getLast(a+l+(a<u?2:3)*u,c),o=this.first,s=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&this.handleEvents("onLazyLoad",{first:o,last:s})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:e,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(e<this.defaultWidth?e:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:s,x:i+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){var e;if(null!==(e=this.elementViewChild)&&void 0!==e&&e.nativeElement){const i=this.elementViewChild.nativeElement.parentElement.parentElement,r=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||i.offsetWidth}px`,o=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||i.offsetHeight}px`,s=(a,l)=>this.elementViewChild.nativeElement.style[a]=l;this.both||this.horizontal?(s("height",o),s("width",r)):s("height",o)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,s,a=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*s+a+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl){const i=e?e.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${s}px, ${a}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const s=r(i,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(m,_)=>m?m>_?m-_:m:0,s=(m,_)=>Math.floor(m/(_||m)),a=(m,_,y,v,C,E)=>m<=C?C:E?y-v-C:_+C-1,l=(m,_,y,v,C,E,M)=>m<=E?0:Math.max(0,M?m<_?y:m-E:m>_?y:m-2*E),u=(m,_,y,v,C,E=!1)=>{let M=_+v+2*C;return m>=C&&(M+=C+1),this.getLast(M,E)},c=o(i.scrollTop,r.top),d=o(i.scrollLeft,r.left);let h=this.both?{rows:0,cols:0}:0,f=this.last,p=!1,g=this.lastScrollPos;if(this.both){const m=this.lastScrollPos.top<=c,_=this.lastScrollPos.left<=d,y={rows:s(c,this._itemSize[0]),cols:s(d,this._itemSize[1])},v={rows:a(y.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],m),cols:a(y.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};h={rows:l(y.rows,v.rows,this.first.rows,0,0,this.d_numToleratedItems[0],m),cols:l(y.cols,v.cols,this.first.cols,0,0,this.d_numToleratedItems[1],_)},f={rows:u(y.rows,h.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(y.cols,h.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},p=h.rows!==this.first.rows||f.rows!==this.last.rows||h.cols!==this.first.cols||f.cols!==this.last.cols,g={top:c,left:d}}else{const m=this.horizontal?d:c,_=this.lastScrollPos<=m,y=s(m,this._itemSize);h=l(y,a(y,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,_),this.first,0,0,this.d_numToleratedItems,_),f=u(y,h,0,this.numItemsInViewport,this.d_numToleratedItems),p=h!==this.first||f!==this.last,g=m}return{first:h,last:f,isRangeChanged:p,scrollPos:g}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(e);if(o){const a={first:i,last:r};this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.handleEvents("onLazyLoad",a)}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);i&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.cd.detectChanges())},this._delay)}else this.onScrollChange(e)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(this.elementViewChild){const[e,i]=[K.getWidth(this.elementViewChild.nativeElement),K.getHeight(this.elementViewChild.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(w(ii),w(lt))},n.\u0275cmp=jt({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&ur(r,Ra,4),2&e){let o;Lt(o=Ft())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(ni(R$,5),ni(P$,5)),2&e){let r;Lt(r=Ft())&&(i.elementViewChild=r.first),Lt(r=Ft())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",delay:"delay",resizeDelay:"resizeDelay",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Nn],ngContentSelectors:rz,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(ma(),B(0,J$,8,13,"ng-container",0),B(1,iz,2,1,"ng-template",null,1,Lr)),2&e){const r=In(2);D("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Wi,au,ri,os,jr],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}\n"],encapsulation:2}),n})(),zM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})(),sz=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const e=K.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(w(kt))},n.\u0275dir=ae({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:["pAutoFocus","autofocus"]}}),n})(),az=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();function lz(n,t){if(1&n&&(F(0,"span"),tt(1),V()),2&n){const e=A();S(1),Ui(e.label||"empty")}}function uz(n,t){1&n&&yt(0)}const ku=function(n){return{height:n}},cz=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},vv=function(n){return{$implicit:n}},dz=["container"],hz=["filter"],fz=["in"],pz=["editableInput"],gz=["items"],mz=["scroller"];function _z(n,t){if(1&n&&(Gt(0),tt(1),$t()),2&n){const e=A(2);S(1),Ui(e.label||"empty")}}function vz(n,t){1&n&&yt(0)}const yz=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function Cz(n,t){if(1&n&&(F(0,"span",12),B(1,_z,2,1,"ng-container",13),B(2,vz,1,0,"ng-container",14),V()),2&n){const e=A();D("ngClass",nt(9,yz,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),st("id",e.labelId),S(1),D("ngIf",!e.selectedItemTemplate),S(1),D("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",nt(11,vv,e.selectedOption))}}const Ez=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function wz(n,t){if(1&n&&(F(0,"span",15),tt(1),V()),2&n){const e=A();D("ngClass",nt(2,Ez,null==e.placeholder||0===e.placeholder.length)),S(1),Ui(e.placeholder||"empty")}}function Tz(n,t){if(1&n){const e=zt();F(0,"input",16,17),ie("click",function(){return ue(e),ce(A().onEditableInputClick())})("input",function(r){return ue(e),ce(A().onEditableInputChange(r))})("focus",function(r){return ue(e),ce(A().onEditableInputFocus(r))})("blur",function(r){return ue(e),ce(A().onInputBlur(r))}),V()}if(2&n){const e=A();D("disabled",e.disabled),st("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function Dz(n,t){if(1&n){const e=zt();F(0,"i",18),ie("click",function(r){return ue(e),ce(A().clear(r))}),V()}}function bz(n,t){1&n&&yt(0)}function Sz(n,t){1&n&&yt(0)}const WM=function(n){return{options:n}};function Iz(n,t){if(1&n&&(Gt(0),B(1,Sz,1,0,"ng-container",14),$t()),2&n){const e=A(3);S(1),D("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",nt(2,WM,e.filterOptions))}}function Mz(n,t){if(1&n){const e=zt();F(0,"div",27)(1,"input",28,29),ie("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return ue(e),ce(A(3).onKeydown(r,!1))})("input",function(r){return ue(e),ce(A(3).onFilterInputChange(r))}),V(),vt(3,"span",30),V()}if(2&n){const e=A(3);S(1),D("value",e.filterValue||""),st("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function Az(n,t){if(1&n&&(F(0,"div",24),ie("click",function(i){return i.stopPropagation()}),B(1,Iz,2,4,"ng-container",25),B(2,Mz,4,4,"ng-template",null,26,Lr),V()),2&n){const e=In(3),i=A(2);S(1),D("ngIf",i.filterTemplate)("ngIfElse",e)}}function Oz(n,t){1&n&&yt(0)}const KM=function(n,t){return{$implicit:n,options:t}};function xz(n,t){if(1&n&&B(0,Oz,1,0,"ng-container",14),2&n){const e=t.$implicit,i=t.options;A(2),D("ngTemplateOutlet",In(7))("ngTemplateOutletContext",jn(2,KM,e,i))}}function Rz(n,t){1&n&&yt(0)}function Pz(n,t){if(1&n&&B(0,Rz,1,0,"ng-container",14),2&n){const e=t.options;D("ngTemplateOutlet",A(4).loaderTemplate)("ngTemplateOutletContext",nt(2,WM,e))}}function Lz(n,t){1&n&&(Gt(0),B(1,Pz,1,4,"ng-template",34),$t())}function Fz(n,t){if(1&n){const e=zt();F(0,"p-scroller",31,32),ie("onLazyLoad",function(r){return ue(e),ce(A(2).onLazyLoad.emit(r))}),B(2,xz,1,5,"ng-template",33),B(3,Lz,2,0,"ng-container",13),V()}if(2&n){const e=A(2);vi(nt(8,ku,e.scrollHeight)),D("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),S(3),D("ngIf",e.loaderTemplate)}}function Nz(n,t){1&n&&yt(0)}const kz=function(){return{}};function Vz(n,t){if(1&n&&(Gt(0),B(1,Nz,1,0,"ng-container",14),$t()),2&n){A();const e=In(7),i=A();S(1),D("ngTemplateOutlet",e)("ngTemplateOutletContext",jn(3,KM,i.optionsToDisplay,lm(2,kz)))}}function Bz(n,t){if(1&n&&(F(0,"span"),tt(1),V()),2&n){const e=A().$implicit,i=A(4);S(1),Ui(i.getOptionGroupLabel(e)||"empty")}}function jz(n,t){1&n&&yt(0)}function Hz(n,t){1&n&&yt(0)}const qM=function(n,t){return{$implicit:n,selectedOption:t}};function Uz(n,t){if(1&n&&(F(0,"li",40),B(1,Bz,2,1,"span",13),B(2,jz,1,0,"ng-container",14),V(),B(3,Hz,1,0,"ng-container",14)),2&n){const e=t.$implicit,i=A(2).options,r=In(5),o=A(2);D("ngStyle",nt(6,ku,i.itemSize+"px")),S(1),D("ngIf",!o.groupTemplate),S(1),D("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",nt(8,vv,e)),S(1),D("ngTemplateOutlet",r)("ngTemplateOutletContext",jn(10,qM,o.getOptionGroupChildren(e),o.selectedOption))}}function Gz(n,t){if(1&n&&(Gt(0),B(1,Uz,4,13,"ng-template",39),$t()),2&n){const e=A().$implicit;S(1),D("ngForOf",e)}}function $z(n,t){1&n&&yt(0)}function zz(n,t){if(1&n&&(Gt(0),B(1,$z,1,0,"ng-container",14),$t()),2&n){const e=A().$implicit,i=In(5),r=A(2);S(1),D("ngTemplateOutlet",i)("ngTemplateOutletContext",jn(2,qM,e,r.selectedOption))}}function Wz(n,t){if(1&n){const e=zt();F(0,"p-dropdownItem",41),ie("onClick",function(r){return ue(e),ce(A(4).onItemClick(r))}),V()}if(2&n){const e=t.$implicit,i=A().selectedOption,r=A(3);D("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Kz(n,t){1&n&&B(0,Wz,1,5,"ng-template",39),2&n&&D("ngForOf",t.$implicit)}function qz(n,t){if(1&n&&(Gt(0),tt(1),$t()),2&n){const e=A(4);S(1),Bn(" ",e.emptyFilterMessageLabel," ")}}function Yz(n,t){1&n&&yt(0,null,43)}function Zz(n,t){if(1&n&&(F(0,"li",42),B(1,qz,2,1,"ng-container",25),B(2,Yz,2,0,"ng-container",19),V()),2&n){const e=A().options,i=A(2);D("ngStyle",nt(4,ku,e.itemSize+"px")),S(1),D("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),S(1),D("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Xz(n,t){if(1&n&&(Gt(0),tt(1),$t()),2&n){const e=A(4);S(1),Bn(" ",e.emptyMessageLabel," ")}}function Qz(n,t){1&n&&yt(0,null,44)}function Jz(n,t){if(1&n&&(F(0,"li",42),B(1,Xz,2,1,"ng-container",25),B(2,Qz,2,0,"ng-container",19),V()),2&n){const e=A().options,i=A(2);D("ngStyle",nt(4,ku,e.itemSize+"px")),S(1),D("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),S(1),D("ngTemplateOutlet",i.emptyTemplate)}}function eW(n,t){if(1&n&&(F(0,"ul",35,36),B(2,Gz,2,1,"ng-container",13),B(3,zz,2,5,"ng-container",13),B(4,Kz,1,1,"ng-template",null,37,Lr),B(6,Zz,3,6,"li",38),B(7,Jz,3,6,"li",38),V()),2&n){const e=t.options,i=A(2);vi(e.contentStyle),D("ngClass",e.contentStyleClass),st("id",i.listId),S(2),D("ngIf",i.group),S(1),D("ngIf",!i.group),S(3),D("ngIf",i.filterValue&&i.isEmpty()),S(1),D("ngIf",!i.filterValue&&i.isEmpty())}}function tW(n,t){1&n&&yt(0)}const nW=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},iW=function(n){return{value:"visible",params:n}};function rW(n,t){if(1&n){const e=zt();F(0,"div",0),ie("click",function(r){return ue(e),ce(A().onOverlayClick(r))})("@overlayAnimation.start",function(r){return ue(e),ce(A().onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){return ue(e),ce(A().onOverlayAnimationEnd(r))}),B(1,bz,1,0,"ng-container",19),B(2,Az,4,2,"div",20),F(3,"div",21),B(4,Fz,4,10,"p-scroller",22),B(5,Vz,2,6,"ng-container",13),B(6,eW,8,8,"ng-template",null,23,Lr),V(),B(8,tW,1,0,"ng-container",19),V()}if(2&n){const e=A();Vn(e.panelStyleClass),D("ngClass","p-dropdown-panel p-component")("@overlayAnimation",nt(15,iW,jn(12,nW,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),S(1),D("ngTemplateOutlet",e.headerTemplate),S(1),D("ngIf",e.filter),S(1),Xg("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),S(1),D("ngIf",e.virtualScroll),S(1),D("ngIf",!e.virtualScroll),S(3),D("ngTemplateOutlet",e.footerTemplate)}}const oW=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},sW={provide:si,useExisting:We(()=>YM),multi:!0};let aW=(()=>{class n{constructor(){this.onClick=new pe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=jt({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(F(0,"li",0),ie("click",function(o){return i.onOptionClick(o)}),B(1,lz,2,1,"span",1),B(2,uz,1,0,"ng-container",2),V()),2&e&&(D("ngStyle",nt(8,ku,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",jn(10,cz,i.selected,i.disabled)),st("aria-label",i.label)("aria-selected",i.selected),S(1),D("ngIf",!i.template),S(1),D("ngTemplateOutlet",i.template)("ngTemplateOutletContext",nt(13,vv,i.option)))},dependencies:[Wi,ri,os,jr,Y_],encapsulation:2}),n})(),YM=(()=>{class n{constructor(e,i,r,o,s,a,l){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=s,this.config=a,this.overlayService=l,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new pe,this.onFilter=new pe,this.onFocus=new pe,this.onBlur=new pe,this.onClick=new pe,this.onShow=new pe,this.onHide=new pe,this.onClear=new pe,this.onLazyLoad=new pe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=AI()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Ct.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(OI.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(OI.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Ct.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?Ct.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?Ct.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Ct.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Ct.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(K.findSingle(this.overlay,"li.p-highlight")&&K.scrollInView(this.itemsWrapper,K.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return K.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=K.findSingle(this.overlay,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.appendOverlay(),this.autoZIndex&&oi.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=K.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&oi.clear(e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):K.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=K.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?K.absolutePosition(this.overlay,this.containerViewChild.nativeElement):K.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let s=this.optionsToDisplay[r.groupIndex-1];s&&(this.selectItem(e,this.getOptionGroupChildren(s)[this.getOptionGroupChildren(s).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let s=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let s=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||Ct.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let s=0;s<i.length&&(r=s,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[s])),-1===o);s++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let s of i)if(o=this.findOption(e,this.getOptionGroupChildren(s),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?K.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():K.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!K.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new II(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&oi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(ki),w(ii),w(lt),w(C3),w(Ou),w(E3))},n.\u0275cmp=jt({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&ur(r,Ra,4),2&e){let o;Lt(o=Ft())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(ni(dz,5),ni(hz,5),ni(fz,5),ni(pz,5),ni(gz,5),ni(mz,5)),2&e){let r;Lt(r=Ft())&&(i.containerViewChild=r.first),Lt(r=Ft())&&(i.filterViewChild=r.first),Lt(r=Ft())&&(i.accessibleViewChild=r.first),Lt(r=Ft())&&(i.editableInputViewChild=r.first),Lt(r=Ft())&&(i.itemsViewChild=r.first),Lt(r=Ft())&&(i.scroller=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&va("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[at([sW])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","pAutoFocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(F(0,"div",0,1),ie("click",function(o){return i.onMouseclick(o)}),F(2,"div",2)(3,"input",3,4),ie("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),V()(),B(5,Cz,3,13,"span",5),B(6,wz,2,4,"span",6),B(7,Tz,2,4,"input",7),B(8,Dz,1,0,"i",8),F(9,"div",9),vt(10,"span",10),V(),B(11,rW,9,17,"div",11),V()),2&e&&(Vn(i.styleClass),D("ngClass",bd(20,oW,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),S(3),D("disabled",i.disabled)("pAutoFocus",i.autofocus),st("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),S(2),D("ngIf",!i.editable&&null!=i.label),S(1),D("ngIf",!i.editable&&null==i.label),S(1),D("ngIf",i.editable),S(1),D("ngIf",i.isVisibleClearIcon),S(1),st("aria-expanded",i.overlayVisible),S(1),D("ngClass",i.dropdownIcon),S(1),D("ngIf",i.overlayVisible))},dependencies:[Wi,au,ri,os,jr,Ra,O$,oz,sz,aW],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[xu("overlayAnimation",[Wr(":enter",[qi({opacity:0,transform:"scaleY(0.8)"}),wo("{{showTransitionParams}}")]),Wr(":leave",[wo("{{hideTransitionParams}}",qi({opacity:0}))])])]},changeDetection:0}),n})(),lW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On,Th,x$,Dh,zM,az,Th,zM]}),n})(),uW=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(Fh,8),w(ii))},n.\u0275dir=ae({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&ie("input",function(o){return i.onInput(o)}),2&e&&va("p-filled",i.filled)}}),n})(),cW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();const dW=["cb"],hW=function(n,t,e){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function fW(n,t){if(1&n){const e=zt();F(0,"label",7),ie("click",function(r){ue(e);const o=A(),s=In(3);return ce(o.onClick(r,s,!0))}),tt(1),V()}if(2&n){const e=A();Vn(e.labelStyleClass),D("ngClass",ns(5,hW,e.checked(),e.disabled,e.focused)),st("for",e.inputId),S(1),Ui(e.label)}}const pW=function(n,t,e){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":t,"p-checkbox-focused":e}},gW=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},mW={provide:si,useExisting:We(()=>ZM),multi:!0};let ZM=(()=>{class n{constructor(e){this.cd=e,this.checkboxIcon="pi pi-check",this.trueValue=!0,this.falseValue=!1,this.onChange=new pe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.focused=!1}onClick(e,i,r){e.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(e),r&&i.focus())}updateModel(e){let i;this.binary?(i=this.checked()?this.falseValue:this.trueValue,this.model=i,this.onModelChange(i)):(i=this.checked()?this.model.filter(r=>!Ct.equals(r,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(i),this.model=i,this.formControl&&this.formControl.setValue(i)),this.onChange.emit({checked:i,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Ct.contains(this.value,this.model)}}return n.\u0275fac=function(e){return new(e||n)(w(ii))},n.\u0275cmp=jt({type:n,selectors:[["p-checkbox"]],viewQuery:function(e,i){if(1&e&&ni(dW,5),2&e){let r;Lt(r=Ft())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[at([mW])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,i){if(1&e){const r=zt();F(0,"div",0)(1,"div",1)(2,"input",2,3),ie("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("change",function(s){return i.handleChange(s)}),V()(),F(4,"div",4),ie("click",function(s){ue(r);const a=In(3);return ce(i.onClick(s,a,!0))}),vt(5,"span",5),V()(),B(6,fW,2,9,"label",6)}2&e&&(Vn(i.styleClass),D("ngStyle",i.style)("ngClass",ns(18,pW,i.checked(),i.disabled,i.focused)),S(2),D("readonly",i.readonly)("value",i.value)("checked",i.checked())("disabled",i.disabled),st("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("required",i.required),S(2),D("ngClass",ns(22,gW,i.checked(),i.disabled,i.focused)),S(1),D("ngClass",i.checked()?i.checkboxIcon:null),S(1),D("ngIf",i.label))},dependencies:[Wi,ri,jr],styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();const vW=["rb"],yW=function(n,t,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":t,"p-radiobutton-label-focus":e}};function CW(n,t){if(1&n){const e=zt();F(0,"label",4),ie("click",function(r){return ue(e),ce(A().select(r))}),tt(1),V()}if(2&n){const e=A(),i=In(3);Vn(e.labelStyleClass),D("ngClass",ns(5,yW,i.checked,e.disabled,e.focused)),st("for",e.inputId),S(1),Ui(e.label)}}const EW=function(n,t,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":t,"p-radiobutton-focused":e}},wW=function(n,t,e){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}},TW={provide:si,useExisting:We(()=>XM),multi:!0};let DW=(()=>{class n{constructor(){this.accessors=[]}add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XM=(()=>{class n{constructor(e,i,r){this.cd=e,this.injector=i,this.registry=r,this.onClick=new pe,this.onFocus=new pe,this.onBlur=new pe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(Kr),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,r){e.preventDefault(),!this.disabled&&(this.select(e),r&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(e){return new(e||n)(w(ii),w(Sn),w(DW))},n.\u0275cmp=jt({type:n,selectors:[["p-radioButton"]],viewQuery:function(e,i){if(1&e&&ni(vW,5),2&e){let r;Lt(r=Ft())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[at([TW])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,i){if(1&e){const r=zt();F(0,"div",0)(1,"div",1)(2,"input",2,3),ie("change",function(s){return i.onChange(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),V()(),F(4,"div",4),ie("click",function(s){ue(r);const a=In(3);return ce(i.handleClick(s,a,!0))}),vt(5,"span",5),V()(),B(6,CW,2,9,"label",6)}2&e&&(Vn(i.styleClass),D("ngStyle",i.style)("ngClass",ns(15,EW,i.checked,i.disabled,i.focused)),S(2),D("checked",i.checked)("disabled",i.disabled),st("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),S(2),D("ngClass",ns(19,wW,i.checked,i.disabled,i.focused)),S(2),D("ngIf",i.label))},dependencies:[Wi,ri,jr],encapsulation:2,changeDetection:0}),n})(),bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();function SW(n,t){if(1&n&&(F(0,"span",9),tt(1),V()),2&n){const e=A();S(1),Bn(" ",e.header," ")}}function IW(n,t){1&n&&yt(0)}function MW(n,t){1&n&&Jo(0,1,["*ngIf","hasHeaderFacet"])}function AW(n,t){1&n&&yt(0)}function OW(n,t){if(1&n&&(Gt(0),B(1,AW,1,0,"ng-container",5),$t()),2&n){const e=A();S(1),D("ngTemplateOutlet",e.contentTemplate)}}const xW=["*",[["p-header"]]],RW=function(n){return{"p-accordion-tab-active":n}},PW=function(n,t){return{"p-highlight":n,"p-disabled":t}},QM=function(n){return{transitionParams:n}},LW=function(n){return{value:"visible",params:n}},FW=function(n){return{value:"hidden",params:n}},NW=["*","p-header"],kW=["*"];let VW=0,JM=(()=>{class n{constructor(e,i){this.changeDetector=i,this.cache=!0,this.selectedChange=new pe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+VW++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:i});else{if(!this.accordion.multiple)for(var r=0;r<this.accordion.tabs.length;r++)this.accordion.tabs[r].selected&&(this.accordion.tabs[r].selected=!1,this.accordion.tabs[r].selectedChange.emit(!1),this.accordion.tabs[r].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){e=i;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return n.\u0275fac=function(e){return new(e||n)(w(We(()=>eA)),w(ii))},n.\u0275cmp=jt({type:n,selectors:[["p-accordionTab"]],contentQueries:function(e,i,r){if(1&e&&(ur(r,w3,4),ur(r,Ra,4)),2&e){let o;Lt(o=Ft())&&(i.headerFacet=o),Lt(o=Ft())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:NW,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,i){1&e&&(ma(xW),F(0,"div",0)(1,"div",1)(2,"a",2),ie("click",function(o){return i.toggle(o)})("keydown",function(o){return i.onKeydown(o)}),vt(3,"span",3),B(4,SW,2,1,"span",4),B(5,IW,1,0,"ng-container",5),B(6,MW,1,0,"ng-content",6),V()(),F(7,"div",7)(8,"div",8),Jo(9),B(10,OW,2,1,"ng-container",6),V()()()),2&e&&(D("ngClass",nt(15,RW,i.selected)),S(1),D("ngClass",jn(17,PW,i.selected,i.disabled)),S(1),st("tabindex",i.disabled?null:0)("id",i.id)("aria-controls",i.id+"-content")("aria-expanded",i.selected),S(1),D("ngClass",i.selected?i.accordion.collapseIcon:i.accordion.expandIcon),S(1),D("ngIf",!i.hasHeaderFacet),S(1),D("ngTemplateOutlet",i.headerTemplate),S(1),D("ngIf",i.hasHeaderFacet),S(1),D("@tabContent",i.selected?nt(22,LW,nt(20,QM,i.transitionOptions)):nt(26,FW,nt(24,QM,i.transitionOptions))),st("id",i.id+"-content")("aria-hidden",!i.selected)("aria-labelledby",i.id),S(3),D("ngIf",i.contentTemplate&&(i.cache?i.loaded:i.selected)))},dependencies:[Wi,ri,os],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active .p-toggleable-content:not(.ng-animating){overflow:inherit}\n"],encapsulation:2,data:{animation:[xu("tabContent",[Z_("hidden",qi({height:"0"})),Z_("visible",qi({height:"*"})),Wr("visible <=> hidden",[wo("{{transitionParams}}")]),Wr("void => *",wo(0))])]},changeDetection:0}),n})(),eA=(()=>{class n{constructor(e,i){this.el=e,this.changeDetector=i,this.onClose=new pe,this.onOpen=new pe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new pe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let i=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;i!==this.tabs[e].selected&&(this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((i,r)=>{if(i.selected){if(!this.multiple)return void(e=r);e.push(r)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(ii))},n.\u0275cmp=jt({type:n,selectors:[["p-accordion"]],contentQueries:function(e,i,r){if(1&e&&ur(r,JM,4),2&e){let o;Lt(o=Ft())&&(i.tabList=o)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:kW,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,i){1&e&&(ma(),F(0,"div",0),Jo(1),V()),2&e&&(Vn(i.styleClass),D("ngClass","p-accordion p-component")("ngStyle",i.style))},dependencies:[Wi,jr],encapsulation:2,changeDetection:0}),n})(),BW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On,Th]}),n})();function jW(n,t){if(1&n&&(F(0,"div"),tt(1," Avst\xe5nd: "),F(2,"span",8),tt(3),V()()),2&n){const e=A(2);S(3),Bn("",e.message.distance," km")}}function HW(n,t){if(1&n){const e=zt();F(0,"div",9)(1,"div",10),ie("click",function(){ue(e);const r=A(2);return ce(r.onClickMessage(r.message))}),F(2,"span"),tt(3,"Karta"),V(),vt(4,"i",11),V()()}}function UW(n,t){if(1&n&&(F(0,"div",1)(1,"div"),tt(2),V(),F(3,"div",2),tt(4),V(),F(5,"div",3)(6,"div",4)(7,"div")(8,"b"),tt(9),V()(),B(10,jW,4,1,"div",5),F(11,"div"),tt(12," Publicerad: "),F(13,"span",6),tt(14),function eD(n,t){const e=je();let i;const r=n+22;e.firstCreatePass?(i=function BV(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=qo(i.type)),s=fi(w);try{const a=$c(!1),l=o();return $c(a),function VN(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,O(),r,l),l}finally{fi(s)}}(15,"date"),V()()(),B(16,HW,5,0,"div",7),V(),F(17,"div"),tt(18),V(),F(19,"div"),tt(20),V()()),2&n){const e=A();S(1),Vn(e.getStyleClassForPriority(e.message.priority)),S(1),Bn(" ",e.message.priorityName," "),S(2),Bn(" ",e.message.categoryName," "),S(5),Jg("",e.message.title," (",e.message.subCategory,")"),S(1),D("ngIf",e.message.distance),S(4),Ui(function tD(n,t,e,i){const r=n+22,o=O(),s=js(o,r);return function Jl(n,t){return n[1].data[t].pure}(o,r)?ZT(o,Tn(),t,s.transform,e,i,s):s.transform(e,i)}(15,12,e.message.createdDate,"d MMM HH:mm")),S(2),D("ngIf",e.showMapLink),S(2),Bn(" ",e.message.exactLocation," "),S(2),Bn(" ",e.message.description," ")}}let tA=(()=>{class n{constructor(e){this.broker=e,this.showMapLink=!1}ngOnInit(){}onClickMessage(e){const r=[];r.push({lat:e.latitude,lng:e.longitude,info:`${e.priorityName}: ${e.title} (${e.subCategory})`,id:e.id}),this.broker.sendMessage(new Ch(r,this.userPos,`${e.title} (${e.subCategory})`,e.description))}getStyleClassForPriority(e){let i="priority-ctn";switch(e){case 1:i+=" prio-highest";break;case 2:i+=" prio-higher";break;case 3:i+=" prio-high";break;default:i+=" prio-info"}return i}}return n.\u0275fac=function(e){return new(e||n)(w(ds))},n.\u0275cmp=jt({type:n,selectors:[["app-info-card"]],inputs:{message:"message",showMapLink:"showMapLink",userPos:"userPos"},decls:1,vars:1,consts:[["class","msg-ctn",4,"ngIf"],[1,"msg-ctn"],[1,"category"],[1,"p-grid"],[1,"p-col"],[4,"ngIf"],[1,"date-info"],["class","p-col-4",4,"ngIf"],[1,"dist-info"],[1,"p-col-4"],[1,"open-button",3,"click"],[1,"pi","pi-globe","map-icon"]],template:function(e,i){1&e&&B(0,UW,21,15,"div",0),2&e&&D("ngIf",i.message)},dependencies:[ri,bb],styles:[".msg-ctn[_ngcontent-%COMP%]{border:solid 2px gray;border-radius:.25rem;padding:10px;margin:20px 10px}.category[_ngcontent-%COMP%]{float:right;font-size:smaller;margin-top:-10px;margin-right:-5px;font-weight:700;color:gray}.priority-ctn[_ngcontent-%COMP%]{border-radius:.25rem;font-weight:900;text-transform:uppercase;font-size:.75rem;line-height:14px;color:#fff;padding:.25rem;display:inline-block}.prio-highest[_ngcontent-%COMP%]{background-color:red}.prio-higher[_ngcontent-%COMP%]{background-color:#f20}.prio-high[_ngcontent-%COMP%]{background-color:#f60}.prio-info[_ngcontent-%COMP%]{background-color:#06f}.dist-info[_ngcontent-%COMP%], .date-info[_ngcontent-%COMP%]{color:gray}.open-button[_ngcontent-%COMP%]{border:1px;padding:5px 5px 5px 10px;border-style:solid;border-color:gray;border-radius:10px;float:right;font-weight:700;font-size:.7em;color:gray}.map-icon[_ngcontent-%COMP%]{font-size:1rem;padding-left:2px;vertical-align:middle}"]}),n})();function GW(n,t){1&n&&vt(0,"div",16)}function $W(n,t){if(1&n&&vt(0,"app-info-card",19),2&n){const e=A().$implicit,i=A(2);D("message",e)("showMapLink",!0)("userPos",i.position)}}function zW(n,t){if(1&n&&(F(0,"div"),B(1,$W,1,3,"app-info-card",18),V()),2&n){const e=t.$implicit,i=A(2);S(1),D("ngIf",i.matchesKeyword(e)&&i.matchesFilter(e))}}function WW(n,t){if(1&n&&(F(0,"div"),B(1,zW,2,1,"div",17),V()),2&n){const e=A();S(1),D("ngForOf",e.messages)}}function KW(n,t){if(1&n){const e=zt();F(0,"div",20)(1,"p-accordion")(2,"p-accordionTab",21)(3,"div",22)(4,"div",23),vt(5,"i",24),F(6,"input",25),ie("ngModelChange",function(r){return ue(e),ce(A().keyword=r)}),V()(),F(7,"span",26)(8,"button",27),ie("click",function(){return ue(e),ce(A().onClear())}),V()()(),F(9,"div",28)(10,"div",29)(11,"div",30),tt(12," Sortering "),V(),F(13,"div",31)(14,"p-radioButton",32),ie("onClick",function(){return ue(e),ce(A().onSortOrderChanged())})("ngModelChange",function(r){return ue(e),ce(A().sortOrder=r)}),V()(),F(15,"div",31)(16,"p-radioButton",33),ie("onClick",function(){return ue(e),ce(A().onSortOrderChanged())})("ngModelChange",function(r){return ue(e),ce(A().sortOrder=r)}),V()(),F(17,"div",31)(18,"p-radioButton",34),ie("onClick",function(){return ue(e),ce(A().onSortOrderChanged())})("ngModelChange",function(r){return ue(e),ce(A().sortOrder=r)}),V()()(),F(19,"div",29)(20,"div",30),tt(21," Filtrering "),V(),F(22,"div",35)(23,"p-checkbox",36),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().settings.showTodayOnly=r)}),V()(),F(24,"div",35)(25,"p-checkbox",37),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().settings.showTrafficIncidentsOnly=r)}),V()(),F(26,"div",35)(27,"p-checkbox",38),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().settings.includeSubcategoryRoadwork=r)}),V()(),F(28,"div",35)(29,"p-checkbox",39),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().settings.showPublicTransportOnly=r)}),V()(),F(30,"div",35)(31,"p-checkbox",40),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().settings.showRoadTrafficOnly=r)}),V()(),F(32,"div",35)(33,"p-checkbox",41),ie("onChange",function(){return ue(e),ce(A().onCheckChanged())})("ngModelChange",function(r){return ue(e),ce(A().showOnlyWithinRadius=r)}),V()()()()()()()}if(2&n){const e=A();S(6),D("ngModel",e.keyword),S(2),D("disabled",e.isLoading),S(6),D("ngModel",e.sortOrder),S(2),D("ngModel",e.sortOrder),S(2),D("ngModel",e.sortOrder)("disabled",!e.position.lat),S(5),D("ngModel",e.settings.showTodayOnly),S(2),D("ngModel",e.settings.showTrafficIncidentsOnly),S(2),D("ngModel",e.settings.includeSubcategoryRoadwork),S(2),D("ngModel",e.settings.showPublicTransportOnly),S(2),D("ngModel",e.settings.showRoadTrafficOnly),S(2),D("ngModel",e.showOnlyWithinRadius)("disabled",!e.position.lat)}}var ps=(()=>{return(n=ps||(ps={})).highestPriority="1",n.leastDistance="2",n.latestDate="3",ps;var n})();const qW=[{path:"**",component:(()=>{class n{constructor(e,i,r,o){this.broker=e,this.service=i,this.logger=r,this.localStorageService=o,this.settings={showTodayOnly:!1,showRoadTrafficOnly:!1,showPublicTransportOnly:!1,showTrafficIncidentsOnly:!1,includeSubcategoryRoadwork:!1},this.sortOrder=ps.highestPriority,this.AppSettingsKey="srtrafficsettings",this.radiusKm=100,this.isLoading=!1,this.showOnlyWithinRadius=!1,this.position={lng:void 0,lat:void 0,info:void 0,id:void 0},this.keyword="",this.geolocationAvailable=!1}ngOnInit(){var e=this;return Gn(function*(){e.geolocationAvailable="geolocation"in navigator;const i=e.localStorageService.get(e.AppSettingsKey);i?e.settings=i:e.logger.logInfo("No previous settings found"),yield e.fillTrafficAreaDropDown()})()}onFetchPosition(){var e=this;return Gn(function*(){try{navigator.geolocation.getCurrentPosition(function(){var i=Gn(function*(r){e.allTrafficAreas||(yield e.fillTrafficAreaDropDown()),e.position.lat=r.coords.latitude,e.position.lng=r.coords.longitude,e.trafficArea=yield e.service.fetchClosestTrafficAreaForPosition(e.position),e.selectedArea=e.trafficArea.trafficdepartmentunitid,yield e.fetchMessages()});return function(r){return i.apply(this,arguments)}}(),i=>{e.broker.sendMessage(new Su(i.message))})}catch{e.broker.sendMessage(new Su("Geolocation is not available")),e.selectedArea=0,yield e.fetchMessages()}})()}onShowUserOnMap(){this.broker.sendMessage(new Ch([],this.position,"Din position"))}onShowAllPositionsOnMap(){if(!this.messages)return;const e=[];this.messages.filter(r=>this.matchesKeyword(r)&&this.matchesFilter(r)).forEach(r=>{e.push({lat:r.latitude,lng:r.longitude,info:`${r.priorityName}: ${r.title} (${r.subCategory})`,id:r.id})}),0!=e.length&&this.broker.sendMessage(new Ch(e,this.position,this.trafficArea?.name?`Trafikomr\xe5de: ${this.trafficArea.name}`:"Hela Sverige"))}matchesKeyword(e){if(!this.keyword||this.keyword.length<2)return!0;var i=new RegExp(this.keyword,"gi");return!!(e.title.match(i)||e.description.match(i)||e.exactLocation.match(i)||e.priorityName.match(i)||e.categoryName.match(i))}onAreaChanged(e){var i=this;return Gn(function*(){i.keyword="",0==e.value?(i.trafficArea=null,yield i.fetchMessages()):(i.trafficArea=i.getAreaFromId(e.value),yield i.fetchMessages())})()}onRefresh(){var e=this;return Gn(function*(){yield e.fetchMessages()})()}onSortOrderChanged(){this.sortMessages()}numFilteredMessagesInfo(){if(!this.messages||this.messages.length<1)return"";const e=this.messages.filter(o=>this.matchesFilter(o)&&this.matchesKeyword(o)).length;return 1===e?"1 meddelande":(0===e?"Inga":`${e}`)+" meddelanden"}onClear(){this.keyword=""}matchesFilter(e){if(e.category===xa.\u00d6vrigt||e.category!==xa.V\u00e4gtrafik&&this.settings.showRoadTrafficOnly||e.subCategory!==Au.TrafikOlycka&&this.settings.showTrafficIncidentsOnly||e.subCategory===Au.V\u00e4garbete&&!this.settings.includeSubcategoryRoadwork)return!1;const i=(new Date).getDate();return!(e.createdDate.getDate()!==i&&this.settings.showTodayOnly||this.settings.showPublicTransportOnly&&e.category!==xa.Kollektivtrafik||this.showOnlyWithinRadius&&this.position&&this.position.lat&&this.position.lng&&pI(this.position.lat,this.position.lng,e.latitude,e.longitude)>this.radiusKm)}hasMessagesToDisplay(){return!(!this.messages||this.messages.length<1)&&this.messages.filter(i=>this.matchesFilter(i)&&this.matchesKeyword(i)).length>0}onCheckChanged(){this.localStorageService.set(this.AppSettingsKey,this.settings)}fillTrafficAreaDropDown(){var e=this;return Gn(function*(){e.allTrafficAreas=yield e.service.fetchAllTrafficAreas(),e.areaOptions=[],e.areaOptions.push({label:"Hela Sverige",value:0});const i=e.allTrafficAreas.map(r=>({label:r.name,value:r.trafficdepartmentunitid}));e.areaOptions.push(...i)})()}getAreaFromId(e){return this.allTrafficAreas.find(r=>r.trafficdepartmentunitid===e)}fetchMessages(){var e=this;return Gn(function*(){try{e.isLoading=!0,e.messages=[],e.messages=e.trafficArea?.name?yield e.service.fetchAllTrafficMessagesForArea(e.trafficArea.name,e.position):yield e.service.fetchAllTrafficMessages(e.position),e.sortMessages()}catch(i){return void e.logger.logError(i)}finally{e.isLoading=!1}})()}sortMessages(){switch(this.sortOrder){case ps.leastDistance:this.messages.sort((e,i)=>e.distance-i.distance||i.createdDate.getTime()-e.createdDate.getTime());break;case ps.highestPriority:this.messages.sort((e,i)=>e.priority-i.priority||i.createdDate.getTime()-e.createdDate.getTime());break;case ps.latestDate:this.messages.sort((e,i)=>i.createdDate.getTime()-e.createdDate.getTime())}}}return n.\u0275fac=function(e){return new(e||n)(w(ds),w(SI),w(Mu),w(_3))},n.\u0275cmp=jt({type:n,selectors:[["app-messages"]],decls:19,vars:10,consts:[[1,"outer"],[1,"headline"],[1,"controls-container"],[1,"p-grid","thegrid"],[1,"p-col-12","p-md-6","p-lg-4"],["pButton","","icon","pi pi-compass","iconPos","right","label","H\xe4mta ditt n\xe4rmaste omr\xe5de",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-12","p-md-6","p-lg-4","center","area-dd"],["placeholder","V\xe4lj omr\xe5de",3,"disabled","ngModel","options","onChange","ngModelChange"],[1,"p-col-12","p-md-12","p-lg-4"],["pButton","","icon","pi pi-refresh","iconPos","right","label","H\xe4mta nya meddelanden",1,"sr-button-wide",3,"disabled","click"],[1,"p-col-6","p-lg-6","center","num-msg-ctn"],[1,"p-col-6","p-lg-6"],["pButton","","icon","pi pi-globe","iconPos","right","label","Visa alla p\xe5 kartan",1,"sr-button-wide",3,"disabled","click"],["class","p-col-12 p-lg-12",4,"ngIf","ngIfElse"],[4,"ngIf"],["sortfilt",""],[1,"p-col-12","p-lg-12"],[4,"ngFor","ngForOf"],[3,"message","showMapLink","userPos",4,"ngIf"],[3,"message","showMapLink","userPos"],[1,"sortfilt-ctn"],["header","Sortering & filtrering"],[1,"search-ctn"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","S\xf6k",3,"ngModel","ngModelChange"],[1,"clear-btn"],["pButton","","iconPos","right","label","T\xf6m",3,"disabled","click"],["styleClass","sortfilt-content",1,"p-grid"],[1,"p-col-6"],[1,"sort-filt-label"],[1,"p-field-radiobutton"],["value","1","label","H\xf6gst prioritet",3,"ngModel","onClick","ngModelChange"],["value","3","label","Senaste",3,"ngModel","onClick","ngModelChange"],["value","2","label","N\xe4rmast",3,"ngModel","disabled","onClick","ngModelChange"],[1,"p-field-checkbox"],["binary","true","label","Publicerad idag",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast olyckor",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa v\xe4garbeten",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Endast kollektivtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Visa endast v\xe4gtrafik",3,"ngModel","onChange","ngModelChange"],["binary","true","label","Inom 100km radie",3,"ngModel","disabled","onChange","ngModelChange"]],template:function(e,i){if(1&e&&(F(0,"div",0)(1,"div",1),tt(2,"Trafikinformation fr\xe5n SR"),V(),F(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),ie("click",function(){return i.onFetchPosition()}),V()(),F(7,"div",6)(8,"p-dropdown",7),ie("onChange",function(o){return i.onAreaChanged(o)})("ngModelChange",function(o){return i.selectedArea=o}),V()(),F(9,"div",8)(10,"button",9),ie("click",function(){return i.onRefresh()}),V()(),F(11,"div",10),tt(12),V(),F(13,"div",11)(14,"button",12),ie("click",function(){return i.onShowAllPositionsOnMap()}),V()(),B(15,GW,1,0,"div",13),V()(),B(16,WW,2,1,"div",14),V(),B(17,KW,34,13,"ng-template",null,15,Lr)),2&e){const r=In(18);S(6),D("disabled",i.isLoading||!i.geolocationAvailable),S(2),D("disabled",i.isLoading)("ngModel",i.selectedArea)("options",i.areaOptions),S(2),D("disabled",void 0===i.selectedArea),S(2),Bn(" ",i.numFilteredMessagesInfo()," "),S(2),D("disabled",i.isLoading||!i.hasMessagesToDisplay()),S(1),D("ngIf",!i.messages||0===i.messages.length)("ngIfElse",r),S(1),D("ngIf",i.messages)}},dependencies:[au,ri,D3,YM,bh,lM,Fh,uW,ZM,XM,eA,JM,tA],styles:[".headline[_ngcontent-%COMP%]{margin:10px auto;max-width:300px;font-weight:bolder;font-size:1.5em;color:#7e7e7e}.controls-container[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;max-width:400px;padding-bottom:0}@media only screen and (min-width: 800px){.controls-container[_ngcontent-%COMP%]{max-width:800px}}.showmap-ctn[_ngcontent-%COMP%]{margin-top:10px;width:400px}.sort-filt-label[_ngcontent-%COMP%]{font-weight:700;margin-top:10px;margin-bottom:10px}[_nghost-%COMP%]  .sortfilt-ctn{width:100%;margin:auto auto auto 4px}.refresh-btn[_ngcontent-%COMP%]{margin-left:20px;font-size:2em;color:#7e7e7e}.thegrid[_ngcontent-%COMP%]{align-items:center}.clear-btn[_ngcontent-%COMP%]{border-radius:10px;width:20px}.num-msg-ctn[_ngcontent-%COMP%]{margin-left:16px;margin-right:-16px}.area-dd[_ngcontent-%COMP%]{padding-right:10px;padding-left:6px}.outer[_ngcontent-%COMP%]{margin-right:8px}"]}),n})()}];let YW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[dI.forRoot(qW,{relativeLinkResolution:"legacy"}),dI]}),n})();function Vu(n){return At((t,e)=>{hi(n).subscribe(new Dt(e,()=>e.complete(),di)),!e.closed&&t.subscribe(e)})}class ZW extends yh{constructor(t){super(),this.info=t}get Type(){return"SuccessInfoMessage"}}const XW={},QW={};let JW=(()=>{class n{constructor(){this.translations={en:XW,sv:QW}}set defaultLangCode(e){this.fallBackLangCode=e}set currentLocale(e){this.localeToUse=e,this.currLangCode=this.localeToUse.slice(0,2)}translate(e){if(this.translations[this.currLangCode]&&this.translations[this.currLangCode][e]){const i=this.translations[this.currLangCode][e];if(""!==i)return i}if(this.translations[this.fallBackLangCode]&&this.translations[this.fallBackLangCode][e]){const i=this.translations[this.fallBackLangCode][e];return""===i?e:i}return e}translateWithArgs(e,i){const r=this.translate(e);return i?this.replace(r,i):r}replace(e="",i=""){let r=e;return[].concat(i).forEach((s,a)=>{s=s.replace(/\$/g,"$$$$"),r=r.replace("{".concat(a)+"}",s)}),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nA=["container"],e4=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function t4(n,t){if(1&n&&(Gt(0),vt(1,"span",6),F(2,"div",7)(3,"div",8),tt(4),V(),F(5,"div",9),tt(6),V()(),$t()),2&n){const e=A();S(1),Vn("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),D("ngClass",bd(5,e4,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),S(3),Ui(e.message.summary),S(2),Ui(e.message.detail)}}function n4(n,t){1&n&&yt(0)}function i4(n,t){if(1&n){const e=zt();F(0,"button",10),ie("click",function(r){return ue(e),ce(A().onCloseIconClick(r))})("keydown.enter",function(r){return ue(e),ce(A().onCloseIconClick(r))}),vt(1,"span",11),V()}}const r4=function(n){return[n,"p-toast-message"]},o4=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},s4=function(n){return{value:"visible",params:n}},a4=function(n){return{$implicit:n}};function l4(n,t){if(1&n){const e=zt();F(0,"p-toastItem",3),ie("onClose",function(r){return ue(e),ce(A().onMessageClose(r))})("@toastAnimation.start",function(r){return ue(e),ce(A().onAnimationStart(r))})("@toastAnimation.done",function(r){return ue(e),ce(A().onAnimationEnd(r))}),V()}if(2&n){const e=t.$implicit,i=t.index,r=A();D("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let u4=(()=>{class n{constructor(e){this.zone=e,this.onClose=new pe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(w(lt))},n.\u0275cmp=jt({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&ni(nA,5),2&e){let r;Lt(r=Ft())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(F(0,"div",0,1),ie("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),F(2,"div",2),B(3,t4,7,10,"ng-container",3),B(4,n4,1,0,"ng-container",4),B(5,i4,2,0,"button",5),V()()),2&e&&(Vn(i.message.styleClass),D("ngClass",nt(10,r4,"p-toast-message-"+i.message.severity))("@messageState",nt(17,s4,bd(12,o4,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),st("id",i.message.id),S(2),D("ngClass",i.message.contentStyleClass),S(1),D("ngIf",!i.template),S(1),D("ngTemplateOutlet",i.template)("ngTemplateOutletContext",nt(19,a4,i.message)),S(1),D("ngIf",!1!==i.message.closable))},dependencies:[Wi,ri,os,Y_],encapsulation:2,data:{animation:[xu("messageState",[Z_("visible",qi({transform:"translateY(0)",opacity:1})),Wr("void => *",[qi({transform:"{{showTransformParams}}",opacity:0}),wo("{{showTransitionParams}}")]),Wr("* => void",[wo("{{hideTransitionParams}}",qi({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),c4=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new pe,this.id=AI()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&oi.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Ct.isEmpty(this.messages)&&oi.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let o in this.breakpoints[i])r+=o+":"+this.breakpoints[i][o]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&oi.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(w(q_),w(ii),w(Ou))},n.\u0275cmp=jt({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&ur(r,Ra,4),2&e){let o;Lt(o=Ft())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&ni(nA,5),2&e){let r;Lt(r=Ft())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(F(0,"div",0,1),B(2,l4,1,8,"p-toastItem",2),V()),2&e&&(Vn(i.styleClass),D("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),S(2),D("ngForOf",i.messages))},dependencies:[Wi,au,jr,u4],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[xu("toastAnimation",[Wr(":enter, :leave",[M3("@*",I3())])])]},changeDetection:0}),n})(),d4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On,Dh,Th]}),n})();class iA extends yh{constructor(t){super(),this.id=t}get Type(){return"ShowInfoSidebarMessage"}}class h4{}let rA=(()=>{class n{constructor(){this.mapInput$=new Ei(null)}addNewMapInput(e){this.mapInput=e,this.mapInput$.next(this.mapInput)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f4(n,t){if(1&n){const e=zt();F(0,"button",7),ie("click",function(r){return ue(e),ce(A(2).close(r))})("keydown.enter",function(r){return ue(e),ce(A(2).close(r))}),vt(1,"span",8),V()}2&n&&st("aria-label",A(2).ariaCloseLabel)}function p4(n,t){1&n&&yt(0)}const g4=function(n,t,e,i,r,o){return{"p-sidebar":!0,"p-sidebar-active":n,"p-sidebar-left":t,"p-sidebar-right":e,"p-sidebar-top":i,"p-sidebar-bottom":r,"p-sidebar-full":o}},m4=function(n,t){return{transform:n,transition:t}},_4=function(n){return{value:"visible",params:n}};function v4(n,t){if(1&n){const e=zt();F(0,"div",1,2),ie("@panelState.start",function(r){return ue(e),ce(A().onAnimationStart(r))})("@panelState.done",function(r){return ue(e),ce(A().onAnimationEnd(r))}),F(2,"div",3),B(3,f4,2,1,"button",4),V(),F(4,"div",5),Jo(5),B(6,p4,1,0,"ng-container",6),V()()}if(2&n){const e=A();Vn(e.styleClass),D("ngClass",function qT(n,t,e,i,r,o,s,a,l){const u=Tn()+n,c=O(),d=_i(c,u,e,i,r,o);return Qo(c,u+4,s,a)||d?sr(c,u+6,l?t.call(l,e,i,r,o,s,a):t(e,i,r,o,s,a)):$l(c,u+6)}(8,g4,e.visible,"left"===e.position&&!e.fullScreen,"right"===e.position&&!e.fullScreen,"top"===e.position&&!e.fullScreen,"bottom"===e.position&&!e.fullScreen,e.fullScreen))("@panelState",nt(18,_4,jn(15,m4,e.transformOptions,e.transitionOptions)))("ngStyle",e.style),st("aria-modal",e.modal),S(3),D("ngIf",e.showCloseIcon),S(3),D("ngTemplateOutlet",e.contentTemplate)}}const y4=["*"],C4=PI([qi({transform:"{{transform}}",opacity:0}),wo("{{transition}}")]),E4=PI([wo("{{transition}}",qi({transform:"{{transform}}",opacity:0}))]);let oA=(()=>{class n{constructor(e,i,r,o){this.el=e,this.renderer=i,this.cd=r,this.config=o,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new pe,this.onHide=new pe,this.visibleChange=new pe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}get visible(){return this._visible}set visible(e){this._visible=e}get position(){return this._position}set position(e){switch(this._position=e,e){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(e){this._fullScreen=e,e&&(this.transformOptions="none")}show(){this.autoZIndex&&oi.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(e){this.hide(),this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),K.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",e=>{this.dismissible&&this.close(e)})),document.body.appendChild(this.mask),this.blockScroll&&K.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(K.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&K.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(e){"visible"===e.toState&&(this.container=e.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(e){"void"===e.toState&&(this.hide(),oi.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):K.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&parseInt(this.container.style.zIndex)===oi.get(this.container)&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&oi.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return n.\u0275fac=function(e){return new(e||n)(w(kt),w(ki),w(ii),w(Ou))},n.\u0275cmp=jt({type:n,selectors:[["p-sidebar"]],contentQueries:function(e,i,r){if(1&e&&ur(r,Ra,4),2&e){let o;Lt(o=Ft())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:y4,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngTemplateOutlet"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(ma(),B(0,v4,7,20,"div",0)),2&e&&D("ngIf",i.visible)},dependencies:[Wi,ri,os,jr,Y_],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center;justify-content:flex-end}.p-sidebar-icon{display:flex;align-items:center;justify-content:center}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[xu("panelState",[Wr("void => visible",[LI(C4)]),Wr("visible => void",[LI(E4)])])]},changeDetection:0}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On,Dh]}),n})();var T4=function(){function n(t){this.type=t,this.target=null}return n.prototype.preventDefault=function(){this.propagationStopped=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}();const qr=T4;var D4=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}();const yv=D4;function ms(n,t){return n>t?1:n<t?-1:0}function Cv(n,t){return n.indexOf(t)>=0}function Ev(n,t,e){var i=n.length;if(n[0]<=t)return 0;if(t<=n[i-1])return i-1;var r=void 0;if(e>0){for(r=1;r<i;++r)if(n[r]<t)return r-1}else if(e<0){for(r=1;r<i;++r)if(n[r]<=t)return r}else for(r=1;r<i;++r){if(n[r]==t)return r;if(n[r]<t)return n[r-1]-t<t-n[r]?r-1:r}return i-1}function b4(n,t,e){for(;t<e;){var i=n[t];n[t]=n[e],n[e]=i,++t,--e}}function Nh(n,t){for(var e=Array.isArray(t)?t:[t],i=e.length,r=0;r<i;r++)n[n.length]=e[r]}function Bu(n,t){var e=n.length;if(e!==t.length)return!1;for(var i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function bo(){return!0}function ju(){return!1}function _s(){}var yn="function"==typeof Object.assign?Object.assign:function(n,t){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e};function La(n){for(var t in n)delete n[t]}var sA="function"==typeof Object.values?Object.values:function(n){var t=[];for(var e in n)t.push(n[e]);return t};function Hu(n){var t;for(t in n)return!1;return!t}var n,M4=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),A4=function(n){function t(e){var i=n.call(this)||this;return i.eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return M4(t,n),t.prototype.addEventListener=function(e,i){if(e&&i){var r=this.listeners_||(this.listeners_={}),o=r[e]||(r[e]=[]);-1===o.indexOf(i)&&o.push(i)}},t.prototype.dispatchEvent=function(e){var i="string"==typeof e?new qr(e):e,r=i.type;i.target||(i.target=this.eventTarget_||this);var s,o=this.listeners_&&this.listeners_[r];if(o){var a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in a||(a[r]=0,l[r]=0),++a[r];for(var u=0,c=o.length;u<c;++u)if(!1===(s="handleEvent"in o[u]?o[u].handleEvent(i):o[u].call(this,i))||i.propagationStopped){s=!1;break}if(--a[r],0===a[r]){var d=l[r];for(delete l[r];d--;)this.removeEventListener(r,_s);delete a[r]}return s}},t.prototype.disposeInternal=function(){this.listeners_&&La(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,i){var r=this.listeners_&&this.listeners_[e];if(r){var o=r.indexOf(i);-1!==o&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[o]=_s,++this.pendingRemovals_[e]):(r.splice(o,1),0===r.length&&delete this.listeners_[e]))}},t}(yv);const Fa=A4;function qe(n,t,e,i,r){if(i&&i!==n&&(e=e.bind(i)),r){var o=e;e=function(){n.removeEventListener(t,e),o.apply(this,arguments)}}var s={target:n,type:t,listener:e};return n.addEventListener(t,e),s}function kh(n,t,e,i){return qe(n,t,e,i,!0)}function Et(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),La(n))}var O4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),x4=function(n){function t(){var e=n.call(this)||this;return e.revision_=0,e}return O4(t,n),t.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,i){if(Array.isArray(e)){for(var r=e.length,o=new Array(r),s=0;s<r;++s)o[s]=qe(this,e[s],i);return o}return qe(this,e,i)},t.prototype.once=function(e,i){var r;if(Array.isArray(e)){var o=e.length;r=new Array(o);for(var s=0;s<o;++s)r[s]=kh(this,e[s],i)}else r=kh(this,e,i);return i.ol_key=r,r},t.prototype.un=function(e,i){var r=i.ol_key;if(r)!function R4(n){if(Array.isArray(n))for(var t=0,e=n.length;t<e;++t)Et(n[t]);else Et(n)}(r);else if(Array.isArray(e))for(var o=0,s=e.length;o<s;++o)this.removeEventListener(e[o],i);else this.removeEventListener(e,i)},t}(Fa);const aA=x4;function xe(){return function(){throw new Error("Unimplemented abstract method.")}()}var P4=0;function Le(n){return n.ol_uid||(n.ol_uid=String(++P4))}var lA=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uA=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.key=i,o.oldValue=r,o}return lA(t,n),t}(qr),L4=function(n){function t(e){var i=n.call(this)||this;return Le(i),i.values_=null,void 0!==e&&i.setProperties(e),i}return lA(t,n),t.prototype.get=function(e){var i;return this.values_&&this.values_.hasOwnProperty(e)&&(i=this.values_[e]),i},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&yn({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,i){var r;r=hr(e),this.dispatchEvent(new uA(r,e,i)),this.dispatchEvent(new uA(r="propertychange",e,i))},t.prototype.set=function(e,i,r){var o=this.values_||(this.values_={});if(r)o[e]=i;else{var s=o[e];o[e]=i,s!==i&&this.notify(e,s)}},t.prototype.setProperties=function(e,i){for(var r in e)this.set(r,e[r],i)},t.prototype.applyProperties=function(e){!e.values_||yn(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,i){if(this.values_&&e in this.values_){var r=this.values_[e];delete this.values_[e],Hu(this.values_)&&(this.values_=null),i||this.notify(e,r)}},t}(aA),Tv={};function hr(n){return Tv.hasOwnProperty(n)?Tv[n]:Tv[n]="change:"+n}const fr=L4;var Na=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",F4=-1!==Na.indexOf("firefox"),N4=(-1!==Na.indexOf("safari")&&Na.indexOf("chrom"),-1!==Na.indexOf("webkit")&&-1==Na.indexOf("edge")),k4=-1!==Na.indexOf("macintosh"),Bh=typeof devicePixelRatio<"u"?devicePixelRatio:1,jh=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,cA=typeof Image<"u"&&Image.prototype.decode,dA=function(){var n=!1;try{var t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return n}();function $n(n,t,e){var i=e&&e.length?e.shift():jh?new OffscreenCanvas(n||300,t||300):document.createElement("canvas");return n&&(i.width=n),t&&(i.height=t),i.getContext("2d")}function hA(n,t){var e=t.parentNode;e&&e.replaceChild(n,t)}function Dv(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}var j4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),H4=function(n){function t(e){var i=n.call(this)||this,r=e.element;return r&&!e.target&&!r.style.pointerEvents&&(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return j4(t,n),t.prototype.disposeInternal=function(){Dv(this.element),n.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Dv(this.element);for(var i=0,r=this.listenerKeys.length;i<r;++i)Et(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=e,this.map_&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==_s&&this.listenerKeys.push(qe(e,"postrender",this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(fr);const bv=H4;var Hh="ol-hidden",Uh="ol-unselectable",Sv="ol-control",fA="ol-collapsed",U4=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),pA=["style","variant","weight","size","lineHeight","family"],gA=function(n){var t=n.match(U4);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=pA.length;i<r;++i){var o=t[i+1];void 0!==o&&(e[pA[i]]=o)}return e.families=e.family.split(/,\s?/),e};var G4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$4=function(n){function t(e){var i=this,o="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(i=n.call(this,o)||this).code=e,i.name="AssertionError",i.message=o,i}return G4(t,n),t}(Error);const mA=$4;function Fe(n,t){if(!n)throw new mA(t)}function nn(n,t,e){return Math.min(Math.max(n,t),e)}var z4="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},W4="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function K4(n,t,e,i,r,o){var s=r-e,a=o-i;if(0!==s||0!==a){var l=((n-e)*s+(t-i)*a)/(s*s+a*a);l>1?(e=r,i=o):l>0&&(e+=s*l,i+=a*l)}return ka(n,t,e,i)}function ka(n,t,e,i){var r=e-n,o=i-t;return r*r+o*o}function Gh(n){return n*Math.PI/180}function Va(n,t){var e=n%t;return e*t<0?e+t:e}function vs(n,t,e){return n+e*(t-n)}var Y4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Z4=function(n){function t(e){var i=n.call(this)||this,r=yn({},e);return r.opacity=void 0!==e.opacity?e.opacity:1,Fe("number"==typeof r.opacity,64),r.visible=void 0===e.visible||e.visible,r.zIndex=e.zIndex,r.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,r.minResolution=void 0!==e.minResolution?e.minResolution:0,r.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,r.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return Y4(t,n),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var i=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return i.opacity=nn(Math.round(100*this.getOpacity())/100,0,1),i.sourceState=this.getSourceState(),i.visible=this.getVisible(),i.extent=this.getExtent(),i.zIndex=void 0!==r?r:!1===i.managed?1/0:0,i.maxResolution=this.getMaxResolution(),i.minResolution=Math.max(this.getMinResolution(),0),i.minZoom=this.getMinZoom(),i.maxZoom=this.getMaxZoom(),this.state_=i,i},t.prototype.getLayersArray=function(e){return xe()},t.prototype.getLayerStatesArray=function(e){return xe()},t.prototype.getExtent=function(){return this.get("extent")},t.prototype.getMaxResolution=function(){return this.get("maxResolution")},t.prototype.getMinResolution=function(){return this.get("minResolution")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.getOpacity=function(){return this.get("opacity")},t.prototype.getSourceState=function(){return xe()},t.prototype.getVisible=function(){return this.get("visible")},t.prototype.getZIndex=function(){return this.get("zIndex")},t.prototype.setExtent=function(e){this.set("extent",e)},t.prototype.setMaxResolution=function(e){this.set("maxResolution",e)},t.prototype.setMinResolution=function(e){this.set("minResolution",e)},t.prototype.setMaxZoom=function(e){this.set("maxZoom",e)},t.prototype.setMinZoom=function(e){this.set("minZoom",e)},t.prototype.setOpacity=function(e){Fe("number"==typeof e,64),this.set("opacity",e)},t.prototype.setVisible=function(e){this.set("visible",e)},t.prototype.setZIndex=function(e){this.set("zIndex",e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},t}(fr);const _A=Z4;var X4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Q4=function(n){function t(e){var i=this,r=yn({},e);return delete r.source,(i=n.call(this,r)||this).mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addEventListener(hr("source"),i.handleSourcePropertyChange_),i.setSource(e.source?e.source:null),i}return X4(t,n),t.prototype.getLayersArray=function(e){var i=e||[];return i.push(this),i},t.prototype.getLayerStatesArray=function(e){var i=e||[];return i.push(this.getLayerState()),i},t.prototype.getSource=function(){return this.get("source")||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():"undefined"},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Et(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=qe(e,"change",this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},t.prototype.render=function(e,i){var r=this.getRenderer();if(r.prepareFrame(e))return r.renderFrame(e,i)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Et(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Et(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=qe(e,"precompose",function(i){var o=i.frameState.layerStatesArray,s=this.getLayerState(!1);Fe(!o.some(function(a){return a.layer===s.layer}),67),o.push(s)},this),this.mapRenderKey_=qe(this,"change",e.render,e),this.changed())},t.prototype.setSource=function(e){this.set("source",e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.setSource(null),n.prototype.disposeInternal.call(this)},t}(_A);function $h(n,t){if(!n.visible)return!1;var e=t.resolution;if(e<n.minResolution||e>=n.maxResolution)return!1;var i=t.zoom;return i>n.minZoom&&i<=n.maxZoom}const vA=Q4;var J4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),e5=function(n){function t(e){var i=this,r=e||{};(i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),i.collapsed_=void 0===r.collapsed||r.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==r.collapsible,i.collapsible_=void 0===r.collapsible||r.collapsible,i.collapsible_||(i.collapsed_=!1);var o=void 0!==r.className?r.className:"ol-attribution",s=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:o+"-expand",l=void 0!==r.collapseLabel?r.collapseLabel:"\xbb",u=void 0!==r.collapseClassName?r.collapseClassName:o+"-collpase";"string"==typeof l?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=l,i.collapseLabel_.className=u):i.collapseLabel_=l;var c=void 0!==r.label?r.label:"i";"string"==typeof c?(i.label_=document.createElement("span"),i.label_.textContent=c,i.label_.className=a):i.label_=c;var d=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=s,h.appendChild(d),h.addEventListener("click",i.handleClick_.bind(i),!1);var p=i.element;return p.className=o+" "+Uh+" "+Sv+(i.collapsed_&&i.collapsible_?" "+fA:"")+(i.collapsible_?"":" ol-uncollapsible"),p.appendChild(i.ulElement_),p.appendChild(h),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return J4(t,n),t.prototype.collectSourceAttributions_=function(e){for(var i={},r=[],o=!0,s=e.layerStatesArray,a=0,l=s.length;a<l;++a){var u=s[a];if($h(u,e.viewState)){var c=u.layer.getSource();if(c){var d=c.getAttributions();if(d){var h=d(e);if(h)if(o=o&&!1!==c.getAttributionsCollapsible(),Array.isArray(h))for(var f=0,p=h.length;f<p;++f)h[f]in i||(r.push(h[f]),i[h[f]]=!0);else h in i||(r.push(h),i[h]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),r},t.prototype.updateElement_=function(e){if(e){var i=this.collectSourceAttributions_(e),r=i.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Bu(i,this.renderedAttributions_)){!function V4(n){for(;n.lastChild;)n.removeChild(n.lastChild)}(this.ulElement_);for(var o=0,s=i.length;o<s;++o){var a=document.createElement("li");a.innerHTML=i[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=i}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(fA),this.collapsed_?hA(this.collapseLabel_,this.label_):hA(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(bv);const yA=e5;var CA=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zh=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.element=i,o.index=r,o}return CA(t,n),t}(qr),t5=function(n){function t(e,i){var r=n.call(this)||this;if(r.unique_=!!(i||{}).unique,r.array_=e||[],r.unique_)for(var s=0,a=r.array_.length;s<a;++s)r.assertUnique_(r.array_[s],s);return r.updateLength_(),r}return CA(t,n),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var i=0,r=e.length;i<r;++i)this.push(e[i]);return this},t.prototype.forEach=function(e){for(var i=this.array_,r=0,o=i.length;r<o;++r)e(i[r],r,i)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get("length")},t.prototype.insertAt=function(e,i){this.unique_&&this.assertUnique_(i),this.array_.splice(e,0,i),this.updateLength_(),this.dispatchEvent(new zh("add",i,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var i=this.getLength();return this.insertAt(i,e),this.getLength()},t.prototype.remove=function(e){for(var i=this.array_,r=0,o=i.length;r<o;++r)if(i[r]===e)return this.removeAt(r)},t.prototype.removeAt=function(e){var i=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new zh("remove",i,e)),i},t.prototype.setAt=function(e,i){var r=this.getLength();if(e<r){this.unique_&&this.assertUnique_(i,e);var o=this.array_[e];this.array_[e]=i,this.dispatchEvent(new zh("remove",o,e)),this.dispatchEvent(new zh("add",i,e))}else{for(var s=r;s<e;++s)this.insertAt(s,void 0);this.insertAt(e,i)}},t.prototype.updateLength_=function(){this.set("length",this.array_.length)},t.prototype.assertUnique_=function(e,i){for(var r=0,o=this.array_.length;r<o;++r)if(this.array_[r]===e&&r!==i)throw new mA(58)},t}(fr);const Ti=t5;function wA(n){return Math.pow(n,3)}function Ba(n){return 1-wA(1-n)}function Iv(n){return 3*n*n-2*n*n*n}function n5(n){return n}var i5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),r5=function(n){function t(e){var i=this,r=e||{};i=n.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",s=void 0!==r.label?r.label:"\u21e7",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";i.label_=null,"string"==typeof s?(i.label_=document.createElement("span"),i.label_.className=a,i.label_.textContent=s):(i.label_=s,i.label_.classList.add(a));var l=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(i.label_),u.addEventListener("click",i.handleClick_.bind(i),!1);var d=i.element;return d.className=o+" "+Uh+" "+Sv,d.appendChild(u),i.callResetNorth_=r.resetNorth?r.resetNorth:void 0,i.duration_=void 0!==r.duration?r.duration:250,i.autoHide_=void 0===r.autoHide||r.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(Hh),i}return i5(t,n),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var i=this.getMap().getView();if(i){var r=i.getRotation();void 0!==r&&(this.duration_>0&&r%(2*Math.PI)!=0?i.animate({rotation:0,duration:this.duration_,easing:Ba}):i.setRotation(0))}},t.prototype.render=function(e){var i=e.frameState;if(i){var r=i.viewState.rotation;if(r!=this.rotation_){var o="rotate("+r+"rad)";if(this.autoHide_){var s=this.element.classList.contains(Hh);s||0!==r?s&&0!==r&&this.element.classList.remove(Hh):this.element.classList.add(Hh)}this.label_.style.transform=o}this.rotation_=r}},t}(bv);const o5=r5;var s5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),a5=function(n){function t(e){var i=this,r=e||{};i=n.call(this,{element:document.createElement("div"),target:r.target})||this;var o=void 0!==r.className?r.className:"ol-zoom",s=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:o+"-in",l=void 0!==r.zoomOutClassName?r.zoomOutClassName:o+"-out",u=void 0!==r.zoomInLabel?r.zoomInLabel:"+",c=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2212",d=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=d,f.appendChild("string"==typeof u?document.createTextNode(u):u),f.addEventListener("click",i.handleClick_.bind(i,s),!1);var p=document.createElement("button");p.className=l,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener("click",i.handleClick_.bind(i,-s),!1);var m=i.element;return m.className=o+" "+Uh+" "+Sv,m.appendChild(f),m.appendChild(p),i.duration_=void 0!==r.duration?r.duration:250,i}return s5(t,n),t.prototype.handleClick_=function(e,i){i.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var r=this.getMap().getView();if(r){var o=r.getZoom();if(void 0!==o){var s=r.getConstrainedZoom(o+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Ba})):r.setZoom(s)}}},t}(bv);const l5=a5;function TA(n){var t=n||{},e=new Ti;return(void 0===t.zoom||t.zoom)&&e.push(new l5(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new o5(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new yA(t.attributionOptions)),e}var u5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),c5=function(n){function t(e){var i=n.call(this)||this;return i.id_=void 0,i.geometryName_="geometry",i.style_=null,i.styleFunction_=void 0,i.geometryChangeKey_=null,i.addEventListener(hr(i.geometryName_),i.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?i.setGeometry(e):i.setProperties(e)),i}return u5(t,n),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&e.setGeometry(i.clone());var r=this.getStyle();return r&&e.setStyle(r),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Et(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=qe(e,"change",this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function d5(n){return"function"==typeof n?n:(Array.isArray(n)?t=n:(Fe("function"==typeof n.getZIndex,41),t=[n]),function(){return t});var t}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeEventListener(hr(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(hr(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(fr);const DA=c5;var Uu={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Yr={};Yr[Uu.DEGREES]=2*Math.PI*6370997/360,Yr[Uu.FEET]=.3048,Yr[Uu.METERS]=1,Yr[Uu.USFEET]=1200/3937;const So=Uu;function St(n,t){var e=t[0],i=t[1];return t[0]=n[0]*e+n[2]*i+n[4],t[1]=n[1]*e+n[3]*i+n[5],t}function pr(n,t,e,i,r,o,s,a){var l=Math.sin(o),u=Math.cos(o);return n[0]=i*u,n[1]=r*l,n[2]=-i*l,n[3]=r*u,n[4]=s*i*u-a*i*l+t,n[5]=s*r*l+a*r*u+e,n}function Wh(n,t){var e=function p5(n){return n[0]*n[3]-n[1]*n[2]}(t);Fe(0!==e,32);var i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5];return n[0]=s/e,n[1]=-r/e,n[2]=-o/e,n[3]=i/e,n[4]=(o*l-s*a)/e,n[5]=-(i*l-r*a)/e,n}function Kh(n){return"matrix("+n.join(", ")+")"}new Array(6);function bA(n){for(var t=[1/0,1/0,-1/0,-1/0],e=0,i=n.length;e<i;++e)Ua(t,n[e]);return t}function Ov(n,t,e){return e?(e[0]=n[0]-t,e[1]=n[1]-t,e[2]=n[2]+t,e[3]=n[3]+t,e):[n[0]-t,n[1]-t,n[2]+t,n[3]+t]}function SA(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n.slice()}function IA(n,t,e){var i,r;return(i=t<n[0]?n[0]-t:n[2]<t?t-n[2]:0)*i+(r=e<n[1]?n[1]-e:n[3]<e?e-n[3]:0)*r}function qh(n,t){return MA(n,t[0],t[1])}function ja(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function MA(n,t,e){return n[0]<=t&&t<=n[2]&&n[1]<=e&&e<=n[3]}function xv(n,t){var s=t[0],a=t[1],l=0;return s<n[0]?l|=16:s>n[2]&&(l|=4),a<n[1]?l|=8:a>n[3]&&(l|=2),0===l&&(l=1),l}function mr(n,t,e,i,r){return r?(r[0]=n,r[1]=t,r[2]=e,r[3]=i,r):[n,t,e,i]}function Ha(n){return mr(1/0,1/0,-1/0,-1/0,n)}function zu(n,t){return n[0]==t[0]&&n[2]==t[2]&&n[1]==t[1]&&n[3]==t[3]}function Ua(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function OA(n,t,e,i,r){for(;e<i;e+=r)E5(n,t[e],t[e+1]);return n}function E5(n,t,e){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}function xA(n,t){var e;return!!((e=t(Ga(n)))||(e=t(Wu(n)),e)||(e=t(Wa(n)),e)||(e=t(Io(n)),e))&&e}function Yh(n){var t=0;return Rv(n)||(t=It(n)*Zi(n)),t}function Ga(n){return[n[0],n[1]]}function Wu(n){return[n[2],n[1]]}function $a(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function w5(n,t){var e;return"bottom-left"===t?e=Ga(n):"bottom-right"===t?e=Wu(n):"top-left"===t?e=Io(n):"top-right"===t?e=Wa(n):Fe(!1,13),e}function RA(n,t,e,i,r){var o=t*i[0]/2,s=t*i[1]/2,a=Math.cos(e),l=Math.sin(e),u=o*a,c=o*l,d=s*a,h=s*l,f=n[0],p=n[1],g=f-u+h,m=f-u-h,_=f+u-h,y=f+u+h,v=p-c-d,C=p-c+d,E=p+c+d,M=p+c-d;return mr(Math.min(g,m,_,y),Math.min(v,C,E,M),Math.max(g,m,_,y),Math.max(v,C,E,M),r)}function Zi(n){return n[3]-n[1]}function za(n,t,e){var i=e||[1/0,1/0,-1/0,-1/0];return ai(n,t)?(i[0]=n[0]>t[0]?n[0]:t[0],i[1]=n[1]>t[1]?n[1]:t[1],i[2]=n[2]<t[2]?n[2]:t[2],i[3]=n[3]<t[3]?n[3]:t[3]):Ha(i),i}function Io(n){return[n[0],n[3]]}function Wa(n){return[n[2],n[3]]}function It(n){return n[2]-n[0]}function ai(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function Rv(n){return n[2]<n[0]||n[3]<n[1]}var M5=function(){function n(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Yr[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}();const PA=M5;var A5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ku=6378137,Ka=Math.PI*Ku,O5=[-Ka,-Ka,Ka,Ka],x5=[-180,-85,180,85],Zh=Ku*Math.log(Math.tan(Math.PI/2)),qu=function(n){function t(e){return n.call(this,{code:e,units:So.METERS,extent:O5,global:!0,worldExtent:x5,getPointResolution:function(i,r){return i/z4(r[1]/Ku)}})||this}return A5(t,n),t}(PA),LA=[new qu("EPSG:3857"),new qu("EPSG:102100"),new qu("EPSG:102113"),new qu("EPSG:900913"),new qu("http://www.opengis.net/gml/srs/epsg.xml#3857")];function R5(n,t,e){var i=n.length,r=e>1?e:2,o=t;void 0===o&&(o=r>2?n.slice():new Array(i));for(var s=0;s<i;s+=r){o[s]=Ka*n[s]/180;var a=Ku*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));a>Zh?a=Zh:a<-Zh&&(a=-Zh),o[s+1]=a}return o}function P5(n,t,e){var i=n.length,r=e>1?e:2,o=t;void 0===o&&(o=r>2?n.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*n[s]/Ka,o[s+1]=360*Math.atan(Math.exp(n[s+1]/Ku))/Math.PI-90;return o}var L5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FA=[-180,-90,180,90],N5=6378137*Math.PI/180,Yu=function(n){function t(e,i){return n.call(this,{code:e,units:So.DEGREES,extent:FA,axisOrientation:i,global:!0,metersPerUnit:N5,worldExtent:FA})||this}return L5(t,n),t}(PA),NA=[new Yu("CRS:84"),new Yu("EPSG:4326","neu"),new Yu("urn:ogc:def:crs:OGC:1.3:CRS84"),new Yu("urn:ogc:def:crs:OGC:2:84"),new Yu("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],Xh={},Xi={};function Qh(n,t,e){var i=n.getCode(),r=t.getCode();i in Xi||(Xi[i]={}),Xi[i][r]=e}function Pv(n,t,e){var i=e||6371008.8,r=Gh(n[1]),o=Gh(t[1]),s=(o-r)/2,a=Gh(t[0]-n[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Fv(n,t,e){var i;if(void 0!==t){for(var r=0,o=n.length;r<o;++r)t[r]=n[r];i=t}else i=n.slice();return i}function kA(n,t,e){if(void 0!==t&&n!==t){for(var i=0,r=n.length;i<r;++i)t[i]=n[i];n=t}return n}function U5(n){(function V5(n,t){Xh[n]=t})(n.getCode(),n),Qh(n,n,Fv)}function zn(n){return"string"==typeof n?function k5(n){return Xh[n]||Xh[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(n):n||null}function VA(n,t,e,i){var r,o=(n=zn(n)).getPointResolutionFunc();if(o)r=o(t,e),i&&i!==n.getUnits()&&(s=n.getMetersPerUnit())&&(r=r*s/Yr[i]);else{var a=n.getUnits();if(a==So.DEGREES&&!i||i==So.DEGREES)r=t;else{var s,l=Xu(n,zn("EPSG:4326"));if(l===kA&&a!==So.DEGREES)r=t*n.getMetersPerUnit();else{var u=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];r=(Pv((u=l(u,u,2)).slice(0,2),u.slice(2,4))+Pv(u.slice(4,6),u.slice(6,8)))/2}void 0!==(s=i?Yr[i]:n.getMetersPerUnit())&&(r/=s)}}return r}function BA(n){(function G5(n){n.forEach(U5)})(n),n.forEach(function(t){n.forEach(function(e){t!==e&&Qh(t,e,Fv)})})}function Nv(n,t){return n?"string"==typeof n?zn(n):n:zn(t)}function Zu(n,t){return Ju(n,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function qa(n,t){if(n===t)return!0;var e=n.getUnits()===t.getUnits();return(n.getCode()===t.getCode()||Xu(n,t)===Fv)&&e}function Xu(n,t){var r=function B5(n,t){var e;return n in Xi&&t in Xi[n]&&(e=Xi[n][t]),e}(n.getCode(),t.getCode());return r||(r=kA),r}function Qu(n,t){return Xu(zn(n),zn(t))}function Ju(n,t,e){return Qu(t,e)(n,void 0,n.length)}var Qi=null;function UA(){return Qi}function kv(n,t){return n}function Zr(n,t){return n}function Vv(n,t){return n}function Es(n,t){return n}function ws(n,t,e,i,r,o){for(var s=o||[],a=0,l=t;l<e;l+=i){var u=n[l],c=n[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}function GA(n,t,e,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],d=o[1],h=0,f=t;f<e;f+=i){var p=n[f]-c,g=n[f+1]-d;a[h++]=c+p*l-g*u,a[h++]=d+p*u+g*l;for(var m=f+2;m<f+i;++m)a[h++]=n[m]}return s&&a.length!=h&&(a.length=h),a}!function W5(){BA(LA),BA(NA),function $5(n,t,e,i){n.forEach(function(r){t.forEach(function(o){Qh(r,o,e),Qh(o,r,i)})})}(NA,LA,R5,P5)}();var Y5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$A=[1,0,0,1,0,0],Z5=function(n){function t(){var e=n.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function I4(n){var e,i,r,t=!1;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==r||!Bu(o,i))&&(t=!0,r=this,i=o,e=n.apply(this,arguments)),e}}(function(i,r,o){if(!o)return this.getSimplifiedGeometry(r);var s=this.clone();return s.applyTransform(o),s.getSimplifiedGeometry(r)}),e}return Y5(t,n),t.prototype.simplifyTransformed=function(e,i){return this.simplifyTransformedInternal(this.getRevision(),e,i)},t.prototype.clone=function(){return xe()},t.prototype.closestPointXY=function(e,i,r,o){return xe()},t.prototype.containsXY=function(e,i){var r=this.getClosestPoint([e,i]);return r[0]===e&&r[1]===i},t.prototype.getClosestPoint=function(e,i){var r=i||[NaN,NaN];return this.closestPointXY(e[0],e[1],r,1/0),r},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return xe()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var i=this.computeExtent(this.extent_);(isNaN(i[0])||isNaN(i[1]))&&Ha(i),this.extentRevision_=this.getRevision()}return function T5(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}(this.extent_,e)},t.prototype.rotate=function(e,i){xe()},t.prototype.scale=function(e,i,r){xe()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return xe()},t.prototype.getType=function(){return xe()},t.prototype.applyTransform=function(e){xe()},t.prototype.intersectsExtent=function(e){return xe()},t.prototype.translate=function(e,i){xe()},t.prototype.transform=function(e,i){var r=zn(e),o=r.getUnits()==So.TILE_PIXELS?function(s,a,l){var u=r.getExtent(),c=r.getWorldExtent(),d=Zi(c)/Zi(u);return pr($A,c[0],c[3],d,-d,0,0,0),ws(s,0,s.length,l,$A,a),Qu(r,i)(s,a,l)}:Qu(r,i);return this.applyTransform(o),this},t}(fr);const X5=Z5;var Q5=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),J5=function(n){function t(){var e=n.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return Q5(t,n),t.prototype.computeExtent=function(e){return function v5(n,t,e,i,r){return OA(Ha(r),n,t,e,i)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return xe()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=this.getSimplifiedGeometryInternal(e);return i.getFlatCoordinates().length<this.flatCoordinates.length?i:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,i){this.stride=zA(e),this.layout=e,this.flatCoordinates=i},t.prototype.setCoordinates=function(e,i){xe()},t.prototype.setLayout=function(e,i,r){var o;if(e)o=zA(e);else{for(var s=0;s<r;++s){if(0===i.length)return this.layout="XY",void(this.stride=2);i=i[0]}e=function e8(n){var t;return 2==n?t="XY":3==n?t="XYZ":4==n&&(t="XYZM"),t}(o=i.length)}this.layout=e,this.stride=o},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,i){var r=this.getFlatCoordinates();if(r){var o=this.getStride();GA(r,0,r.length,o,e,i,r),this.changed()}},t.prototype.scale=function(e,i,r){var o=i;void 0===o&&(o=e);var s=r;s||(s=$a(this.getExtent()));var a=this.getFlatCoordinates();if(a){var l=this.getStride();(function K5(n,t,e,i,r,o,s,a){for(var l=a||[],u=s[0],c=s[1],d=0,h=t;h<e;h+=i){var p=n[h+1]-c;l[d++]=u+r*(n[h]-u),l[d++]=c+o*p;for(var g=h+2;g<h+i;++g)l[d++]=n[g]}a&&l.length!=d&&(l.length=d)})(a,0,a.length,l,e,o,s,a),this.changed()}},t.prototype.translate=function(e,i){var r=this.getFlatCoordinates();if(r){var o=this.getStride();(function q5(n,t,e,i,r,o,s){for(var a=s||[],l=0,u=t;u<e;u+=i){a[l++]=n[u]+r,a[l++]=n[u+1]+o;for(var c=u+2;c<u+i;++c)a[l++]=n[c]}s&&a.length!=l&&(a.length=l)})(r,0,r.length,o,e,i,r),this.changed()}},t}(X5);function zA(n){var t;return"XY"==n?t=2:"XYZ"==n||"XYM"==n?t=3:"XYZM"==n&&(t=4),t}const Bv=J5;function WA(n,t,e,i){for(var r=0,o=e.length;r<o;++r)for(var s=e[r],a=0;a<i;++a)n[t++]=s[a];return t}var i8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),r8=function(n){function t(e,i){var r=n.call(this)||this;return r.setCoordinates(e,i),r}return i8(t,n),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,i,r,o){var s=this.flatCoordinates,a=ka(e,i,s[0],s[1]);if(a<o){for(var l=this.stride,u=0;u<l;++u)r[u]=s[u];return r.length=l,a}return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return function m5(n,t){var e=n[0],i=n[1];return mr(e,i,e,i,t)}(this.flatCoordinates,e)},t.prototype.getType=function(){return"Point"},t.prototype.intersectsExtent=function(e){return MA(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function n8(n,t,e,i){for(var r=0,o=e.length;r<o;++r)n[t++]=e[r];return t}(this.flatCoordinates,0,e),this.changed()},t}(Bv);const jv=r8;var o8=Ai(402),qA=Ai.n(o8);function Di(n,t){return Array.isArray(n)?n:(void 0===t?t=[n,n]:(t[0]=n,t[1]=n),t)}var l8=function(){function n(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Di(t.scale),this.displacement_=t.displacement}return n.prototype.clone=function(){var t=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return xe()},n.prototype.getImage=function(t){return xe()},n.prototype.getHitDetectionImage=function(){return xe()},n.prototype.getPixelRatio=function(t){return 1},n.prototype.getImageState=function(){return xe()},n.prototype.getImageSize=function(){return xe()},n.prototype.getHitDetectionImageSize=function(){return xe()},n.prototype.getOrigin=function(){return xe()},n.prototype.getSize=function(){return xe()},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Di(t)},n.prototype.listenImageChange=function(t){xe()},n.prototype.load=function(){xe()},n.prototype.unlistenImageChange=function(t){xe()},n}();const YA=l8;var ZA=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,XA=/^([a-z]*)$|^hsla?\(.*\)$/i;function QA(n){return"string"==typeof n?n:nO(n)}var t,e,u8=(t={},e=0,function(i){var r;if(t.hasOwnProperty(i))r=t[i];else{if(e>=1024){var o=0;for(var s in t)0==(3&o++)&&(delete t[s],--e)}r=function c8(n){var t,e,i,r,o;if(XA.exec(n)&&(n=function JA(n){var t=document.createElement("div");if(t.style.color=n,""!==t.style.color){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}return""}(n)),ZA.exec(n)){var a,s=n.length-1;a=s<=4?1:2;var l=4===s||8===s;t=parseInt(n.substr(1+0*a,a),16),e=parseInt(n.substr(1+1*a,a),16),i=parseInt(n.substr(1+2*a,a),16),r=l?parseInt(n.substr(1+3*a,a),16):255,1==a&&(t=(t<<4)+t,e=(e<<4)+e,i=(i<<4)+i,l&&(r=(r<<4)+r)),o=[t,e,i,r/255]}else 0==n.indexOf("rgba(")?tO(o=n.slice(5,-1).split(",").map(Number)):0==n.indexOf("rgb(")?((o=n.slice(4,-1).split(",").map(Number)).push(1),tO(o)):Fe(!1,14);return o}(i),t[i]=r,++e}return r});function eO(n){return Array.isArray(n)?n:u8(n)}function tO(n){return n[0]=nn(n[0]+.5|0,0,255),n[1]=nn(n[1]+.5|0,0,255),n[2]=nn(n[2]+.5|0,0,255),n[3]=nn(n[3],0,1),n}function nO(n){var t=n[0];t!=(0|t)&&(t=t+.5|0);var e=n[1];e!=(0|e)&&(e=e+.5|0);var i=n[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+e+","+i+","+(void 0===n[3]?1:n[3])+")"}function _r(n){return Array.isArray(n)?nO(n):n}var iO="10px sans-serif",Xr="#000",Ya="round",tf=[],Za="round",tc="#000",nc="center",rf="middle",Ts=[0,0,0,0],Qr=new fr;(new Fa).setSize=function(){console.warn("labelCache is deprecated.")};var Hv,Xa=null,Uv={},h8=function(){var o,s,t="32px ",e=["monospace","serif"],i=e.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";function a(u,c,d){for(var h=!0,f=0;f<i;++f){var p=e[f];if(s=sf(u+" "+c+" "+t+p,r),d!=p){var g=sf(u+" "+c+" "+t+d+","+p,r);h=h&&g!=s}}return!!h}function l(){for(var u=!0,c=Qr.getKeys(),d=0,h=c.length;d<h;++d){var f=c[d];Qr.get(f)<100&&(a.apply(this,f.split("\n"))?(La(Uv),Xa=null,Hv=void 0,Qr.set(f,100)):(Qr.set(f,Qr.get(f)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){var c=gA(u);if(c)for(var d=c.families,h=0,f=d.length;h<f;++h){var p=d[h],g=c.style+"\n"+c.weight+"\n"+p;void 0===Qr.get(g)&&(Qr.set(g,100,!0),a(c.style,c.weight,p)||(Qr.set(g,0,!0),void 0===o&&(o=setInterval(l,32))))}}}(),f8=function(){var n;return function(t){var e=Uv[t];if(null==e){if(jh){var i=gA(t),r=rO(t,"\u017dg");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||((n=document.createElement("div")).innerHTML="M",n.style.margin="0 !important",n.style.padding="0 !important",n.style.position="absolute !important",n.style.left="-99999px !important"),n.style.font=t,document.body.appendChild(n),e=n.offsetHeight,document.body.removeChild(n);Uv[t]=e}return e}}();function rO(n,t){return Xa||(Xa=$n(1,1)),n!=Hv&&(Xa.font=n,Hv=Xa.font),Xa.measureText(t)}function sf(n,t){return rO(n,t).width}function oO(n,t,e){if(t in e)return e[t];var i=sf(n,t);return e[t]=i,i}function sO(n,t,e,i){0!==t&&(n.translate(e,i),n.rotate(t),n.translate(-e,-i))}var af=null,v8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),y8=function(n){function t(e){var i=this;return(i=n.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},i.hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius_=void 0!==e.radius?e.radius:e.radius1,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.anchor_=null,i.size_=null,i.imageSize_=null,i.hitDetectionImageSize_=null,i.render(),i}return v8(t,n),t.prototype.clone=function(){var e=this.getScale(),i=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var e=this.createRenderOptions();this.createHitDetectionCanvas_(e)}return this.hitDetectionCanvas_},t.prototype.getImage=function(e){if(!this.canvas_[e||1]){var i=this.createRenderOptions(),r=$n(i.size*e||1,i.size*e||1);this.draw_(i,r,0,0,e||1),this.canvas_[e||1]=r.canvas}return this.canvas_[e||1]},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.imageSize_},t.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},t.prototype.getImageState=function(){return 2},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.createRenderOptions=function(){var a,e=Ya,i=Za,r=0,o=null,s=0,l=0;return this.stroke_&&(null===(a=this.stroke_.getColor())&&(a=tc),a=_r(a),void 0===(l=this.stroke_.getWidth())&&(l=1),o=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=Za),void 0===(e=this.stroke_.getLineCap())&&(e=Ya),void 0===(r=this.stroke_.getMiterLimit())&&(r=10)),{strokeStyle:a,strokeWidth:l,size:2*(this.radius_+l)+1,lineCap:e,lineDash:o,lineDashOffset:s,lineJoin:i,miterLimit:r}},t.prototype.render=function(){var e=this.createRenderOptions(),i=$n(e.size,e.size);this.draw_(e,i,0,0,1),this.canvas_={},this.canvas_[1]=i.canvas;var r=i.canvas.width,o=r,s=this.getDisplacement();this.hitDetectionImageSize_=[e.size,e.size],this.createHitDetectionCanvas_(e),this.anchor_=[r/2-s[0],r/2+s[1]],this.size_=[r,r],this.imageSize_=[o,o]},t.prototype.draw_=function(e,i,r,o,s){var a,l,u;i.setTransform(s,0,0,s,0,0),i.translate(r,o),i.beginPath();var c=this.points_;if(c===1/0)i.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var d=void 0!==this.radius2_?this.radius2_:this.radius_;for(d!==this.radius_&&(c*=2),a=0;a<=c;a++)l=2*a*Math.PI/c-Math.PI/2+this.angle_,i.lineTo(e.size/2+(u=a%2==0?this.radius_:d)*Math.cos(l),e.size/2+u*Math.sin(l))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=Xr),i.fillStyle=_r(h),i.fill()}this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,i.setLineDash&&e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineCap=e.lineCap,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit,i.stroke()),i.closePath()},t.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var i=this.fill_.getColor(),r=0;if("string"==typeof i&&(i=eO(i)),null===i?r=1:Array.isArray(i)&&(r=4===i.length?i[3]:1),0===r){var o=$n(e.size,e.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(e,o,0,0)}}},t.prototype.drawHitDetectionCanvas_=function(e,i,r,o){i.translate(r,o),i.beginPath();var s=this.points_;if(s===1/0)i.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(s*=2);var l=void 0,u=void 0,c=void 0;for(l=0;l<=s;l++)c=2*l*Math.PI/s-Math.PI/2+this.angle_,i.lineTo(e.size/2+(u=l%2==0?this.radius_:a)*Math.cos(c),e.size/2+u*Math.sin(c))}i.fillStyle=Xr,i.fill(),this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.stroke()),i.closePath()},t}(YA);const C8=y8;var E8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w8=function(n){function t(e){var r=e||{};return n.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return E8(t,n),t.prototype.clone=function(){var e=this.getScale(),i=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return i.setOpacity(this.getOpacity()),i},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(C8);const aO=w8;var T8=function(){function n(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(t){this.color_=t},n}();const Qa=T8;var D8=function(){function n(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t},n.prototype.setLineCap=function(t){this.lineCap_=t},n.prototype.setLineDash=function(t){this.lineDash_=t},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},n.prototype.setLineJoin=function(t){this.lineJoin_=t},n.prototype.setMiterLimit=function(t){this.miterLimit_=t},n.prototype.setWidth=function(t){this.width_=t},n}();const lf=D8;var Ja=function(){function n(t){var e=t||{};this.geometry_=null,this.geometryFunction_=lO,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return n.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new n({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(t){this.renderer_=t},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(t){this.fill_=t},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(t){this.image_=t},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(t){this.text_=t},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=lO,this.geometry_=t},n.prototype.setZIndex=function(t){this.zIndex_=t},n}(),Gv=null;function S8(n,t){if(!Gv){var e=new Qa({color:"rgba(255,255,255,0.4)"}),i=new lf({color:"#3399CC",width:1.25});Gv=[new Ja({image:new aO({fill:e,stroke:i,radius:5}),fill:e,stroke:i})]}return Gv}function lO(n){return n.getGeometry()}const uO=Ja;var M8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),A8=function(n){function t(e){var i=this,r=e||{},o=yn({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(i=n.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,i.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(r.style),i.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,i.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,i}return M8(t,n),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return n.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get("renderOrder")},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new(qA())(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set("renderOrder",e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:S8,this.styleFunction_=null===e?void 0:function b8(n){var t,e;"function"==typeof n?t=n:(Array.isArray(n)?e=n:(Fe("function"==typeof n.getZIndex,41),e=[n]),t=function(){return e});return t}(this.style_),this.changed()},t}(vA);const O8=A8;var rc={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},uf=[rc.FILL],Mo=[rc.STROKE],Ds=[rc.BEGIN_PATH],dO=[rc.CLOSE_PATH];const Te=rc;var x8=function(){function n(){}return n.prototype.drawCustom=function(t,e,i){},n.prototype.drawGeometry=function(t){},n.prototype.setStyle=function(t){},n.prototype.drawCircle=function(t,e){},n.prototype.drawFeature=function(t,e){},n.prototype.drawGeometryCollection=function(t,e){},n.prototype.drawLineString=function(t,e){},n.prototype.drawMultiLineString=function(t,e){},n.prototype.drawMultiPoint=function(t,e){},n.prototype.drawMultiPolygon=function(t,e){},n.prototype.drawPoint=function(t,e){},n.prototype.drawPolygon=function(t,e){},n.prototype.drawText=function(t,e){},n.prototype.setFillStrokeStyle=function(t,e){},n.prototype.setImageStyle=function(t,e){},n.prototype.setTextStyle=function(t,e){},n}();const hO=x8;function cf(n,t,e,i,r){for(var o=void 0!==r?r:[],s=0,a=t;a<e;a+=i)o[s++]=n.slice(a,a+i);return o.length=s,o}function $v(n,t,e,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=e.length;a<l;++a){var u=e[a];o[s++]=cf(n,t,u,i,o[s]),t=u}return o.length=s,o}function R8(n,t,e,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=e.length;a<l;++a){var u=e[a];o[s++]=$v(n,t,u,i,o[s]),t=u[u.length-1]}return o.length=s,o}var P8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),L8=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.tolerance=e,s.maxExtent=i,s.pixelRatio=o,s.maxLineWidth=0,s.resolution=r,s.beginGeometryInstruction1_=null,s.beginGeometryInstruction2_=null,s.bufferedMaxExtent_=null,s.instructions=[],s.coordinates=[],s.tmpCoordinate_=[],s.hitDetectionInstructions=[],s.state={},s}return P8(t,n),t.prototype.applyPixelRatio=function(e){var i=this.pixelRatio;return 1==i?e:e.map(function(r){return r*i})},t.prototype.appendFlatPointCoordinates=function(e,i){for(var r=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,s=this.coordinates,a=s.length,l=0,u=e.length;l<u;l+=i)o[0]=e[l],o[1]=e[l+1],qh(r,o)&&(s[a++]=o[0],s[a++]=o[1]);return a},t.prototype.appendFlatLineCoordinates=function(e,i,r,o,s,a){var l=this.coordinates,u=l.length,c=this.getBufferedMaxExtent();a&&(i+=o);var g,m,_,d=e[i],h=e[i+1],f=this.tmpCoordinate_,p=!0;for(g=i+o;g<r;g+=o)f[0]=e[g],f[1]=e[g+1],(_=xv(c,f))!==m?(p&&(l[u++]=d,l[u++]=h,p=!1),l[u++]=f[0],l[u++]=f[1]):1===_?(l[u++]=f[0],l[u++]=f[1],p=!1):p=!0,d=f[0],h=f[1],m=_;return(s&&p||g===i+o)&&(l[u++]=d,l[u++]=h),u},t.prototype.drawCustomCoordinates_=function(e,i,r,o,s){for(var a=0,l=r.length;a<l;++a){var u=r[a],c=this.appendFlatLineCoordinates(e,i,u,o,!1,!1);s.push(c),i=u}return i},t.prototype.drawCustom=function(e,i,r){this.beginGeometry(e,i);var l,u,c,d,h,o=e.getType(),s=e.getStride(),a=this.coordinates.length;if("MultiPolygon"==o){l=e.getOrientedFlatCoordinates(),d=[];var f=e.getEndss();h=0;for(var p=0,g=f.length;p<g;++p){var m=[];h=this.drawCustomCoordinates_(l,h,f[p],s,m),d.push(m)}this.instructions.push([Te.CUSTOM,a,d,e,r,R8])}else"Polygon"==o||"MultiLineString"==o?(c=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),h=this.drawCustomCoordinates_(l,0,e.getEnds(),s,c),this.instructions.push([Te.CUSTOM,a,c,e,r,$v])):"LineString"==o||"Circle"==o?(l=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([Te.CUSTOM,a,u,e,r,cf])):"MultiPoint"==o?(l=e.getFlatCoordinates(),(u=this.appendFlatPointCoordinates(l,s))>a&&this.instructions.push([Te.CUSTOM,a,u,e,r,cf])):"Point"==o&&(l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),this.instructions.push([Te.CUSTOM,a,u=this.coordinates.length,e,r]));this.endGeometry(i)},t.prototype.beginGeometry=function(e,i){this.beginGeometryInstruction1_=[Te.BEGIN_GEOMETRY,i,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Te.BEGIN_GEOMETRY,i,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var i,o,s,r=e.length,a=-1;for(i=0;i<r;++i)(s=(o=e[i])[0])==Te.END_GEOMETRY?a=i:s==Te.BEGIN_GEOMETRY&&(o[2]=i,b4(this.hitDetectionInstructions,a,i),a=-1)},t.prototype.setFillStrokeStyle=function(e,i){var r=this.state;if(e){var o=e.getColor();r.fillStyle=_r(o||Xr)}else r.fillStyle=void 0;if(i){var s=i.getColor();r.strokeStyle=_r(s||tc);var a=i.getLineCap();r.lineCap=void 0!==a?a:Ya;var l=i.getLineDash();r.lineDash=l?l.slice():tf;var u=i.getLineDashOffset();r.lineDashOffset=u||0;var c=i.getLineJoin();r.lineJoin=void 0!==c?c:Za;var d=i.getWidth();r.lineWidth=void 0!==d?d:1;var h=i.getMiterLimit();r.miterLimit=void 0!==h?h:10,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},t.prototype.createFill=function(e){var i=e.fillStyle,r=[Te.SET_FILL_STYLE,i];return"string"!=typeof i&&r.push(!0),r},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[Te.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,i){var r=e.fillStyle;("string"!=typeof r||e.currentFillStyle!=r)&&(void 0!==r&&this.instructions.push(i.call(this,e)),e.currentFillStyle=r)},t.prototype.updateStrokeStyle=function(e,i){var r=e.strokeStyle,o=e.lineCap,s=e.lineDash,a=e.lineDashOffset,l=e.lineJoin,u=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=o||s!=e.currentLineDash&&!Bu(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=l||e.currentLineWidth!=u||e.currentMiterLimit!=c)&&(void 0!==r&&i.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=o,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=l,e.currentLineWidth=u,e.currentMiterLimit=c)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[Te.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},t.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=SA(this.maxExtent),this.maxLineWidth>0)&&Ov(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},t}(hO);const oc=L8;var F8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),N8=function(n){function t(e,i,r,o){var s=n.call(this,e,i,r,o)||this;return s.hitDetectionImage_=null,s.image_=null,s.imagePixelRatio_=void 0,s.anchorX_=void 0,s.anchorY_=void 0,s.height_=void 0,s.opacity_=void 0,s.originX_=void 0,s.originY_=void 0,s.rotateWithView_=void 0,s.rotation_=void 0,s.scale_=void 0,s.width_=void 0,s.declutterImageWithText_=void 0,s}return F8(t,n),t.prototype.drawPoint=function(e,i){if(this.image_){this.beginGeometry(e,i);var r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([Te.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Te.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},t.prototype.drawMultiPoint=function(e,i){if(this.image_){this.beginGeometry(e,i);var r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([Te.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Te.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(i)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,i){var r=e.getAnchor(),o=e.getSize(),s=e.getHitDetectionImage(),a=e.getImage(this.pixelRatio),l=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=s,this.image_=a,this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=l[0],this.originY_=l[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=i},t}(oc);const k8=N8;var V8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),B8=function(n){function t(e,i,r,o){return n.call(this,e,i,r,o)||this}return V8(t,n),t.prototype.drawFlatCoordinates_=function(e,i,r,o){var s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,i,r,o,!1,!1),l=[Te.MOVE_TO_LINE_TO,s,a];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r},t.prototype.drawLineString=function(e,i){var r=this.state;if(void 0!==r.strokeStyle&&void 0!==r.lineWidth){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([Te.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],Ds);var a=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Mo),this.endGeometry(i)}},t.prototype.drawMultiLineString=function(e,i){var r=this.state;if(void 0!==r.strokeStyle&&void 0!==r.lineWidth){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([Te.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],Ds);for(var a=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride(),c=0,d=0,h=a.length;d<h;++d)c=this.drawFlatCoordinates_(l,c,a[d],u);this.hitDetectionInstructions.push(Mo),this.endGeometry(i)}},t.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Mo),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},t.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Mo),e.lastStroke=this.coordinates.length),e.lastStroke=0,n.prototype.applyStroke.call(this,e),this.instructions.push(Ds)},t}(oc);const j8=B8;function bs(n,t){return t*Math.round(n/t)}function G8(n,t,e,i,r,o,s){if(t==e)return s;var u,c,a=bs(n[t],r),l=bs(n[t+1],r);t+=i,o[s++]=a,o[s++]=l;do{if(u=bs(n[t],r),c=bs(n[t+1],r),(t+=i)==e)return o[s++]=u,o[s++]=c,s}while(u==a&&c==l);for(;t<e;){var d=bs(n[t],r),h=bs(n[t+1],r);if(t+=i,d!=u||h!=c){var f=u-a,p=c-l,g=d-a,m=h-l;if(f*m==p*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(p<0&&m<p||p==m||p>0&&m>p)){u=d,c=h;continue}o[s++]=u,o[s++]=c,a=u,l=c,u=d,c=h}}return o[s++]=u,o[s++]=c,s}var $8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),z8=function(n){function t(e,i,r,o){return n.call(this,e,i,r,o)||this}return $8(t,n),t.prototype.drawFlatCoordinatess_=function(e,i,r,o){var s=this.state,a=void 0!==s.fillStyle,l=void 0!==s.strokeStyle,u=r.length;this.instructions.push(Ds),this.hitDetectionInstructions.push(Ds);for(var c=0;c<u;++c){var d=r[c],h=this.coordinates.length,f=this.appendFlatLineCoordinates(e,i,d,o,!0,!l),p=[Te.MOVE_TO_LINE_TO,h,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(dO),this.hitDetectionInstructions.push(dO)),i=d}return a&&(this.instructions.push(uf),this.hitDetectionInstructions.push(uf)),l&&(this.instructions.push(Mo),this.hitDetectionInstructions.push(Mo)),i},t.prototype.drawCircle=function(e,i){var r=this.state;if(void 0!==r.fillStyle||void 0!==r.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,i),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([Te.SET_FILL_STYLE,Xr]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([Te.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var a=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);var c=[Te.CIRCLE,u];this.instructions.push(Ds,c),this.hitDetectionInstructions.push(Ds,c),void 0!==r.fillStyle&&(this.instructions.push(uf),this.hitDetectionInstructions.push(uf)),void 0!==r.strokeStyle&&(this.instructions.push(Mo),this.hitDetectionInstructions.push(Mo)),this.endGeometry(i)}},t.prototype.drawPolygon=function(e,i){var r=this.state;if(void 0!==r.fillStyle||void 0!==r.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,i),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([Te.SET_FILL_STYLE,Xr]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([Te.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var a=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,a,u),this.endGeometry(i)}},t.prototype.drawMultiPolygon=function(e,i){var r=this.state;if(void 0!==r.fillStyle||void 0!==r.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(e,i),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([Te.SET_FILL_STYLE,Xr]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([Te.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var a=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride(),c=0,d=0,h=a.length;d<h;++d)c=this.drawFlatCoordinatess_(l,c,a[d],u);this.endGeometry(i)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var i=this.coordinates,r=0,o=i.length;r<o;++r)i[r]=bs(i[r],e);return n.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(oc);const pO=z8;function W8(n,t,e,i,r){var d,h,f,p,g,m,_,y,v,o=e,s=e,a=0,l=0,u=e;for(d=e;d<i;d+=r){var C=t[d],E=t[d+1];void 0!==p&&(y=C-p,v=E-g,f=Math.sqrt(y*y+v*v),void 0!==m&&(l+=h,Math.acos((m*y+_*v)/(h*f))>n&&(l>a&&(a=l,o=u,s=d),l=0,u=d-r)),h=f,m=y,_=v),p=C,g=E}return(l+=f)>a?[u,d]:[o,s]}var K8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),df={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},q8=function(n){function t(e,i,r,o){var s=n.call(this,e,i,r,o)||this;return s.labels_=null,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=void 0,s.textRotation_=0,s.textFillState_=null,s.fillStates={},s.textStrokeState_=null,s.strokeStates={},s.textState_={},s.textStates={},s.textKey_="",s.fillKey_="",s.strokeKey_="",s.declutterImageWithText_=void 0,s}return K8(t,n),t.prototype.finish=function(){var e=n.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,i){var s=this.textState_;if(""!==this.text_&&s&&(this.textFillState_||this.textStrokeState_)){var a=this.coordinates,l=a.length,u=e.getType(),c=null,d=e.getStride();if("line"!==s.placement||"LineString"!=u&&"MultiLineString"!=u&&"Polygon"!=u&&"MultiPolygon"!=u){var x=s.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),d=2;break;case"Polygon":c=e.getFlatInteriorPoint(),s.overflow||x.push(c[2]/this.resolution),d=3;break;case"MultiPolygon":var N=e.getFlatInteriorPoints();for(c=[],p=0,g=N.length;p<g;p+=3)s.overflow||x.push(N[p+2]/this.resolution),c.push(N[p],N[p+1]);if(0===c.length)return;d=2}if((M=this.appendFlatPointCoordinates(c,d))===l)return;this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,i);var H=s.padding;if(H!=Ts&&(s.scale[0]<0||s.scale[1]<0)){var W=s.padding[0],U=s.padding[1],Y=s.padding[2],de=s.padding[3];s.scale[0]<0&&(U=-U,de=-de),s.scale[1]<0&&(W=-W,Y=-Y),H=[W,U,Y,de]}var De=this.pixelRatio;this.instructions.push([Te.DRAW_IMAGE,l,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,H==Ts?Ts:H.map(function(L){return L*De}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]);var oe=1/De;this.hitDetectionInstructions.push([Te.DRAW_IMAGE,l,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[oe,oe],NaN,this.declutterImageWithText_,H,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(i)}else{if(!ai(this.getBufferedMaxExtent(),e.getExtent()))return;var h=void 0;if(c=e.getFlatCoordinates(),"LineString"==u)h=[c.length];else if("MultiLineString"==u)h=e.getEnds();else if("Polygon"==u)h=e.getEnds().slice(0,1);else if("MultiPolygon"==u){var f=e.getEndss();h=[];for(var p=0,g=f.length;p<g;++p)h.push(f[p][0])}this.beginGeometry(e,i);for(var m=s.textAlign,_=0,y=void 0,v=0,C=h.length;v<C;++v){if(null==m){var E=W8(s.maxAngle,c,_,h[v],d);_=E[0],y=E[1]}else y=h[v];for(p=_;p<y;p+=d)a.push(c[p],c[p+1]);var M;_=h[v],this.drawChars_(l,M=a.length),l=M}this.endGeometry(i)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,i=this.textState_,r=this.textFillState_,o=this.strokeKey_;e&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var s=this.textKey_;s in this.textStates||(this.textStates[s]={font:i.font,textAlign:i.textAlign||nc,textBaseline:i.textBaseline||rf,scale:i.scale});var a=this.fillKey_;r&&(a in this.fillStates||(this.fillStates[a]={fillStyle:r.fillStyle}))},t.prototype.drawChars_=function(e,i){var r=this.textStrokeState_,o=this.textState_,s=this.strokeKey_,a=this.textKey_,l=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,c=df[o.textBaseline],d=this.textOffsetY_*u,h=this.text_,f=r?r.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Te.DRAW_CHARS,e,i,c,o.overflow,l,o.maxAngle,u,d,s,f*u,h,a,1]),this.hitDetectionInstructions.push([Te.DRAW_CHARS,e,i,c,o.overflow,l,o.maxAngle,1,d,s,f,h,a,1/u])},t.prototype.setTextStyle=function(e,i){var r,o,s;if(e){var a=e.getFill();a?((o=this.textFillState_)||(this.textFillState_=o={}),o.fillStyle=_r(a.getColor()||Xr)):this.textFillState_=o=null;var l=e.getStroke();if(l){(s=this.textStrokeState_)||(this.textStrokeState_=s={});var u=l.getLineDash(),c=l.getLineDashOffset(),d=l.getWidth(),h=l.getMiterLimit();s.lineCap=l.getLineCap()||Ya,s.lineDash=u?u.slice():tf,s.lineDashOffset=void 0===c?0:c,s.lineJoin=l.getLineJoin()||Za,s.lineWidth=void 0===d?1:d,s.miterLimit=void 0===h?10:h,s.strokeStyle=_r(l.getColor()||tc)}else this.textStrokeState_=s=null;r=this.textState_;var f=e.getFont()||iO;h8(f);var p=e.getScaleArray();r.overflow=e.getOverflow(),r.font=f,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.textBaseline=e.getTextBaseline()||rf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||Ts,r.scale=void 0===p?[1,1]:p;var g=e.getOffsetX(),m=e.getOffsetY(),_=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===m?0:m,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===y?0:y,this.strokeKey_=s?("string"==typeof s.strokeStyle?s.strokeStyle:Le(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+Le(o.fillStyle):""}else this.text_="";this.declutterImageWithText_=i},t}(oc),Y8={Circle:pO,Default:oc,Image:k8,LineString:j8,Polygon:pO,Text:q8},Z8=function(){function n(t,e,i,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}return n.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var i=this.buildersByZIndex_[e];for(var r in i){var o=i[r].finish();t[e][r]=o}}return t},n.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[i];void 0===r&&(this.buildersByZIndex_[i]=r={});var o=r[e];return void 0===o&&(o=new(0,Y8[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o),o},n}();const mO=Z8;var X8=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Q8=function(n){function t(e){var i=n.call(this)||this;return i.boundHandleImageChange_=i.handleImageChange_.bind(i),i.layer_=e,i.declutterExecutorGroup=null,i}return X8(t,n),t.prototype.getFeatures=function(e){return xe()},t.prototype.prepareFrame=function(e){return xe()},t.prototype.renderFrame=function(e,i){return xe()},t.prototype.loadedTileCallback=function(e,i,r){e[i]||(e[i]={}),e[i][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(e,i,r){return function(o,s){var a=this.loadedTileCallback.bind(this,r,o);return e.forEachLoadedTile(i,o,s,a)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,i,r,o,s){},t.prototype.getDataAtPixel=function(e,i,r){return xe()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){2===e.target.getState()&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var i=e.getState();return 2!=i&&3!=i&&e.addEventListener("change",this.boundHandleImageChange_),0==i&&(e.load(),i=e.getState()),2==i},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&"ready"==e.getSourceState()&&e.changed()},t}(aA);const J8=Q8;var e6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),t6=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s.inversePixelTransform=i,s.frameState=r,s.context=o,s}return e6(t,n),t}(qr);const _O=t6;var n6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),i6=function(n){function t(e){var i=n.call(this,e)||this;return i.container=null,i.tempTransform=[1,0,0,1,0,0],i.pixelTransform=[1,0,0,1,0,0],i.inversePixelTransform=[1,0,0,1,0,0],i.context=null,i.containerReused=!1,i}return n6(t,n),t.prototype.useContainer=function(e,i,r){var s,a,o=this.getLayer().getClassName();if(e&&""===e.style.opacity&&e.className===o&&(l=e.firstElementChild)instanceof HTMLCanvasElement&&(a=l.getContext("2d")),!a||0!==a.canvas.width&&a.canvas.style.transform!==i?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=e,this.context=a,this.containerReused=!0),!this.container){(s=document.createElement("div")).className=o;var l,u=s.style;u.position="absolute",u.width="100%",u.height="100%",a=$n(),s.appendChild(l=a.canvas),(u=l.style).position="absolute",u.left="0",u.transformOrigin="top left",this.container=s,this.context=a}},t.prototype.clip=function(e,i,r){var o=i.pixelRatio,s=i.size[0]*o/2,a=i.size[1]*o/2,l=i.viewState.rotation,u=Io(r),c=Wa(r),d=Wu(r),h=Ga(r);St(i.coordinateToPixelTransform,u),St(i.coordinateToPixelTransform,c),St(i.coordinateToPixelTransform,d),St(i.coordinateToPixelTransform,h),e.save(),sO(e,-l,s,a),e.beginPath(),e.moveTo(u[0]*o,u[1]*o),e.lineTo(c[0]*o,c[1]*o),e.lineTo(d[0]*o,d[1]*o),e.lineTo(h[0]*o,h[1]*o),e.clip(),sO(e,l,s,a)},t.prototype.clipUnrotated=function(e,i,r){var o=Io(r),s=Wa(r),a=Wu(r),l=Ga(r);St(i.coordinateToPixelTransform,o),St(i.coordinateToPixelTransform,s),St(i.coordinateToPixelTransform,a),St(i.coordinateToPixelTransform,l);var u=this.inversePixelTransform;St(u,o),St(u,s),St(u,a),St(u,l),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,i,r){var o=this.getLayer();if(o.hasListener(e)){var s=new _O(e,this.inversePixelTransform,r,i);o.dispatchEvent(s)}},t.prototype.preRender=function(e,i){this.dispatchRenderEvent_("prerender",e,i)},t.prototype.postRender=function(e,i){this.dispatchRenderEvent_("postrender",e,i)},t.prototype.getRenderTransform=function(e,i,r,o,s,a,l){var d=o/i;return pr(this.tempTransform,s/2,a/2,d,-d,-r,-e[0]+l,-e[1])},t.prototype.getDataAtPixel=function(e,i,r){var c,o=St(this.inversePixelTransform,e.slice()),s=this.context,l=this.getLayer().getExtent();if(l&&!qh(l,St(i.pixelToCoordinateTransform,e.slice())))return null;try{var d=Math.round(o[0]),h=Math.round(o[1]),f=document.createElement("canvas"),p=f.getContext("2d");f.width=1,f.height=1,p.clearRect(0,0,1,1),p.drawImage(s.canvas,d,h,1,1,0,0,1,1),c=p.getImageData(0,0,1,1).data}catch(g){return"SecurityError"===g.name?new Uint8Array:c}return 0===c[3]?null:c},t}(J8);const vO=i6;function r6(n,t,e,i,r,o,s,a,l,u,c,d){var h=n[t],f=n[t+1],p=0,g=0,m=0,_=0;function y(){p=h,g=f,h=n[t+=i],f=n[t+1],_+=m,m=Math.sqrt((h-p)*(h-p)+(f-g)*(f-g))}do{y()}while(t<e-i&&_+m<o);for(var v=(o-_)/m,C=vs(p,h,v),E=vs(g,f,v),M=t-i,x=_,N=o+a*l(u,r,c);t<e-i&&_+m<N;)y();var U,H=vs(p,h,v=(N-_)/m),W=vs(g,f,v);if(d){var Y=[C,E,H,W];GA(Y,0,4,2,d,Y,Y),U=Y[0]>Y[2]}else U=C>H;var de=Math.PI,De=[],oe=M+i===t;if(m=0,_=x,h=n[t=M],f=n[t+1],oe){y();var R=Math.atan2(f-g,h-p);return U&&(R+=R>0?-de:de),De[0]=[L=(H+C)/2,j=(W+E)/2,(N-o)/2,R,r],De}for(var X,Q=0,Ne=r.length;Q<Ne;){y();var P=Math.atan2(f-g,h-p);if(U&&(P+=P>0?-de:de),void 0!==X){var mt=P-X;if(mt+=mt>de?-2*de:mt<-de?2*de:0,Math.abs(mt)>s)return null}X=P;for(var ne=Q,Ye=0;Q<Ne;++Q){var He=a*l(u,r[U?Ne-Q-1:Q],c);if(t+i<e&&_+m<o+Ye+He/2)break;Ye+=He}if(Q!==ne){var wt=U?r.substring(Ne-ne,Ne-Q):r.substring(ne,Q),L=vs(p,h,v=(o+Ye/2-_)/m),j=vs(g,f,v);De.push([L,j,Ye/2,P,wt]),o+=Ye}}return De}function yO(n,t,e,i){for(var r=n[t],o=n[t+1],s=0,a=t+i;a<e;a+=i){var l=n[a],u=n[a+1];s+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return s}var el=[1/0,1/0,-1/0,-1/0],Ao=[],Jr=[],eo=[],Oo=[];function CO(n){return n[3].declutterBox}var o6=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function EO(n,t){return("start"===t||"end"===t)&&!o6.test(n)&&(t="start"===t?"left":"right"),df[t]}var s6=function(){function n(t,e,i,r,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderBuffer_=o,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(t,e,i,r){var o=t+e+i+r;if(this.labels_[o])return this.labels_[o];var s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[e],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],d=EO(t,l.textAlign||nc),h=r&&s.lineWidth?s.lineWidth:0,f=t.split("\n"),p=f.length,g=[],m=function p8(n,t,e){for(var i=t.length,r=0,o=0;o<i;++o){var s=sf(n,t[o]);r=Math.max(r,s),e.push(s)}return r}(l.font,f,g),_=f8(l.font),v=m+h,C=[],E=(v+2)*c[0],M=(_*p+h)*c[1],x={width:E<0?Math.floor(E):Math.ceil(E),height:M<0?Math.floor(M):Math.ceil(M),contextInstructions:C};(1!=c[0]||1!=c[1])&&C.push("scale",c),C.push("font",l.font),r&&(C.push("strokeStyle",s.strokeStyle),C.push("lineWidth",h),C.push("lineCap",s.lineCap),C.push("lineJoin",s.lineJoin),C.push("miterLimit",s.miterLimit),(jh?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(C.push("setLineDash",[s.lineDash]),C.push("lineDashOffset",s.lineDashOffset))),i&&C.push("fillStyle",a.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");var U,H=.5-d,W=d*v+H*h;if(r)for(U=0;U<p;++U)C.push("strokeText",[f[U],W+H*g[U],.5*(h+_)+U*_]);if(i)for(U=0;U<p;++U)C.push("fillText",[f[U],W+H*g[U],.5*(h+_)+U*_]);return this.labels_[o]=x,x},n.prototype.replayTextBackground_=function(t,e,i,r,o,s,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),s&&(this.alignFill_=s[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(t,e,i,r,o,s,a,l,u,c,d,h,f,p,g,m){var H,_=i-(a*=h[0]),y=r-(l*=h[1]),v=o+u>t?t-u:o,C=s+c>e?e-c:s,E=p[3]+v*h[0]+p[1],M=p[0]+C*h[1]+p[2],x=_-p[3],N=y-p[0];return(g||0!==d)&&(Ao[0]=x,Oo[0]=x,Ao[1]=N,Jr[1]=N,Jr[0]=x+E,eo[0]=Jr[0],eo[1]=N+M,Oo[1]=eo[1]),0!==d?(St(H=pr([1,0,0,1,0,0],i,r,1,1,d,-i,-r),Ao),St(H,Jr),St(H,eo),St(H,Oo),mr(Math.min(Ao[0],Jr[0],eo[0],Oo[0]),Math.min(Ao[1],Jr[1],eo[1],Oo[1]),Math.max(Ao[0],Jr[0],eo[0],Oo[0]),Math.max(Ao[1],Jr[1],eo[1],Oo[1]),el)):mr(Math.min(x,x+E),Math.min(N,N+M),Math.max(x,x+E),Math.max(N,N+M),el),f&&(_=Math.round(_),y=Math.round(y)),{drawImageX:_,drawImageY:y,drawImageW:v,drawImageH:C,originX:u,originY:c,declutterBox:{minX:el[0],minY:el[1],maxX:el[2],maxY:el[3],value:m},canvasTransform:H,scale:h}},n.prototype.replayImageOrLabel_=function(t,e,i,r,o,s,a){var u=r.declutterBox,c=t.canvas,d=a?a[2]*r.scale[0]/2:0;return u.minX-d<=c.width/e&&u.maxX+d>=0&&u.minY-d<=c.height/e&&u.maxY+d>=0&&(!(!s&&!a)&&this.replayTextBackground_(t,Ao,Jr,eo,Oo,s,a),function g8(n,t,e,i,r,o,s,a,l,u,c){n.save(),1!==e&&(n.globalAlpha*=e),t&&n.setTransform.apply(n,t),i.contextInstructions?(n.translate(l,u),n.scale(c[0],c[1]),function m8(n,t){for(var e=n.contextInstructions,i=0,r=e.length;i<r;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}(i,n)):c[0]<0||c[1]<0?(n.translate(l,u),n.scale(c[0],c[1]),n.drawImage(i,r,o,s,a,0,0,s,a)):n.drawImage(i,r,o,s,a,l,u,s*c[0],a*c[1]),n.restore()}(t,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},n.prototype.fill_=function(t){if(this.alignFill_){var e=St(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},n.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},n.prototype.drawLabelWithPointPlacement_=function(t,e,i,r){var o=this.textStates[e],s=this.createLabel(t,e,r,i),a=this.strokeStates[i],l=this.pixelRatio,u=EO(t,o.textAlign||nc),c=df[o.textBaseline||rf],d=a&&a.lineWidth?a.lineWidth:0;return{label:s,anchorX:u*(s.width/l-2*o.scale[0])+2*(.5-u)*d,anchorY:c*s.height/l+2*(.5-c)*d}},n.prototype.execute_=function(t,e,i,r,o,s,a,l){var u;this.pixelCoordinates_&&Bu(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=ws(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),function h5(n,t){n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5]}(this.renderedTransform_,i));for(var f,p,g,m,_,y,v,C,E,M,x,N,j,X,Q,Ne,c=0,d=r.length,h=0,H=0,W=0,U=null,Y=null,de=this.coordinateCache_,De=this.viewRotation_,oe=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,R={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:De},L=this.instructions!=r||this.overlaps?0:200;c<d;){var P=r[c];switch(P[0]){case Te.BEGIN_GEOMETRY:Ne=P[3],(j=P[1]).getGeometry()?void 0===a||ai(a,Ne.getExtent())?++c:c=P[2]+1:c=P[2];break;case Te.BEGIN_PATH:H>L&&(this.fill_(t),H=0),W>L&&(t.stroke(),W=0),!H&&!W&&(t.beginPath(),m=NaN,_=NaN),++c;break;case Te.CIRCLE:var ne=u[h=P[1]],Ye=u[h+1],wt=u[h+2]-ne,pt=u[h+3]-Ye,Ji=Math.sqrt(wt*wt+pt*pt);t.moveTo(ne+Ji,Ye),t.arc(ne,Ye,Ji,0,2*Math.PI,!0),++c;break;case Te.CLOSE_PATH:t.closePath(),++c;break;case Te.CUSTOM:h=P[1],f=P[2];var jf=P[4],Hf=6==P.length?P[5]:void 0;R.geometry=P[3],R.feature=j,c in de||(de[c]=[]);var ko=de[c];Hf?Hf(u,h,f,2,ko):(ko[0]=u[h],ko[1]=u[h+1],ko.length=2),jf(ko,R),++c;break;case Te.DRAW_IMAGE:h=P[1],f=P[2],p=P[4],g=P[5];var il=P[6],Uf=P[7],gc=P[8],Gf=P[9],mc=P[10],_c=P[11],$f=P[12],rl=P[13],Vo=P[14];if(!(C=P[3])&&P.length>=19){var ol=this.drawLabelWithPointPlacement_(E=P[18],M=P[19],x=P[20],N=P[21]);P[3]=C=ol.label,P[4]=p=(ol.anchorX-P[22])*this.pixelRatio,P[5]=g=(ol.anchorY-P[23])*this.pixelRatio,P[6]=il=C.height,P[13]=rl=C.width}var vc=void 0;P.length>24&&(vc=P[24]);var Bo=void 0,io=void 0,xs=void 0;P.length>16?(Bo=P[15],io=P[16],xs=P[17]):(Bo=Ts,io=!1,xs=!1),mc&&oe?_c+=De:!mc&&!oe&&(_c-=De);for(var sl=0;h<f;h+=2)if(!(vc&&vc[sl++]<rl/this.pixelRatio)){var tr=[t,e,C,er=this.calculateImageOrLabelDimensions_(C.width,C.height,u[h],u[h+1],rl,il,p,g,gc,Gf,_c,$f,o,Bo,io||xs,j),Uf,io?U:null,xs?Y:null],Wf=void 0,Yy=void 0;if(l&&Vo){if(!Vo[h]){Vo[h]=tr;continue}if(Wf=Vo[h],delete Vo[h],Yy=CO(Wf),l.collides(Yy))continue}l&&l.collides(er.declutterBox)||(Wf&&(l&&l.insert(Yy),this.replayImageOrLabel_.apply(this,Wf)),l&&l.insert(er.declutterBox),this.replayImageOrLabel_.apply(this,tr))}++c;break;case Te.DRAW_CHARS:var y1=P[1],C1=P[2],Zy=P[3],j7=P[4];N=P[5];var H7=P[6],E1=P[7],w1=P[8];x=P[9];var Xy=P[10];E=P[11];var T1=[P[13],P[13]],Qy=this.textStates[M=P[12]],yc=Qy.font,Cc=[Qy.scale[0]*E1,Qy.scale[1]*E1],Ec=void 0;yc in this.widths_?Ec=this.widths_[yc]:this.widths_[yc]=Ec={};var D1=yO(u,y1,C1,2),b1=Math.abs(Cc[0])*oO(yc,E,Ec);if(j7||b1<=D1){var wc=r6(u,y1,C1,2,E,(D1-b1)*df[this.textStates[M].textAlign],H7,Math.abs(Cc[0]),oO,yc,Ec,oe?0:this.viewRotation_);e:if(wc){var Tc=[],jo=void 0,Kf=void 0,Kn=void 0,Mi=void 0;if(x)for(jo=0,Kf=wc.length;jo<Kf;++jo){Kn=this.createLabel((Mi=wc[jo])[4],M,"",x);var er=this.calculateImageOrLabelDimensions_(Kn.width,Kn.height,Mi[0],Mi[1],Kn.width,Kn.height,p=Mi[2]+(Cc[0]<0?-Xy:Xy),g=Zy*Kn.height+2*(.5-Zy)*Xy*Cc[1]/Cc[0]-w1,0,0,Mi[3],T1,!1,Ts,!1,j);if(l&&l.collides(er.declutterBox))break e;Tc.push([t,e,Kn,er,1,null,null])}if(N)for(jo=0,Kf=wc.length;jo<Kf;++jo){if(Kn=this.createLabel((Mi=wc[jo])[4],M,N,""),er=this.calculateImageOrLabelDimensions_(Kn.width,Kn.height,Mi[0],Mi[1],Kn.width,Kn.height,p=Mi[2],g=Zy*Kn.height-w1,0,0,Mi[3],T1,!1,Ts,!1,j),l&&l.collides(er.declutterBox))break e;Tc.push([t,e,Kn,er,1,null,null])}l&&l.load(Tc.map(CO));for(var Jy=0,$7=Tc.length;Jy<$7;++Jy)this.replayImageOrLabel_.apply(this,Tc[Jy])}}++c;break;case Te.END_GEOMETRY:if(void 0!==s){var S1=s(j=P[1],Ne);if(S1)return S1}++c;break;case Te.FILL:L?H++:this.fill_(t),++c;break;case Te.MOVE_TO_LINE_TO:for(f=P[2],v=(Q=u[(h=P[1])+1])+.5|0,((y=(X=u[h])+.5|0)!==m||v!==_)&&(t.moveTo(X,Q),m=y,_=v),h+=2;h<f;h+=2)y=(X=u[h])+.5|0,v=(Q=u[h+1])+.5|0,(h==f-2||y!==m||v!==_)&&(t.lineTo(X,Q),m=y,_=v);++c;break;case Te.SET_FILL_STYLE:U=P,this.alignFill_=P[2],H&&(this.fill_(t),H=0,W&&(t.stroke(),W=0)),t.fillStyle=P[1],++c;break;case Te.SET_STROKE_STYLE:Y=P,W&&(t.stroke(),W=0),this.setStrokeStyle_(t,P),++c;break;case Te.STROKE:L?W++:t.stroke(),++c;break;default:++c}}H&&this.fill_(t),W&&t.stroke()},n.prototype.execute=function(t,e,i,r,o,s){this.viewRotation_=r,this.execute_(t,e,i,this.instructions,o,void 0,void 0,s)},n.prototype.executeHitDetection=function(t,e,i,r,o){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,o)},n}();const a6=s6;var Wv=["Polygon","Circle","LineString","Image","Text","Default"],l6=function(){function n(t,e,i,r,o,s){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}return n.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},n.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(this.executorsByZIndex_[e]=i={});var r=t[e],o=[this.renderBuffer_||0,this.renderBuffer_||0];for(var s in r)i[s]=new a6(this.resolution_,this.pixelRatio_,this.overlaps_,r[s],o)}},n.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],r=0,o=t.length;r<o;++r)if(t[r]in i)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o,s){var a=2*(r=Math.round(r))+1,l=pr(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=$n(a,a));var d,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(Ua(d=[1/0,1/0,-1/0,-1/0],t),Ov(d,e*(this.renderBuffer_+r),d));var f,h=function u6(n){if(void 0!==Kv[n])return Kv[n];for(var t=2*n+1,e=n*n,i=new Array(e+1),r=0;r<=n;++r)for(var o=0;o<=n;++o){var s=r*r+o*o;if(s>e)break;var a=i[s];a||(i[s]=a=[]),a.push(4*((n+r)*t+(n+o))+3),r>0&&a.push(4*((n-r)*t+(n+o))+3),o>0&&(a.push(4*((n+r)*t+(n-o))+3),r>0&&a.push(4*((n-r)*t+(n-o))+3))}for(var l=[],u=(r=0,i.length);r<u;++r)i[r]&&l.push.apply(l,i[r]);return Kv[n]=l,l}(r);function p(M,x){for(var N=c.getImageData(0,0,a,a).data,H=0,W=h.length;H<W;H++)if(N[h[H]]>0){if(!s||"Image"!==f&&"Text"!==f||-1!==s.indexOf(M)){var U=(h[H]-3)/4,Y=r-U%a,de=r-(U/a|0),De=o(M,x,Y*Y+de*de);if(De)return De}c.clearRect(0,0,a,a);break}}var m,_,y,v,C,g=Object.keys(this.executorsByZIndex_).map(Number);for(g.sort(ms),m=g.length-1;m>=0;--m){var E=g[m].toString();for(y=this.executorsByZIndex_[E],_=Wv.length-1;_>=0;--_)if(void 0!==(v=y[f=Wv[_]])&&(C=v.executeHitDetection(c,l,i,p,d)))return C}},n.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],r=e[1],o=e[2],s=e[3],a=[i,r,i,s,o,s,o,r];return ws(a,0,8,2,t,a),a},n.prototype.isEmpty=function(){return Hu(this.executorsByZIndex_)},n.prototype.execute=function(t,e,i,r,o,s,a){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(ms),this.maxExtent_&&(t.save(),this.clip(t,i));var c,d,h,f,p,g,u=s||Wv;for(a&&l.reverse(),c=0,d=l.length;c<d;++c){var m=l[c].toString();for(p=this.executorsByZIndex_[m],h=0,f=u.length;h<f;++h)void 0!==(g=p[u[h]])&&g.execute(t,e,i,r,o,a)}this.maxExtent_&&t.restore()},n}(),Kv={};const wO=l6;var c6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),d6=function(n){function t(e,i,r,o,s,a,l){var u=n.call(this)||this;return u.context_=e,u.pixelRatio_=i,u.extent_=r,u.transform_=o,u.viewRotation_=s,u.squaredTolerance_=a,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return c6(t,n),t.prototype.drawImages_=function(e,i,r,o){if(this.image_){var s=ws(e,i,r,2,this.transform_,this.pixelCoordinates_),a=this.context_,l=this.tmpLocalTransform_,u=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=u*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var d=0,h=s.length;d<h;d+=2){var f=s[d]-this.imageAnchorX_,p=s[d+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var g=f+this.imageAnchorX_,m=p+this.imageAnchorY_;pr(l,g,m,1,1,c,-g,-m),a.setTransform.apply(a,l),a.translate(g,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.setTransform(1,0,0,1,0,0)}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(a.globalAlpha=u)}},t.prototype.drawText_=function(e,i,r,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var s=ws(e,i,r,o,this.transform_,this.pixelCoordinates_),a=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);i<r;i+=o){var u=s[i]+this.textOffsetX_,c=s[i+1]+this.textOffsetY_;if(0!==l||1!=this.textScale_[0]||1!=this.textScale_[1]){var d=pr(this.tmpLocalTransform_,u,c,1,1,l,-u,-c);a.setTransform.apply(a,d),a.translate(u,c),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&a.strokeText(this.text_,u,c),this.textFillState_&&a.fillText(this.text_,u,c)}}},t.prototype.moveToLineTo_=function(e,i,r,o,s){var a=this.context_,l=ws(e,i,r,o,this.transform_,this.pixelCoordinates_);a.moveTo(l[0],l[1]);var u=l.length;s&&(u-=2);for(var c=2;c<u;c+=2)a.lineTo(l[c],l[c+1]);return s&&a.closePath(),r},t.prototype.drawRings_=function(e,i,r,o){for(var s=0,a=r.length;s<a;++s)i=this.moveToLineTo_(e,i,r[s],o,!0);return i},t.prototype.drawCircle=function(e){if(ai(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=function t8(n,t,e){var i=n.getFlatCoordinates();if(i){var r=n.getStride();return ws(i,0,i.length,r,t,e)}return null}(e,this.transform_,this.pixelCoordinates_),r=i[2]-i[0],o=i[3]-i[1],s=Math.sqrt(r*r+o*o),a=this.context_;a.beginPath(),a.arc(i[0],i[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}},t.prototype.drawFeature=function(e,i){var r=i.getGeometryFunction()(e);!r||!ai(this.extent_,r.getExtent())||(this.setStyle(i),this.drawGeometry(r))},t.prototype.drawGeometryCollection=function(e){for(var i=e.getGeometriesArray(),r=0,o=i.length;r<o;++r)this.drawGeometry(i[r])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(i,0,i.length,r),""!==this.text_&&this.drawText_(i,0,i.length,r)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(i,0,i.length,r),""!==this.text_&&this.drawText_(i,0,i.length,r)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ai(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=e.getFlatCoordinates();i.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),i.stroke()}if(""!==this.text_){var o=e.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var i=e.getExtent();if(ai(this.extent_,i)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=e.getFlatCoordinates(),s=0,a=e.getEnds(),l=e.getStride();r.beginPath();for(var u=0,c=a.length;u<c;++u)s=this.moveToLineTo_(o,s,a[u],l,!1);r.stroke()}if(""!==this.text_){var d=e.getFlatMidpoints();this.drawText_(d,0,d.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ai(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_;i.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),ai(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=e.getOrientedFlatCoordinates(),o=0,s=e.getEndss(),a=e.getStride();i.beginPath();for(var l=0,u=s.length;l<u;++l)o=this.drawRings_(r,o,s[l],a);this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}if(""!==this.text_){var d=e.getFlatInteriorPoints();this.drawText_(d,0,d.length,2)}}},t.prototype.setContextFillState_=function(e){var i=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var i=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,i.lineCap=e.lineCap),i.setLineDash&&(Bu(r.lineDash,e.lineDash)||i.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,i.lineDashOffset=e.lineDashOffset)),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,i.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,i.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,i.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,i.setLineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var i=this.context_,r=this.contextTextState_,o=e.textAlign?e.textAlign:nc;r?(r.font!=e.font&&(r.font=e.font,i.font=e.font),r.textAlign!=o&&(r.textAlign=o,i.textAlign=o),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,i.textBaseline=e.textBaseline)):(i.font=e.font,i.textAlign=o,i.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,i){if(e){var r=e.getColor();this.fillState_={fillStyle:_r(r||Xr)}}else this.fillState_=null;if(i){var o=i.getColor(),s=i.getLineCap(),a=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),d=i.getMiterLimit();this.strokeState_={lineCap:void 0!==s?s:Ya,lineDash:a||tf,lineDashOffset:l||0,lineJoin:void 0!==u?u:Za,lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==d?d:10,strokeStyle:_r(o||tc)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){if(e){var i=e.getSize();if(i){var r=e.getAnchor(),o=e.getImage(1),s=e.getOrigin(),a=e.getScaleArray();this.imageAnchorX_=r[0],this.imageAnchorY_=r[1],this.imageHeight_=i[1],this.image_=o,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=[this.pixelRatio_*a[0],this.pixelRatio_*a[1]],this.imageWidth_=i[0]}else this.image_=null}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var i=e.getFill();if(i){var r=i.getColor();this.textFillState_={fillStyle:_r(r||Xr)}}else this.textFillState_=null;var o=e.getStroke();if(o){var s=o.getColor(),a=o.getLineCap(),l=o.getLineDash(),u=o.getLineDashOffset(),c=o.getLineJoin(),d=o.getWidth(),h=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:Ya,lineDash:l||tf,lineDashOffset:u||0,lineJoin:void 0!==c?c:Za,lineWidth:void 0!==d?d:1,miterLimit:void 0!==h?h:10,strokeStyle:_r(s||tc)}}else this.textStrokeState_=null;var f=e.getFont(),p=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),_=e.getRotation(),y=e.getScaleArray(),v=e.getText(),C=e.getTextAlign(),E=e.getTextBaseline();this.textState_={font:void 0!==f?f:iO,textAlign:void 0!==C?C:nc,textBaseline:void 0!==E?E:rf},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==_?_:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=""},t}(hO);const h6=d6;var f6=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0==(3&t++)&&!this.cache_[e].hasListener()&&(delete this.cache_[e],--this.cacheSize_)}},n.prototype.get=function(t,e,i){var r=TO(t,e,i);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(t,e,i,r){var o=TO(t,e,i);this.cache_[o]=r,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},n}();function TO(n,t,e){return t+":"+n+":"+(e?QA(e):"null")}var hf=new f6,p6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),g6=function(n){function t(e,i,r,o){var s=n.call(this)||this;return s.extent=e,s.pixelRatio_=r,s.resolution=i,s.state=o,s}return p6(t,n),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return xe()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){xe()},t}(Fa);const m6=g6;var _6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function qv(n,t,e){var i=n;if(i.src&&cA){var r=i.decode(),o=!0;return r.then(function(){o&&t()}).catch(function(l){o&&("EncodingError"===l.name&&"Invalid image type."===l.message?t():e())}),function(){o=!1}}var a=[kh(i,"load",t),kh(i,"error",e)];return function(){a.forEach(Et)}}!function(n){function t(e,i,r,o,s,a){var l=n.call(this,e,i,r,0)||this;return l.src_=o,l.image_=new Image,null!==s&&(l.image_.crossOrigin=s),l.unlisten_=null,l.state=0,l.imageLoadFunction_=a,l}_6(t,n),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Zi(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=qv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(m6);var v6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sc=null,y6=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;return l.hitDetectionImage_=null,l.image_=e||new Image,null!==o&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=a,l.unlisten_=null,l.imageState_=s,l.size_=r,l.src_=i,l}return v6(t,n),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){sc||(sc=$n(1,1)),sc.drawImage(this.image_,0,0);try{sc.getImageData(0,0,1,1),this.tainted_=!1}catch{sc=null,this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},t.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],r=$n(e,i);r.fillRect(0,0,e,i),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=qv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(this.color_&&!this.canvas_[e]){var i=document.createElement("canvas");this.canvas_[e]=i,i.width=Math.ceil(this.image_.width*e),i.height=Math.ceil(this.image_.height*e);var r=i.getContext("2d");if(r.scale(e,e),r.drawImage(this.image_,0,0),r.globalCompositeOperation="multiply","multiply"===r.globalCompositeOperation||this.isTainted_())r.fillStyle=QA(this.color_),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-in",r.drawImage(this.image_,0,0);else{for(var o=r.getImageData(0,0,i.width,i.height),s=o.data,a=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,c=this.color_[3],d=0,h=s.length;d<h;d+=4)s[d]*=a,s[d+1]*=l,s[d+2]*=u,s[d+3]*=c;r.putImageData(o,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Fa),E6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w6=function(n){function t(e){var i=this,r=e||{};(i=n.call(this,{opacity:void 0!==r.opacity?r.opacity:1,rotation:void 0!==r.rotation?r.rotation:0,scale:void 0!==r.scale?r.scale:1,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:"top-left",i.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:"fraction",i.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:"fraction",i.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null,c=void 0!==r.imgSize?r.imgSize:null,d=r.src;Fe(!(void 0!==d&&u),4),Fe(!u||u&&c,5),(void 0===d||0===d.length)&&u&&(d=u.src||Le(u)),Fe(void 0!==d&&d.length>0,6);var h=void 0!==r.src?0:2;return i.color_=void 0!==r.color?eO(r.color):null,i.iconImage_=function C6(n,t,e,i,r,o){var s=hf.get(t,i,o);return s||(s=new y6(n,t,e,i,r,o),hf.set(t,i,o,s)),s}(u,d,c,i.crossOrigin_,h,i.color_),i.offset_=void 0!==r.offset?r.offset:[0,0],i.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:"top-left",i.origin_=null,i.size_=void 0!==r.size?r.size:null,i}return E6(t,n),t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,i=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!i)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=i[0]),"fraction"==this.anchorYUnits_&&(e[1]*=i[1])}if("top-left"!=this.anchorOrigin_){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+i[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+i[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_,i=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var r=this.getSize(),o=this.iconImage_.getSize();if(!r||!o)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=o[0]-r[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=o[1]-r[1]-e[1])}return e[0]+=i[0],e[1]+=i[1],this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener("change",e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener("change",e)},t}(YA);const Yv=w6;var DO={Point:function L6(n,t,e,i,r){var a,o=e.getImage(),s=e.getText();if(r&&(n=r,a=o&&s&&s.getText()?{}:void 0),o){if(2!=o.getImageState())return;var l=n.getBuilder(e.getZIndex(),"Image");l.setImageStyle(o,a),l.drawPoint(t,i)}if(s&&s.getText()){var u=n.getBuilder(e.getZIndex(),"Text");u.setTextStyle(s,a),u.drawText(t,i)}},LineString:function x6(n,t,e,i,r){var o=e.getStroke();if(o){var s=n.getBuilder(e.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(t,i)}var a=e.getText();if(a&&a.getText()){var l=(r||n).getBuilder(e.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}},Polygon:function N6(n,t,e,i,r){var o=e.getFill(),s=e.getStroke();if(o||s){var a=n.getBuilder(e.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(t,i)}var l=e.getText();if(l&&l.getText()){var u=(r||n).getBuilder(e.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}},MultiPoint:function F6(n,t,e,i,r){var a,o=e.getImage(),s=e.getText();if(r&&(n=r,a=o&&s&&s.getText()?{}:void 0),o){if(2!=o.getImageState())return;var l=n.getBuilder(e.getZIndex(),"Image");l.setImageStyle(o,a),l.drawMultiPoint(t,i)}if(s&&s.getText()){var u=(r||n).getBuilder(e.getZIndex(),"Text");u.setTextStyle(s,a),u.drawText(t,i)}},MultiLineString:function R6(n,t,e,i,r){var o=e.getStroke();if(o){var s=n.getBuilder(e.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,i)}var a=e.getText();if(a&&a.getText()){var l=(r||n).getBuilder(e.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}},MultiPolygon:function P6(n,t,e,i,r){var o=e.getFill(),s=e.getStroke();if(s||o){var a=n.getBuilder(e.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(t,i)}var l=e.getText();if(l&&l.getText()){var u=(r||n).getBuilder(e.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}},GeometryCollection:function O6(n,t,e,i,r){var s,a,o=t.getGeometriesArray();for(s=0,a=o.length;s<a;++s)(0,DO[o[s].getType()])(n,o[s],e,i,r)},Circle:function M6(n,t,e,i,r){var o=e.getFill(),s=e.getStroke();if(o||s){var a=n.getBuilder(e.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(t,i)}var l=e.getText();if(l&&l.getText()){var u=(r||n).getBuilder(e.getZIndex(),"Text");u.setTextStyle(l),u.drawText(t,i)}}};function S6(n,t){return parseInt(Le(n),10)-parseInt(Le(t),10)}function Zv(n,t){return.5*n/t}function bO(n,t,e,i,r,o,s){var a=!1,l=e.getImage();if(l){var u=l.getImageState();2==u||3==u?l.unlistenImageChange(r):(0==u&&l.load(),u=l.getImageState(),l.listenImageChange(r),a=!0)}return function A6(n,t,e,i,r,o){var s=e.getGeometryFunction()(t);if(s){var a=s.simplifyTransformed(i,r);e.getRenderer()?SO(n,a,e,t):(0,DO[a.getType()])(n,a,e,t,o)}}(n,t,e,i,o,s),a}function SO(n,t,e,i){if("GeometryCollection"!=t.getType())n.getBuilder(e.getZIndex(),"Default").drawCustom(t,i,e.getRenderer());else for(var r=t.getGeometries(),o=0,s=r.length;o<s;++o)SO(n,r[o],e,i)}function Xv(n,t){for(var e=!0,i=n.length-1;i>=0;--i)if(n[i]!=t[i]){e=!1;break}return e}function Qv(n,t){var e=Math.cos(t),i=Math.sin(t),o=n[1]*e+n[0]*i;return n[0]=n[0]*e-n[1]*i,n[1]=o,n}function AO(n,t){if(t.canWrapX()){var e=It(t.getExtent()),i=function U6(n,t,e){var i=t.getExtent(),r=0;if(t.canWrapX()&&(n[0]<i[0]||n[0]>i[2])){var o=e||It(i);r=Math.floor((n[0]-i[0])/o)}return r}(n,t,e);i&&(n[0]-=i*e)}return n}var G6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$6=function(n){function t(e){var i=n.call(this,e)||this;return i.boundHandleStyleImageChange_=i.handleStyleImageChange_.bind(i),i.dirty_=!1,i.hitDetectionImageData_=null,i.renderedFeatures_=null,i.renderedRevision_=-1,i.renderedResolution_=NaN,i.renderedExtent_=[1/0,1/0,-1/0,-1/0],i.renderedCenter_=null,i.renderedProjection_=null,i.renderedRenderOrder_=null,i.replayGroup_=null,i.replayGroupChanged=!0,i.declutterExecutorGroup=null,i.clipping=!0,i}return G6(t,n),t.prototype.useContainer=function(e,i,r){r<1&&(e=null),n.prototype.useContainer.call(this,e,i,r)},t.prototype.renderWorlds=function(e,i,r){var o=i.extent,s=i.viewState,a=s.center,l=s.resolution,u=s.projection,c=s.rotation,d=u.getExtent(),h=this.getLayer().getSource(),f=i.pixelRatio,p=i.viewHints,g=!(p[0]||p[1]),m=this.context,_=Math.round(i.size[0]*f),y=Math.round(i.size[1]*f),v=h.getWrapX()&&u.canWrapX(),C=v?It(d):null,E=v?Math.ceil((o[2]-d[2])/C)+1:1,M=v?Math.floor((o[0]-d[0])/C):0;do{var x=this.getRenderTransform(a,l,c,f,_,y,M*C);e.execute(m,1,x,c,g,void 0,r)}while(++M<E)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,i){var r=e.pixelRatio,o=e.layerStatesArray[e.layerIndex];(function f5(n,t,e){(function Gu(n,t,e,i,r,o,s){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n})(n,t,0,0,e,0,0)})(this.pixelTransform,1/r,1/r),Wh(this.inversePixelTransform,this.pixelTransform);var s=Kh(this.pixelTransform);this.useContainer(i,s,o.opacity);var a=this.context,l=a.canvas,u=this.replayGroup_,c=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&l.width>0&&(l.width=0),this.container;var d=Math.round(e.size[0]*r),h=Math.round(e.size[1]*r);l.width!=d||l.height!=h?(l.width=d,l.height=h,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||a.clearRect(0,0,d,h),this.preRender(a,e);var f=e.viewState,g=!1;if(o.extent&&this.clipping){var m=Es(o.extent);(g=!ja(m,e.extent)&&ai(m,e.extent))&&this.clipUnrotated(a,e,m)}this.renderWorlds(u,e),g&&a.restore(),this.postRender(a,e);var _=o.opacity,y=this.container;return _!==parseFloat(y.style.opacity)&&(y.style.opacity=1===_?"":String(_)),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(i){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];St(this.pixelTransform,r);var o=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,l=this.renderedProjection_,u=this.renderedExtent_,c=this.getLayer(),d=[],h=r[0]/2,f=r[1]/2;d.push(this.getRenderTransform(o,s,a,.5,h,f,0).slice());var p=c.getSource(),g=l.getExtent();if(p.getWrapX()&&l.canWrapX()&&!ja(g,u)){for(var m=u[0],_=It(g),y=0;m<g[0];)--y,d.push(this.getRenderTransform(o,s,a,.5,h,f,_*y).slice()),m+=_;for(y=0,m=u[2];m>g[2];)++y,d.push(this.getRenderTransform(o,s,a,.5,h,f,_*y).slice()),m-=_}this.hitDetectionImageData_=function T6(n,t,e,i,r,o,s){var u=$n(n[0]/2,n[1]/2);u.imageSmoothingEnabled=!1;for(var c=u.canvas,d=new h6(u,.5,r,null,s),h=e.length,f=Math.floor(16777215/h),p={},g=1;g<=h;++g){var m=e[g-1],_=m.getStyleFunction()||i;if(i){var y=_(m,o);if(y){Array.isArray(y)||(y=[y]);for(var C="#"+("000000"+(g*f).toString(16)).slice(-6),E=0,M=y.length;E<M;++E){var x=y[E],N=x.clone(),H=N.getFill();H&&H.setColor(C);var W=N.getStroke();W&&W.setColor(C),N.setText(void 0);var U=x.getImage();if(U){var Y=U.getImageSize();if(!Y)continue;var de=document.createElement("canvas");de.width=Y[0],de.height=Y[1];var De=de.getContext("2d",{alpha:!1});De.fillStyle=C;var oe=De.canvas;De.fillRect(0,0,oe.width,oe.height),$n(Y?Y[0]:oe.width,Y?Y[1]:oe.height).drawImage(oe,0,0),N.setImage(new Yv({img:oe,imgSize:Y,anchor:U.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:U.getOrigin(),size:U.getSize(),opacity:U.getOpacity(),scale:U.getScale(),rotation:U.getRotation(),rotateWithView:U.getRotateWithView()}))}var X=Number(N.getZIndex());(Q=p[X])||(p[X]=Q={},Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);var Ne=N.getGeometryFunction()(m);Ne&&ai(r,Ne.getExtent())&&Q[Ne.getType().replace("Multi","")].push(Ne,N)}}}}for(var P=Object.keys(p).map(Number).sort(ms),mt=(g=0,P.length);g<mt;++g){var Q=p[P[g]];for(var ne in Q){var Ye=Q[ne];for(E=0,M=Ye.length;E<M;E+=2){d.setStyle(Ye[E+1]);for(var sn=0,He=t.length;sn<He;++sn)d.setTransform(t[sn]),d.drawGeometry(Ye[E])}}}return u.getImageData(0,0,c.width,c.height)}(r,d,this.renderedFeatures_,c.getStyleFunction(),u,s,a)}i(function D6(n,t,e){var i=[];if(e){var r=4*(Math.round(n[0]/2)+Math.round(n[1]/2)*e.width),l=e.data[r+2]+256*(e.data[r+1]+256*e.data[r]),u=Math.floor(16777215/t.length);l&&l%u==0&&i.push(t[l/u-1])}return i}(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,i,r,o,s){var a=this;if(this.replayGroup_){var f,l=i.viewState.resolution,u=i.viewState.rotation,c=this.getLayer(),d={},h=function(g,m,_){var y=Le(g),v=d[y];if(v){if(!0!==v&&_<v.distanceSq){if(0===_)return d[y]=!0,s.splice(s.lastIndexOf(v),1),o(g,c,m);v.geometry=m,v.distanceSq=_}}else{if(0===_)return d[y]=!0,o(g,c,m);s.push(d[y]={feature:g,layer:c,geometry:m,distanceSq:_,callback:o})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(g){return f=g.forEachFeatureAtCoordinate(e,l,u,r,h,g===a.declutterExecutorGroup?i.declutterTree.all().map(function(m){return m.value}):null)}),f}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var i=this.getLayer(),r=i.getSource();if(!r)return!1;var o=e.viewHints[0],s=e.viewHints[1],a=i.getUpdateWhileAnimating(),l=i.getUpdateWhileInteracting();if(!this.dirty_&&!a&&o||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=e.extent,c=e.viewState,d=c.projection,h=c.resolution,f=e.pixelRatio,p=i.getRevision(),g=i.getRenderBuffer(),m=i.getRenderOrder();void 0===m&&(m=S6);var _=c.center.slice(),y=Ov(u,g*h),v=[y.slice()],C=d.getExtent();if(r.getWrapX()&&d.canWrapX()&&!ja(C,e.extent)){var E=It(C),M=Math.max(It(y)/2,E);y[0]=C[0]-M,y[2]=C[2]+M,AO(_,d);var x=function I5(n,t){var e=t.getExtent(),i=$a(n);if(t.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){var r=It(e),s=Math.floor((i[0]-e[0])/r)*r;n[0]-=s,n[2]-=s}return n}(v[0],d);x[0]<C[0]&&x[2]<C[2]?v.push([x[0]+E,x[1],x[2]+E,x[3]]):x[0]>C[0]&&x[2]>C[2]&&v.push([x[0]-E,x[1],x[2]-E,x[3]])}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&ja(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var H,N=new mO(Zv(h,f),y,h,f);this.getLayer().getDeclutter()&&(H=new mO(Zv(h,f),y,h,f));var U,W=UA();if(W){for(var Y=0,de=v.length;Y<de;++Y)r.loadFeatures(Vv(v[Y]),h,W);U=Xu(W,d)}else for(Y=0,de=v.length;Y<de;++Y)r.loadFeatures(v[Y],h,d);var De=function I6(n,t){var e=Zv(n,t);return e*e}(h,f),oe=function(Q){var Ne,P=Q.getStyleFunction()||i.getStyleFunction();if(P&&(Ne=P(Q,h)),Ne){var mt=this.renderFeature(Q,De,Ne,N,U,H);this.dirty_=this.dirty_||mt}}.bind(this),R=Vv(y),L=r.getFeaturesInExtent(R);for(m&&L.sort(m),Y=0,de=L.length;Y<de;++Y)oe(L[Y]);this.renderedFeatures_=L;var j=N.finish(),X=new wO(y,h,f,r.getOverlaps(),j,i.getRenderBuffer());return H&&(this.declutterExecutorGroup=new wO(y,h,f,r.getOverlaps(),H.finish(),i.getRenderBuffer())),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedExtent_=y,this.renderedCenter_=_,this.renderedProjection_=d,this.replayGroup_=X,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,i,r,o,s,a){if(!r)return!1;var l=!1;if(Array.isArray(r))for(var u=0,c=r.length;u<c;++u)l=bO(o,e,r[u],i,this.boundHandleStyleImageChange_,s,a)||l;else l=bO(o,e,r,i,this.boundHandleStyleImageChange_,s,a);return l},t}(vO);const z6=$6;var W6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),K6=function(n){function t(e){return n.call(this,e)||this}return W6(t,n),t.prototype.createRenderer=function(){return new z6(this)},t}(O8);const OO=K6;var q6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y6=function(n){function t(e){var i=this,r=e||{},o=yn({},r);return delete o.preload,delete o.useInterimTilesOnError,(i=n.call(this,o)||this).setPreload(void 0!==r.preload?r.preload:0),i.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),i}return q6(t,n),t.prototype.getPreload=function(){return this.get("preload")},t.prototype.setPreload=function(e){this.set("preload",e)},t.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},t.prototype.setUseInterimTilesOnError=function(e){this.set("useInterimTilesOnError",e)},t}(vA);const Z6=Y6;var xO=function(){function n(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r}return n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},n}();function Jv(n,t,e,i,r){return void 0!==r?(r.minX=n,r.maxX=t,r.minY=e,r.maxY=i,r):new xO(n,t,e,i)}const RO=xO;var X6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PO=function(n){function t(e){var i=n.call(this,e)||this;return i.extentChanged=!0,i.renderedExtent_=null,i.renderedProjection=null,i.renderedTiles=[],i.newTiles_=!1,i.tmpExtent=[1/0,1/0,-1/0,-1/0],i.tmpTileRange_=new RO(0,0,0,0),i}return X6(t,n),t.prototype.isDrawableTile=function(e){var i=this.getLayer(),r=e.getState(),o=i.getUseInterimTilesOnError();return 2==r||4==r||3==r&&!o},t.prototype.getTile=function(e,i,r,o){var s=o.pixelRatio,a=o.viewState.projection,l=this.getLayer(),c=l.getSource().getTile(e,i,r,s,a);return 3==c.getState()&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):c.setState(2)),this.isDrawableTile(c)||(c=c.getInterimTile()),c},t.prototype.loadedTileCallback=function(e,i,r){return!!this.isDrawableTile(r)&&n.prototype.loadedTileCallback.call(this,e,i,r)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,i){var r=e.layerStatesArray[e.layerIndex],o=e.viewState,s=o.projection,a=o.resolution,l=o.center,u=o.rotation,c=e.pixelRatio,d=this.getLayer(),h=d.getSource(),f=h.getRevision(),p=h.getTileGridForProjection(s),g=p.getZForResolution(a,h.zDirection),m=p.getResolution(g),_=e.extent,y=r.extent&&Es(r.extent);y&&(_=za(_,Es(r.extent)));var v=h.getTilePixelRatio(c),C=Math.round(e.size[0]*v),E=Math.round(e.size[1]*v);if(u){var M=Math.round(Math.sqrt(C*C+E*E));C=M,E=M}var x=m*C/2/v,N=m*E/2/v,H=[l[0]-x,l[1]-N,l[0]+x,l[1]+N],W=p.getTileRangeForExtentAndZ(_,g),U={};U[g]={};var Y=this.createLoadedTileFinder(h,s,U),de=this.tmpExtent,De=this.tmpTileRange_;this.newTiles_=!1;for(var oe=W.minX;oe<=W.maxX;++oe)for(var R=W.minY;R<=W.maxY;++R){var L=this.getTile(g,oe,R,e);if(this.isDrawableTile(L)){var j=Le(this);if(2==L.getState()){U[g][L.tileCoord.toString()]=L;var X=L.inTransition(j);!this.newTiles_&&(X||-1===this.renderedTiles.indexOf(L))&&(this.newTiles_=!0)}if(1===L.getAlpha(j,e.time))continue}var Q=p.getTileCoordChildTileRange(L.tileCoord,De,de),Ne=!1;Q&&(Ne=Y(g+1,Q)),Ne||p.forEachTileCoordParentTileRange(L.tileCoord,Y,De,de)}var P=m/a;pr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/v,1/v,u,-C/2,-E/2);var mt=function _8(n){return jh?Kh(n):(af||(af=$n(1,1).canvas),af.style.transform=Kh(n),af.style.transform)}(this.pixelTransform);this.useContainer(i,mt,r.opacity);var ne=this.context,Ye=ne.canvas;Wh(this.inversePixelTransform,this.pixelTransform),pr(this.tempTransform,C/2,E/2,P,P,0,-C/2,-E/2),Ye.width!=C||Ye.height!=E?(Ye.width=C,Ye.height=E):this.containerReused||ne.clearRect(0,0,C,E),y&&this.clipUnrotated(ne,e,y),yn(ne,h.getContextOptions()),this.preRender(ne,e),this.renderedTiles.length=0;var He,wt,pt,sn=Object.keys(U).map(Number);sn.sort(ms),1!==r.opacity||this.containerReused&&!h.getOpaque(e.viewState.projection)?(He=[],wt=[]):sn=sn.reverse();for(var Ji=sn.length-1;Ji>=0;--Ji){var Wn=sn[Ji],jf=h.getTilePixelSize(Wn,c,s),ko=p.getResolution(Wn)/m,il=jf[0]*ko*P,Uf=jf[1]*ko*P,gc=p.getTileCoordForCoordAndZ(Io(H),Wn),Gf=p.getTileCoordExtent(gc),mc=St(this.tempTransform,[v*(Gf[0]-H[0])/m,v*(H[3]-Gf[3])/m]),_c=v*h.getGutterForProjection(s),$f=U[Wn];for(var rl in $f){var Vo=(L=$f[rl]).tileCoord,ol=mc[0]-(gc[1]-Vo[1])*il,qy=Math.round(ol+il),zf=mc[1]-(gc[2]-Vo[2])*Uf,vc=Math.round(zf+Uf),Bo=qy-(oe=Math.round(ol)),io=vc-(R=Math.round(zf)),xs=g===Wn;if(!(X=xs&&1!==L.getAlpha(Le(this),e.time)))if(He){ne.save(),pt=[oe,R,oe+Bo,R,oe+Bo,R+io,oe,R+io];for(var sl=0,er=He.length;sl<er;++sl)if(g!==Wn&&Wn<wt[sl]){var tr=He[sl];ne.beginPath(),ne.moveTo(pt[0],pt[1]),ne.lineTo(pt[2],pt[3]),ne.lineTo(pt[4],pt[5]),ne.lineTo(pt[6],pt[7]),ne.moveTo(tr[6],tr[7]),ne.lineTo(tr[4],tr[5]),ne.lineTo(tr[2],tr[3]),ne.lineTo(tr[0],tr[1]),ne.clip()}He.push(pt),wt.push(Wn)}else ne.clearRect(oe,R,Bo,io);this.drawTileImage(L,e,oe,R,Bo,io,_c,xs,r.opacity),He&&!X&&ne.restore(),this.renderedTiles.push(L),this.updateUsedTiles(e.usedTiles,h,L)}}return this.renderedRevision=f,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!zu(this.renderedExtent_,H),this.renderedExtent_=H,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(e,h,p,c,s,_,g,d.getPreload()),this.scheduleExpireCache(e,h),this.postRender(ne,e),r.extent&&ne.restore(),mt!==Ye.style.transform&&(Ye.style.transform=mt),this.container},t.prototype.drawTileImage=function(e,i,r,o,s,a,l,u,c){var d=this.getTileImage(e);if(d){var h=Le(this),f=u?e.getAlpha(h,i.time):1,p=c*f,g=p!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,o,s,a),g&&this.context.restore(),1!==f?i.animate=!0:u&&e.endTransition(h)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,i){if(i.canExpireCache()){var r=function(o,s,a){var l=Le(o);l in a.usedTiles&&o.expireCache(a.viewState.projection,a.usedTiles[l])}.bind(null,i);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,i,r){var o=Le(i);o in e||(e[o]={}),e[o][r.getKey()]=!0},t.prototype.manageTilePyramid=function(e,i,r,o,s,a,l,u,c){var d=Le(i);d in e.wantedTiles||(e.wantedTiles[d]={});var m,_,y,v,C,E,h=e.wantedTiles[d],f=e.tileQueue,g=0;for(E=r.getMinZoom();E<=l;++E)for(_=r.getTileRangeForExtentAndZ(a,E,_),y=r.getResolution(E),v=_.minX;v<=_.maxX;++v)for(C=_.minY;C<=_.maxY;++C)l-E<=u?(++g,0==(m=i.getTile(E,v,C,o,s)).getState()&&(h[m.getKey()]=!0,f.isKeyQueued(m.getKey())||f.enqueue([m,d,r.getTileCoordCenter(m.tileCoord),y])),void 0!==c&&c(m)):i.useTile(E,v,C,s);i.updateCacheSize(g,s)},t}(vO);const Q6=PO;var J6=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eK=function(n){function t(e){return n.call(this,e)||this}return J6(t,n),t.prototype.createRenderer=function(){return new Q6(this)},t}(Z6);const tK=eK;var nK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iK=function(n){function t(e){var i=n.call(this)||this;return i.map_=e,i}return nK(t,n),t.prototype.dispatchRenderEvent=function(e,i){xe()},t.prototype.calculateMatrices2D=function(e){var i=e.viewState,r=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;pr(r,e.size[0]/2,e.size[1]/2,1/i.resolution,-1/i.resolution,-i.rotation,-i.center[0],-i.center[1]),Wh(o,r)},t.prototype.forEachFeatureAtCoordinate=function(e,i,r,o,s,a,l,u){var c,d=i.viewState;function h(oe,R,L,j){return s.call(a,R,oe?L:null,j)}var f=d.projection,p=AO(e.slice(),f),g=[[0,0]];if(f.canWrapX()&&o){var _=It(f.getExtent());g.push([-_,0],[_,0])}for(var y=i.layerStatesArray,v=y.length,C=[],E=[],M=0;M<g.length;M++)for(var x=v-1;x>=0;--x){var N=y[x],H=N.layer;if(H.hasRenderer()&&$h(N,d)&&l.call(u,H)){var W=H.getRenderer(),U=H.getSource();if(W&&U){var Y=U.getWrapX()?p:e,de=h.bind(null,N.managed);E[0]=Y[0]+g[M][0],E[1]=Y[1]+g[M][1],c=W.forEachFeatureAtCoordinate(E,i,r,de,C)}if(c)return c}}if(0!==C.length){var De=1/C.length;return C.forEach(function(oe,R){return oe.distanceSq+=R*De}),C.sort(function(oe,R){return oe.distanceSq-R.distanceSq}),C.some(function(oe){return c=oe.callback(oe.feature,oe.layer,oe.geometry)}),c}},t.prototype.forEachLayerAtPixel=function(e,i,r,o,s){return xe()},t.prototype.hasFeatureAtCoordinate=function(e,i,r,o,s,a){return void 0!==this.forEachFeatureAtCoordinate(e,i,r,o,bo,this,s,a)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){xe()},t.prototype.scheduleExpireIconCache=function(e){hf.canExpireCache()&&e.postRenderFunctions.push(rK)},t}(yv);function rK(n,t){hf.expire()}const oK=iK;var sK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aK=function(n){function t(e){var i=n.call(this,e)||this;i.fontChangeListenerKey_=qe(Qr,"propertychange",e.redrawText.bind(e)),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=Uh+" ol-layers";var o=e.getViewport();return o.insertBefore(i.element_,o.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return sK(t,n),t.prototype.dispatchRenderEvent=function(e,i){var r=this.getMap();if(r.hasListener(e)){var o=new _O(e,void 0,i);r.dispatchEvent(o)}},t.prototype.disposeInternal=function(){Et(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var i=e.layerStatesArray.sort(function(h,f){return h.zIndex-f.zIndex}),r=e.viewState;this.children_.length=0;for(var o=[],s=null,a=0,l=i.length;a<l;++a){var u=i[a];if(e.layerIndex=a,$h(u,r)&&("ready"==u.sourceState||"undefined"==u.sourceState)){var c=u.layer,d=c.render(e,s);!d||(d!==s&&(this.children_.push(d),s=d),"getDeclutter"in c&&o.push(c))}}for(a=o.length-1;a>=0;--a)o[a].renderDeclutter(e);(function B4(n,t){for(var e=n.childNodes,i=0;;++i){var r=e[i],o=t[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,i,r,o,s){for(var a=i.viewState,l=i.layerStatesArray,c=l.length-1;c>=0;--c){var d=l[c],h=d.layer;if(h.hasRenderer()&&$h(d,a)&&s(h)){var p=h.getRenderer().getDataAtPixel(e,i,r);if(p){var g=o(h,p);if(g)return g}}}},t}(oK);const lK=aK;var uK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cK=function(n){function t(e){var i=this,r=e||{},o=yn({},r);delete o.layers;var s=r.layers;return(i=n.call(this,o)||this).layersListenerKeys_=[],i.listenerKeys_={},i.addEventListener(hr("layers"),i.handleLayersChanged_),s?Array.isArray(s)?s=new Ti(s.slice(),{unique:!0}):Fe("function"==typeof s.getArray,43):s=new Ti(void 0,{unique:!0}),i.setLayers(s),i}return uK(t,n),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Et),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var i in this.layersListenerKeys_.push(qe(e,"add",this.handleLayersAdd_,this),qe(e,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[i].forEach(Et);La(this.listenerKeys_);for(var r=e.getArray(),o=0,s=r.length;o<s;o++){var a=r[o];this.listenerKeys_[Le(a)]=[qe(a,"propertychange",this.handleLayerChange_,this),qe(a,"change",this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(e){var i=e.element;this.listenerKeys_[Le(i)]=[qe(i,"propertychange",this.handleLayerChange_,this),qe(i,"change",this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(e){var r=Le(e.element);this.listenerKeys_[r].forEach(Et),delete this.listenerKeys_[r],this.changed()},t.prototype.getLayers=function(){return this.get("layers")},t.prototype.setLayers=function(e){this.set("layers",e)},t.prototype.getLayersArray=function(e){var i=void 0!==e?e:[];return this.getLayers().forEach(function(r){r.getLayersArray(i)}),i},t.prototype.getLayerStatesArray=function(e){var i=void 0!==e?e:[],r=i.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(i)});for(var o=this.getLayerState(),s=r,a=i.length;s<a;s++){var l=i[s];l.opacity*=o.opacity,l.visible=l.visible&&o.visible,l.maxResolution=Math.min(l.maxResolution,o.maxResolution),l.minResolution=Math.max(l.minResolution,o.minResolution),l.minZoom=Math.max(l.minZoom,o.minZoom),l.maxZoom=Math.min(l.maxZoom,o.maxZoom),void 0!==o.extent&&(l.extent=void 0!==l.extent?za(l.extent,o.extent):o.extent)}return i},t.prototype.getSourceState=function(){return"ready"},t}(_A);const dK=cK;var hK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fK=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.map=i,o.frameState=void 0!==r?r:null,o}return hK(t,n),t}(qr);const pf=fK;var pK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gK=function(n){function t(e,i,r,o,s){var a=n.call(this,e,i,s)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return pK(t,n),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(pf);const Ro=gK,ct={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var mK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_K=function(n){function t(e,i){var r=n.call(this,e)||this;r.map_=e,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=i?i*Bh:Bh,r.down_=null;var o=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=o,r.pointerdownListenerKey_=qe(o,"pointerdown",r.handlePointerDown_,r),r.relayedListenerKey_=qe(o,"pointermove",r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener("touchmove",r.boundHandleTouchMove_,!!dA&&{passive:!1}),r}return mK(t,n),t.prototype.emulateClick_=function(e){var i=new Ro(ct.CLICK,this.map_,e);this.dispatchEvent(i),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,i=new Ro(ct.DBLCLICK,this.map_,e),this.dispatchEvent(i)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var r=new Ro(ct.SINGLECLICK,this.map_,e);this.dispatchEvent(r)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var i=e;i.type==ct.POINTERUP||i.type==ct.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==ct.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var i=new Ro(ct.POINTERUP,this.map_,e);this.dispatchEvent(i),this.emulateClicks_&&!i.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Et),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(e);var i=new Ro(ct.POINTERDOWN,this.map_,e);if(this.dispatchEvent(i),this.down_=e,0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(qe(r,ct.POINTERMOVE,this.handlePointerMove_,this),qe(r,ct.POINTERUP,this.handlePointerUp_,this),qe(this.element_,ct.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(qe(this.element_.getRootNode(),ct.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var i=new Ro(ct.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(i)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var i=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Ro(e.type,this.map_,e,i))},t.prototype.handleTouchMove_=function(e){(!this.originalPointerMoveEvent_||this.originalPointerMoveEvent_.defaultPrevented)&&e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Et(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Et(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Et),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},t}(Fa);const vK=_K;var gf=1/0,yK=function(){function n(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,La(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},n.prototype.enqueue=function(t){Fe(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=gf&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return 2*t+1},n.prototype.getRightChildIndex_=function(t){return 2*t+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return 0===this.elements_.length},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,r=e.length,o=e[t],s=i[t],a=t;t<r>>1;){var l=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<r&&i[u]<i[l]?u:l;e[t]=e[c],i[t]=i[c],t=c}e[t]=o,i[t]=s,this.siftDown_(a,t)},n.prototype.siftDown_=function(t,e){for(var i=this.elements_,r=this.priorities_,o=i[e],s=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>s))break;i[e]=i[a],r[e]=r[a],e=a}i[e]=o,r[e]=s},n.prototype.reprioritize=function(){var s,a,l,t=this.priorityFunction_,e=this.elements_,i=this.priorities_,r=0,o=e.length;for(a=0;a<o;++a)(l=t(s=e[a]))==gf?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,e[r++]=s);e.length=r,i.length=r,this.heapify_()},n}();const CK=yK;var EK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wK=function(n){function t(e,i){var r=n.call(this,function(o){return e.apply(null,o)},function(o){return o[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return EK(t,n),t.prototype.enqueue=function(e){var i=n.prototype.enqueue.call(this,e);return i&&e[0].addEventListener("change",this.boundHandleTileChange_),i},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var i=e.target,r=i.getState();if(i.hifi&&2===r||3===r||4===r){i.removeEventListener("change",this.boundHandleTileChange_);var o=i.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,i){for(var s,a,r=0;this.tilesLoading_<e&&r<i&&this.getCount()>0;)a=(s=this.dequeue()[0]).getKey(),0===s.getState()&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++r,s.load())},t}(CK);const TK=wK;function LO(n,t,e){return function(i,r,o,s,a){if(i){var l=t?0:o[0]*r,u=t?0:o[1]*r,c=a?a[0]:0,d=a?a[1]:0,h=n[0]+l/2+c,f=n[2]-l/2+c,p=n[1]+u/2+d,g=n[3]-u/2+d;h>f&&(f=h=(f+h)/2),p>g&&(g=p=(g+p)/2);var m=nn(i[0],h,f),_=nn(i[1],p,g),y=30*r;return s&&e&&(m+=-y*Math.log(1+Math.max(0,h-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-f)/y),_+=-y*Math.log(1+Math.max(0,p-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-g)/y)),[m,_]}}}function SK(n){return n}function iy(n,t,e,i){var r=It(t)/e[0],o=Zi(t)/e[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function ry(n,t,e){var i=Math.min(n,t);return i*=Math.log(1+50*Math.max(0,n/t-1))/50+1,e&&(i=Math.max(i,e),i/=Math.log(1+50*Math.max(0,e/n-1))/50+1),nn(i,e/2,2*t)}function FO(n,t,e,i,r){return function(o,s,a,l){if(void 0!==o){var u=i?iy(n,i,a,r):n;return(void 0===e||e)&&l?ry(o,u,t):nn(o,t,u)}}}function oy(n){if(void 0!==n)return 0}function NO(n){if(void 0!==n)return n}function kO(n,t,e,i,r,o,s){var d,a=n[t],l=n[t+1],u=n[e]-a,c=n[e+1]-l;if(0===u&&0===c)d=t;else{var h=((r-a)*u+(o-l)*c)/(u*u+c*c);if(h>1)d=e;else{if(h>0){for(var f=0;f<i;++f)s[f]=vs(n[t+f],n[e+f],h);return void(s.length=i)}d=t}}for(f=0;f<i;++f)s[f]=n[d+f];s.length=i}function VO(n,t,e,i,r){var o=n[t],s=n[t+1];for(t+=i;t<e;t+=i){var a=n[t],l=n[t+1],u=ka(o,s,a,l);u>r&&(r=u),o=a,s=l}return r}function jO(n,t,e,i,r,o,s,a,l,u,c){if(t==e)return u;var d,h;if(0===r){if((h=ka(s,a,n[t],n[t+1]))<u){for(d=0;d<i;++d)l[d]=n[t+d];return l.length=i,h}return u}for(var f=c||[NaN,NaN],p=t+i;p<e;)if(kO(n,p-i,p,i,s,a,f),(h=ka(s,a,f[0],f[1]))<u){for(u=h,d=0;d<i;++d)l[d]=f[d];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(h)-Math.sqrt(u))/r|0,1);if(o&&(kO(n,e-i,t,i,s,a,f),(h=ka(s,a,f[0],f[1]))<u)){for(u=h,d=0;d<i;++d)l[d]=f[d];l.length=i}return u}function UO(n,t,e,i){for(var r=0,o=n[e-i],s=n[e-i+1];t<e;t+=i){var a=n[t],l=n[t+1];r+=s*a-o*l,o=a,s=l}return r/2}var xK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RK=function(n){function t(e,i){var r=n.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return xK(t,n),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,i,r,o){return o<IA(this.getExtent(),e,i)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(VO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,r,o))},t.prototype.getArea=function(){return UO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return cf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var i=[];return i.length=function zv(n,t,e,i,r,o,s){var a=(e-t)/i;if(a<3){for(;t<e;t+=i)o[s++]=n[t],o[s++]=n[t+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var u=[t,e-i],c=0;u.length>0;){for(var d=u.pop(),h=u.pop(),f=0,p=n[h],g=n[h+1],m=n[d],_=n[d+1],y=h+i;y<d;y+=i){var E=K4(n[y],n[y+1],p,g,m,_);E>f&&(c=y,f=E)}f>r&&(l[(c-t)/i]=1,h+i<c&&u.push(h,c),c+i<d&&u.push(c,d))}for(y=0;y<a;++y)l[y]&&(o[s++]=n[t+y*i],o[s++]=n[t+y*i+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,i,0),new t(i,"XY")},t.prototype.getType=function(){return"LinearRing"},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=WA(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Bv);const $O=RK;function PK(n,t,e,i,r){return!xA(r,function(s){return!Ss(n,t,e,i,s[0],s[1])})}function Ss(n,t,e,i,r,o){for(var s=0,a=n[e-i],l=n[e-i+1];t<e;t+=i){var u=n[t],c=n[t+1];l<=o?c>o&&(u-a)*(o-l)-(r-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function sy(n,t,e,i,r,o){if(0===e.length||!Ss(n,t,e[0],i,r,o))return!1;for(var s=1,a=e.length;s<a;++s)if(Ss(n,e[s-1],e[s],i,r,o))return!1;return!0}function ay(n,t,e,i,r){var o=OA([1/0,1/0,-1/0,-1/0],n,t,e,i);return!!ai(r,o)&&(!!(ja(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3])||function LK(n,t,e,i,r){for(var a,o=[n[t],n[t+1]],s=[];t+i<e;t+=i){if(s[0]=n[t+i],s[1]=n[t+i+1],a=r(o,s))return a;o[0]=s[0],o[1]=s[1]}return!1}(n,t,e,i,function(s,a){return function b5(n,t,e){var i=!1,r=xv(n,t),o=xv(n,e);if(1===r||1===o)i=!0;else{var s=n[0],a=n[1],l=n[2],u=n[3],h=e[0],f=e[1],p=(f-t[1])/(h-t[0]),g=void 0,m=void 0;!!(2&o)&&!(2&r)&&(i=(g=h-(f-u)/p)>=s&&g<=l),i||!(4&o)||4&r||(i=(m=f-(h-l)*p)>=a&&m<=u),i||!(8&o)||8&r||(i=(g=h-(f-a)/p)>=s&&g<=l),!i&&16&o&&!(16&r)&&(i=(m=f-(h-s)*p)>=a&&m<=u)}return i}(r,s,a)}))}function NK(n,t,e,i){for(;t<e-i;){for(var r=0;r<i;++r){var o=n[t+r];n[t+r]=n[e-i+r],n[e-i+r]=o}t+=i,e-=i}}function KO(n,t,e,i){for(var r=0,o=n[e-i],s=n[e-i+1];t<e;t+=i){var a=n[t],l=n[t+1];r+=(a-o)*(l+s),o=a,s=l}return 0===r?void 0:r>0}function ly(n,t,e,i,r){for(var o=void 0!==r&&r,s=0,a=e.length;s<a;++s){var l=e[s],u=KO(n,t,l,i);(0===s?o&&u||!o&&!u:o&&!u||!o&&u)&&NK(n,t,l,i),t=l}return t}var kK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mf=function(n){function t(e,i,r){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==i&&r?(o.setFlatCoordinates(i,e),o.ends_=r):o.setCoordinates(e,i),o}return kK(t,n),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Nh(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,i,r,o){return o<IA(this.getExtent(),e,i)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function BO(n,t,e,i,r){for(var o=0,s=e.length;o<s;++o){var a=e[o];r=VO(n,t,a,i,r),t=a}return r}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function HO(n,t,e,i,r,o,s,a,l,u,c){for(var d=c||[NaN,NaN],h=0,f=e.length;h<f;++h){var p=e[h];u=jO(n,t,p,i,r,o,s,a,l,u,d),t=p}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,i,r,o))},t.prototype.containsXY=function(e,i){return sy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,i)},t.prototype.getArea=function(){return function GO(n,t,e,i){for(var r=0,o=0,s=e.length;o<s;++o){var a=e[o];r+=UO(n,t,a,i),t=a}return r}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var i;return void 0!==e?ly(i=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):i=this.flatCoordinates,$v(i,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=$a(this.getExtent());this.flatInteriorPoint_=function zO(n,t,e,i,r,o,s){for(var a,l,u,c,d,h,f,p=r[o+1],g=[],m=0,_=e.length;m<_;++m){var y=e[m];for(c=n[y-i],h=n[y-i+1],a=t;a<y;a+=i)d=n[a],f=n[a+1],(p<=h&&f<=p||h<=p&&p<=f)&&g.push(u=(p-h)/(f-h)*(d-c)+c),c=d,h=f}var v=NaN,C=-1/0;for(g.sort(ms),c=g[0],a=1,l=g.length;a<l;++a){d=g[a];var E=Math.abs(d-c);E>C&&sy(n,t,e,i,u=(c+d)/2,p)&&(v=u,C=E),c=d}return isNaN(v)&&(v=r[o]),s?(s.push(v,p,C),s):[v,p,C]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new jv(this.getFlatInteriorPoint(),"XYM")},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new $O(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,i=this.flatCoordinates,r=this.ends_,o=[],s=0,a=0,l=r.length;a<l;++a){var u=r[a],c=new $O(i.slice(s,u),e);o.push(c),s=u}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;!function qO(n,t,e,i,r){for(var o=void 0!==r&&r,s=0,a=e.length;s<a;++s){var l=e[s],u=KO(n,t,l,i);if(0===s){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;t=l}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ly(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var i=[],r=[];return i.length=function fO(n,t,e,i,r,o,s,a){for(var l=0,u=e.length;l<u;++l){var c=e[l];s=G8(n,t,c,i,r,o,s),a.push(s),t=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),i,0,r),new t(i,"XY",r)},t.prototype.getType=function(){return"Polygon"},t.prototype.intersectsExtent=function(e){return function WO(n,t,e,i,r){if(!function FK(n,t,e,i,r){return!!(ay(n,t,e,i,r)||Ss(n,t,e,i,r[0],r[1])||Ss(n,t,e,i,r[0],r[3])||Ss(n,t,e,i,r[2],r[1])||Ss(n,t,e,i,r[2],r[3]))}(n,t,e[0],i,r))return!1;if(1===e.length)return!0;for(var o=1,s=e.length;o<s;++o)if(PK(n,e[o-1],e[o],i,r)&&!ay(n,e[o-1],e[o],i,r))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,i){this.setLayout(i,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=function KA(n,t,e,i,r){for(var o=r||[],s=0,a=0,l=e.length;a<l;++a){var u=WA(n,t,e[a],i);o[s++]=u,t=u}return o.length=s,o}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(Bv);const VK=mf;function YO(n){var t=n[0],e=n[1],i=n[2],r=n[3],o=[t,e,t,r,i,r,i,e,t,e];return new mf(o,"XY",[o.length])}var jK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HK=function(n){function t(e){var i=n.call(this)||this,r=yn({},e);return i.hints_=[0,0],i.animations_=[],i.projection_=Nv(r.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.cancelAnchor_=void 0,r.center&&(r.center=Zr(r.center)),r.extent&&(r.extent=Es(r.extent)),i.applyOptions_(r),i}return jK(t,n),t.prototype.applyOptions_=function(e){var r=function GK(n){var t,e,i,s=void 0!==n.minZoom?n.minZoom:0,a=void 0!==n.maxZoom?n.maxZoom:28,l=void 0!==n.zoomFactor?n.zoomFactor:2,u=void 0!==n.multiWorld&&n.multiWorld,c=void 0===n.smoothResolutionConstraint||n.smoothResolutionConstraint,d=void 0!==n.showFullExtent&&n.showFullExtent,h=Nv(n.projection,"EPSG:3857"),f=h.getExtent(),p=n.constrainOnlyCenter,g=n.extent;if(!u&&!g&&h.isGlobal()&&(p=!1,g=f),void 0!==n.resolutions){var m=n.resolutions;e=m[s],i=void 0!==m[a]?m[a]:m[m.length-1],t=n.constrainResolution?function IK(n,t,e,i){return function(r,o,s,a){if(void 0!==r){var l=n[0],u=n[n.length-1],c=e?iy(l,e,s,i):l;if(a)return void 0===t||t?ry(r,c,u):nn(r,u,c);var h=Math.min(c,r),f=Math.floor(Ev(n,h,o));return n[f]>c&&f<n.length-1?n[f+1]:n[f]}}}(m,c,!p&&g,d):FO(e,i,c,!p&&g,d)}else{var y=(f?Math.max(It(f),Zi(f)):360*Yr[So.DEGREES]/h.getMetersPerUnit())/256/Math.pow(2,0),v=y/Math.pow(2,28);void 0!==(e=n.maxResolution)?s=0:e=y/Math.pow(l,s),void 0===(i=n.minResolution)&&(i=void 0!==n.maxZoom?void 0!==n.maxResolution?e/Math.pow(l,a):y/Math.pow(l,a):v),a=s+Math.floor(Math.log(e/i)/Math.log(l)),i=e/Math.pow(l,a-s),t=n.constrainResolution?function MK(n,t,e,i,r,o){return function(s,a,l,u){if(void 0!==s){var c=r?iy(t,r,l,o):t,d=void 0!==e?e:0;if(u)return void 0===i||i?ry(s,c,d):nn(s,d,c);var p=Math.ceil(Math.log(t/c)/Math.log(n)-1e-9),g=-a*(.5-1e-9)+.5,m=Math.min(c,s),_=Math.floor(Math.log(t/m)/Math.log(n)+g),y=Math.max(p,_);return nn(t/Math.pow(n,y),d,c)}}}(l,e,i,c,!p&&g,d):FO(e,i,c,!p&&g,d)}return{constraint:t,maxResolution:e,minResolution:i,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding=e.padding,this.minZoom_=r.minZoom;var o=function UK(n){if(void 0!==n.extent)return LO(n.extent,n.constrainOnlyCenter,void 0===n.smoothExtentConstraint||n.smoothExtentConstraint);var e=Nv(n.projection,"EPSG:3857");if(!0!==n.multiWorld&&e.isGlobal()){var i=e.getExtent().slice();return i[0]=-1/0,i[2]=1/0,LO(i,!1,!1)}return SK}(e),s=r.constraint,a=function $K(n){if(void 0===n.enableRotation||n.enableRotation){var e=n.constrainRotation;return void 0===e||!0===e?function OK(n){var t=n||Gh(5);return function(e,i){return i?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===e?NO:"number"==typeof e?function AK(n){var t=2*Math.PI/n;return function(e,i){return i?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(e):NO}return oy}(e);this.constraints_={center:o,resolution:s,rotation:a},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.setProperties({}),this.options_=e},t.prototype.getUpdatedOptions_=function(e){var i=yn({},this.options_);return void 0!==i.resolution?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),yn({},i,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var i=new Array(arguments.length),r=0;r<i.length;++r){var o=arguments[r];o.center&&((o=yn({},o)).center=Zr(o.center,this.getProjection())),o.anchor&&((o=yn({},o)).anchor=Zr(o.anchor,this.getProjection())),i[r]=o}this.animateInternal.apply(this,i)},t.prototype.animateInternal=function(e){var r,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(r=arguments[i-1],--i),!this.isDef()){var o=arguments[i-1];return o.center&&this.setCenterInternal(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(r&&_f(r,!0))}for(var s=Date.now(),a=this.targetCenter_.slice(),l=this.targetResolution_,u=this.targetRotation_,c=[],d=0;d<i;++d){var h=arguments[d],f={start:s,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Iv,callback:r};if(h.center&&(f.sourceCenter=a,f.targetCenter=h.center.slice(),a=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),void 0!==h.rotation){f.sourceRotation=u;var p=Va(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+p,u=f.targetRotation}zK(f)?f.complete=!0:s+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[0]>0},t.prototype.getInteracting=function(){return this.hints_[1]>0},t.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var e,i=0,r=this.animations_.length;i<r;++i){var o=this.animations_[i];if(o[0].callback&&_f(o[0].callback,!1),!e)for(var s=0,a=o.length;s<a;++s){var l=o[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),i=!1,r=this.animations_.length-1;r>=0;--r){for(var o=this.animations_[r],s=!0,a=0,l=o.length;a<l;++a){var u=o[a];if(!u.complete){var d=u.duration>0?(e-u.start)/u.duration:1;d>=1?(u.complete=!0,d=1):s=!1;var h=u.easing(d);if(u.sourceCenter){var f=u.sourceCenter[0],p=u.sourceCenter[1];this.targetCenter_=[f+h*(u.targetCenter[0]-f),p+h*(u.targetCenter[1]-p)]}if(u.sourceResolution&&u.targetResolution){var v=1===h?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);if(u.anchor){var C=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(v,0,C,!0);this.targetCenter_=this.calculateCenterZoom(E,u.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var M=1===h?Va(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);if(u.anchor){var x=this.constraints_.rotation(M,!0);this.targetCenter_=this.calculateCenterRotate(x,u.anchor)}this.targetRotation_=M}if(this.applyTargetState_(!0),i=!0,!u.complete)break}}if(s){this.animations_[r]=null,this.setHint(0,-1);var N=o[0].callback;N&&_f(N,!0)}}this.animations_=this.animations_.filter(Boolean),i&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,i){var r,o=this.getCenterInternal();return void 0!==o&&(Qv(r=[o[0]-i[0],o[1]-i[1]],e-this.getRotation()),function k6(n,t){n[0]+=+t[0],n[1]+=+t[1]}(r,i)),r},t.prototype.calculateCenterZoom=function(e,i){var r,o=this.getCenterInternal(),s=this.getResolution();return void 0!==o&&void 0!==s&&(r=[i[0]-e*(i[0]-o[0])/s,i[1]-e*(i[1]-o[1])/s]),r},t.prototype.getViewportSize_=function(e){var i=this.viewportSize_;if(e){var r=i[0],o=i[1];return[Math.abs(r*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(o*Math.cos(e))]}return i},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&kv(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get("center")},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){return Vv(this.calculateExtentInternal(e),this.getProjection())},t.prototype.calculateExtentInternal=function(e){var i=e||this.getViewportSize_(),r=this.getCenterInternal();Fe(r,1);var o=this.getResolution();Fe(void 0!==o,2);var s=this.getRotation();return Fe(void 0!==s,3),RA(r,o,s,i)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get("resolution")},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,i){return this.getResolutionForExtentInternal(Es(e,this.getProjection()),i)},t.prototype.getResolutionForExtentInternal=function(e,i){var r=i||this.getViewportSize_(),o=It(e)/r[0],s=Zi(e)/r[1];return Math.max(o,s)},t.prototype.getResolutionForValueFunction=function(e){var i=e||2,r=this.getConstrainedResolution(this.maxResolution_),s=Math.log(r/this.minResolution_)/Math.log(i);return function(a){return r/Math.pow(i,a*s)}},t.prototype.getRotation=function(){return this.get("rotation")},t.prototype.getValueForResolutionFunction=function(e){var i=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),s=Math.log(r/this.minResolution_)/i;return function(a){return Math.log(r/a)/i/s}},t.prototype.getViewportSizeMinusPadding_=function(e){var i=this.getViewportSize_(e),r=this.padding;return r&&(i=[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i},t.prototype.getState=function(){var e=this.getProjection(),i=this.getResolution(),r=this.getRotation(),o=this.getCenterInternal(),s=this.padding;if(s){var a=this.getViewportSizeMinusPadding_();o=cy(o,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],i,r)}return{center:o.slice(0),projection:void 0!==e?e:null,resolution:i,rotation:r,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,i=this.getResolution();return void 0!==i&&(e=this.getZoomForResolution(i)),e},t.prototype.getZoomForResolution=function(e){var r,o,i=this.minZoom_||0;if(this.resolutions_){var s=Ev(this.resolutions_,e,1);i=s,r=this.resolutions_[s],o=s==this.resolutions_.length-1?2:r/this.resolutions_[s+1]}else r=this.maxResolution_,o=this.zoomFactor_;return i+Math.log(r/e)/Math.log(o)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var i=nn(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[i]/Math.pow(this.resolutions_[i]/this.resolutions_[i+1],nn(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,i){var r;if(Fe(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))Fe(!Rv(e),25),r=YO(o=Es(e,this.getProjection()));else if("Circle"===e.getType()){var o;(r=YO(o=Es(e.getExtent(),this.getProjection()))).rotate(this.getRotation(),$a(o))}else{var s=UA();r=s?e.clone().transform(s,this.getProjection()):e}this.fitInternal(r,i)},t.prototype.fitInternal=function(e,i){var r=i||{},o=r.size;o||(o=this.getViewportSizeMinusPadding_());var l,s=void 0!==r.padding?r.padding:[0,0,0,0],a=void 0!==r.nearest&&r.nearest;l=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;for(var u=e.getFlatCoordinates(),c=this.getRotation(),d=Math.cos(-c),h=Math.sin(-c),f=1/0,p=1/0,g=-1/0,m=-1/0,_=e.getStride(),y=0,v=u.length;y<v;y+=_){var C=u[y]*d-u[y+1]*h,E=u[y]*h+u[y+1]*d;f=Math.min(f,C),p=Math.min(p,E),g=Math.max(g,C),m=Math.max(m,E)}var M=this.getResolutionForExtentInternal([f,p,g,m],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);M=isNaN(M)?l:Math.max(M,l),M=this.getConstrainedResolution(M,a?0:1);var x=(f+g)/2,N=(p+m)/2,U=this.getConstrainedCenter([(x+=(s[1]-s[3])/2*M)*d-(N+=(s[0]-s[2])/2*M)*(h=-h),N*d+x*h],M),Y=r.callback?r.callback:_s;void 0!==r.duration?this.animateInternal({resolution:M,center:U,duration:r.duration,easing:r.easing},Y):(this.targetResolution_=M,this.targetCenter_=U,this.applyTargetState_(!1,!0),_f(Y,!0))},t.prototype.centerOn=function(e,i,r){this.centerOnInternal(Zr(e,this.getProjection()),i,r)},t.prototype.centerOnInternal=function(e,i,r){this.setCenterInternal(cy(e,i,r,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,i,r,o){var s,a=this.padding;if(a&&e){var l=this.getViewportSizeMinusPadding_(-r),u=cy(e,o,[l[0]/2+a[3],l[1]/2+a[0]],i,r);s=[e[0]-u[0],e[1]-u[1]]}return s},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var i=kv(this.targetCenter_,this.getProjection());this.setCenter([i[0]+e[0],i[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var i=this.targetCenter_;this.setCenterInternal([i[0]+e[0],i[1]+e[1]])},t.prototype.adjustResolution=function(e,i){var r=i&&Zr(i,this.getProjection());this.adjustResolutionInternal(e,r)},t.prototype.adjustResolutionInternal=function(e,i){var r=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,o,r);i&&(this.targetCenter_=this.calculateCenterZoom(s,i)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,i){this.adjustResolution(Math.pow(this.zoomFactor_,-e),i)},t.prototype.adjustRotation=function(e,i){i&&(i=Zr(i,this.getProjection())),this.adjustRotationInternal(e,i)},t.prototype.adjustRotationInternal=function(e,i){var r=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,r);i&&(this.targetCenter_=this.calculateCenterRotate(o,i)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(Zr(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,i){return this.hints_[e]+=i,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,i){var r=this.getAnimating()||this.getInteracting()||i,o=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,a,s,r,this.calculateCenterShift(this.targetCenter_,a,o,s));this.get("rotation")!==o&&this.set("rotation",o),this.get("resolution")!==a&&this.set("resolution",a),(!this.get("center")||!Xv(this.get("center"),l))&&this.set("center",l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,i,r){var o=void 0!==e?e:200,s=i||0,a=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(a),u=this.constraints_.resolution(this.targetResolution_,s,l),c=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,a,l));if(0===o&&!this.cancelAnchor_)return this.targetResolution_=u,this.targetRotation_=a,this.targetCenter_=c,void this.applyTargetState_();var d=r||(0===o?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==a||!this.getCenterInternal()||!Xv(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:c,resolution:u,duration:o,easing:Ba,anchor:d}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},t.prototype.endInteraction=function(e,i,r){var o=r&&Zr(r,this.getProjection());this.endInteractionInternal(e,i,o)},t.prototype.endInteractionInternal=function(e,i,r){this.setHint(1,-1),this.resolveConstraints(e,i,r)},t.prototype.getConstrainedCenter=function(e,i){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,i||this.getResolution(),r)},t.prototype.getConstrainedZoom=function(e,i){var r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,i))},t.prototype.getConstrainedResolution=function(e,i){var r=i||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,r,o)},t}(fr);function _f(n,t){setTimeout(function(){n(t)},0)}function zK(n){return!(n.sourceCenter&&n.targetCenter&&!Xv(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function cy(n,t,e,i,r){var o=Math.cos(-r),s=Math.sin(-r),a=n[0]*o-n[1]*s,l=n[1]*o+n[0]*s;return[(a+=(t[0]/2-e[0])*i)*o-(l+=(e[1]-t[1]/2)*i)*(s=-s),l*o+a*s]}const ZO=HK;var WK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KK=function(n){function t(e){var i=n.call(this)||this,r=function qK(n){var t=null;void 0!==n.keyboardEventTarget&&(t="string"==typeof n.keyboardEventTarget?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var r,o,s,e={},i=n.layers&&"function"==typeof n.layers.getLayers?n.layers:new dK({layers:n.layers});return e.layergroup=i,e.target=n.target,e.view=void 0!==n.view?n.view:new ZO,void 0!==n.controls&&(Array.isArray(n.controls)?r=new Ti(n.controls.slice()):(Fe("function"==typeof n.controls.getArray,47),r=n.controls)),void 0!==n.interactions&&(Array.isArray(n.interactions)?o=new Ti(n.interactions.slice()):(Fe("function"==typeof n.interactions.getArray,48),o=n.interactions)),void 0!==n.overlays?Array.isArray(n.overlays)?s=new Ti(n.overlays.slice()):(Fe("function"==typeof n.overlays.getArray,49),s=n.overlays):s=new Ti,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:e}}(e);return i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(i),i.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,i.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Bh,i.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(i),i.coordinateToPixelTransform_=[1,0,0,1,0,0],i.pixelToCoordinateTransform_=[1,0,0,1,0,0],i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=e.moveTolerance,i.keyboardEventTarget_=r.keyboardEventTarget,i.keyHandlerKeys_=null,i.controls=r.controls||new Ti,i.interactions=r.interactions||new Ti,i.overlays_=r.overlays,i.overlayIdIndex_={},i.renderer_=null,i.postRenderFunctions_=[],i.tileQueue_=new TK(i.getTilePriority.bind(i),i.handleTileChange_.bind(i)),i.addEventListener(hr("layergroup"),i.handleLayerGroupChanged_),i.addEventListener(hr("view"),i.handleViewChanged_),i.addEventListener(hr("size"),i.handleSizeChanged_),i.addEventListener(hr("target"),i.handleTargetChanged_),i.setProperties(r.values),i.controls.forEach(function(o){o.setMap(this)}.bind(i)),i.controls.addEventListener("add",function(o){o.element.setMap(this)}.bind(i)),i.controls.addEventListener("remove",function(o){o.element.setMap(null)}.bind(i)),i.interactions.forEach(function(o){o.setMap(this)}.bind(i)),i.interactions.addEventListener("add",function(o){o.element.setMap(this)}.bind(i)),i.interactions.addEventListener("remove",function(o){o.element.setMap(null)}.bind(i)),i.overlays_.forEach(i.addOverlayInternal_.bind(i)),i.overlays_.addEventListener("add",function(o){this.addOverlayInternal_(o.element)}.bind(i)),i.overlays_.addEventListener("remove",function(o){var a=o.element.getId();void 0!==a&&delete this.overlayIdIndex_[a.toString()],o.element.setMap(null)}.bind(i)),i}return WK(t,n),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var i=e.getId();void 0!==i&&(this.overlayIdIndex_[i.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,i,r){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,i,null,void 0!==r.layerFilter?r.layerFilter:bo,null)}},t.prototype.getFeaturesAtPixel=function(e,i){var r=[];return this.forEachFeatureAtPixel(e,function(o){r.push(o)},i),r},t.prototype.forEachLayerAtPixel=function(e,i,r){if(this.frameState_){var o=r||{};return this.renderer_.forEachLayerAtPixel(e,this.frameState_,void 0!==o.hitTolerance?o.hitTolerance:0,i,o.layerFilter||bo)}},t.prototype.hasFeatureAtPixel=function(e,i){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,void 0!==i.layerFilter?i.layerFilter:bo,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var i=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-i.left,r.clientY-i.top]},t.prototype.getTarget=function(){return this.get("target")},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return kv(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var i=this.frameState_;return i?St(i.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var i=this.overlayIdIndex_[e.toString()];return void 0!==i?i:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get("layergroup")},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),i=0,r=e.length;i<r;++i){var s=e[i].layer.getSource();if(s&&s.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var i=Zr(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(i)},t.prototype.getPixelFromCoordinateInternal=function(e){var i=this.frameState_;return i?St(i.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get("size")},t.prototype.getView=function(){return this.get("view")},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},t.prototype.getTilePriority=function(e,i,r,o){return function DK(n,t,e,i,r){if(!n||!(e in n.wantedTiles)||!n.wantedTiles[e][t.getKey()])return gf;var o=n.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,e,i,r,o)},t.prototype.handleBrowserEvent=function(e,i){var o=new Ro(i||e.type,this,e);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){var i=e.originalEvent,r=i.type;if("pointerdown"===r||"wheel"===r||"keydown"===r){var o=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a="host"in s?s.elementFromPoint(i.clientX,i.clientY):i.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===o?o.documentElement:s).contains(a))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var l=this.getInteractions().getArray().slice(),u=l.length-1;u>=0;u--){var c=l[u];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(e)||e.propagationStopped))break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,i=this.tileQueue_;if(!i.isEmpty()){var r=this.maxTilesLoading_,o=r;if(e){var s=e.viewHints;if(s[0]||s[1]){var a=!cA&&Date.now()-e.time>8;r=a?0:8,o=a?0:2}}i.getTilesLoading()<r&&(i.reprioritize(),i.loadMoreTiles(r,o))}e&&this.hasListener("rendercomplete")&&!e.animate&&!this.tileQueue_.getTilesLoading()&&!this.getLoading()&&this.renderer_.dispatchRenderEvent("rendercomplete",e);for(var l=this.postRenderFunctions_,u=0,c=l.length;u<c;++u)l[u](this,e);l.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.mapBrowserEventHandler_){for(var i=0,r=this.keyHandlerKeys_.length;i<r;++i)Et(this.keyHandlerKeys_[i]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Dv(this.viewport_)}if(e){for(var o in e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new vK(this,this.moveTolerance_),ct)this.mapBrowserEventHandler_.addEventListener(ct[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!dA&&{passive:!1});var s=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[qe(s,"keydown",this.handleBrowserEvent,this),qe(s,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Et(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Et(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=qe(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=qe(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Et),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[qe(e,"propertychange",this.render,this),qe(e,"change",this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),i=0,r=e.length;i<r;++i){var o=e[i].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var i=this,r=this.getSize(),o=this.getView(),s=this.frameState_,a=null;if(void 0!==r&&function s8(n){return n[0]>0&&n[1]>0}(r)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:RA(u.center,u.resolution,u.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{}}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s&&(!this.previousExtent_||!Rv(this.previousExtent_)&&!zu(a.extent,this.previousExtent_))&&(this.dispatchEvent(new pf("movestart",this,s)),this.previousExtent_=Ha(this.previousExtent_)),this.previousExtent_&&!a.viewHints[0]&&!a.viewHints[1]&&!zu(a.extent,this.previousExtent_)&&(this.dispatchEvent(new pf("moveend",this,a)),SA(a.extent,this.previousExtent_))),this.dispatchEvent(new pf("postrender",this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){i.postRenderTimeoutHandle_=void 0,i.handlePostRender()},0))},t.prototype.setLayerGroup=function(e){this.set("layergroup",e)},t.prototype.setSize=function(e){this.set("size",e)},t.prototype.setTarget=function(e){this.set("target",e)},t.prototype.setView=function(e){this.set("view",e)},t.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var i=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var i=void 0,r=getComputedStyle(this.viewport_);r.width&&r.height&&(i=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(i)}},t}(fr);const YK=KK;var ZK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XK=function(n){function t(e){var i=n.call(this)||this;return e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return ZK(t,n),t.prototype.getActive=function(){return this.get("active")},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set("active",e)},t.prototype.setMap=function(e){this.map_=e},t}(fr);function dy(n,t,e,i){var r=n.getZoom();if(void 0!==r){var o=n.getConstrainedZoom(r+t),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:e,duration:void 0!==i?i:250,easing:Ba})}}const tl=XK;var JK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eq=function(n){function t(e){var i=n.call(this)||this,r=e||{};return i.delta_=r.delta?r.delta:1,i.duration_=void 0!==r.duration?r.duration:250,i}return JK(t,n),t.prototype.handleEvent=function(e){var i=!1;if(e.type==ct.DBLCLICK){var r=e.originalEvent,s=e.coordinate,a=r.shiftKey?-this.delta_:this.delta_;dy(e.map.getView(),a,s,this.duration_),r.preventDefault(),i=!0}return!i},t}(tl);const tq=eq;var nq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iq=function(n){function t(e){var i=this,r=e||{};return i=n.call(this,r)||this,r.handleDownEvent&&(i.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(i.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(i.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(i.handleUpEvent=r.handleUpEvent),r.stopDown&&(i.stopDown=r.stopDown),i.handlingDownUpSequence=!1,i.trackedPointers_={},i.targetPointers=[],i}return nq(t,n),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var i=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ct.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ct.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==ct.POINTERDOWN){var o=this.handleDownEvent(e);this.handlingDownUpSequence=o,i=this.stopDown(o)}else e.type==ct.POINTERMOVE&&this.handleMoveEvent(e);return!i},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(function rq(n){var t=n.type;return t===ct.POINTERDOWN||t===ct.POINTERDRAG||t===ct.POINTERUP}(e)){var i=e.originalEvent,r=i.pointerId.toString();e.type==ct.POINTERUP?delete this.trackedPointers_[r]:(e.type==ct.POINTERDOWN||r in this.trackedPointers_)&&(this.trackedPointers_[r]=i),this.targetPointers=sA(this.trackedPointers_)}},t}(tl);function hy(n){for(var t=n.length,e=0,i=0,r=0;r<t;r++)e+=n[r].clientX,i+=n[r].clientY;return[e/t,i/t]}const ac=iq;function fy(n){var t=arguments;return function(e){for(var i=!0,r=0,o=t.length;r<o&&(i=i&&t[r](e));++r);return i}}var oq=function(n){var t=n.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},QO=function(n){return!n.map.getTargetElement().hasAttribute("tabindex")||function(n){return n.target.getTargetElement().contains(document.activeElement)}(n)},aq=bo,lq=function(n){return n.type==ct.CLICK},JO=function(n){var t=n.originalEvent;return 0==t.button&&!(N4&&k4&&t.ctrlKey)},ex=ju,uq=function(n){return n.type==ct.SINGLECLICK},tx=function(n){var t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},nx=function(n){var t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},ix=function(n){var e=n.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},py=function(n){var t=n.originalEvent;return Fe(void 0!==t,56),"mouse"==t.pointerType},cq=function(n){var t=n.originalEvent;return Fe(void 0!==t,56),t.isPrimary&&0===t.button},dq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hq=function(n){function t(e){var i=n.call(this,{stopDown:ju})||this,r=e||{};i.kinetic_=r.kinetic,i.lastCentroid=null,i.panning_=!1;var o=r.condition?r.condition:fy(tx,cq);return i.condition_=r.onFocusOnly?fy(QO,o):o,i.noKinetic_=!1,i}return dq(t,n),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var i=this.targetPointers,r=hy(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();(function j6(n,t){n[0]*=t,n[1]*=t})(o,a.getResolution()),Qv(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var i=e.map,r=i.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenterInternal(),l=i.getPixelFromCoordinateInternal(a),u=i.getCoordinateFromPixelInternal([l[0]-o*Math.cos(s),l[1]-o*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(u),duration:500,easing:Ba})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(ac);const fq=hq;var pq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gq=function(n){function t(e){var i=this,r=e||{};return(i=n.call(this,{stopDown:ju})||this).condition_=r.condition?r.condition:oq,i.lastAngle_=void 0,i.duration_=void 0!==r.duration?r.duration:250,i}return pq(t,n),t.prototype.handleDragEvent=function(e){if(py(e)){var i=e.map,r=i.getView();if(r.getConstraints().rotation!==oy){var o=i.getSize(),s=e.pixel,a=Math.atan2(o[1]/2-s[1],s[0]-o[0]/2);void 0!==this.lastAngle_&&r.adjustRotationInternal(-(a-this.lastAngle_)),this.lastAngle_=a}}},t.prototype.handleUpEvent=function(e){return!py(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!(!py(e)||!JO(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},t}(ac);const mq=gq;var _q=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vq=function(n){function t(e){var i=n.call(this)||this;return i.geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return _q(t,n),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,i=this.endPixel_,r="px",o=this.element_.style;o.left=Math.min(e[0],i[0])+r,o.top=Math.min(e[1],i[1])+r,o.width=Math.abs(i[0]-e[0])+r,o.height=Math.abs(i[1]-e[1])+r},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var i=this.element_.style;i.left="inherit",i.top="inherit",i.width="inherit",i.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,i){this.startPixel_=e,this.endPixel_=i,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,i=this.endPixel_,o=[e,[e[0],i[1]],i,[i[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new VK([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(yv);const yq=vq;var rx=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gy=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.coordinate=i,o.mapBrowserEvent=r,o}return rx(t,n),t}(qr),Cq=function(n){function t(e){var i=n.call(this)||this,r=e||{};return i.box_=new yq(r.className||"ol-dragbox"),i.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(i.onBoxEnd=r.onBoxEnd),i.startPixel_=null,i.condition_=r.condition?r.condition:JO,i.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:i.defaultBoxEndCondition,i}return rx(t,n),t.prototype.defaultBoxEndCondition=function(e,i,r){var o=r[0]-i[0],s=r[1]-i[1];return o*o+s*s>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new gy("boxdrag",e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var i=this.boxEndCondition_(e,this.startPixel_,e.pixel);return i&&this.onBoxEnd(e),this.dispatchEvent(new gy(i?"boxend":"boxcancel",e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gy("boxstart",e.coordinate,e)),!0)},t.prototype.onBoxEnd=function(e){},t}(ac);const Eq=Cq;var wq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tq=function(n){function t(e){var i=this,r=e||{};return(i=n.call(this,{condition:r.condition?r.condition:nx,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,i.out_=void 0!==r.out&&r.out,i}return wq(t,n),t.prototype.onBoxEnd=function(e){var i=this.getMap(),r=i.getView(),o=i.getSize(),s=this.getGeometry().getExtent();if(this.out_){var a=r.calculateExtentInternal(o),l=function _5(n,t){return function AA(n,t){for(var e=0,i=t.length;e<i;++e)Ua(n,t[e]);return n}(Ha(t),n)}([i.getPixelFromCoordinateInternal(Ga(s)),i.getPixelFromCoordinateInternal(Wa(s))]);(function D5(n,t){var e=(n[2]-n[0])/2*(t-1),i=(n[3]-n[1])/2*(t-1);n[0]-=e,n[2]+=e,n[1]-=i,n[3]+=i})(a,1/r.getResolutionForExtentInternal(l,o)),s=a}var c=r.getConstrainedResolution(r.getResolutionForExtentInternal(s,o)),d=r.getConstrainedCenter($a(s),c);r.animateInternal({resolution:c,center:d,duration:this.duration_,easing:Ba})},t}(Eq);const Dq=Tq;var bq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sq=function(n){function t(e){var i=n.call(this)||this,r=e||{};return i.defaultCondition_=function(o){return tx(o)&&ix(o)},i.condition_=void 0!==r.condition?r.condition:i.defaultCondition_,i.duration_=void 0!==r.duration?r.duration:100,i.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,i}return bq(t,n),t.prototype.handleEvent=function(e){var i=!1;if("keydown"==e.type){var r=e.originalEvent,o=r.keyCode;if(this.condition_(e)&&(40==o||37==o||39==o||38==o)){var a=e.map.getView(),l=a.getResolution()*this.pixelDelta_,u=0,c=0;40==o?c=-l:37==o?u=-l:39==o?u=l:c=l;var d=[u,c];Qv(d,a.getRotation()),function QK(n,t,e){var i=n.getCenterInternal();i&&n.animateInternal({duration:void 0!==e?e:250,easing:n5,center:n.getConstrainedCenter([i[0]+t[0],i[1]+t[1]])})}(a,d,this.duration_),r.preventDefault(),i=!0}}return!i},t}(tl);const Iq=Sq;var Mq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Aq=function(n){function t(e){var i=n.call(this)||this,r=e||{};return i.condition_=r.condition?r.condition:ix,i.delta_=r.delta?r.delta:1,i.duration_=void 0!==r.duration?r.duration:100,i}return Mq(t,n),t.prototype.handleEvent=function(e){var i=!1;if("keydown"==e.type||"keypress"==e.type){var r=e.originalEvent,o=r.charCode;if(this.condition_(e)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var s=e.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_;dy(s.getView(),a,void 0,this.duration_),r.preventDefault(),i=!0}}return!i},t}(tl);const Oq=Aq;var xq=function(){function n(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var r=this.points_[e+2]-this.points_[i+2];if(r<1e3/60)return!1;var o=this.points_[e]-this.points_[i],s=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}();const Rq=xq;var Pq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lq=function(n){function t(e){var i=this,r=e||{};(i=n.call(this,r)||this).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,i.duration_=void 0!==r.duration?r.duration:250,i.timeout_=void 0!==r.timeout?r.timeout:80,i.useAnchor_=void 0===r.useAnchor||r.useAnchor,i.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var o=r.condition?r.condition:aq;return i.condition_=r.onFocusOnly?fy(QO,o):o,i.lastAnchor_=null,i.startTime_=void 0,i.mode_=void 0,i.trackpadEventGap_=400,i.deltaPerZoom_=300,i}return Pq(t,n),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if("wheel"!==e.type)return!0;var s,r=e.map,o=e.originalEvent;if(o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(s=o.deltaY,F4&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Bh),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");var l=r.getView();if("trackpad"===this.mode_&&!l.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;var u=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),u),!1},t.prototype.handleWheelZoom_=function(e){var i=e.getView();i.getAnimating()&&i.cancelAnimations();var r=-nn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(i.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),dy(i,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(tl);const Fq=Lq;var Nq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kq=function(n){function t(e){var i=this,r=e||{},o=r;return o.stopDown||(o.stopDown=ju),(i=n.call(this,o)||this).anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=void 0!==r.threshold?r.threshold:.3,i.duration_=void 0!==r.duration?r.duration:250,i}return Nq(t,n),t.prototype.handleDragEvent=function(e){var i=0,r=this.targetPointers[0],o=this.targetPointers[1],s=Math.atan2(o.clientY-r.clientY,o.clientX-r.clientX);if(void 0!==this.lastAngle_){var a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),i=a}this.lastAngle_=s;var l=e.map,u=l.getView();if(u.getConstraints().rotation!==oy){var c=l.getViewport().getBoundingClientRect(),d=hy(this.targetPointers);d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(d),this.rotating_&&(l.render(),u.adjustRotationInternal(i,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var i=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1},t}(ac);const Vq=kq;var Bq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jq=function(n){function t(e){var i=this,r=e||{},o=r;return o.stopDown||(o.stopDown=ju),(i=n.call(this,o)||this).anchor_=null,i.duration_=void 0!==r.duration?r.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return Bq(t,n),t.prototype.handleDragEvent=function(e){var i=1,r=this.targetPointers[0],o=this.targetPointers[1],s=r.clientX-o.clientX,a=r.clientY-o.clientY,l=Math.sqrt(s*s+a*a);void 0!==this.lastDistance_&&(i=this.lastDistance_/l),this.lastDistance_=l;var u=e.map,c=u.getView();1!=i&&(this.lastScaleDelta_=i);var d=u.getViewport().getBoundingClientRect(),h=hy(this.targetPointers);h[0]-=d.left,h[1]-=d.top,this.anchor_=u.getCoordinateFromPixelInternal(h),u.render(),c.adjustResolutionInternal(i,this.anchor_)},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var i=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().beginInteraction(),!0}return!1},t}(ac);const Hq=jq;var Gq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$q=function(n){function t(e){return(e=yn({},e)).controls||(e.controls=TA()),e.interactions||(e.interactions=function Uq(n){var t=n||{},e=new Ti,i=new Rq(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new mq),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new tq({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new fq({onFocusOnly:t.onFocusOnly,kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new Vq),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new Hq({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Iq),e.push(new Oq({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new Fq({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Dq({duration:t.zoomDuration})),e}({onFocusOnly:!0})),n.call(this,e)||this}return Gq(t,n),t.prototype.createRenderer=function(){return new lK(this)},t}(YK);const zq=$q;var Wq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kq=function(n){function t(e,i,r){var o=n.call(this)||this,s=r||{};return o.tileCoord=e,o.state=i,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===s.transition?250:s.transition,o.transitionStarts_={},o}return Wq(t,n),t.prototype.changed=function(){this.dispatchEvent("change")},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,i=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?i=e:0==e.getState()?i.interimTile=e.interimTile:i=e,e=i.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){xe()},t.prototype.getAlpha=function(e,i){if(!this.transition_)return 1;var r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else this.transitionStarts_[e]=r=i;var o=i-r+1e3/60;return o>=this.transition_?1:wA(o/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(Fa);const ox=Kq;var qq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yq=function(n){function t(e,i,r,o,s,a){var l=n.call(this,e,i,a)||this;return l.crossOrigin_=o,l.src_=r,l.key=r,l.image_=new Image,null!==o&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=s,l}return qq(t,n),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.image_=function Zq(){var n=$n(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()},t.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=qv(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(ox);const Xq=Yq;var eY=function(){function n(t,e,i,r,o,s){this.sourceProj_=t,this.targetProj_=e;var a={},l=Qu(this.targetProj_,this.sourceProj_);this.transformInv_=function(v){var C=v[0]+"/"+v[1];return a[C]||(a[C]=l(v)),a[C]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&It(r)==It(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?It(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?It(this.targetProj_.getExtent()):null;var u=Io(i),c=Wa(i),d=Wu(i),h=Ga(i),f=this.transformInv_(u),p=this.transformInv_(c),g=this.transformInv_(d),m=this.transformInv_(h),_=10+(s?Math.max(0,Math.ceil(W4(Yh(i)/(s*s*256*256)))):0);if(this.addQuad_(u,c,d,h,f,p,g,m,_),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(v,C,E){y=Math.min(y,v.source[0][0],v.source[1][0],v.source[2][0])}),this.triangles_.forEach(function(v){if(Math.max(v.source[0][0],v.source[1][0],v.source[2][0])-y>this.sourceWorldWidth_/2){var C=[[v.source[0][0],v.source[0][1]],[v.source[1][0],v.source[1][1]],[v.source[2][0],v.source[2][1]]];C[0][0]-y>this.sourceWorldWidth_/2&&(C[0][0]-=this.sourceWorldWidth_),C[1][0]-y>this.sourceWorldWidth_/2&&(C[1][0]-=this.sourceWorldWidth_),C[2][0]-y>this.sourceWorldWidth_/2&&(C[2][0]-=this.sourceWorldWidth_);var E=Math.min(C[0][0],C[1][0],C[2][0]);Math.max(C[0][0],C[1][0],C[2][0])-E<this.sourceWorldWidth_/2&&(v.source=C)}}.bind(this))}a={}}return n.prototype.addTriangle_=function(t,e,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[t,e,i]})},n.prototype.addQuad_=function(t,e,i,r,o,s,a,l,u){var c=bA([o,s,a,l]),d=this.sourceWorldWidth_?It(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1,p=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=It(bA([t,e,i,r]))/this.targetWorldWidth_>.25||p),!f&&this.sourceProj_.isGlobal()&&d&&(p=d>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||ai(c,this.maxSourceExtent_)){var _=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(u>0)p=!0;else if(1!=(_=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1))&&2!=_&&4!=_&&8!=_)return;if(u>0){if(!p){var v=this.transformInv_([(t[0]+i[0])/2,(t[1]+i[1])/2]),C=void 0;C=f?(Va(o[0],h)+Va(a[0],h))/2-Va(v[0],h):(o[0]+a[0])/2-v[0];var M=(o[1]+a[1])/2-v[1];p=C*C+M*M>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var N=[(e[0]+i[0])/2,(e[1]+i[1])/2],H=this.transformInv_(N),W=[(r[0]+t[0])/2,(r[1]+t[1])/2],U=this.transformInv_(W);this.addQuad_(t,e,N,W,o,s,H,U,u-1),this.addQuad_(W,N,i,r,U,H,a,l,u-1)}else{var Y=[(t[0]+e[0])/2,(t[1]+e[1])/2],de=this.transformInv_(Y),De=[(i[0]+r[0])/2,(i[1]+r[1])/2],oe=this.transformInv_(De);this.addQuad_(t,Y,De,r,o,de,oe,l,u-1),this.addQuad_(Y,e,i,De,de,s,a,oe,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&_)&&this.addTriangle_(t,i,r,o,a,l),0==(14&_)&&this.addTriangle_(t,i,e,o,a,s),_&&(0==(13&_)&&this.addTriangle_(e,r,t,s,l,o),0==(7&_)&&this.addTriangle_(e,r,i,s,l,a))}},n.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,i,r){var o=e.source;Ua(t,o[0]),Ua(t,o[1]),Ua(t,o[2])}),t},n.prototype.getTriangles=function(){return this.triangles_},n}();const tY=eY;var _y,ax={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function lx(n,t,e,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(t,e),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(t,i)+1,Math.max(e,r)),n.restore()}function vy(n,t){return Math.abs(n[4*t]-210)>2||Math.abs(n[4*t+3]-191.25)>2}function ux(n,t,e,i){var r=Ju(e,t,n),o=VA(t,i,e),s=t.getMetersPerUnit();void 0!==s&&(o*=s);var a=n.getMetersPerUnit();void 0!==a&&(o/=a);var l=n.getExtent();if(!l||qh(l,r)){var u=VA(n,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}var oY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sY=function(n){function t(e,i,r,o,s,a,l,u,c,d,h,f){var p=n.call(this,s,0)||this;p.renderEdges_=void 0!==h&&h,p.contextOptions_=f,p.pixelRatio_=l,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=i,p.targetTileGrid_=o,p.wrappedTileCoord_=a||s,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var g=o.getTileCoordExtent(p.wrappedTileCoord_),m=p.targetTileGrid_.getExtent(),_=p.sourceTileGrid_.getExtent(),y=m?za(g,m):g;if(0===Yh(y))return p.state=4,p;var v=e.getExtent();v&&(_=_?za(_,v):v);var C=o.getResolution(p.wrappedTileCoord_[0]),E=function iY(n,t,e,i){var r=$a(e),o=ux(n,t,r,i);return(!isFinite(o)||o<=0)&&xA(e,function(s){return o=ux(n,t,s,i),isFinite(o)&&o>0}),o}(e,r,y,C);if(!isFinite(E)||E<=0)return p.state=4,p;if(p.triangulation_=new tY(e,r,y,_,E*(void 0!==d?d:.5),C),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=i.getZForResolution(E);var x=p.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(x[1]=nn(x[1],_[1],_[3]),x[3]=nn(x[3],_[1],_[3])):x=za(x,_)),Yh(x)){for(var N=i.getTileRangeForExtentAndZ(x,p.sourceZ_),H=N.minX;H<=N.maxX;H++)for(var W=N.minY;W<=N.maxY;W++){var U=c(p.sourceZ_,H,W,l);U&&p.sourceTiles_.push(U)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return oY(t,n),t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(c,d,h){c&&2==c.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(c.tileCoord),image:c.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{var i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),o="number"==typeof r?r:r[0],s="number"==typeof r?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function rY(n,t,e,i,r,o,s,a,l,u,c,d){var h=$n(Math.round(e*n),Math.round(e*t));if(yn(h,d),0===l.length)return h.canvas;function f(C){return Math.round(C*e)/e}h.scale(e,e),h.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];l.forEach(function(C,E,M){!function y5(n,t){t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3])}(p,C.extent)});var g=It(p),m=Zi(p),_=$n(Math.round(e*g/i),Math.round(e*m/i));yn(_,d);var y=e/i;l.forEach(function(C,E,M){var x=C.extent[0]-p[0],N=-(C.extent[3]-p[3]),H=It(C.extent),W=Zi(C.extent);C.image.width>0&&C.image.height>0&&_.drawImage(C.image,u,u,C.image.width-2*u,C.image.height-2*u,x*y,N*y,H*y,W*y)});var v=Io(s);return a.getTriangles().forEach(function(C,E,M){var x=C.source,N=C.target,H=x[0][0],W=x[0][1],U=x[1][0],Y=x[1][1],de=x[2][0],De=x[2][1],oe=f((N[0][0]-v[0])/o),R=f(-(N[0][1]-v[1])/o),L=f((N[1][0]-v[0])/o),j=f(-(N[1][1]-v[1])/o),X=f((N[2][0]-v[0])/o),Q=f(-(N[2][1]-v[1])/o),Ne=H,P=W;H=0,W=0;var ne=function q4(n){for(var t=n.length,e=0;e<t;e++){for(var i=e,r=Math.abs(n[e][e]),o=e+1;o<t;o++){var s=Math.abs(n[o][e]);s>r&&(r=s,i=o)}if(0===r)return null;var a=n[i];n[i]=n[e],n[e]=a;for(var l=e+1;l<t;l++)for(var u=-n[l][e]/n[e][e],c=e;c<t+1;c++)e==c?n[l][c]=0:n[l][c]+=u*n[e][c]}for(var d=new Array(t),h=t-1;h>=0;h--){d[h]=n[h][t]/n[h][h];for(var f=h-1;f>=0;f--)n[f][t]-=n[f][h]*d[h]}return d}([[U-=Ne,Y-=P,0,0,L-oe],[de-=Ne,De-=P,0,0,X-oe],[0,0,U,Y,j-R],[0,0,de,De,Q-R]]);if(ne){if(h.save(),h.beginPath(),function nY(){if(void 0===_y){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",lx(n,4,5,4,0),lx(n,4,5,0,5);var t=n.getImageData(0,0,3,3).data;_y=vy(t,0)||vy(t,4)||vy(t,8)}return _y}()||d===ax){h.moveTo(L,j);for(var sn=oe-L,He=R-j,wt=0;wt<4;wt++)h.lineTo(L+f((wt+1)*sn/4),j+f(wt*He/3)),3!=wt&&h.lineTo(L+f((wt+1)*sn/4),j+f((wt+1)*He/3));h.lineTo(X,Q)}else h.moveTo(L,j),h.lineTo(oe,R),h.lineTo(X,Q);h.clip(),h.transform(ne[0],ne[2],ne[1],ne[3],oe,R),h.translate(p[0]-Ne,p[3]-P),h.scale(i/e,-i/e),h.drawImage(_.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(C,E,M){var x=C.target,N=(x[0][0]-v[0])/o,H=-(x[0][1]-v[1])/o,W=(x[1][0]-v[0])/o,U=-(x[1][1]-v[1])/o,Y=(x[2][0]-v[0])/o,de=-(x[2][1]-v[1])/o;h.beginPath(),h.moveTo(W,U),h.lineTo(N,H),h.lineTo(Y,de),h.closePath(),h.stroke()}),h.restore()),h.canvas}(o,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},t.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,r,o){var s=i.getState();if(0==s||1==s){e++;var a=qe(i,"change",function(l){var u=i.getState();(2==u||3==u||4==u)&&(Et(a),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach(function(i,r,o){0==i.getState()&&i.load()}),0===e&&setTimeout(this.reproject_.bind(this),0)}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Et),this.sourcesListenerKeys_=null},t}(ox);const aY=sY;var lY=function(){function n(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},n.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},n.prototype.get=function(t,e){var i=this.entries_[t];return Fe(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_},n.prototype.remove=function(t){var e=this.entries_[t];return Fe(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var i,t=new Array(this.count_),e=0;for(i=this.newest_;i;i=i.older)t[e++]=i.key_;return t},n.prototype.getValues=function(){var i,t=new Array(this.count_),e=0;for(i=this.newest_;i;i=i.older)t[e++]=i.value_;return t},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},n.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},n.prototype.set=function(t,e){Fe(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},n.prototype.setSize=function(t){this.highWaterMark=t},n}();const uY=lY;function cx(n,t,e,i){return void 0!==i?(i[0]=n,i[1]=t,i[2]=e,i):[n,t,e]}function yf(n,t,e){return n+"/"+t+"/"+e}function dx(n){return yf(n[0],n[1],n[2])}var fY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fY(t,n),t.prototype.expireCache=function(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var i=function cY(n){return n.split("/").map(Number)}(this.peekFirstKey()),r=i[0];this.forEach(function(o){o.tileCoord[0]!==r&&(this.remove(dx(o.tileCoord)),o.release())}.bind(this))}},t}(uY);const hx=pY;var gY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mY=function(n){function t(e){var i=n.call(this)||this;return i.projection_=zn(e.projection),i.attributions_=fx(e.attributions),i.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,i.loading=!1,i.state_=void 0!==e.state?e.state:"ready",i.wrapX_=void 0!==e.wrapX&&e.wrapX,i}return gY(t,n),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return xe()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getContextOptions=function(){},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=fx(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(fr);function fx(n){return n?Array.isArray(n)?function(t){return n}:"function"==typeof n?n:function(t){return[n]}:null}const px=mY;var _Y=[0,0,0],vY=function(){function n(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Fe(function S4(n,t,e){var i=t||ms;return n.every(function(r,o){if(0===o)return!0;var s=i(n[o-1],r);return!(s>0||e&&0===s)})}(this.resolutions_,function(s,a){return a-s},!0),17),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Fe(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0!==o&&!this.origin_&&!this.origins_&&(this.origin_=Io(o)),Fe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Fe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,Fe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(s,a){var l=new RO(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(o){var u=this.getTileRangeForExtentAndZ(o,a);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,s=r.maxX;o<=s;++o)for(var a=r.minY,l=r.maxY;a<=l;++a)i([e,o,a])},n.prototype.forEachTileCoordParentTileRange=function(t,e,i,r){var s,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(e(u,2===this.zoomFactor_?Jv(s=Math.floor(s/2),s,a=Math.floor(a/2),a,i):this.getTileRangeForExtentAndZ(l,u,i)))return!0;--u}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},n.prototype.getResolution=function(t){return this.resolutions_[t]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return Jv(r,r+1,o,o+1,e)}var s=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},n.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),s=Di(this.getTileSize(t),this.tmpSize_);return mr(r[0]+e.minX*s[0]*o,r[1]+e.minY*s[1]*o,r[0]+(e.maxX+1)*s[0]*o,r[1]+(e.maxY+1)*s[1]*o,i)},n.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=_Y;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var o=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Jv(o,r[1],s,r[2],i)},n.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Di(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]-(t[2]+.5)*r[1]*i]},n.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Di(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*o[0]*r,a=i[1]-(t[2]+1)*o[1]*r;return mr(s,a,s+o[0]*r,a+o[1]*r,e)},n.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},n.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),u=Di(this.getTileSize(s),this.tmpSize_),d=r?.5:0,h=Math.floor((t-l[0])/i+(r?.5:0)),f=Math.floor((l[1]-e)/i+d),p=a*h/u[0],g=a*f/u[1];return r?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),cx(s,p,g,o)},n.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var s=this.getOrigin(i),a=this.getResolution(i),l=Di(this.getTileSize(i),this.tmpSize_),c=r?.5:0,d=Math.floor((t-s[0])/a+(r?.5:0)),h=Math.floor((s[1]-e)/a+c),f=d/l[0],p=h/l[1];return r?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),cx(i,f,p,o)},n.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},n.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},n.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},n.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},n.prototype.getZForResolution=function(t,e){return nn(Ev(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},n}();const gx=vY;function mx(n){var t=n.getDefaultTileGrid();return t||(t=function wY(n,t,e,i){return function CY(n,t,e,i){var r=void 0!==i?i:"top-left",o=_x(n,t,e);return new gx({extent:n,origin:w5(n,r),resolutions:o,tileSize:e})}(Cy(n),t,e,i)}(n),n.setDefaultTileGrid(t)),t}function _x(n,t,e,i){for(var r=void 0!==t?t:42,o=Zi(n),s=It(n),a=Di(void 0!==e?e:256),l=i>0?i:Math.max(s/a[0],o/a[1]),u=r+1,c=new Array(u),d=0;d<u;++d)c[d]=l/Math.pow(2,d);return c}function Cy(n){var t=(n=zn(n)).getExtent();if(!t){var e=180*Yr[So.DEGREES]/n.getMetersPerUnit();t=mr(-e,-e,e,e)}return t}var vx=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TY=function(n){function t(e){var i=n.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;i.opaque_=void 0!==e.opaque&&e.opaque,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var o=e.tileGrid;return o&&Di(o.getTileSize(o.getMinZoom()),[256,256]),i.tileCache=new hx(e.cacheSize||0),i.tmpSize=[0,0],i.key_=e.key||"",i.tileOptions={transition:e.transition},i.zDirection=e.zDirection?e.zDirection:0,i}return vx(t,n),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,i){var r=this.getTileCacheForProjection(e);r&&r.expireCache(i)},t.prototype.forEachLoadedTile=function(e,i,r,o){var s=this.getTileCacheForProjection(e);if(!s)return!1;for(var l,u,c,a=!0,d=r.minX;d<=r.maxX;++d)for(var h=r.minY;h<=r.maxY;++h)u=yf(i,d,h),c=!1,s.containsKey(u)&&(c=2===(l=s.get(u)).getState())&&(c=!1!==o(l)),c||(a=!1);return a},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,i,r,o,s){return xe()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:mx(e)},t.prototype.getTileCacheForProjection=function(e){return Fe(qa(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,i,r){var o=this.getTileGridForProjection(r),s=this.getTilePixelRatio(i),a=Di(o.getTileSize(e),this.tmpSize);return 1==s?a:function a8(n,t,e){return void 0===e&&(e=[0,0]),e[0]=n[0]*t+.5|0,e[1]=n[1]*t+.5|0,e}(a,s,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,i){var r=void 0!==i?i:this.getProjection(),o=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=function yY(n,t,e){var i=t[0],r=n.getTileCoordCenter(t),o=Cy(e);if(qh(o,r))return t;var s=It(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,n.getTileCoordForCoordAndZ(r,i)}(o,e,r)),function hY(n,t){var e=n[0],i=n[1],r=n[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var o=t.getFullTileRange(e);return!o||o.containsXY(i,r)}(e,o)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,i){var r=this.getTileCacheForProjection(i);e>r.highWaterMark&&(r.highWaterMark=e)},t.prototype.useTile=function(e,i,r,o){},t}(px),DY=function(n){function t(e,i){var r=n.call(this,e)||this;return r.tile=i,r}return vx(t,n),t}(qr);const bY=TY;function SY(n,t){var e=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return n.replace(e,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(o,function(){var c=t.getFullTileRange(s[0]);return Fe(c,55),(c.getHeight()-s[2]-1).toString()})}}var OY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xY=function(n){function t(e){var i=n.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===t.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return OY(t,n),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var s,i=e.target,r=Le(i),o=i.getState();1==o?(this.tileLoadingKeys_[r]=!0,s="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=3==o?"tileloaderror":2==o?"tileloadend":void 0),null!=s&&this.dispatchEvent(new DY(s,i))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,i){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof i<"u"?this.setKey(i):this.changed()},t.prototype.setUrl=function(e){var i=function AY(n){var t=[],e=/\{([a-z])-([a-z])\}/.exec(n);if(e){var i=e[1].charCodeAt(0),r=e[2].charCodeAt(0),o=void 0;for(o=i;o<=r;++o)t.push(n.replace(e[0],String.fromCharCode(o)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(n)){for(var s=parseInt(e[2],10),a=parseInt(e[1],10);a<=s;a++)t.push(n.replace(e[0],a.toString()));return t}return t.push(n),t}(e);this.urls=i,this.setUrls(i)},t.prototype.setUrls=function(e){this.urls=e;var i=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function IY(n,t){for(var e=n.length,i=new Array(e),r=0;r<e;++r)i[r]=SY(n[r],t);return function MY(n){return 1===n.length?n[0]:function(t,e,i){if(t){var r=function dY(n){return(n[1]<<n[0])+n[2]}(t),o=Va(r,n.length);return n[o](t,e,i)}}}(i)}(e,this.tileGrid),i):this.setKey(i)},t.prototype.tileUrlFunction=function(e,i,r){},t.prototype.useTile=function(e,i,r){var o=yf(e,i,r);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(bY);const RY=xY;var PY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LY=function(n){function t(e){var i=n.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:FY,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return i.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:Xq,i.tileCacheForProjection={},i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.contextOptions_=!1===e.imageSmoothing?ax:void 0,i.renderReprojectionEdges_=!1,i}return PY(t,n),t.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,i){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==r?i:{})}},t.prototype.getContextOptions=function(){return this.contextOptions_},t.prototype.getGutterForProjection=function(e){return this.getProjection()&&e&&!qa(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){return n.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},t.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!qa(this.getProjection(),e))&&n.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){var i=this.getProjection();if(this.tileGrid&&(!i||qa(i,e)))return this.tileGrid;var r=Le(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=mx(e)),this.tileGridForProjection[r]},t.prototype.getTileCacheForProjection=function(e){var i=this.getProjection();if(!i||qa(i,e))return this.tileCache;var r=Le(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new hx(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},t.prototype.createTile_=function(e,i,r,o,s,a){var l=[e,i,r],u=this.getTileCoordForTileUrlFunction(l,s),c=u?this.tileUrlFunction(u,o,s):void 0,d=new this.tileClass(l,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=a,d.addEventListener("change",this.handleTileChange.bind(this)),d},t.prototype.getTile=function(e,i,r,o,s){var a=this.getProjection();if(!a||!s||qa(a,s))return this.getTileInternal(e,i,r,o,a||s);var l=this.getTileCacheForProjection(s),u=[e,i,r],c=void 0,d=dx(u);l.containsKey(d)&&(c=l.get(d));var h=this.getKey();if(c&&c.key==h)return c;var f=this.getTileGridForProjection(a),p=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(u,s),m=new aY(a,f,s,p,u,g,this.getTilePixelRatio(o),this.getGutter(),function(_,y,v,C){return this.getTileInternal(_,y,v,C,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return m.key=h,c?(m.interimTile=c,m.refreshInterimChain(),l.replace(d,m)):l.set(d,m),m},t.prototype.getTileInternal=function(e,i,r,o,s){var a=null,l=yf(e,i,r),u=this.getKey();if(this.tileCache.containsKey(l)){if((a=this.tileCache.get(l)).key!=u){var c=a;(a=this.createTile_(e,i,r,o,s,u)).interimTile=0==c.getState()?c.interimTile:c,a.refreshInterimChain(),this.tileCache.replace(l,a)}}else a=this.createTile_(e,i,r,o,s,u),this.tileCache.set(l,a);return a},t.prototype.setRenderReprojectionEdges=function(e){if(this.renderReprojectionEdges_!=e){for(var i in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,i){var r=zn(e);if(r){var o=Le(r);o in this.tileGridForProjection||(this.tileGridForProjection[o]=i)}},t}(RY);function FY(n,t){n.getImage().src=t}const NY=LY;var kY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VY=function(n){function t(e){var r=e||{},o=void 0!==r.projection?r.projection:"EPSG:3857",s=void 0!==r.tileGrid?r.tileGrid:function EY(n){var t=n||{},e=t.extent||zn("EPSG:3857").getExtent(),i={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:_x(e,t.maxZoom,t.tileSize,t.maxResolution)};return new gx(i)}({extent:Cy(o),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,imageSmoothing:r.imageSmoothing,opaque:r.opaque,projection:o,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return kY(t,n),t}(NY);const BY=VY;var jY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UY=function(n){function t(e){var r=e||{};return n.call(this,{attributions:void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:void 0!==r.crossOrigin?r.crossOrigin:"anonymous",imageSmoothing:r.imageSmoothing,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:r.wrapX})||this}return jY(t,n),t}(BY);const GY=UY;var $Y=function(){function n(t){this.rbush_=new(qA())(t),this.items_={}}return n.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Le(e)]=i},n.prototype.load=function(t,e){for(var i=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[Le(a)]=l}this.rbush_.load(i)},n.prototype.remove=function(t){var e=Le(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},n.prototype.update=function(t,e){var i=this.items_[Le(e)];zu([i.minX,i.minY,i.maxX,i.maxY],t)||(this.remove(e),this.insert(t,e))},n.prototype.getAll=function(){return this.rbush_.all().map(function(e){return e.value})},n.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(r){return r.value})},n.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},n.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},n.prototype.forEach_=function(t,e){for(var i,r=0,o=t.length;r<o;r++)if(i=e(t[r]))return i;return i},n.prototype.isEmpty=function(){return Hu(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return mr(e.minX,e.minY,e.maxX,e.maxY,t)},n.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},n}();const yx=$Y;function zY(n,t){return[[-1/0,-1/0,1/0,1/0]]}function Ex(n,t){return function(e,i,r,o,s){var a=this;!function WY(n,t,e,i,r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof n?n(e,i,r):n,!0),"arraybuffer"==t.getType()&&(a.responseType="arraybuffer"),a.withCredentials=false,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){var u=t.getType(),c=void 0;"json"==u||"text"==u?c=a.responseText:"xml"==u?(c=a.responseXML)||(c=(new DOMParser).parseFromString(a.responseText,"application/xml")):"arraybuffer"==u&&(c=a.response),c?o(t.readFeatures(c,{extent:e,featureProjection:r}),t.readProjection(c)):s()}else s()},a.onerror=s,a.send()}(n,t,e,i,r,function(l,u){void 0!==o&&o(l),a.addFeatures(l)},s||_s)}}var wx=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Po=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.feature=i,o.features=r,o}return wx(t,n),t}(qr),KY=function(n){function t(e){var i=this,r=e||{};(i=n.call(this,{attributions:r.attributions,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=_s,i.format_=r.format,i.overlaps_=void 0===r.overlaps||r.overlaps,i.url_=r.url,void 0!==r.loader?i.loader_=r.loader:void 0!==i.url_&&(Fe(i.format_,7),i.loader_=Ex(i.url_,i.format_)),i.strategy_=void 0!==r.strategy?r.strategy:zY;var s,a,o=void 0===r.useSpatialIndex||r.useSpatialIndex;return i.featuresRtree_=o?new yx:null,i.loadedExtentsRtree_=new yx,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(s=r.features).getArray()),!o&&void 0===s&&(s=new Ti(a)),void 0!==a&&i.addFeaturesInternal(a),void 0!==s&&i.bindFeaturesCollection_(s),i}return wx(t,n),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var i=Le(e);if(this.addToIndex_(i,e)){this.setupChangeEvents_(i,e);var r=e.getGeometry();if(r){var o=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,e)}else this.nullGeometryFeatures_[i]=e;this.dispatchEvent(new Po("addfeature",e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,i){this.featureChangeKeys_[e]=[qe(i,"change",this.handleFeatureChange_,this),qe(i,"propertychange",this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,i){var r=!0,o=i.getId();return void 0!==o&&(o.toString()in this.idIndex_?r=!1:this.idIndex_[o.toString()]=i),r&&(Fe(!(e in this.uidIndex_),30),this.uidIndex_[e]=i),r},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var i=[],r=[],o=[],s=0,a=e.length;s<a;s++){var u=Le(l=e[s]);this.addToIndex_(u,l)&&r.push(l)}s=0;for(var c=r.length;s<c;s++){var l;u=Le(l=r[s]),this.setupChangeEvents_(u,l);var d=l.getGeometry();if(d){var h=d.getExtent();i.push(h),o.push(l)}else this.nullGeometryFeatures_[u]=l}this.featuresRtree_&&this.featuresRtree_.load(i,o),s=0;for(var f=r.length;s<f;s++)this.dispatchEvent(new Po("addfeature",r[s]))},t.prototype.bindFeaturesCollection_=function(e){var i=!1;this.addEventListener("addfeature",function(r){i||(i=!0,e.push(r.feature),i=!1)}),this.addEventListener("removefeature",function(r){i||(i=!0,e.remove(r.feature),i=!1)}),e.addEventListener("add",function(r){i||(i=!0,this.addFeature(r.element),i=!1)}.bind(this)),e.addEventListener("remove",function(r){i||(i=!0,this.removeFeature(r.element),i=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Et);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var o in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Po("clear");this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,i){return this.forEachFeatureInExtent([e[0],e[1],e[0],e[1]],function(o){if(o.getGeometry().intersectsCoordinate(e))return i(o)})},t.prototype.forEachFeatureInExtent=function(e,i){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,i);this.featuresCollection_&&this.featuresCollection_.forEach(i)},t.prototype.forEachFeatureIntersectingExtent=function(e,i){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var s=i(r);if(s)return s}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Hu(this.nullGeometryFeatures_)||Nh(e,sA(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var i=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){i.push(r)}),i},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},t.prototype.getClosestFeatureToCoordinate=function(e,i){var r=e[0],o=e[1],s=null,a=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0],c=i||bo;return this.featuresRtree_.forEachInExtent(u,function(d){if(c(d)){var h=d.getGeometry(),f=l;if((l=h.closestPointXY(r,o,a,l))<f){s=d;var p=Math.sqrt(l);u[0]=r-p,u[1]=o-p,u[2]=r+p,u[3]=o+p}}}),s},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var i=this.idIndex_[e.toString()];return void 0!==i?i:null},t.prototype.getFeatureByUid=function(e){var i=this.uidIndex_[e];return void 0!==i?i:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var i=e.target,r=Le(i),o=i.getGeometry();if(o){var s=o.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,i)):this.featuresRtree_&&this.featuresRtree_.update(s,i)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(i),this.nullGeometryFeatures_[r]=i);var a=i.getId();if(void 0!==a){var l=a.toString();this.idIndex_[l]!==i&&(this.removeFromIdIndex_(i),this.idIndex_[l]=i)}else this.removeFromIdIndex_(i),this.uidIndex_[r]=i;this.changed(),this.dispatchEvent(new Po("changefeature",i))},t.prototype.hasFeature=function(e){var i=e.getId();return void 0!==i?i in this.idIndex_:Le(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Hu(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,i,r){var o=this.loadedExtentsRtree_,s=this.strategy_(e,i);this.loading=!1;for(var a=function(d,h){var f=s[d];o.forEachInExtent(f,function(g){return ja(g.extent,f)})||(l.dispatchEvent(new Po("featuresloadstart")),l.loader_.call(l,f,i,r,function(g){this.dispatchEvent(new Po("featuresloadend",void 0,g))}.bind(l),function(){this.dispatchEvent(new Po("featuresloaderror"))}.bind(l)),o.insert(f,{extent:f.slice()}),l.loading=l.loader_!==_s)},l=this,u=0,c=s.length;u<c;++u)a(u)},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var r,i=this.loadedExtentsRtree_;i.forEachInExtent(e,function(o){if(zu(o.extent,e))return r=o,!0}),r&&i.remove(r)},t.prototype.removeFeature=function(e){var i=Le(e);i in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[i]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var i=Le(e);this.featureChangeKeys_[i].forEach(Et),delete this.featureChangeKeys_[i];var r=e.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[i],this.dispatchEvent(new Po("removefeature",e))},t.prototype.removeFromIdIndex_=function(e){var i=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],i=!0;break}return i},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Fe(this.format_,7),this.setLoader(Ex(e,this.format_))},t}(px);const Tx=KY;var Dx=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YY=function(n){function t(e,i,r,o){var s=n.call(this,e)||this;return s.selected=i,s.deselected=r,s.mapBrowserEvent=o,s}return Dx(t,n),t}(qr),Cf={},ZY=function(n){function t(e){var o,i=n.call(this)||this,r=e||{};if(i.boundAddFeature_=i.addFeature_.bind(i),i.boundRemoveFeature_=i.removeFeature_.bind(i),i.condition_=r.condition?r.condition:uq,i.addCondition_=r.addCondition?r.addCondition:ex,i.removeCondition_=r.removeCondition?r.removeCondition:ex,i.toggleCondition_=r.toggleCondition?r.toggleCondition:nx,i.multi_=!!r.multi&&r.multi,i.filter_=r.filter?r.filter:bo,i.hitTolerance_=r.hitTolerance?r.hitTolerance:0,i.style_=void 0!==r.style?r.style:function XY(){var n=function I8(){var n={},t=[255,255,255,1],e=[0,153,255,1];return n.Polygon=[new Ja({fill:new Qa({color:[255,255,255,.5]})})],n.MultiPolygon=n.Polygon,n.LineString=[new Ja({stroke:new lf({color:t,width:5})}),new Ja({stroke:new lf({color:e,width:3})})],n.MultiLineString=n.LineString,n.Circle=n.Polygon.concat(n.LineString),n.Point=[new Ja({image:new aO({radius:6,fill:new Qa({color:e}),stroke:new lf({color:t,width:1.5})}),zIndex:1/0})],n.MultiPoint=n.Point,n.GeometryCollection=n.Polygon.concat(n.LineString,n.Point),n}();return Nh(n.Polygon,n.LineString),Nh(n.GeometryCollection,n.LineString),function(t){return t.getGeometry()?n[t.getGeometry().getType()]:null}}(),i.features_=r.features||new Ti,r.layers)if("function"==typeof r.layers)o=r.layers;else{var s=r.layers;o=function(a){return Cv(s,a)}}else o=bo;return i.layerFilter_=o,i.featureLayerAssociation_={},i}return Dx(t,n),t.prototype.addFeatureLayerAssociation_=function(e,i){this.featureLayerAssociation_[Le(e)]=i},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Le(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),n.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},t.prototype.addFeature_=function(e){this.style_&&this.applySelectedStyle_(e.element)},t.prototype.removeFeature_=function(e){this.style_&&this.restorePreviousStyle_(e.element)},t.prototype.getStyle=function(){return this.style_},t.prototype.applySelectedStyle_=function(e){var i=Le(e);i in Cf||(Cf[i]=e.getStyle()),e.setStyle(this.style_)},t.prototype.restorePreviousStyle_=function(e){for(var i=this.getMap().getInteractions().getArray(),r=i.length-1;r>=0;--r){var o=i[r];if(o!==this&&o instanceof t&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(o.getStyle())}var s=Le(e);e.setStyle(Cf[s]),delete Cf[s]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Le(e)]},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var i=this.addCondition_(e),r=this.removeCondition_(e),o=this.toggleCondition_(e),s=!i&&!r&&!o,a=e.map,l=this.getFeatures(),u=[],c=[];if(s){La(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(g,m){if(this.filter_(g,m))return c.push(g),this.addFeatureLayerAssociation_(g,m),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=l.getLength()-1;d>=0;--d){var h=l.item(d),f=c.indexOf(h);f>-1?c.splice(f,1):(l.remove(h),u.push(h))}0!==c.length&&l.extend(c)}else{a.forEachFeatureAtPixel(e.pixel,function(g,m){if(this.filter_(g,m))return!i&&!o||Cv(l.getArray(),g)?(r||o)&&Cv(l.getArray(),g)&&(u.push(g),this.removeFeatureLayerAssociation_(g)):(c.push(g),this.addFeatureLayerAssociation_(g,m)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=u.length-1;p>=0;--p)l.remove(u[p]);l.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new YY("select",c,u,e)),!0},t}(tl);const QY=ZY;var eZ=function(){function n(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Di(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Qa({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return n.prototype.clone=function(){var t=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Di(void 0!==t?t:1)},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t},n}();const tZ=eZ;function Ey(n,t){if(!n)return;var e=n.getProperties();const r=t?"assets/marker_blue.png":"assets/marker.png";n.setStyle(new uO({text:new tZ({text:e.info&&t?e.info:"",font:"bold 13px sans-serif",backgroundFill:new Qa({color:"#ffffff"}),offsetY:-50,fill:new Qa({color:"#555588"})}),image:new Yv({src:r,imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.7})}))}let oZ=(()=>{class n{constructor(e){this.mapDataService=e,this.markers=[],this.unsubscribe$=new Ve,this.onMarkerClicked=new pe}ngAfterViewInit(){this.map||this.initilizeMap(),this.mapDataService.mapInput$.pipe(Vu(this.unsubscribe$)).subscribe(e=>{e&&this.setupMap(e)})}ngOnDestroy(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}setupMap(e){this.positions=e.markerPosisitons,this.userPos=e.userPos;const i=this.map.getView();this.positions.length>0?i.setCenter(Zu([this.positions[0].lng,this.positions[0].lat])):this.userPos&&this.userPos.lat&&this.userPos.lng&&i.setCenter(Zu([this.userPos.lng,this.userPos.lat])),i.setZoom(this.positions.length<2?n.ZoomLevelSingleMarker:n.ZoomLevelSeveralMarkers),this.updateMarkers(this.positions,!0),this.updateUserMarker(this.userPos)}updateUserMarker(e){this.userPos=e,this.userMarker.setGeometry(null),e&&(this.userMarker.setGeometry(new jv(Zu([e.lng,e.lat]))),function iZ(n){!n||n.setStyle(new uO({image:new Yv({src:"assets/user.png",imgSize:[60,60],anchor:[.5,1],opacity:.7,scale:.5})}))}(this.userMarker))}updateMarkers(e,i){for(let r=0;r<n.MaxNumMarkers;r++)this.markers[r].setGeometry(null);if(this.positions=e,e)for(let r=0;r<Math.min(e.length,n.MaxNumMarkers);r++){const o=e[r],s=this.markers[r];s.setId(o.id),s.setGeometry(new jv(Zu([o.lng,o.lat]))),s.setProperties({info:o.info}),Ey(s,!1)}}initilizeMap(){this.markers=[];for(let r=0;r<n.MaxNumMarkers;r++)this.markers.push(new DA({}));this.userMarker=new DA;var e=new yA({target:"attribution"});const i=new OO({source:new Tx({features:this.markers})});this.map=new zq({controls:TA({attribution:!1}).extend([e]),target:"map",layers:[new tK({source:new GY}),i,new OO({source:new Tx({features:[this.userMarker]})})],view:new ZO({center:Zu([0,0]),zoom:n.ZoomLevelSingleMarker})}),function rZ(n,t,e,i){let r=new QY({style:null,condition:lq,toggleCondition:()=>!0,layers:[t]});n.addInteraction(r),r.on("select",o=>{!function nZ(n){!n||n.forEach(t=>{Ey(t,!1)})}(e);let s=null;if(o.selected&&o.selected.length>0?s=o.selected:o.deselected&&o.deselected.length>0&&(s=o.deselected),s){const a=s[0];Ey(a,!0),i(a.getId())}})}(this.map,i,this.markers,r=>this.onMarkerClicked.emit(r))}}return n.MaxNumMarkers=200,n.ZoomLevelSingleMarker=13,n.ZoomLevelSeveralMarkers=6,n.\u0275fac=function(e){return new(e||n)(w(rA))},n.\u0275cmp=jt({type:n,selectors:[["app-map"]],outputs:{onMarkerClicked:"onMarkerClicked"},decls:2,vars:0,consts:[["id","attribution"],["id","map",1,"map"]],template:function(e,i){1&e&&vt(0,"div",0)(1,"div",1)},styles:["#map[_ngcontent-%COMP%]{height:90vh;width:100%}[_nghost-%COMP%]  .ol-zoom-in, [_nghost-%COMP%]  .ol-zoom-out, [_nghost-%COMP%]  .ol-rotate-reset{width:1.8em;height:1.8em;font-size:1.5em;font-weight:700;opacity:.8;margin:5px;padding:0;border:2;border-radius:0;background-color:#d3d3d3}[_nghost-%COMP%]  .ol-zoom{max-width:60px}[_nghost-%COMP%]  .ol-hidden{display:none}[_nghost-%COMP%]  .ol-attribution>button{display:none}[_nghost-%COMP%]  .ol-attribution ul{list-style-type:none;padding:0;margin:0}[_nghost-%COMP%]  .ol-attribution{font-size:.7em;padding-bottom:5px}[_nghost-%COMP%]  .ol-compass{margin-left:-3px}"]}),n})();function sZ(n,t){if(1&n){const e=zt();F(0,"p-sidebar",1),ie("visibleChange",function(r){return ue(e),ce(A().isVisible=r)}),F(1,"div",2)(2,"i",3),ie("click",function(){return ue(e),ce(A().close())}),V()(),vt(3,"app-info-card",4),V()}if(2&n){const e=A();D("visible",e.isVisible)("showCloseIcon",!1),S(3),D("message",e.trafficMessage)}}let aZ=(()=>{class n{constructor(e,i){this.broker=e,this.service=i,this.unsubscribe$=new Ve,this.isVisible=!1}ngOnInit(){this.broker.getMessage().pipe(Vu(this.unsubscribe$),en(e=>e instanceof iA)).subscribe(e=>{this.trafficMessage=this.service.getCachedMessageFromId(e.id),this.trafficMessage&&(this.isVisible=!0)})}ngOnDestroy(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}close(){this.isVisible=!1}}return n.\u0275fac=function(e){return new(e||n)(w(ds),w(SI))},n.\u0275cmp=jt({type:n,selectors:[["app-info-sidebar"]],decls:1,vars:1,consts:[["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","bottom","styleClass","sr-bottomsidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-down","close-button","clickable",3,"click"],[3,"message"]],template:function(e,i){1&e&&B(0,sZ,4,3,"p-sidebar",0),2&e&&D("ngIf",!0)},dependencies:[ri,oA,tA],encapsulation:2}),n})();function lZ(n,t){if(1&n){const e=zt();F(0,"p-sidebar",1),ie("visibleChange",function(r){return ue(e),ce(A().isVisible=r)}),F(1,"div",2)(2,"i",3),ie("click",function(){return ue(e),ce(A().close())}),V(),tt(3),V(),F(4,"div")(5,"div"),tt(6),V()(),vt(7,"hr"),F(8,"app-map",4),ie("onMarkerClicked",function(r){return ue(e),ce(A().onMapMarkerClicked(r))}),V()()}if(2&n){const e=A();D("visible",e.isVisible)("showCloseIcon",!1),S(3),Bn(" ",e.title," "),S(3),Bn(" ",e.details," ")}}let uZ=(()=>{class n{constructor(e,i){this.broker=e,this.mapDataService=i,this.unsubscribe$=new Ve,this.isVisible=!1}ngOnInit(){this.broker.getMessage().pipe(Vu(this.unsubscribe$),en(e=>e instanceof Ch)).subscribe(e=>{const i=new h4;i.markerPosisitons=e.positions,i.userPos=e.userPos,this.title=e.title,this.details=e.details,this.isVisible=!0,this.mapDataService.addNewMapInput(i)})}ngOnDestroy(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}close(){this.isVisible=!1}onMapMarkerClicked(e){this.broker.sendMessage(new iA(e))}}return n.\u0275fac=function(e){return new(e||n)(w(ds),w(rA))},n.\u0275cmp=jt({type:n,selectors:[["app-map-sidebar"]],decls:2,vars:1,consts:[["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange",4,"ngIf"],["position","right","styleClass","sr-sidebar",3,"visible","showCloseIcon","visibleChange"],[1,"details-header-text"],[1,"pi","pi-chevron-left","close-button","clickable",3,"click"],[3,"onMarkerClicked"]],template:function(e,i){1&e&&(B(0,lZ,9,4,"p-sidebar",0),vt(1,"app-info-sidebar")),2&e&&D("ngIf",i.isVisible)},dependencies:[ri,oA,oZ,aZ],encapsulation:2}),n})(),cZ=(()=>{class n{constructor(e,i,r){this.broker=e,this.primeNGmessageService=i,this.translationService=r,this.title="sr-traffic",this.isLoading=!1,this.unsubscribe$=new Ve}ngOnInit(){var e=this;return Gn(function*(){e.translationService.defaultLangCode="en",e.translationService.currentLocale=navigator.language;const i=e.broker.getMessage();i.pipe(Vu(e.unsubscribe$),en(r=>r instanceof ZW)).subscribe(r=>{e.primeNGmessageService.add({severity:"success",summary:"",detail:r.info})}),i.pipe(Vu(e.unsubscribe$),en(r=>r instanceof Su)).subscribe(r=>{e.primeNGmessageService.add({severity:"error",summary:"",detail:r.errorMessage})}),yield e.fetchBaseData()})()}fetchBaseData(){var e=this;return Gn(function*(){try{e.isLoading=!0}finally{e.isLoading=!1}})()}ngOnDestroy(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(ds),w(q_),w(JW))},n.\u0275cmp=jt({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[["position","top-center"]],template:function(e,i){1&e&&(F(0,"div"),vt(1,"app-map-sidebar"),V(),F(2,"div"),vt(3,"router-outlet"),V(),vt(4,"p-toast",0))},dependencies:[D_,c4,uZ],styles:[".content[_ngcontent-%COMP%]{padding-top:210px}.header[_ngcontent-%COMP%]{overflow:hidden;position:fixed;top:-8px;width:calc(100% - 16px);z-index:1000;margin-left:0;background-color:#fff;opacity:1;max-height:230px;min-height:230px}[_nghost-%COMP%]     .p-toast.p-component.p-toast-top-center{max-width:300px}"]}),n})(),fZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({imports:[On]}),n})();function bx(n){return new I(3e3,!1)}function qZ(){return typeof window<"u"&&typeof window.document<"u"}function wy(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Lo(n){switch(n.length){case 0:return new Ru;case 1:return n[0];default:return new NI(n)}}function Sx(n,t,e,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const d=c.get("offset"),h=d==l,f=h&&u||new Map;c.forEach((p,g)=>{let m=g,_=p;if("offset"!==g)switch(m=t.normalizePropertyName(m,s),_){case"!":_=r.get(g);break;case zr:_=o.get(g);break;default:_=t.normalizeStyleValue(g,m,_,s)}f.set(m,_)}),h||a.push(f),u=f,l=d}),s.length)throw function NZ(n){return new I(3502,!1)}();return a}function Ty(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Dy(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Dy(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Dy(e,"destroy",n)))}}function Dy(n,t,e){const o=by(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function by(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ui(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Ix(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Sy=(n,t)=>!1,Mx=(n,t,e)=>[],Ax=null;function Iy(n){const t=n.parentNode||n.host;return t===Ax?null:t}(wy()||typeof Element<"u")&&(qZ()?(Ax=(()=>document.documentElement)(),Sy=(n,t)=>{for(;t;){if(t===n)return!0;t=Iy(t)}return!1}):Sy=(n,t)=>n.contains(t),Mx=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Ms=null,Ox=!1;const xx=Sy,Rx=Mx;let Px=(()=>{class n{validateStyleProperty(e){return function ZZ(n){Ms||(Ms=function XZ(){return typeof document<"u"?document.body:null}()||{},Ox=!!Ms.style&&"WebkitAppearance"in Ms.style);let t=!0;return Ms.style&&!function YZ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ms.style,!t&&Ox&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ms.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return xx(e,i)}getParentElement(e){return Iy(e)}query(e,i,r){return Rx(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Ru(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),My=(()=>{class n{}return n.NOOP=new Px,n})();const Ay="ng-enter",Ef="ng-leave",wf="ng-trigger",Tf=".ng-trigger",Fx="ng-animating",Oy=".ng-animating";function no(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xy(parseFloat(t[1]),t[2])}function xy(n,t){return"s"===t?1e3*n:n}function Df(n,t,e){return n.hasOwnProperty("duration")?n:function eX(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(bx()),{duration:0,delay:0,easing:""};r=xy(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=xy(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function pZ(){return new I(3100,!1)}()),a=!0),o<0&&(t.push(function gZ(){return new I(3101,!1)}()),a=!0),a&&t.splice(l,0,bx())}return{duration:r,delay:o,easing:s}}(n,t,e)}function uc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Nx(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Fo(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Vx(n,t,e){return e?t+":"+e+";":""}function Bx(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Vx(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Vx(0,rX(e),n.style[e]));n.setAttribute("style",t)}function Cr(n,t,e){n.style&&(t.forEach((i,r)=>{const o=Py(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),wy()&&Bx(n))}function As(n,t){n.style&&(t.forEach((e,i)=>{const r=Py(i);n.style[r]=""}),wy()&&Bx(n))}function cc(n){return Array.isArray(n)?1==n.length?n[0]:RI(n):n}const Ry=new RegExp("{{\\s*(.+?)\\s*}}","g");function jx(n){let t=[];if("string"==typeof n){let e;for(;e=Ry.exec(n);)t.push(e[1]);Ry.lastIndex=0}return t}function dc(n,t,e){const i=n.toString(),r=i.replace(Ry,(o,s)=>{let a=t[s];return null==a&&(e.push(function _Z(n){return new I(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function bf(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const iX=/-+([a-z0-9])/g;function Py(n){return n.replace(iX,(...t)=>t[1].toUpperCase())}function rX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ci(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function vZ(n){return new I(3004,!1)}()}}function Hx(n,t){return window.getComputedStyle(n)[t]}function cX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dX(n,t,e){if(":"==n[0]){const l=function hX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function RZ(n){return new I(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function xZ(n){return new I(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(Ux(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(Ux(s,r))}(i,e,t)):e.push(n),e}const Af=new Set(["true","1"]),Of=new Set(["false","0"]);function Ux(n,t){const e=Af.has(n)||Of.has(n),i=Af.has(t)||Of.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Af.has(n):Of.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Af.has(t):Of.has(t)),s&&a}}const fX=new RegExp("s*:selfs*,?","g");function Ly(n,t,e,i){return new pX(n).build(t,e,i)}class pX{constructor(t){this._driver=t}build(t,e,i){const r=new _X(e);return this._resetContextStyleTimingState(r),ci(this,cc(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function CZ(){return new I(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function EZ(){return new I(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jx(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(bf(o.values()),e.errors.push(function wZ(n,t){return new I(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ci(this,cc(t.animation),e);return{type:1,matchers:cX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Os(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ci(this,i,e)),options:Os(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ci(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Os(t.options)}}visitAnimate(t,e){const i=function yX(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fy(Df(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Fy(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Df(e,t);return Fy(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:qi({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=qi(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===zr?i.push(a):e.errors.push(new I(3002,!1)):i.push(Nx(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=e.collectedStyles.get(e.currentQuerySelector),c=u.get(l);let d=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function DZ(n,t,e,i,r){return new I(3010,!1)}()),d=!1),o=c.startTime),d&&u.set(l,{startTime:o,endTime:r}),e.options&&function nX(n,t,e){const i=t.params||{},r=jx(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function mZ(n){return new I(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bZ(){return new I(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const c=t.steps.map(_=>{const y=this._makeStyleAst(_,e);let v=null!=y.offset?y.offset:function vX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(y.styles),C=0;return null!=v&&(o++,C=y.offset=v),l=l||C<0||C>1,a=a||C<u,u=C,s.push(C),y});l&&e.errors.push(function SZ(){return new I(3012,!1)}()),a&&e.errors.push(function IZ(){return new I(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function MZ(){return new I(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,g=e.currentAnimateTimings,m=g.duration;return c.forEach((_,y)=>{const v=h>0?y==f?1:h*y:s[y],C=v*m;e.currentTime=p+g.delay+C,g.duration=C,this._validateStyleAst(_,e),_.offset=v,i.styles.push(_)}),i}visitReference(t,e){return{type:8,animation:ci(this,cc(t.animation),e),options:Os(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Os(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Os(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function gX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fX,"")),n=n.replace(/@\*/g,Tf).replace(/@\w+/g,e=>Tf+"-"+e.slice(1)).replace(/:animating/g,Oy),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ui(e.collectedStyles,e.currentQuerySelector,new Map);const a=ci(this,cc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Os(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function AZ(){return new I(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Df(t.timings,e.errors,!0);return{type:12,animation:ci(this,cc(t.animation),e),timings:i,options:null}}}class _X{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Os(n){return n?(n=uc(n)).params&&(n.params=function mX(n){return n?uc(n):null}(n.params)):n={},n}function Fy(n,t,e){return{duration:n,delay:t,easing:e}}function Ny(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class xf{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wX=new RegExp(":enter","g"),DX=new RegExp(":leave","g");function ky(n,t,e,i,r,o=new Map,s=new Map,a,l,u=[]){return(new bX).buildKeyframes(n,t,e,i,r,o,s,a,l,u)}class bX{buildKeyframes(t,e,i,r,o,s,a,l,u,c=[]){u=u||new xf;const d=new Vy(t,e,u,r,o,c,[]);d.options=l;const h=l.delay?no(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),ci(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===e){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Ny(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimateRefDelay(t.animation,e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimateRefDelay(t,e,i){var r;const o=null===(r=t.options)||void 0===r?void 0:r.delay;if(!o)return;let s;var a,l;"string"==typeof o?s=no(dc(o,null!==(a=null===(l=t.options)||void 0===l?void 0:l.params)&&void 0!==a?a:{},e.errors)):s=o;i.delayNextStep(s)}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?no(i.duration):null,a=null!=i.delay?no(i.delay):null;return 0!==s&&t.forEach(l=>{const u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ci(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Rf);const s=no(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ci(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?no(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ci(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Df(e.params?dc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?no(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Rf);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{e.currentQueryIndex=c;const d=e.createSubContext(t.options,u);o&&d.delayNextStep(o),u===e.element&&(l=d.currentTimeline),ci(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;ci(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Rf={};class Vy{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Pf(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=no(i.duration)),null!=i.delay&&(r.delay=no(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=dc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Vy(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Rf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new SX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(wX,"."+this._enterClassName)).replace(DX,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function OZ(n){return new I(3014,!1)}()),a}}class Pf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Pf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||zr),this._currentKeyframe.set(e,zr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function IX(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,zr)}else Fo(r,e)}),e}(t,this._globalTimelineStyles);for(let[l,u]of s){const c=dc(u,o,i);var a;this._pendingStyles.set(l,c),this._localTimelineStyles.has(l)||this._backFill.set(l,null!==(a=this._globalTimelineStyles.get(l))&&void 0!==a?a:zr),this._updateStyle(l,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Fo(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?t.add(d):c===zr&&e.add(d)}),i||u.set("offset",l/this.duration),r.push(u)});const o=t.size?bf(t.values()):[],s=e.size?bf(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Ny(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class SX extends Pf{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Fo(t[0]);l.set("offset",0),o.push(l);const u=Fo(t[0]);u.set("offset",zx(a)),o.push(u);const c=t.length-1;for(let d=1;d<=c;d++){let h=Fo(t[d]);const f=h.get("offset");h.set("offset",zx((e+f*i)/s)),o.push(h)}i=s,e=0,r="",t=o}return Ny(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function zx(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class By{}const MX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class AX extends By{normalizePropertyName(t,e){return Py(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(MX.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function yZ(n,t){return new I(3005,!1)}())}return s+o}}function Wx(n,t,e,i,r,o,s,a,l,u,c,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const jy={};class Kx{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OX(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,u,c){var d;const h=[],f=this.ast.options&&this.ast.options.params||jy,g=this.buildStyles(i,a&&a.params||jy,h),m=l&&l.params||jy,_=this.buildStyles(r,m,h),y=new Set,v=new Map,C=new Map,E="void"===r,M={params:xX(m,f),delay:null===(d=this.ast.options)||void 0===d?void 0:d.delay},x=c?[]:ky(t,e,this.ast.animation,o,s,g,_,M,u,h);let N=0;if(x.forEach(W=>{N=Math.max(W.duration+W.delay,N)}),h.length)return Wx(e,this._triggerName,i,r,E,g,_,[],[],v,C,N,h);x.forEach(W=>{const U=W.element,Y=ui(v,U,new Set);W.preStyleProps.forEach(De=>Y.add(De));const de=ui(C,U,new Set);W.postStyleProps.forEach(De=>de.add(De)),U!==e&&y.add(U)});const H=bf(y.values());return Wx(e,this._triggerName,i,r,E,g,_,x,H,v,C,N)}}function xX(n,t){const e=uc(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class RX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=uc(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=dc(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(l,s)})}),i}}class LX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new RX(r.style,r.options&&r.options.params||{},i))}),qx(this.states,"true","1"),qx(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Kx(t,r,this.states))}),this.fallbackTransition=function FX(n,t,e){return new Kx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function qx(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const NX=new xf;class kX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=Ly(this._driver,e,i,[]);if(i.length)throw function kZ(n){return new I(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Sx(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=ky(this._driver,e,o,Ay,Ef,new Map,new Map,i,NX,r),s.forEach(c=>{const d=ui(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function VZ(){return new I(3300,!1)}()),s=[]),r.length)throw function BZ(n){return new I(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,zr))})});const u=Lo(s.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function jZ(n){return new I(3301,!1)}();return e}listen(t,e,i,r){const o=by(e,"","","");return Ty(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Yx="ng-animate-queued",Hy="ng-animate-disabled",UX=[],Zx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Si="__ng_removed";class Uy{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function KX(n){return n??null}(i?t.value:t),i){const o=uc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hc="void",Gy=new Uy(hc);class $X{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ii(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function HZ(n,t){return new I(3302,!1)}();if(null==i||0==i.length)throw function UZ(n){return new I(3303,!1)}();if(!function qX(n){return"start"==n||"done"==n}(i))throw function GZ(n,t){return new I(3400,!1)}();const o=ui(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ui(this._engine.statesByElement,t,new Map);return a.has(e)||(Ii(t,wf),Ii(t,wf+"-"+e),a.set(e,Gy)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $Z(n){return new I(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new $y(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ii(t,wf),Ii(t,wf+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const u=new Uy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(e,u),l||(l=Gy),u.value!==hc&&l.value===u.value){if(!function XX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,u.params)){const g=[],m=o.matchStyles(l.value,l.params,g),_=o.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{As(t,m),Cr(t,_)})}return}const h=ui(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,u.value,t,u.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:u,player:s,isFallbackTransition:p}),p||(Ii(t,Yx),s.onStart(()=>{nl(t,Yx)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(t);if(m){let _=m.indexOf(s);_>=0&&m.splice(_,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Tf,!0);i.forEach(r=>{if(r[Si])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const c=this.trigger(t,u,hc,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Lo(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||Gy,c=new Uy(hc),d=new $y(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Si];(!o||o===Zx)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ii(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=by(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Ty(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class zX{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new $X(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(Lf(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Lf(e))return;const o=e[Si];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ii(t,Hy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nl(t,Hy))}removeNode(t,e,i,r){if(Lf(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Si]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Lf(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Tf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Oy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Lo(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Si];if(i&&i.setForRemoval){if(t[Si]=Zx,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}null!==(e=t.classList)&&void 0!==e&&e.contains(Hy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ii(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Lo(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function zZ(n){return new I(3402,!1)}()}_flushAnimations(t,e){const i=new xf,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(R=>{c.add(R);const L=this.driver.query(R,".ng-animate-queued",!0);for(let j=0;j<L.length;j++)c.add(L[j])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Jx(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((R,L)=>{const j=Ay+g++;p.set(L,j),R.forEach(X=>Ii(X,j))});const m=[],_=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const L=this.collectedLeaveElements[R],j=L[Si];j&&j.setForRemoval&&(m.push(L),_.add(L),j.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(X=>_.add(X)):y.add(L))}const v=new Map,C=Jx(h,Array.from(_));C.forEach((R,L)=>{const j=Ef+g++;v.set(L,j),R.forEach(X=>Ii(X,j))}),t.push(()=>{f.forEach((R,L)=>{const j=p.get(L);R.forEach(X=>nl(X,j))}),C.forEach((R,L)=>{const j=v.get(L);R.forEach(X=>nl(X,j))}),m.forEach(R=>{this.processLeaveNode(R)})});const E=[],M=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(j=>{const X=j.player,Q=j.element;if(E.push(X),this.collectedEnterElements.length){const He=Q[Si];if(He&&He.setForMove){if(He.previousTriggersValues&&He.previousTriggersValues.has(j.triggerName)){const wt=He.previousTriggersValues.get(j.triggerName),pt=this.statesByElement.get(j.element);if(pt&&pt.has(j.triggerName)){const Ji=pt.get(j.triggerName);Ji.value=wt,pt.set(j.triggerName,Ji)}}return void X.destroy()}}const Ne=!d||!this.driver.containsElement(d,Q),P=v.get(Q),mt=p.get(Q),ne=this._buildInstruction(j,i,mt,P,Ne);if(ne.errors&&ne.errors.length)return void M.push(ne);if(Ne)return X.onStart(()=>As(Q,ne.fromStyles)),X.onDestroy(()=>Cr(Q,ne.toStyles)),void r.push(X);if(j.isFallbackTransition)return X.onStart(()=>As(Q,ne.fromStyles)),X.onDestroy(()=>Cr(Q,ne.toStyles)),void r.push(X);const Ye=[];ne.timelines.forEach(He=>{He.stretchStartingKeyframe=!0,this.disabledNodes.has(He.element)||Ye.push(He)}),ne.timelines=Ye,i.append(Q,ne.timelines),s.push({instruction:ne,player:X,element:Q}),ne.queriedElements.forEach(He=>ui(a,He,[]).push(X)),ne.preStyleProps.forEach((He,wt)=>{if(He.size){let pt=l.get(wt);pt||l.set(wt,pt=new Set),He.forEach((Ji,Wn)=>pt.add(Wn))}}),ne.postStyleProps.forEach((He,wt)=>{let pt=u.get(wt);pt||u.set(wt,pt=new Set),He.forEach((Ji,Wn)=>pt.add(Wn))})});if(M.length){const R=[];M.forEach(L=>{R.push(function WZ(n,t){return new I(3505,!1)}())}),E.forEach(L=>L.destroy()),this.reportError(R)}const x=new Map,N=new Map;s.forEach(R=>{const L=R.element;i.has(L)&&(N.set(L,L),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,x))}),r.forEach(R=>{const L=R.element;this._getPreviousPlayers(L,!1,R.namespaceId,R.triggerName,null).forEach(X=>{ui(x,L,[]).push(X),X.destroy()})});const H=m.filter(R=>t1(R,l,u)),W=new Map;Qx(W,this.driver,y,u,zr).forEach(R=>{t1(R,l,u)&&H.push(R)});const Y=new Map;f.forEach((R,L)=>{Qx(Y,this.driver,new Set(R),l,"!")}),H.forEach(R=>{var L,j;const X=W.get(R),Q=Y.get(R);W.set(R,new Map([...Array.from(null!==(L=X?.entries())&&void 0!==L?L:[]),...Array.from(null!==(j=Q?.entries())&&void 0!==j?j:[])]))});const de=[],De=[],oe={};s.forEach(R=>{const{element:L,player:j,instruction:X}=R;if(i.has(L)){if(c.has(L))return j.onDestroy(()=>Cr(L,X.toStyles)),j.disabled=!0,j.overrideTotalTime(X.totalTime),void r.push(j);let Q=oe;if(N.size>1){let P=L;const mt=[];for(;P=P.parentNode;){const ne=N.get(P);if(ne){Q=ne;break}mt.push(P)}mt.forEach(ne=>N.set(ne,Q))}const Ne=this._buildAnimation(j.namespaceId,X,x,o,Y,W);if(j.setRealPlayer(Ne),Q===oe)de.push(j);else{const P=this.playersByElement.get(Q);P&&P.length&&(j.parentPlayer=Lo(P)),r.push(j)}}else As(L,X.fromStyles),j.onDestroy(()=>Cr(L,X.toStyles)),De.push(j),c.has(L)&&r.push(j)}),De.forEach(R=>{const L=o.get(R.element);if(L&&L.length){const j=Lo(L);R.setRealPlayer(j)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<m.length;R++){const L=m[R],j=L[Si];if(nl(L,Ef),j&&j.hasAnimation)continue;let X=[];if(a.size){let Ne=a.get(L);Ne&&Ne.length&&X.push(...Ne);let P=this.driver.query(L,Oy,!0);for(let mt=0;mt<P.length;mt++){let ne=a.get(P[mt]);ne&&ne.length&&X.push(...ne)}}const Q=X.filter(Ne=>!Ne.destroyed);Q.length?YX(this,L,Q):this.processLeaveNode(L)}return m.length=0,de.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();const L=this.players.indexOf(R);this.players.splice(L,1)}),R.play()}),de}elementContainsData(t,e){let i=!1;const r=e[Si];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==hc;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,c=u!==o,d=ui(i,u,[]);this._getPreviousPlayers(u,c,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}As(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,u=[],c=new Set,d=new Set,h=e.timelines.map(p=>{const g=p.element;c.add(g);const m=g[Si];if(m&&m.removedBeforeQueried)return new Ru(p.duration,p.delay);const _=g!==l,y=function ZX(n){const t=[];return e1(n,t),t}((i.get(g)||UX).map(x=>x.getRealPlayer())).filter(x=>!!x.element&&x.element===g),v=o.get(g),C=s.get(g),E=Sx(0,this._normalizer,0,p.keyframes,v,C),M=this._buildPlayer(p,E,y);if(p.subTimeline&&r&&d.add(g),_){const x=new $y(t,a,g);x.setRealPlayer(M),u.push(x)}return M});u.forEach(p=>{ui(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function WX(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Ii(p,Fx));const f=Lo(h);return f.onDestroy(()=>{c.forEach(p=>nl(p,Fx)),Cr(l,e.toStyles)}),d.forEach(p=>{ui(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ru(t.duration,t.delay)}}class $y{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ru,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ty(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ui(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Lf(n){return n&&1===n.nodeType}function Xx(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Qx(n,t,e,i,r){const o=[];e.forEach(l=>o.push(Xx(l)));const s=[];i.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=t.computeStyle(u,d,r);c.set(d,h),(!h||0==h.length)&&(u[Si]=GX,s.push(u))}),n.set(u,c)});let a=0;return e.forEach(l=>Xx(l,o[a++])),s}function Jx(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Ii(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function nl(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function YX(n,t,e){Lo(e).onDone(()=>n.processLeaveNode(t))}function e1(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof NI?e1(i.players,t):t.push(i)}}function t1(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Ff{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new zX(t,e,i),this._timelineEngine=new kX(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=Ly(this._driver,o,l,[]);if(l.length)throw function FZ(n,t){return new I(3404,!1)}();a=function PX(n,t,e){return new LX(n,t,e)}(r,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=Ix(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=Ix(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let JX=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Cr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cr(this._element,this._initialStyles),this._endStyles&&(Cr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(As(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),Cr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zy(n){let t=null;return n.forEach((e,i)=>{(function e7(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class n1{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Hx(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class t7{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return xx(t,e)}getParentElement(t){return Iy(t)}query(t,e,i){return Rx(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,c=s.filter(f=>f instanceof n1);(function oX(n,t){return 0===n||0===t})(i,r)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function tX(n){return n.length?n[0]instanceof Map?n:n.map(t=>Nx(t)):[]}(e).map(f=>Fo(f));d=function sX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Hx(n,a)))}}return t}(t,d,u);const h=function QX(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=zy(t[0]),t.length>1&&(i=zy(t[t.length-1]))):t instanceof Map&&(e=zy(t)),e||i?new JX(n,e,i):null}(t,d);return new n1(t,d,l,h)}}let n7=(()=>{class n extends xI{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Pi.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?RI(e):e;return r1(this._renderer,null,i,"register",[r]),new i7(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(G(Nl),G(an))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class i7 extends class S3{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new r7(this._id,t,e||{},this._renderer)}}class r7{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return r1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function r1(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const o1="@.disabled";let o7=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(o);return c||(c=new s1("",o,this.engine),this._rendererCache.set(o,c)),c}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,e,c.name,c)};return i.data.animation.forEach(l),new s7(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(G(Nl),G(Ff),G(lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class s1{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==o1?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class s7 extends s1{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==o1?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function a7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function l7(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let u7=(()=>{class n extends Ff{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(G(an),G(My),G(By),G(Ta))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const a1=[{provide:xI,useClass:n7},{provide:By,useFactory:function c7(){return new AX}},{provide:Ff,useClass:u7},{provide:Nl,useFactory:function d7(n,t,e){return new o7(n,t,e)},deps:[Zd,Ff,lt]}],Wy=[{provide:My,useFactory:()=>new t7},{provide:xD,useValue:"BrowserAnimations"},...a1],l1=[{provide:My,useClass:Px},{provide:xD,useValue:"NoopAnimations"},...a1];let h7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?l1:Wy}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:Wy,imports:[Yb]}),n})();const f7=["addListener","removeListener"],p7=["addEventListener","removeEventListener"],g7=["on","off"];function kf(n,t,e,i){if(Pe(e)&&(i=e,e=void 0),i)return kf(n,t,e).pipe(o_(i));const[r,o]=function v7(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?p7.map(s=>a=>n[s](t,a,e)):function m7(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?f7.map(u1(n,t)):function _7(n){return Pe(n.on)&&Pe(n.off)}(n)?g7.map(u1(n,t)):[];if(!r&&Xf(n))return Bt(s=>kf(s,t,e))(hi(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function u1(n,t){return e=>i=>n[e](t,i)}const No=new Ue(di),C7={connector:()=>new Ve};function c1(n,t=C7){const{connector:e}=t;return At((i,r)=>{const o=e();Ot(n(function y7(n){return new Ue(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}class T7 extends Yt{constructor(t,e){super()}schedule(t,e=0){return this}}const Vf={setInterval(...n){const{delegate:t}=Vf;return(t?.setInterval||setInterval)(...n)},clearInterval(n){const{delegate:t}=Vf;return(t?.clearInterval||clearInterval)(n)},delegate:void 0},d1={now:()=>(d1.delegate||Date).now(),delegate:void 0};class fc{constructor(t,e=fc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}fc.now=d1.now;const h1=new class b7 extends fc{constructor(t,e=fc.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}(class D7 extends T7{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Vf.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Vf.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),S7=h1;function f1(n,t){return t?e=>hu(t.pipe(Pn(1),function I7(){return At((n,t)=>{n.subscribe(new Dt(t,di))})}()),e.pipe(f1(n))):Bt((e,i)=>n(e,i).pipe(Pn(1),sS(e)))}function p1(n,t=h1){const e=function A7(n=0,t,e=S7){let i=-1;return null!=t&&(pC(t)?e=t:i=t),new Ue(r=>{let o=function M7(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t);return f1(()=>e)}const pc="Service workers are disabled or not supported by this browser";class Bf{constructor(t){if(this.serviceWorker=t,t){const i=kf(t,"controllerchange").pipe(ve(()=>t.controller)),o=hu(Xd(()=>re(t.controller)),i);this.worker=o.pipe(en(c=>!!c)),this.registration=this.worker.pipe(Un(()=>t.getRegistration()));const u=kf(t,"message").pipe(ve(c=>c.data)).pipe(en(c=>c&&c.type)).pipe(function w7(n){return n?t=>c1(n)(t):t=>function E7(n,t){const e=Pe(n)?n:()=>n;return Pe(t)?c1(t,{connector:e}):i=>new a_(i,e)}(new Ve)(t)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function O7(n){return Xd(()=>_o(new Error(n)))}(pc)}postMessage(t,e){return this.worker.pipe(Pn(1),ln(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(t,e);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(en(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Pn(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(en(e=>e.nonce===t),Pn(1),ve(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let x7=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new Ve,!e.isEnabled)return this.messages=No,this.notificationClicks=No,void(this.subscription=No);this.messages=this.sw.eventsOfType("PUSH").pipe(ve(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(r=>r.data)),this.pushManager=this.sw.registration.pipe(ve(r=>r.pushManager));const i=this.pushManager.pipe(Un(r=>r.getSubscription()));this.subscription=Jf(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(pc));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Un(s=>s.subscribe(i)),Pn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Pn(1),Un(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(pc))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(G(Bf))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),R7=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=No,this.available=No,this.activated=No,void(this.unrecoverable=No);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(en(i=>"VERSION_READY"===i.type),ve(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(G(Bf))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Ky{}const g1=new le("NGSW_REGISTER_SCRIPT");function P7(n,t,e,i){return()=>{if(!Mb(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[s,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=re(null);break;case"registerWithDelay":r=m1(+a[0]||0);break;case"registerWhenStable":r=a[0]?Jf(_1(n),m1(+a[0])):_1(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(lt).runOutsideAngular(()=>r.pipe(Pn(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function m1(n){return re(null).pipe(p1(n))}function _1(n){return n.get(Ta).isStable.pipe(en(e=>e))}function L7(n,t){return new Bf(Mb(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let F7=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[{provide:g1,useValue:e},{provide:Ky,useValue:i},{provide:Bf,useFactory:L7,deps:[Ky,iu]},{provide:tu,useFactory:P7,deps:[Sn,g1,Ky,iu],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[x7,R7]}),n})();let V7=(()=>{class n{constructor(e,i){this.messageService=e,this.logging=i}intercept(e,i){return i.handle(e).pipe(function k7(n,t){let e=t;return i=>i.pipe(function N7(n){return At((t,e)=>{let i,o,r=!1;const s=()=>{i=t.subscribe(new Dt(e,void 0,void 0,a=>{o||(o=new Ve,n(o).subscribe(new Dt(e,()=>i?s():r=!0))),o&&o.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,s())};s()})}(r=>r.pipe(p1(n),Bt(o=>e-- >0?re(o):_o(()=>new Error("Network problem, try again."))))))}(1e3,3),Hr(r=>this.handleError(r,this.messageService)))}handleError(e,i){return e?(this.logging.logError(e.message),i.sendMessage(new Su(e.message))):(this.logging.logError("An error has occurred."),i.sendMessage(new Su("An error has occurred"))),_o(()=>new Error(e.message||"An error has occurred"))}}return n.\u0275fac=function(e){return new(e||n)(G(ds),G(Mu))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n,bootstrap:[cZ]}),n.\u0275inj=Ze({providers:[q_,Mu,{provide:$_,useClass:V7,multi:!0,deps:[ds,Mu]}],imports:[Yb,YW,m3,fZ,h7,w4,d4,b3,lW,M$,cW,_W,bW,BW,F7.register("ngsw-worker.js",{enabled:true})]}),n})();(function $2(){qD=!1})(),gH().bootstrapModule(B7).catch(n=>console.error(n))},402:function(al){al.exports=function(){"use strict";function ll(T,b,k,J,ee){!function Z(se,Ie,Be,ke,Tt){for(;ke>Be;){if(ke-Be>600){var Ge=ke-Be+1,dt=Ie-Be+1,Ho=Math.log(Ge),nr=.5*Math.exp(2*Ho/3),Ue=.5*Math.sqrt(Ho*nr*(Ge-nr)/Ge)*(dt-Ge/2<0?-1:1);Z(se,Ie,Math.max(Be,Math.floor(Ie-dt*nr/Ge+Ue)),Math.min(ke,Math.floor(Ie+(Ge-dt)*nr/Ge+Ue)),Tt)}var Ps=se[Ie],Uo=Be,Ve=ke;for(Ai(se,Be,Ie),Tt(se[ke],Ps)>0&&Ai(se,Be,ke);Uo<Ve;){for(Ai(se,Uo,Ve),Uo++,Ve--;Tt(se[Uo],Ps)<0;)Uo++;for(;Tt(se[Ve],Ps)>0;)Ve--}0===Tt(se[Be],Ps)?Ai(se,Be,Ve):Ai(se,++Ve,ke),Ve<=Ie&&(Be=Ve+1),Ie<=Ve&&(ke=Ve-1)}}(T,b,k||0,J||T.length-1,ee||Pe)}function Ai(T,b,k){var J=T[b];T[b]=T[k],T[k]=J}function Pe(T,b){return T<b?-1:T>b?1:0}var Je=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function ul(T,b,k){if(!k)return b.indexOf(T);for(var J=0;J<b.length;J++)if(k(T,b[J]))return J;return-1}function Oi(T,b){Yt(T,0,T.children.length,b,T)}function Yt(T,b,k,J,ee){ee||(ee=oo(null)),ee.minX=1/0,ee.minY=1/0,ee.maxX=-1/0,ee.maxY=-1/0;for(var Z=b;Z<k;Z++){var se=T.children[Z];ro(ee,T.leaf?J(se):se)}return ee}function ro(T,b){return T.minX=Math.min(T.minX,b.minX),T.minY=Math.min(T.minY,b.minY),T.maxX=Math.max(T.maxX,b.maxX),T.maxY=Math.max(T.maxY,b.maxY),T}function Dc(T,b){return T.minX-b.minX}function bc(T,b){return T.minY-b.minY}function xi(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function Er(T){return T.maxX-T.minX+(T.maxY-T.minY)}function Rs(T,b){return T.minX<=b.minX&&T.minY<=b.minY&&b.maxX<=T.maxX&&b.maxY<=T.maxY}function di(T,b){return b.minX<=T.maxX&&b.minY<=T.maxY&&b.maxX>=T.minX&&b.maxY>=T.minY}function oo(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Sc(T,b,k,J,ee){for(var Z=[b,k];Z.length;)if(!((k=Z.pop())-(b=Z.pop())<=J)){var se=b+Math.ceil((k-b)/J/2)*J;ll(T,se,b,k,ee),Z.push(b,se,se,k)}}return Je.prototype.all=function(){return this._all(this.data,[])},Je.prototype.search=function(T){var b=this.data,k=[];if(!di(T,b))return k;for(var J=this.toBBox,ee=[];b;){for(var Z=0;Z<b.children.length;Z++){var se=b.children[Z],Ie=b.leaf?J(se):se;di(T,Ie)&&(b.leaf?k.push(se):Rs(T,Ie)?this._all(se,k):ee.push(se))}b=ee.pop()}return k},Je.prototype.collides=function(T){var b=this.data;if(!di(T,b))return!1;for(var k=[];b;){for(var J=0;J<b.children.length;J++){var ee=b.children[J],Z=b.leaf?this.toBBox(ee):ee;if(di(T,Z)){if(b.leaf||Rs(T,Z))return!0;k.push(ee)}}b=k.pop()}return!1},Je.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var b=0;b<T.length;b++)this.insert(T[b]);return this}var k=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===k.height)this._splitRoot(this.data,k);else{if(this.data.height<k.height){var J=this.data;this.data=k,k=J}this._insert(k,this.data.height-k.height-1,!0)}else this.data=k;return this},Je.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},Je.prototype.clear=function(){return this.data=oo([]),this},Je.prototype.remove=function(T,b){if(!T)return this;for(var k,J,ee,Z=this.data,se=this.toBBox(T),Ie=[],Be=[];Z||Ie.length;){if(Z||(Z=Ie.pop(),J=Ie[Ie.length-1],k=Be.pop(),ee=!0),Z.leaf){var ke=ul(T,Z.children,b);if(-1!==ke)return Z.children.splice(ke,1),Ie.push(Z),this._condense(Ie),this}ee||Z.leaf||!Rs(Z,se)?J?(k++,Z=J.children[k],ee=!1):Z=null:(Ie.push(Z),Be.push(k),k=0,J=Z,Z=Z.children[0])}return this},Je.prototype.toBBox=function(T){return T},Je.prototype.compareMinX=function(T,b){return T.minX-b.minX},Je.prototype.compareMinY=function(T,b){return T.minY-b.minY},Je.prototype.toJSON=function(){return this.data},Je.prototype.fromJSON=function(T){return this.data=T,this},Je.prototype._all=function(T,b){for(var k=[];T;)T.leaf?b.push.apply(b,T.children):k.push.apply(k,T.children),T=k.pop();return b},Je.prototype._build=function(T,b,k,J){var ee,Z=k-b+1,se=this._maxEntries;if(Z<=se)return Oi(ee=oo(T.slice(b,k+1)),this.toBBox),ee;J||(J=Math.ceil(Math.log(Z)/Math.log(se)),se=Math.ceil(Z/Math.pow(se,J-1))),(ee=oo([])).leaf=!1,ee.height=J;var Ie=Math.ceil(Z/se),Be=Ie*Math.ceil(Math.sqrt(se));Sc(T,b,k,Be,this.compareMinX);for(var ke=b;ke<=k;ke+=Be){var Tt=Math.min(ke+Be-1,k);Sc(T,ke,Tt,Ie,this.compareMinY);for(var Ge=ke;Ge<=Tt;Ge+=Ie){var dt=Math.min(Ge+Ie-1,Tt);ee.children.push(this._build(T,Ge,dt,J-1))}}return Oi(ee,this.toBBox),ee},Je.prototype._chooseSubtree=function(T,b,k,J){for(;J.push(b),!b.leaf&&J.length-1!==k;){for(var ee=1/0,Z=1/0,se=void 0,Ie=0;Ie<b.children.length;Ie++){var Be=b.children[Ie],ke=xi(Be),Tt=(Ge=T,dt=Be,(Math.max(dt.maxX,Ge.maxX)-Math.min(dt.minX,Ge.minX))*(Math.max(dt.maxY,Ge.maxY)-Math.min(dt.minY,Ge.minY))-ke);Tt<Z?(Z=Tt,ee=ke<ee?ke:ee,se=Be):Tt===Z&&ke<ee&&(ee=ke,se=Be)}b=se||b.children[0]}var Ge,dt;return b},Je.prototype._insert=function(T,b,k){var J=k?T:this.toBBox(T),ee=[],Z=this._chooseSubtree(J,this.data,b,ee);for(Z.children.push(T),ro(Z,J);b>=0&&ee[b].children.length>this._maxEntries;)this._split(ee,b),b--;this._adjustParentBBoxes(J,ee,b)},Je.prototype._split=function(T,b){var k=T[b],J=k.children.length,ee=this._minEntries;this._chooseSplitAxis(k,ee,J);var Z=this._chooseSplitIndex(k,ee,J),se=oo(k.children.splice(Z,k.children.length-Z));se.height=k.height,se.leaf=k.leaf,Oi(k,this.toBBox),Oi(se,this.toBBox),b?T[b-1].children.push(se):this._splitRoot(k,se)},Je.prototype._splitRoot=function(T,b){this.data=oo([T,b]),this.data.height=T.height+1,this.data.leaf=!1,Oi(this.data,this.toBBox)},Je.prototype._chooseSplitIndex=function(T,b,k){for(var J,ee,Z,se,Ie,Be,ke,Tt=1/0,Ge=1/0,dt=b;dt<=k-b;dt++){var Ho=Yt(T,0,dt,this.toBBox),nr=Yt(T,dt,k,this.toBBox),Ue=(ee=Ho,Z=nr,void 0,void 0,void 0,void 0,se=Math.max(ee.minX,Z.minX),Ie=Math.max(ee.minY,Z.minY),Be=Math.min(ee.maxX,Z.maxX),ke=Math.min(ee.maxY,Z.maxY),Math.max(0,Be-se)*Math.max(0,ke-Ie)),wr=xi(Ho)+xi(nr);Ue<Tt?(Tt=Ue,J=dt,Ge=wr<Ge?wr:Ge):Ue===Tt&&wr<Ge&&(Ge=wr,J=dt)}return J||k-b},Je.prototype._chooseSplitAxis=function(T,b,k){var J=T.leaf?this.compareMinX:Dc,ee=T.leaf?this.compareMinY:bc;this._allDistMargin(T,b,k,J)<this._allDistMargin(T,b,k,ee)&&T.children.sort(J)},Je.prototype._allDistMargin=function(T,b,k,J){T.children.sort(J);for(var ee=this.toBBox,Z=Yt(T,0,b,ee),se=Yt(T,k-b,k,ee),Ie=Er(Z)+Er(se),Be=b;Be<k-b;Be++){var ke=T.children[Be];ro(Z,T.leaf?ee(ke):ke),Ie+=Er(Z)}for(var Tt=k-b-1;Tt>=b;Tt--){var Ge=T.children[Tt];ro(se,T.leaf?ee(Ge):Ge),Ie+=Er(se)}return Ie},Je.prototype._adjustParentBBoxes=function(T,b,k){for(var J=k;J>=0;J--)ro(b[J],T)},Je.prototype._condense=function(T){for(var b=T.length-1,k=void 0;b>=0;b--)0===T[b].children.length?b>0?(k=T[b-1].children).splice(k.indexOf(T[b]),1):this.clear():Oi(T[b],this.toBBox)},Je}()}},al=>{al(al.s=489)}]);